import{b as e,n as t,w as a,d as l,c as n,v as o,M as s,F as p,l as r,t as d,R as m,h as u,N as i,K as y,o as c,u as g,z as x,E as f,P as h,k as L}from"./index-WruVlziS.js";const _={__name:"element-text",props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},name:{type:String,default:""},rules:{type:String,default:""},immediate:{type:Boolean,default:!1},isClear:{type:Boolean,default:!0},placeholder:{type:String,default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxLenType:{type:String,default:""},maxLength:{type:[String,Number],default:-1},tooltipModifiers:{type:Array,default:()=>[{name:"offset",options:{offset:[30,25]}},{name:"arrow",options:{padding:15}}]},tooltipPlacement:{type:String,default:"top-end"}},emits:["update:modelValue"],setup(e,{expose:t,emit:a}){t();const{t:l}=u(),n=e,o=a,s=i(null),p=y({get:()=>n.modelValue,set(e){const t=r(e);o("update:modelValue",t)}});c(async()=>{n.immediate&&await s.value.validate()});const r=e=>!n.maxLength||n.maxLength<1?e:"text"===n.maxLenType?e.slice(0,n.maxLength):"byte"===n.maxLenType?g.trimStringByByte(e,n.maxLength):e,d={t:l,props:n,emit:o,veeField:s,inputVal:p,clearClickHandler:()=>{p.value="",o("update:modelValue","")},applyMaxLength:r,onInputHandler:e=>{const t=r(e.target.value);t!==e.target.value&&(e.target.value=t),o("update:modelValue",t)},computed:y,onMounted:c,ref:i,get useI18n(){return u},get Field(){return h},get utils(){return g},ElementButton:f,ElementTooltip:x};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},V=["type","placeholder","readonly","disabled","maxlength"],k={key:0,class:"txt_maxLen"};const v=e(_,[["render",function(e,u,i,y,c,g){return L(),t(y.Field,{ref:"veeField",modelValue:y.inputVal,"onUpdate:modelValue":u[0]||(u[0]=e=>y.inputVal=e),rules:i.rules,type:i.type,name:i.name},{default:a(({field:e,errors:c})=>[l("span",{class:m(["ipt",c.length>0?"iptError":""])},[l("input",s(e,{type:i.type,placeholder:i.placeholder,readonly:i.readonly,disabled:i.disabled,maxlength:"text"===i.maxLenType?i.maxLength:null,autocomplete:"off",onKeyup:y.onInputHandler,onKeydown:y.onInputHandler}),null,16,V),i.maxLenType?(L(),n("span",k,["text"===i.maxLenType?(L(),n(p,{key:0},[r(d(y.t("common.text.maxText",{nowLen:y.inputVal.length,maxLen:i.maxLength})),1)],64)):(L(),n(p,{key:1},[r(d(y.t("common.text.maxByte",{nowLen:y.utils.getByteLength(y.inputVal),maxLen:i.maxLength})),1)],64))])):o("",!0),c.length>0?(L(),t(y.ElementTooltip,{key:1,msg:c[0],placement:i.tooltipPlacement,modifiers:i.tooltipModifiers},{default:a(()=>u[1]||(u[1]=[l("span",{class:"error"},[l("span",{class:"hide"},"에러")],-1)])),_:2,__:[1]},1032,["msg","placement","modifiers"])):o("",!0),i.isClear&&y.inputVal.length>0?(L(),t(y.ElementButton,{key:2,className:"btn_del",onClick:y.clearClickHandler},{default:a(()=>u[2]||(u[2]=[l("span",{class:"hide"},"삭제",-1)])),_:1,__:[2]})):o("",!0)],2)]),_:1},8,["modelValue","rules","type","name"])}],["__file","/Users/kokimin/WorkSpace/vue_design_system/src/components/form/element-text.vue"]]);export{v as E};
