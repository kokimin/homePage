import{A as e,b as t,c as a,v as i,e as r,H as l,d as n,w as o,t as s,l as d,h as u,u as c,r as m,i as p,B as g,E as h,q as b,T as f,k as v}from"./index-Brc5gCI7.js";import{E as C}from"./element-text-D-EPVcTe.js";import{g as I}from"./gridUtils-CpYDX3xm.js";import{g as k,R as w}from"./real-grid-D0HQpUC9.js";import{S as y}from"./search-container-CrqIufVW.js";import"./popup-container-CgYeCOO4.js";const{t:T}=e.global,x=(e,t)=>({programId:e,gridId:t,gridTitle:T(`${e}.${t}.title`),setting:{isReadOnly:!0},columns:[k.text({headerText:T(`${e}.${t}.buttonId`),name:"buttonId",editable:!1,width:100}),k.messagesId({headerText:T(`${e}.${t}.buttonName`),nameField:"buttonNameLocale",refField:"buttonName",isVisible:!1}),k.select({headerText:T(`${e}.${t}.buttonSize`),name:"buttonSize",editable:!1,width:80}),k.select({headerText:T(`${e}.${t}.buttonColor`),name:"buttonColor",editable:!1,width:80}),k.select({headerText:T(`${e}.${t}.buttonPosition`),name:"buttonPosition",editable:!1,width:80}),k.text({headerText:T(`${e}.${t}.buttonClick`),name:"buttonClick",editable:!1,width:150})]}),$="gridRef",P={key:0},S={class:"popup_footer"};const _=t(Object.assign({menuId:"buttonSearchPopup",programId:"ButtonSearchPopup"},{__name:"ButtonSearchPopup",props:{slotProps:{type:Object,default:()=>({})}},emits:["callBackHandler"],setup(e,{expose:t,emit:a}){t();const i=b(),r=i?.type.menuId,l=i?.type.programId,{t:n}=u(),o=e,s=a,d=c.cloneDeep(x(l,$)),v=m({isReady:!1,search:{},gridTitle:d.gridTitle,gridView:null,dataProvider:null}),{isReady:k,search:T,gridTitle:P,gridView:S,dataProvider:_}=p(v);g(async()=>{k.value=!1,R(),await j(),k.value=!0});const B=()=>{f({menuId:l,params:T.value}).then(e=>{I.setData({gridView:S.value,dataProvider:_.value,data:e.data})})},R=()=>{T.value={idName:""}},j=async()=>{},V=()=>{B()},H=()=>{o.slotProps.closeClick()},E={instance:i,menuId:r,programId:l,t:n,props:o,emit:s,gridId:$,gridConfig:d,data:v,isReady:k,search:T,gridTitle:P,gridView:S,dataProvider:_,getDataHandler:B,resetHandler:R,init:j,searchHandler:V,selectClick:()=>{const e=I.getCheckedRowsInfo({gridView:S.value,dataProvider:_.value});e&&e.length>0&&(s("callBackHandler",e),H())},closeClick:H,gridInit:async(e,t)=>{S.value=e,_.value=t,V()},getCurrentInstance:b,onBeforeMount:g,reactive:m,toRefs:p,get useI18n(){return u},get utils(){return c},get apiCommon(){return f},ElementButton:h,ElementText:C,get gridUtils(){return I},RealGrid:w,SearchContainer:y,get gridSetting(){return x}};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),[["render",function(e,t,u,c,m,p){return c.isReady?(v(),a("div",P,[r(c.SearchContainer,{onSearch:c.searchHandler,onReset:c.resetHandler},{colgroup:o(()=>t[1]||(t[1]=[n("col",{style:{width:"100px"}},null,-1),n("col",{style:{width:"250px"}},null,-1),n("col",{width:"*"},null,-1)])),default:o(()=>[n("tbody",null,[n("tr",null,[n("th",null,s(c.t(`${c.programId}.search.idName.title`)),1),n("td",null,[r(c.ElementText,{modelValue:c.search.idName,"onUpdate:modelValue":t[0]||(t[0]=e=>c.search.idName=e)},null,8,["modelValue"])]),t[2]||(t[2]=n("td",null,null,-1))])])]),_:1}),r(c.RealGrid,{gridTitle:c.gridTitle,gridConfig:c.gridConfig,onGridInit:c.gridInit},null,8,["gridTitle","gridConfig"]),l(e.$slots,"popupBtnGroup"),n("div",S,[r(c.ElementButton,{size:"sm",onClick:c.selectClick},{default:o(()=>[d(s(c.t("common.button.choice")),1)]),_:1}),r(c.ElementButton,{size:"sm",onClick:c.closeClick},{default:o(()=>[d(s(c.t("common.button.close")),1)]),_:1})])])):i("",!0)}],["__file","/Users/kokimin/WorkSpace/vue_design_system/src/views/_popups/ButtonSearchPopup/ButtonSearchPopup.vue"]]);export{_ as default};
