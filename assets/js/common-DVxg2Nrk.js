import{_ as e,u as t,a as r}from"./index-Brc5gCI7.js";import{m as n,u as s,c as o,a,b as d,p as u,d as p,e as m,f as c}from"./database-CVT5_mP_.js";import{httpMock as l,apiMock as g}from"./mock-DN2QBicg.js";l.onGet(e.message).reply(()=>{const e=t.cloneDeep(n.get()),r=t=>{let r={};return e.forEach(e=>{r=Object.assign(r,{[e.langKey]:e[t]})}),r};return[200,{code:200,msg:"",results:{ko:r("langKo"),en:r("langEn")}}]}),l.onPost(e.login).reply(async e=>{const r=t.cloneDeep(s.get()),{userId:n}=JSON.parse(e.data),a=r.find(e=>e.userId===n);if(a){let e={...a};return e.authNm=o.getComNm("authCd",e.authCd),e.departmentNm=o.getComNm("departmentCd",e.departmentCd),[200,{code:200,msg:"",results:e}]}return[400,{msg:"",code:"02",results:[],status:200}]}),l.onGet(e.menuList).reply(()=>{const e=r().getUser.authCd,n=t.cloneDeep(a.get()),s=[];n.forEach(t=>{d.getMenuAuth(t.menuId,e)&&s.push(t)});return[200,{code:200,msg:"",results:(e=>{const t=new Map(e.map(e=>[e.menuId,{...e,children:[],parentMenuId:[]}])),r=[];t.forEach(e=>{const{parentId:n}=e;if(n&&t.has(n)){const r=t.get(n);r.children.push(e),e.parentMenuId=[...r.parentMenuId,r.menuId,e.menuId]}else r.push(e),e.parentMenuId=[];delete e.parentId});const n=(e,t)=>(+e.sort||0)-(+t.sort||0),s=e=>{e.sort(n),e.forEach(e=>s(e.children))};return s(r),r})(s)}]}),g.onGet(e.comCode).reply(e=>{const r=t.cloneDeep(o.get()),n=e.params.groupCode;return[200,{code:200,msg:"",results:r.filter(e=>e.groupCode===n&&"Y"===e.useYn)}]}),g.onGet(e.pageAuth).reply(e=>{const r=e.params.programId,n=t.cloneDeep(u.get()),s=t.cloneDeep(p.get()),o=t.cloneDeep(m.get());let a=t.cloneDeep(c.get());const d=n.filter(e=>e.programId===r),l=s.filter(e=>e.programId===r);let g={programId:r,authInfo:{}};return d.forEach(t=>{g.authInfo[t.btnGrpId]=l.filter(r=>{if(r.btnGrpId===t.btnGrpId){if(o.findIndex(t=>t.programId===r.programId&&t.btnGrpId===r.btnGrpId&&t.buttonId===r.buttonId&&t.authCd===e.params.authCd)>-1)return Object.assign(r,(n=r.buttonId,a.find(e=>e.buttonId===n)||{}))}var n})}),[200,{code:200,msg:"",results:g}]});
