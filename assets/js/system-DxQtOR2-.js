import{_ as e,u as t,a as r}from"./index-Brc5gCI7.js";import{g as s}from"./gridUtils-CpYDX3xm.js";import{m as n,g as o,c as d,u as a,f as l,h as u,p as c,d as m,e as i,a as g,b as p,i as f,j as I}from"./database-CVT5_mP_.js";import{apiMock as b}from"./mock-DN2QBicg.js";b.onGet(`${e.MessagesMgmt.defaultUrl}`).reply(e=>{const r=t.objectEmptyRemove(e.params);let s=t.cloneDeep(n.get());return r&&Object.keys(r).forEach(e=>{s=["idName"].includes(e)?s.filter(e=>e.langKey.includes(r.idName)||e.langKo.includes(r.idName)||e.langEn.includes(r.idName)):s.filter(t=>t[e]&&t[e].includes(r[e]))}),[200,{code:200,msg:"",results:{data:s,totalCount:s.length}}]}),b.onPost(`${e.MessagesMgmt.defaultUrl}`).reply(e=>{const s=r(),o=JSON.parse(e.data);let d=t.cloneDeep(n.get());const a=o.filter(e=>["updatedAndDeleted","deleted"].includes(e.__rowState)).map(e=>e.langKey.toString());return d=d.filter(e=>!a.includes(e.langKey.toString())),o.forEach(e=>{if(["updated"].includes(e.__rowState)){const t=d.findIndex(t=>t.langKey.toString()===e.langKey.toString());t>-1&&(d[t]=e)}else["created"].includes(e.__rowState)&&d.push(Object.assign(e,{insertDate:t.dateFormat(new Date,"YYYYMMDDHHmmss"),insertUserId:s.getUser.userId,insertUserNm:s.getUser.userNm}))}),n.set(t.cloneDeep(d)),[200,{code:200,msg:"",results:d}]}),b.onGet(`${e.ComCodeMgmt.comCdGrp}`).reply(e=>{const r=t.objectEmptyRemove(e.params);let s=o.get();return r&&Object.keys(r).forEach(e=>{["searchTypeVal"].includes(e)&&(s="comCode"===r.searchTypeKey?s.filter(t=>t.groupCode&&t.groupCode.includes(r[e])):s.filter(t=>t[e]&&t[e].includes(r[e])))}),[200,{code:200,msg:"",results:{data:s,totalCount:s.length}}]}),b.onPost(`${e.ComCodeMgmt.comCdGrp}`).reply(e=>{const s=r(),n=JSON.parse(e.data);let d=t.cloneDeep(o.get());const a=n.filter(e=>["updatedAndDeleted","deleted"].includes(e.__rowState)).map(e=>e.groupCode.toString());return d=d.filter(e=>!a.includes(e.groupCode.toString())),n.forEach(e=>{if(["updated"].includes(e.__rowState)){const t=d.findIndex(t=>t.groupCode.toString()===e.groupCode.toString());t>-1&&(d[t]=e)}else["created"].includes(e.__rowState)&&d.push(Object.assign(e,{insertDate:t.dateFormat(new Date,"YYYYMMDDHHmmss"),insertUserId:s.getUser.userId,insertUserNm:s.getUser.userNm}))}),o.set(t.cloneDeep(d)),[200,{code:200,msg:"",results:d}]}),b.onGet(`${e.ComCodeMgmt.comCdDtl}`).reply(e=>{const r=t.objectEmptyRemove(e.params);let s=d.get().filter(e=>e.groupCode===r.groupCode);return[200,{code:200,msg:"",results:{data:s,totalCount:s.length}}]}),b.onPost(`${e.ComCodeMgmt.comCdDtl}`).reply(e=>{const s=r(),n=JSON.parse(e.data);let o=t.cloneDeep(d.get());const a=n.filter(e=>["updatedAndDeleted","deleted"].includes(e.__rowState)).map(e=>`${e.groupCode}_${e.comCode}`);return o=o.filter(e=>{const t=`${e.groupCode}_${e.comCode}`;return!a.includes(t)}),n.forEach(e=>{if(["updated"].includes(e.__rowState)){const t=`${e.groupCode}_${e.comCode}`,r=o.findIndex(e=>`${e.groupCode}_${e.comCode}`===t);r>-1&&(o[r]=e)}else["created"].includes(e.__rowState)&&o.push(Object.assign(e,{insertDate:t.dateFormat(new Date,"YYYYMMDDHHmmss"),insertUserId:s.getUser.userId,insertUserNm:s.getUser.userNm}))}),d.set(t.cloneDeep(o)),[200,{code:200,msg:"",results:o}]}),b.onGet(`${e.UserMgmt.defaultUrl}`).reply(e=>{const r=t.objectEmptyRemove(e.params);let s=a.get();return r&&Object.keys(r).forEach(e=>{s=["idName"].includes(e)?s.filter(e=>e.userId.includes(r.idName)||e.userNm.includes(r.idName)):s.filter(t=>t[e]&&t[e].includes(r[e]))}),[200,{code:200,msg:"",results:{data:s,totalCount:s.length}}]}),b.onPost(`${e.UserMgmt.defaultUrl}`).reply(e=>{const s=r(),n=JSON.parse(e.data);let o=t.cloneDeep(a.get());const d=n.filter(e=>["updatedAndDeleted","deleted"].includes(e.__rowState)).map(e=>e.userId.toString());return o=o.filter(e=>!d.includes(e.userId.toString())),n.forEach(e=>{if(["updated"].includes(e.__rowState)){const t=o.findIndex(t=>t.userId.toString()===e.userId.toString());t>-1&&(o[t]=e)}else["created"].includes(e.__rowState)&&o.push(Object.assign(e,{insertDate:t.dateFormat(new Date,"YYYYMMDDHHmmss"),insertUserId:s.getUser.userId,insertUserNm:s.getUser.userNm}))}),a.set(t.cloneDeep(o)),[200,{code:200,msg:"",results:o}]}),b.onGet(`${e.ButtonMgmt.defaultUrl}`).reply(e=>{const r=t.objectEmptyRemove(e.params);let s=l.get();return r&&Object.keys(r).forEach(e=>{s=["idName"].includes(e)?s.filter(e=>e.buttonId.includes(r.idName)||e.buttonName.includes(r.idName)):s.filter(t=>t[e]&&t[e].includes(r[e]))}),s=s.map(e=>({...e,buttonNameLocale:n.getMessageNm(e.buttonName)})),[200,{code:200,msg:"",results:{data:s,totalCount:s.length}}]}),b.onPost(`${e.ButtonMgmt.defaultUrl}`).reply(e=>{const s=r(),n=JSON.parse(e.data);let o=t.cloneDeep(l.get());const d=n.filter(e=>["updatedAndDeleted","deleted"].includes(e.__rowState)).map(e=>e.buttonId.toString());return o=o.filter(e=>!d.includes(e.buttonId.toString())),n.forEach(e=>{if(["updated"].includes(e.__rowState)){const t=o.findIndex(t=>t.buttonId.toString()===e.buttonId.toString());t>-1&&(o[t]=e)}else["created"].includes(e.__rowState)&&o.push(Object.assign(e,{insertDate:t.dateFormat(new Date,"YYYYMMDDHHmmss"),insertUserId:s.getUser.userId,insertUserNm:s.getUser.userNm}))}),l.set(t.cloneDeep(o)),[200,{code:200,msg:"",results:o}]}),b.onGet(`${e.ProgramMgmt.defaultUrl}`).reply(e=>{const r=t.objectEmptyRemove(e.params);let s=u.get();return r&&Object.keys(r).forEach(e=>{s=["idName"].includes(e)?s.filter(e=>e.programId.includes(r.idName)||e.programNm.includes(r.idName)):s.filter(t=>t[e]&&t[e].includes(r[e]))}),[200,{code:200,msg:"",results:{data:s,totalCount:s.length}}]}),b.onPost(`${e.ProgramMgmt.defaultUrl}`).reply(e=>{const s=r(),n=JSON.parse(e.data);let o=t.cloneDeep(u.get());const d=n.filter(e=>["updatedAndDeleted","deleted"].includes(e.__rowState)).map(e=>e.programId.toString());return o=o.filter(e=>!d.includes(e.programId.toString())),n.forEach(e=>{if(["updated"].includes(e.__rowState)){const t=o.findIndex(t=>t.programId.toString()===e.programId.toString());t>-1&&(o[t]=e)}else["created"].includes(e.__rowState)&&o.push(Object.assign(e,{insertDate:t.dateFormat(new Date,"YYYYMMDDHHmmss"),insertUserId:s.getUser.userId,insertUserNm:s.getUser.userNm}))}),u.set(t.cloneDeep(o)),[200,{code:200,msg:"",results:o}]}),b.onGet(`${e.ProgramMgmt.btnGrpUrl}`).reply(e=>{const r=t.objectEmptyRemove(e.params);let s=c.get().filter(e=>e.programId===r.programId);return[200,{code:200,msg:"",results:{data:s,totalCount:s.length}}]}),b.onPost(`${e.ProgramMgmt.btnGrpUrl}`).reply(e=>{const s=r(),n=JSON.parse(e.data);let o=t.cloneDeep(c.get());const d=n.filter(e=>["updatedAndDeleted","deleted"].includes(e.__rowState)).map(e=>`${e.programId}_${e.btnGrpId}`);return o=o.filter(e=>{const t=`${e.programId}_${e.btnGrpId}`;return!d.includes(t)}),n.forEach(e=>{if(["updated"].includes(e.__rowState)){const t=`${e.programId}_${e.btnGrpId}`,r=o.findIndex(e=>`${e.programId}_${e.btnGrpId}`===t);r>-1&&(o[r]=e)}else["created"].includes(e.__rowState)&&o.push(Object.assign(e,{insertDate:t.dateFormat(new Date,"YYYYMMDDHHmmss"),insertUserId:s.getUser.userId,insertUserNm:s.getUser.userNm}))}),c.set(t.cloneDeep(o)),[200,{code:200,msg:"",results:o}]}),b.onGet(`${e.ProgramMgmt.btnCodeUrl}`).reply(e=>{const r=t.objectEmptyRemove(e.params);let s=l.get(),o=m.get().filter(e=>e.programId===r.programId&&e.btnGrpId===r.btnGrpId);return o=o.map(e=>Object.assign(e,(e=>{const t=s.find(t=>t.buttonId===e);return t?Object.assign(t,{buttonNameLocale:n.getMessageNm(t.buttonName)}):{}})(e.buttonId))),[200,{code:200,msg:"",results:{data:o,totalCount:o.length}}]}),b.onPost(`${e.ProgramMgmt.btnCodeUrl}`).reply(e=>{const s=r(),n=JSON.parse(e.data);let o=t.cloneDeep(m.get());const d=n.filter(e=>["updatedAndDeleted","deleted"].includes(e.__rowState)).map(e=>`${e.programId}_${e.btnGrpId}_${e.buttonId}`);return o=o.filter(e=>{const t=`${e.programId}_${e.btnGrpId}_${e.buttonId}`;return!d.includes(t)}),n.forEach(e=>{if(["updated"].includes(e.__rowState)){const t=`${e.programId}_${e.btnGrpId}_${e.buttonId}`,r=o.findIndex(e=>`${e.programId}_${e.btnGrpId}_${e.buttonId}`===t);r>-1&&(o[r]=e)}else["created"].includes(e.__rowState)&&o.push(Object.assign(e,{insertDate:t.dateFormat(new Date,"YYYYMMDDHHmmss"),insertUserId:s.getUser.userId,insertUserNm:s.getUser.userNm}))}),m.set(t.cloneDeep(o)),[200,{code:200,msg:"",results:o}]}),b.onGet(`${e.ProgramAuthMgmt.columnsUrl}`).reply(e=>{const r=t.cloneDeep(d.get()).filter(e=>"authCd"===e.groupCode&&"Y"===e.useYn),s=t.cloneDeep(i.get()).filter(t=>t.programId===e.params.programId&&t.btnGrpId===e.params.btnGrpId),n=[];return r.forEach(t=>{const r=s.filter(e=>e.authCd===t.comCode).length>0?"Y":"N";n.push({programId:e.params.programId,authCd:t.comCode,authNm:t.comName,authChk:r})}),[200,{code:200,msg:"",results:{data:n,totalCount:n.length}}]}),b.onGet(`${e.ProgramAuthMgmt.defaultUrl}`).reply(e=>{const r=t.cloneDeep(m.get()).filter(t=>t.programId===e.params.programId&&t.btnGrpId===e.params.btnGrpId),s=[];return r.forEach(r=>{const o=l.getButtonNm(r.buttonId);let d={programId:r.programId,btnGrpId:r.btnGrpId,buttonId:r.buttonId,buttonName:o,buttonNameLocale:n.getMessageNm(o)};const a=t.cloneDeep(i.get()).filter(t=>t.programId===e.params.programId&&t.btnGrpId===e.params.btnGrpId&&t.buttonId===r.buttonId);let u={authGroup:{}};a.forEach(e=>{u.authGroup[e.authCd]="Y"}),s.push(Object.assign(d,u))}),[200,{code:200,msg:"",results:{data:s,totalCount:s.length}}]}),b.onPost(`${e.ProgramAuthMgmt.defaultUrl}`).reply(e=>{r();const s=JSON.parse(e.data);let n=t.cloneDeep(i.get());return s.forEach(e=>{const{programId:t,btnGrpId:r,buttonId:s,authGroup:o}=e;Object.entries(o).forEach(([e,o])=>{const d=((e,t,r,s)=>n.find(n=>n.programId===e&&n.btnGrpId===t&&n.buttonId===r&&n.authCd===s))(t,r,s,e);if("Y"!==o||d){if("N"===o&&d){const e=n.indexOf(d);-1!==e&&n.splice(e,1)}}else n.push({programId:t,btnGrpId:r,buttonId:s,authCd:e})})}),i.set(t.cloneDeep(n)),[200,{code:200,msg:"",results:n}]}),b.onGet(`${e.MenuMgmt.defaultUrl}`).reply(e=>{const r=t.objectEmptyRemove(e.params);let o=t.cloneDeep(g.get());return r&&Object.keys(r).forEach(e=>{o=["idName"].includes(e)?o.filter(e=>e.menuId.includes(r.idName)||e.menuNm.includes(r.idName)):o.filter(t=>t[e]&&t[e].includes(r[e]))}),o=o.map(e=>({...e,menuNmLocale:n.getMessageNm(e.menuNm)})),[200,{code:200,msg:"",results:{data:s.transformToRowsTree(o),totalCount:o.length}}]}),b.onPost(`${e.MenuMgmt.defaultUrl}`).reply(e=>{const s=r(),n=JSON.parse(e.data);let o=t.cloneDeep(g.get());const d=n.filter(e=>["updatedAndDeleted","deleted"].includes(e.__rowState)).map(e=>e.menuId.toString());return o=o.filter(e=>!d.includes(e.menuId.toString())),n.forEach(e=>{if(["updated"].includes(e.__rowState)){const t=o.findIndex(t=>t.menuId.toString()===e.menuId.toString());t>-1&&(o[t]=e)}else if(["created"].includes(e.__rowState)){const r=t.generateUuid();o.push(Object.assign(e,{menuId:r,insertDate:t.dateFormat(new Date,"YYYYMMDDHHmmss"),insertUserId:s.getUser.userId,insertUserNm:s.getUser.userNm}))}}),g.set(t.cloneDeep(o)),[200,{code:200,msg:"",results:o}]}),b.onGet(`${e.MenuAuthMgmt.defaultUrl}`).reply(e=>{const r=t.cloneDeep(d.get()).filter(e=>"authCd"===e.groupCode&&"Y"===e.useYn),s=t.cloneDeep(p.get()).filter(t=>t.menuId===e.params.menuId),n=[];return r.forEach(t=>{const r=s.filter(e=>e.authCd===t.comCode).length>0?"Y":"N";n.push({menuId:e.params.menuId,authCd:t.comCode,authNm:t.comName,authChk:r})}),[200,{code:200,msg:"",results:{data:n,totalCount:n.length}}]}),b.onPost(`${e.MenuAuthMgmt.defaultUrl}`).reply(e=>{const r=JSON.parse(e.data),s=r.length>0?r[0].menuId:null;let n=t.cloneDeep(p.get()).filter(e=>e.menuId===s);const o=[],d=[];r.forEach(e=>{"Y"===e.authChk?o.push({menuId:e.menuId,authCd:e.authCd}):d.push(e.authCd)}),n=n.filter(e=>!d.includes(e.authCd.toString())),n=t.concat(n,o);const a=t.cloneDeep(p.get()).filter(e=>e.menuId!==s),l=t.cloneDeep(t.concat(a,n));return p.set(t.cloneDeep(l)),[200,{code:200,msg:"",results:l}]}),b.onGet(`${e.BoardStgMgmt.defaultUrl}`).reply(e=>{const r=t.objectEmptyRemove(e.params);let s=t.cloneDeep(f.get());return r&&Object.keys(r).forEach(e=>{s=["idName"].includes(e)?s.filter(e=>e.boardType.includes(r.idName)||e.boardNm.includes(r.idName)):s.filter(t=>t[e]&&t[e].includes(r[e]))}),[200,{code:200,msg:"",results:{data:s,totalCount:s.length}}]}),b.onPost(`${e.BoardStgMgmt.defaultUrl}`).reply(e=>{const s=r(),n=JSON.parse(e.data);let o=t.cloneDeep(f.get());const d=n.filter(e=>["updatedAndDeleted","deleted"].includes(e.__rowState)).map(e=>e.boardType.toString());return o=o.filter(e=>!d.includes(e.boardType.toString())),n.forEach(e=>{if(["updated"].includes(e.__rowState)){const t=o.findIndex(t=>t.boardType.toString()===e.boardType.toString());t>-1&&(o[t]=e)}else["created"].includes(e.__rowState)&&o.push(Object.assign(e,{insertDate:t.dateFormat(new Date,"YYYYMMDDHHmmss"),insertUserId:s.getUser.userId,insertUserNm:s.getUser.userNm}))}),f.set(t.cloneDeep(o)),[200,{code:200,msg:"",results:o}]}),b.onGet(`${e.BoardMgmt.defaultUrl}`).reply(e=>{const r=t.objectEmptyRemove(e.params);let s=t.cloneDeep(I.get());return r&&Object.keys(r).forEach(e=>{s=["idName"].includes(e)?s.filter(e=>e.subject.includes(r.idName)||e.boardNm.includes(r.content)):s.filter(t=>t[e]&&t[e].includes(r[e].toString()))}),[200,{code:200,msg:"",results:{data:s,totalCount:s.length}}]}),b.onPost(`${e.BoardMgmt.defaultUrl}`).reply(e=>{const s=r(),n=JSON.parse(e.data);let o=t.cloneDeep(I.get());const d=n.filter(e=>["updatedAndDeleted","deleted"].includes(e.__rowState)).map(e=>e.idx.toString());return o=o.filter(e=>!d.includes(e.idx.toString())),n.forEach(e=>{if(["updated"].includes(e.__rowState)){const t=o.findIndex(t=>t.idx.toString()===e.idx.toString());t>-1&&(o[t]=e)}else if(["created"].includes(e.__rowState)){const r=t.generateUuid();o.push(Object.assign(e,{idx:r,insertDate:t.dateFormat(new Date,"YYYYMMDDHHmmss"),insertUserId:s.getUser.userId,insertUserNm:s.getUser.userNm}))}}),I.set(t.cloneDeep(o)),[200,{code:200,msg:"",results:o}]});
