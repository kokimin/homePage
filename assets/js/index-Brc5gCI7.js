const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/Login-CTucSbgd.js","assets/js/element-checkbox-D4Zyriia.js","assets/js/element-select-BCEadPkV.js","assets/js/element-text-D-EPVcTe.js","assets/js/footer-view-DbGzI4eV.js","assets/js/BoardMgmt-DbidJEcP.js","assets/js/gridUtils-CpYDX3xm.js","assets/js/real-grid-D0HQpUC9.js","assets/js/popup-container-CgYeCOO4.js","assets/js/search-container-CrqIufVW.js","assets/js/container-view-8Dpp6B-p.js","assets/js/BoardPopup-Dzx3TyNl.js","assets/js/element-date-picker-DiCssO2p.js","assets/css/element-date-picker-CuvDWgOq.css","assets/js/form-container-JeoPIJO7.js","assets/css/BoardPopup-CIwaxdOn.css","assets/js/BoardStgMgmt-BKjvF5gq.js","assets/js/ButtonMgmt-Mst95Ejy.js","assets/js/ComCodeMgmt-BcDKWIRc.js","assets/js/element-split-panes-D8f3p_XR.js","assets/css/element-split-panes-CTQZGdsC.css","assets/js/MenuAuthMgmt-BJwMMdUW.js","assets/js/tree-grid-Dk2y0Zjc.js","assets/js/MenuMgmt-zrK4uGUT.js","assets/js/MessagesMgmt-Bw8Joqd3.js","assets/js/ProgramAuthMgmt-CVED1bZR.js","assets/js/ProgramMgmt-V0qpGad0.js","assets/js/ButtonSearchPopup-BlrCXiG5.js","assets/js/UserMgmt-C6uTCaJU.js","assets/js/Alert-FOd8QyZN.js","assets/js/Checkbox-CttjtnCn.js","assets/js/element-multi-checkbox-BQlWrSLC.js","assets/js/DatePicker-DNKykMFj.js","assets/js/DateRangePicker-BMzcgdLA.js","assets/js/Number-b0ZpUBW-.js","assets/js/element-number-Bib7uMPy.js","assets/js/RadioBox-CvKCcoc4.js","assets/js/element-radio-CNy_bQGr.js","assets/js/SearchBox-DZB-9_7J.js","assets/js/element-toggle-im2za5GF.js","assets/js/SelectBox-C-sWpNym.js","assets/js/Tab-C3XdDLq8.js","assets/js/Text-CJkrczDy.js","assets/js/Toggle-Co6KUbx5.js","assets/js/Tooltip-CeOhGfap.js","assets/js/common-DVxg2Nrk.js","assets/js/database-CVT5_mP_.js","assets/js/mock-DN2QBicg.js","assets/js/system-DxQtOR2-.js"])))=>i.map(i=>d[i]);
/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function e(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return e=>e in t}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const t=Object.freeze({}),i=Object.freeze([]),n=()=>{},r=()=>!1,o=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),s=e=>e.startsWith("onUpdate:"),a=Object.assign,l=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},u=Object.prototype.hasOwnProperty,c=(e,t)=>u.call(e,t),h=Array.isArray,d=e=>"[object Map]"===w(e),p=e=>"[object Set]"===w(e),f=e=>"[object Date]"===w(e),_=e=>"function"==typeof e,g=e=>"string"==typeof e,m=e=>"symbol"==typeof e,y=e=>null!==e&&"object"==typeof e,v=e=>(y(e)||_(e))&&_(e.then)&&_(e.catch),b=Object.prototype.toString,w=e=>b.call(e),C=e=>w(e).slice(8,-1),x=e=>"[object Object]"===w(e),I=e=>g(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,E=e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),O=e("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),S=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},k=/-(\w)/g,P=S(e=>e.replace(k,(e,t)=>t?t.toUpperCase():"")),R=/\B([A-Z])/g,T=S(e=>e.replace(R,"-$1").toLowerCase()),D=S(e=>e.charAt(0).toUpperCase()+e.slice(1)),M=S(e=>e?`on${D(e)}`:""),L=(e,t)=>!Object.is(e,t),A=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},F=(e,t,i,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:i})},$=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let N;const j=()=>N||(N="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function B(e){if(h(e)){const t={};for(let i=0;i<e.length;i++){const n=e[i],r=g(n)?W(n):B(n);if(r)for(const e in r)t[e]=r[e]}return t}if(g(e)||y(e))return e}const V=/;(?![^(]*\))/g,H=/:([^]+)/,U=/\/\*[^]*?\*\//g;function W(e){const t={};return e.replace(U,"").split(V).forEach(e=>{if(e){const i=e.split(H);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function G(e){let t="";if(g(e))t=e;else if(h(e))for(let i=0;i<e.length;i++){const n=G(e[i]);n&&(t+=n+" ")}else if(y(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function z(e){if(!e)return null;let{class:t,style:i}=e;return t&&!g(t)&&(e.class=G(t)),i&&(e.style=B(i)),e}const Y=e("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),q=e("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),K=e("annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics"),X=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Z(e){return!!e||""===e}function J(e,t){if(e===t)return!0;let i=f(e),n=f(t);if(i||n)return!(!i||!n)&&e.getTime()===t.getTime();if(i=m(e),n=m(t),i||n)return e===t;if(i=h(e),n=h(t),i||n)return!(!i||!n)&&function(e,t){if(e.length!==t.length)return!1;let i=!0;for(let n=0;i&&n<e.length;n++)i=J(e[n],t[n]);return i}(e,t);if(i=y(e),n=y(t),i||n){if(!i||!n)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e){const n=e.hasOwnProperty(i),r=t.hasOwnProperty(i);if(n&&!r||!n&&r||!J(e[i],t[i]))return!1}}return String(e)===String(t)}const Q=e=>!(!e||!0!==e.__v_isRef),ee=e=>g(e)?e:null==e?"":h(e)||y(e)&&(e.toString===b||!_(e.toString))?Q(e)?ee(e.value):JSON.stringify(e,te,2):String(e),te=(e,t)=>Q(t)?te(e,t.value):d(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,i],n)=>(e[ie(t,n)+" =>"]=i,e),{})}:p(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>ie(e))}:m(t)?ie(t):!y(t)||h(t)||x(t)?t:String(t),ie=(e,t="")=>{var i;return m(e)?`Symbol(${null!=(i=e.description)?i:t})`:e};
/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function ne(e,...t){}let re,oe;class se{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=re,!e&&re&&(this.index=(re.scopes||(re.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=re;try{return re=this,e()}finally{re=t}}}on(){1===++this._on&&(this.prevScope=re,re=this)}off(){this._on>0&&0===--this._on&&(re=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,i;for(this._active=!1,t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function ae(e){return new se(e)}function le(){return re}function ue(e,t=!1){re&&re.cleanups.push(e)}const ce=new WeakSet;class he{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,re&&re.active&&re.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,ce.has(this)&&(ce.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||_e(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,ke(this),ye(this);const e=oe,t=Ie;oe=this,Ie=!0;try{return this.fn()}finally{ve(this),oe=e,Ie=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)Ce(e);this.deps=this.depsTail=void 0,ke(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?ce.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){be(this)&&this.run()}get dirty(){return be(this)}}let de,pe,fe=0;function _e(e,t=!1){if(e.flags|=8,t)return e.next=pe,void(pe=e);e.next=de,de=e}function ge(){fe++}function me(){if(--fe>0)return;if(pe){let e=pe;for(pe=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;de;){let i=de;for(de=void 0;i;){const n=i.next;if(i.next=void 0,i.flags&=-9,1&i.flags)try{i.trigger()}catch(t){e||(e=t)}i=n}}if(e)throw e}function ye(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ve(e){let t,i=e.depsTail,n=i;for(;n;){const e=n.prevDep;-1===n.version?(n===i&&(i=e),Ce(n),xe(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=e}e.deps=t,e.depsTail=i}function be(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(we(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function we(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===Pe)return;if(e.globalVersion=Pe,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!be(e)))return;e.flags|=2;const t=e.dep,i=oe,n=Ie;oe=e,Ie=!0;try{ye(e);const i=e.fn(e._value);(0===t.version||L(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(r){throw t.version++,r}finally{oe=i,Ie=n,ve(e),e.flags&=-3}}function Ce(e,t=!1){const{dep:i,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),i.subsHead===e&&(i.subsHead=r),i.subs===e&&(i.subs=n,!n&&i.computed)){i.computed.flags&=-5;for(let e=i.computed.deps;e;e=e.nextDep)Ce(e,!0)}t||--i.sc||!i.map||i.map.delete(i.key)}function xe(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let Ie=!0;const Ee=[];function Oe(){Ee.push(Ie),Ie=!1}function Se(){const e=Ee.pop();Ie=void 0===e||e}function ke(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=oe;oe=void 0;try{t()}finally{oe=e}}}let Pe=0;class Re{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Te{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0,this.subsHead=void 0}track(e){if(!oe||!Ie||oe===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==oe)t=this.activeLink=new Re(oe,this),oe.deps?(t.prevDep=oe.depsTail,oe.depsTail.nextDep=t,oe.depsTail=t):oe.deps=oe.depsTail=t,De(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=oe.depsTail,t.nextDep=void 0,oe.depsTail.nextDep=t,oe.depsTail=t,oe.deps===t&&(oe.deps=e)}return oe.onTrack&&oe.onTrack(a({effect:oe},e)),t}trigger(e){this.version++,Pe++,this.notify(e)}notify(e){ge();try{for(let t=this.subsHead;t;t=t.nextSub)!t.sub.onTrigger||8&t.sub.flags||t.sub.onTrigger(a({effect:t.sub},e));for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{me()}}}function De(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)De(e)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),void 0===e.dep.subsHead&&(e.dep.subsHead=e),e.dep.subs=e}}const Me=new WeakMap,Le=Symbol("Object iterate"),Ae=Symbol("Map keys iterate"),Fe=Symbol("Array iterate");function $e(e,t,i){if(Ie&&oe){let n=Me.get(e);n||Me.set(e,n=new Map);let r=n.get(i);r||(n.set(i,r=new Te),r.map=n,r.key=i),r.track({target:e,type:t,key:i})}}function Ne(e,t,i,n,r,o){const s=Me.get(e);if(!s)return void Pe++;const a=s=>{s&&s.trigger({target:e,type:t,key:i,newValue:n,oldValue:r,oldTarget:o})};if(ge(),"clear"===t)s.forEach(a);else{const r=h(e),o=r&&I(i);if(r&&"length"===i){const e=Number(n);s.forEach((t,i)=>{("length"===i||i===Fe||!m(i)&&i>=e)&&a(t)})}else switch((void 0!==i||s.has(void 0))&&a(s.get(i)),o&&a(s.get(Fe)),t){case"add":r?o&&a(s.get("length")):(a(s.get(Le)),d(e)&&a(s.get(Ae)));break;case"delete":r||(a(s.get(Le)),d(e)&&a(s.get(Ae)));break;case"set":d(e)&&a(s.get(Le))}}me()}function je(e){const t=St(e);return t===e?t:($e(t,"iterate",Fe),Et(e)?t:t.map(Pt))}function Be(e){return $e(e=St(e),"iterate",Fe),e}const Ve={__proto__:null,[Symbol.iterator](){return He(this,Symbol.iterator,Pt)},concat(...e){return je(this).concat(...e.map(e=>h(e)?je(e):e))},entries(){return He(this,"entries",e=>(e[1]=Pt(e[1]),e))},every(e,t){return We(this,"every",e,t,void 0,arguments)},filter(e,t){return We(this,"filter",e,t,e=>e.map(Pt),arguments)},find(e,t){return We(this,"find",e,t,Pt,arguments)},findIndex(e,t){return We(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return We(this,"findLast",e,t,Pt,arguments)},findLastIndex(e,t){return We(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return We(this,"forEach",e,t,void 0,arguments)},includes(...e){return ze(this,"includes",e)},indexOf(...e){return ze(this,"indexOf",e)},join(e){return je(this).join(e)},lastIndexOf(...e){return ze(this,"lastIndexOf",e)},map(e,t){return We(this,"map",e,t,void 0,arguments)},pop(){return Ye(this,"pop")},push(...e){return Ye(this,"push",e)},reduce(e,...t){return Ge(this,"reduce",e,t)},reduceRight(e,...t){return Ge(this,"reduceRight",e,t)},shift(){return Ye(this,"shift")},some(e,t){return We(this,"some",e,t,void 0,arguments)},splice(...e){return Ye(this,"splice",e)},toReversed(){return je(this).toReversed()},toSorted(e){return je(this).toSorted(e)},toSpliced(...e){return je(this).toSpliced(...e)},unshift(...e){return Ye(this,"unshift",e)},values(){return He(this,"values",Pt)}};function He(e,t,i){const n=Be(e),r=n[t]();return n===e||Et(e)||(r._next=r.next,r.next=()=>{const e=r._next();return e.value&&(e.value=i(e.value)),e}),r}const Ue=Array.prototype;function We(e,t,i,n,r,o){const s=Be(e),a=s!==e&&!Et(e),l=s[t];if(l!==Ue[t]){const t=l.apply(e,o);return a?Pt(t):t}let u=i;s!==e&&(a?u=function(t,n){return i.call(this,Pt(t),n,e)}:i.length>2&&(u=function(t,n){return i.call(this,t,n,e)}));const c=l.call(s,u,n);return a&&r?r(c):c}function Ge(e,t,i,n){const r=Be(e);let o=i;return r!==e&&(Et(e)?i.length>3&&(o=function(t,n,r){return i.call(this,t,n,r,e)}):o=function(t,n,r){return i.call(this,t,Pt(n),r,e)}),r[t](o,...n)}function ze(e,t,i){const n=St(e);$e(n,"iterate",Fe);const r=n[t](...i);return-1!==r&&!1!==r||!Ot(i[0])?r:(i[0]=St(i[0]),n[t](...i))}function Ye(e,t,i=[]){Oe(),ge();const n=St(e)[t].apply(e,i);return me(),Se(),n}const qe=e("__proto__,__v_isRef,__isVue"),Ke=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(m));function Xe(e){m(e)||(e=String(e));const t=St(this);return $e(t,"has",e),t.hasOwnProperty(e)}class Ze{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if("__v_skip"===t)return e.__v_skip;const n=this._isReadonly,r=this._isShallow;if("__v_isReactive"===t)return!n;if("__v_isReadonly"===t)return n;if("__v_isShallow"===t)return r;if("__v_raw"===t)return i===(n?r?mt:gt:r?_t:ft).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=h(e);if(!n){let e;if(o&&(e=Ve[t]))return e;if("hasOwnProperty"===t)return Xe}const s=Reflect.get(e,t,Tt(e)?e:i);return(m(t)?Ke.has(t):qe(t))?s:(n||$e(e,"get",t),r?s:Tt(s)?o&&I(t)?s:s.value:y(s)?n?bt(s):yt(s):s)}}class Je extends Ze{constructor(e=!1){super(!1,e)}set(e,t,i,n){let r=e[t];if(!this._isShallow){const t=It(r);if(Et(i)||It(i)||(r=St(r),i=St(i)),!h(e)&&Tt(r)&&!Tt(i))return!t&&(r.value=i,!0)}const o=h(e)&&I(t)?Number(t)<e.length:c(e,t),s=Reflect.set(e,t,i,Tt(e)?e:n);return e===St(n)&&(o?L(i,r)&&Ne(e,"set",t,i,r):Ne(e,"add",t,i)),s}deleteProperty(e,t){const i=c(e,t),n=e[t],r=Reflect.deleteProperty(e,t);return r&&i&&Ne(e,"delete",t,void 0,n),r}has(e,t){const i=Reflect.has(e,t);return m(t)&&Ke.has(t)||$e(e,"has",t),i}ownKeys(e){return $e(e,"iterate",h(e)?"length":Le),Reflect.ownKeys(e)}}class Qe extends Ze{constructor(e=!1){super(!0,e)}set(e,t){return String(t),!0}deleteProperty(e,t){return String(t),!0}}const et=new Je,tt=new Qe,it=new Je(!0),nt=new Qe(!0),rt=e=>e,ot=e=>Reflect.getPrototypeOf(e);function st(e){return function(...t){t[0]&&t[0];D(e),St(this);return"delete"!==e&&("clear"===e?void 0:this)}}function at(e,t){const i={get(i){const n=this.__v_raw,r=St(n),o=St(i);e||(L(i,o)&&$e(r,"get",i),$e(r,"get",o));const{has:s}=ot(r),a=t?rt:e?Rt:Pt;return s.call(r,i)?a(n.get(i)):s.call(r,o)?a(n.get(o)):void(n!==r&&n.get(i))},get size(){const t=this.__v_raw;return!e&&$e(St(t),"iterate",Le),Reflect.get(t,"size",t)},has(t){const i=this.__v_raw,n=St(i),r=St(t);return e||(L(t,r)&&$e(n,"has",t),$e(n,"has",r)),t===r?i.has(t):i.has(t)||i.has(r)},forEach(i,n){const r=this,o=r.__v_raw,s=St(o),a=t?rt:e?Rt:Pt;return!e&&$e(s,"iterate",Le),o.forEach((e,t)=>i.call(n,a(e),a(t),r))}};a(i,e?{add:st("add"),set:st("set"),delete:st("delete"),clear:st("clear")}:{add(e){t||Et(e)||It(e)||(e=St(e));const i=St(this);return ot(i).has.call(i,e)||(i.add(e),Ne(i,"add",e,e)),this},set(e,i){t||Et(i)||It(i)||(i=St(i));const n=St(this),{has:r,get:o}=ot(n);let s=r.call(n,e);s?pt(n,r,e):(e=St(e),s=r.call(n,e));const a=o.call(n,e);return n.set(e,i),s?L(i,a)&&Ne(n,"set",e,i,a):Ne(n,"add",e,i),this},delete(e){const t=St(this),{has:i,get:n}=ot(t);let r=i.call(t,e);r?pt(t,i,e):(e=St(e),r=i.call(t,e));const o=n?n.call(t,e):void 0,s=t.delete(e);return r&&Ne(t,"delete",e,void 0,o),s},clear(){const e=St(this),t=0!==e.size,i=d(e)?new Map(e):new Set(e),n=e.clear();return t&&Ne(e,"clear",void 0,void 0,i),n}});return["keys","values","entries",Symbol.iterator].forEach(n=>{i[n]=function(e,t,i){return function(...n){const r=this.__v_raw,o=St(r),s=d(o),a="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,u=r[e](...n),c=i?rt:t?Rt:Pt;return!t&&$e(o,"iterate",l?Ae:Le),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:a?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}(n,e,t)}),i}function lt(e,t){const i=at(e,t);return(t,n,r)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(c(i,n)&&n in t?i:t,n,r)}const ut={get:lt(!1,!1)},ct={get:lt(!1,!0)},ht={get:lt(!0,!1)},dt={get:lt(!0,!0)};function pt(e,t,i){const n=St(i);if(n!==i&&t.call(e,n)){C(e)}}const ft=new WeakMap,_t=new WeakMap,gt=new WeakMap,mt=new WeakMap;function yt(e){return It(e)?e:Ct(e,!1,et,ut,ft)}function vt(e){return Ct(e,!1,it,ct,_t)}function bt(e){return Ct(e,!0,tt,ht,gt)}function wt(e){return Ct(e,!0,nt,dt,mt)}function Ct(e,t,i,n,r){if(!y(e))return String(e),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=(s=e).__v_skip||!Object.isExtensible(s)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(C(s));var s;if(0===o)return e;const a=r.get(e);if(a)return a;const l=new Proxy(e,2===o?n:i);return r.set(e,l),l}function xt(e){return It(e)?xt(e.__v_raw):!(!e||!e.__v_isReactive)}function It(e){return!(!e||!e.__v_isReadonly)}function Et(e){return!(!e||!e.__v_isShallow)}function Ot(e){return!!e&&!!e.__v_raw}function St(e){const t=e&&e.__v_raw;return t?St(t):e}function kt(e){return!c(e,"__v_skip")&&Object.isExtensible(e)&&F(e,"__v_skip",!0),e}const Pt=e=>y(e)?yt(e):e,Rt=e=>y(e)?bt(e):e;function Tt(e){return!!e&&!0===e.__v_isRef}function Dt(e){return Lt(e,!1)}function Mt(e){return Lt(e,!0)}function Lt(e,t){return Tt(e)?e:new At(e,t)}class At{constructor(e,t){this.dep=new Te,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:St(e),this._value=t?e:Pt(e),this.__v_isShallow=t}get value(){return this.dep.track({target:this,type:"get",key:"value"}),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||Et(e)||It(e);e=i?e:St(e),L(e,t)&&(this._rawValue=e,this._value=i?e:Pt(e),this.dep.trigger({target:this,type:"set",key:"value",newValue:e,oldValue:t}))}}function Ft(e){return Tt(e)?e.value:e}function $t(e){return _(e)?e():Ft(e)}const Nt={get:(e,t,i)=>"__v_raw"===t?e:Ft(Reflect.get(e,t,i)),set:(e,t,i,n)=>{const r=e[t];return Tt(r)&&!Tt(i)?(r.value=i,!0):Reflect.set(e,t,i,n)}};function jt(e){return xt(e)?e:new Proxy(e,Nt)}function Bt(e){Ot(e);const t=h(e)?new Array(e.length):{};for(const i in e)t[i]=Wt(e,i);return t}class Vt{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return function(e,t){const i=Me.get(e);return i&&i.get(t)}(St(this._object),this._key)}}class Ht{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ut(e,t,i){return Tt(e)?e:_(e)?new Ht(e):y(e)&&arguments.length>1?Wt(e,t,i):Dt(e)}function Wt(e,t,i){const n=e[t];return Tt(n)?n:new Vt(e,t,i)}class Gt{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Te(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pe-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(8&this.flags)&&oe!==this)return _e(this,!0),!0}get value(){const e=this.dep.track({target:this,type:"get",key:"value"});return we(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const zt={},Yt=new WeakMap;let qt;function Kt(e,i,r=t){const{immediate:o,deep:s,once:a,scheduler:u,augmentJob:c,call:d}=r,p=e=>{(r.onWarn||ne)("Invalid watch source: ",e,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},f=e=>s?e:Et(e)||!1===s||0===s?Xt(e,1):Xt(e);let g,m,y,v,b=!1,w=!1;if(Tt(e)?(m=()=>e.value,b=Et(e)):xt(e)?(m=()=>f(e),b=!0):h(e)?(w=!0,b=e.some(e=>xt(e)||Et(e)),m=()=>e.map(e=>Tt(e)?e.value:xt(e)?f(e):_(e)?d?d(e,2):e():void p(e))):_(e)?m=i?d?()=>d(e,2):e:()=>{if(y){Oe();try{y()}finally{Se()}}const t=qt;qt=g;try{return d?d(e,3,[v]):e(v)}finally{qt=t}}:(m=n,p(e)),i&&s){const e=m,t=!0===s?1/0:s;m=()=>Xt(e(),t)}const C=le(),x=()=>{g.stop(),C&&C.active&&l(C.effects,g)};if(a&&i){const e=i;i=(...t)=>{e(...t),x()}}let I=w?new Array(e.length).fill(zt):zt;const E=e=>{if(1&g.flags&&(g.dirty||e))if(i){const e=g.run();if(s||b||(w?e.some((e,t)=>L(e,I[t])):L(e,I))){y&&y();const t=qt;qt=g;try{const t=[e,I===zt?void 0:w&&I[0]===zt?[]:I,v];I=e,d?d(i,3,t):i(...t)}finally{qt=t}}}else g.run()};return c&&c(E),g=new he(m),g.scheduler=u?()=>u(E,!1):E,v=e=>function(e,t=!1,i=qt){if(i){let t=Yt.get(i);t||Yt.set(i,t=[]),t.push(e)}}(e,!1,g),y=g.onStop=()=>{const e=Yt.get(g);if(e){if(d)d(e,4);else for(const t of e)t();Yt.delete(g)}},g.onTrack=r.onTrack,g.onTrigger=r.onTrigger,i?o?E(!0):I=g.run():u?u(E.bind(null,!0),!0):g.run(),x.pause=g.pause.bind(g),x.resume=g.resume.bind(g),x.stop=x,x}function Xt(e,t=1/0,i){if(t<=0||!y(e)||e.__v_skip)return e;if((i=i||new Set).has(e))return e;if(i.add(e),t--,Tt(e))Xt(e.value,t,i);else if(h(e))for(let n=0;n<e.length;n++)Xt(e[n],t,i);else if(p(e)||d(e))e.forEach(e=>{Xt(e,t,i)});else if(x(e)){for(const n in e)Xt(e[n],t,i);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Xt(e[n],t,i)}return e}
/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Zt=[];function Jt(e){Zt.push(e)}function Qt(){Zt.pop()}let ei=!1;function ti(e,...t){if(ei)return;ei=!0,Oe();const i=Zt.length?Zt[Zt.length-1].component:null,n=i&&i.appContext.config.warnHandler,r=function(){let e=Zt[Zt.length-1];if(!e)return[];const t=[];for(;e;){const i=t[0];i&&i.vnode===e?i.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}();if(n)oi(n,i,11,[e+t.map(e=>{var t,i;return null!=(i=null==(t=e.toString)?void 0:t.call(e))?i:JSON.stringify(e)}).join(""),i&&i.proxy,r.map(({vnode:e})=>`at <${ks(i,e.type)}>`).join("\n"),r]);else{const i=[`[Vue warn]: ${e}`,...t];r.length&&i.push("\n",...function(e){const t=[];return e.forEach((e,i)=>{t.push(...0===i?[]:["\n"],...function({vnode:e,recurseCount:t}){const i=t>0?`... (${t} recursive calls)`:"",n=!!e.component&&null==e.component.parent,r=` at <${ks(e.component,e.type,n)}`,o=">"+i;return e.props?[r,...ii(e.props),o]:[r+o]}(e))}),t}(r))}Se(),ei=!1}function ii(e){const t=[],i=Object.keys(e);return i.slice(0,3).forEach(i=>{t.push(...ni(i,e[i]))}),i.length>3&&t.push(" ..."),t}function ni(e,t,i){return g(t)?(t=JSON.stringify(t),i?t:[`${e}=${t}`]):"number"==typeof t||"boolean"==typeof t||null==t?i?t:[`${e}=${t}`]:Tt(t)?(t=ni(e,St(t.value),!0),i?t:[`${e}=Ref<`,t,">"]):_(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=St(t),i?t:[`${e}=`,t])}const ri={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function oi(e,t,i,n){try{return n?e(...n):e()}catch(r){ai(r,t,i)}}function si(e,t,i,n){if(_(e)){const r=oi(e,t,i,n);return r&&v(r)&&r.catch(e=>{ai(e,t,i)}),r}if(h(e)){const r=[];for(let o=0;o<e.length;o++)r.push(si(e[o],t,i,n));return r}ti("Invalid value type passed to callWithAsyncErrorHandling(): "+typeof e)}function ai(e,i,n,r=!0){const o=i?i.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=i&&i.appContext.config||t;if(i){let t=i.parent;const r=i.proxy,o=ri[n];for(;t;){const i=t.ec;if(i)for(let t=0;t<i.length;t++)if(!1===i[t](e,r,o))return;t=t.parent}if(s)return Oe(),oi(s,null,10,[e,r,o]),void Se()}!function(e,t,i,n=!0){{const r=ri[t];if(i&&Jt(i),ti("Unhandled error"+(r?` during execution of ${r}`:"")),i&&Qt(),n)throw e}}(e,n,o,r,a)}const li=[];let ui=-1;const ci=[];let hi=null,di=0;const pi=Promise.resolve();let fi=null;function _i(e){const t=fi||pi;return e?t.then(this?e.bind(this):e):t}function gi(e){if(!(1&e.flags)){const t=wi(e),i=li[li.length-1];!i||!(2&e.flags)&&t>=wi(i)?li.push(e):li.splice(function(e){let t=ui+1,i=li.length;for(;t<i;){const n=t+i>>>1,r=li[n],o=wi(r);o<e||o===e&&2&r.flags?t=n+1:i=n}return t}(t),0,e),e.flags|=1,mi()}}function mi(){fi||(fi=pi.then(Ci))}function yi(e){h(e)?ci.push(...e):hi&&-1===e.id?hi.splice(di+1,0,e):1&e.flags||(ci.push(e),e.flags|=1),mi()}function vi(e,t,i=ui+1){for(t=t||new Map;i<li.length;i++){const n=li[i];if(n&&2&n.flags){if(e&&n.id!==e.uid)continue;if(xi(t,n))continue;li.splice(i,1),i--,4&n.flags&&(n.flags&=-2),n(),4&n.flags||(n.flags&=-2)}}}function bi(e){if(ci.length){const t=[...new Set(ci)].sort((e,t)=>wi(e)-wi(t));if(ci.length=0,hi)return void hi.push(...t);for(hi=t,e=e||new Map,di=0;di<hi.length;di++){const t=hi[di];xi(e,t)||(4&t.flags&&(t.flags&=-2),8&t.flags||t(),t.flags&=-2)}hi=null,di=0}}const wi=e=>null==e.id?2&e.flags?-1:1/0:e.id;function Ci(e){e=e||new Map;const t=t=>xi(e,t);try{for(ui=0;ui<li.length;ui++){const e=li[ui];if(e&&!(8&e.flags)){if(t(e))continue;4&e.flags&&(e.flags&=-2),oi(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2)}}}finally{for(;ui<li.length;ui++){const e=li[ui];e&&(e.flags&=-2)}ui=-1,li.length=0,bi(e),fi=null,(li.length||ci.length)&&Ci(e)}}function xi(e,t){const i=e.get(t)||0;if(i>100){const e=t.i,i=e&&Ss(e.type);return ai(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return e.set(t,i+1),!1}let Ii=!1;const Ei=new Map;j().__VUE_HMR_RUNTIME__={createRecord:Ri(Si),rerender:Ri(function(e,t){const i=Oi.get(e);if(!i)return;i.initialDef.render=t,[...i.instances].forEach(e=>{t&&(e.render=t,ki(e.type).render=t),e.renderCache=[],Ii=!0,e.update(),Ii=!1})}),reload:Ri(function(e,t){const i=Oi.get(e);if(!i)return;t=ki(t),Pi(i.initialDef,t);const n=[...i.instances];for(let r=0;r<n.length;r++){const e=n[r],o=ki(e.type);let s=Ei.get(o);s||(o!==i.initialDef&&Pi(o,t),Ei.set(o,s=new Set)),s.add(e),e.appContext.propsCache.delete(e.type),e.appContext.emitsCache.delete(e.type),e.appContext.optionsCache.delete(e.type),e.ceReload?(s.add(e),e.ceReload(t.styles),s.delete(e)):e.parent?gi(()=>{Ii=!0,e.parent.update(),Ii=!1,s.delete(e)}):e.appContext.reload?e.appContext.reload():"undefined"!=typeof window&&window.location.reload(),e.root.ce&&e!==e.root&&e.root.ce._removeChildStyle(o)}yi(()=>{Ei.clear()})})};const Oi=new Map;function Si(e,t){return!Oi.has(e)&&(Oi.set(e,{initialDef:ki(t),instances:new Set}),!0)}function ki(e){return Ps(e)?e.__vccOpts:e}function Pi(e,t){a(e,t);for(const i in e)"__file"===i||i in t||delete e[i]}function Ri(e){return(t,i)=>{try{return e(t,i)}catch(n){}}}let Ti,Di=[],Mi=!1;function Li(e,...t){Ti?Ti.emit(e,...t):Mi||Di.push({event:e,args:t})}function Ai(e,t){var i,n;if(Ti=e,Ti)Ti.enabled=!0,Di.forEach(({event:e,args:t})=>Ti.emit(e,...t)),Di=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null==(n=null==(i=window.navigator)?void 0:i.userAgent)?void 0:n.includes("jsdom"))){(t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(e=>{Ai(e,t)}),setTimeout(()=>{Ti||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Mi=!0,Di=[])},3e3)}else Mi=!0,Di=[]}const Fi=ji("component:added"),$i=ji("component:updated"),Ni=ji("component:removed");
/*! #__NO_SIDE_EFFECTS__ */
function ji(e){return t=>{Li(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const Bi=Hi("perf:start"),Vi=Hi("perf:end");function Hi(e){return(t,i,n)=>{Li(e,t.appContext.app,t.uid,t,i,n)}}let Ui=null,Wi=null;function Gi(e){const t=Ui;return Ui=e,Wi=e&&e.type.__scopeId||null,t}function zi(e,t=Ui,i){if(!t)return e;if(e._n)return e;const n=(...i)=>{n._d&&Vo(-1);const r=Gi(t);let o;try{o=e(...i)}finally{Gi(r),n._d&&Vo(1)}return $i(t),o};return n._n=!0,n._c=!0,n._d=!0,n}function Yi(e){O(e)&&ti("Do not use built-in directive ids as custom directive id: "+e)}function qi(e,i){if(null===Ui)return ti("withDirectives can only be used inside render functions."),e;const n=Is(Ui),r=e.dirs||(e.dirs=[]);for(let o=0;o<i.length;o++){let[e,s,a,l=t]=i[o];e&&(_(e)&&(e={mounted:e,updated:e}),e.deep&&Xt(s),r.push({dir:e,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function Ki(e,t,i,n){const r=e.dirs,o=t&&t.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let l=a.dir[n];l&&(Oe(),si(l,i,8,[e.el,a,e,t]),Se())}}const Xi=Symbol("_vte"),Zi=e=>e.__isTeleport,Ji=e=>e&&(e.disabled||""===e.disabled),Qi=e=>e&&(e.defer||""===e.defer),en=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,tn=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,nn=(e,t)=>{const i=e&&e.to;if(g(i)){if(t){const n=t(i);return n||Ji(e)||ti(`Failed to locate Teleport target with selector "${i}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),n}return ti("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null}return i||Ji(e)||ti(`Invalid Teleport target: ${i}`),i},rn={name:"Teleport",__isTeleport:!0,process(e,t,i,n,r,o,s,a,l,u){const{mc:c,pc:h,pbc:d,o:{insert:p,querySelector:f,createText:_,createComment:g}}=u,m=Ji(t.props);let{shapeFlag:y,children:v,dynamicChildren:b}=t;if(Ii&&(l=!1,b=null),null==e){const e=t.el=g("teleport start"),u=t.anchor=g("teleport end");p(e,i,n),p(u,i,n);const h=(e,t)=>{16&y&&(r&&r.isCE&&(r.ce._teleportTarget=e),c(v,e,t,r,o,s,a,l))},d=()=>{const e=t.target=nn(t.props,f),i=ln(e,t,_,p);e?("svg"!==s&&en(e)?s="svg":"mathml"!==s&&tn(e)&&(s="mathml"),m||(h(e,i),an(t,!1))):m||ti("Invalid Teleport target on mount:",e,`(${typeof e})`)};m&&(h(i,u),an(t,!0)),Qi(t.props)?(t.el.__isMounted=!1,ro(()=>{d(),delete t.el.__isMounted},o)):d()}else{if(Qi(t.props)&&!1===e.el.__isMounted)return void ro(()=>{rn.process(e,t,i,n,r,o,s,a,l,u)},o);t.el=e.el,t.targetStart=e.targetStart;const c=t.anchor=e.anchor,p=t.target=e.target,_=t.targetAnchor=e.targetAnchor,g=Ji(e.props),y=g?i:p,v=g?c:_;if("svg"===s||en(p)?s="svg":("mathml"===s||tn(p))&&(s="mathml"),b?(d(e.dynamicChildren,b,y,r,o,s,a),lo(e,t,!1)):l||h(e,t,y,v,r,o,s,a,!1),m)g?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):on(t,i,c,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=nn(t.props,f);e?on(t,e,null,u,0):ti("Invalid Teleport target on update:",p,`(${typeof p})`)}else g&&on(t,p,_,u,1);an(t,m)}},remove(e,t,i,{um:n,o:{remove:r}},o){const{shapeFlag:s,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:d}=e;if(h&&(r(u),r(c)),o&&r(l),16&s){const e=o||!Ji(d);for(let r=0;r<a.length;r++){const o=a[r];n(o,t,i,e,!!o.dynamicChildren)}}},move:on,hydrate:function(e,t,i,n,r,o,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:u,createText:c}},h){const d=t.target=nn(t.props,l);if(d){const l=Ji(t.props),p=d._lpa||d.firstChild;if(16&t.shapeFlag)if(l)t.anchor=h(s(e),t,a(e),i,n,r,o),t.targetStart=p,t.targetAnchor=p&&s(p);else{t.anchor=s(e);let a=p;for(;a;){if(a&&8===a.nodeType)if("teleport start anchor"===a.data)t.targetStart=a;else if("teleport anchor"===a.data){t.targetAnchor=a,d._lpa=t.targetAnchor&&s(t.targetAnchor);break}a=s(a)}t.targetAnchor||ln(d,t,c,u),h(p&&s(p),t,d,i,n,r,o)}an(t,l)}return t.anchor&&s(t.anchor)}};function on(e,t,i,{o:{insert:n},m:r},o=2){0===o&&n(e.targetAnchor,t,i);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=e,h=2===o;if(h&&n(s,t,i),(!h||Ji(c))&&16&l)for(let d=0;d<u.length;d++)r(u[d],t,i,2);h&&n(a,t,i)}const sn=rn;function an(e,t){const i=e.ctx;if(i&&i.ut){let n,r;for(t?(n=e.el,r=e.anchor):(n=e.targetStart,r=e.targetAnchor);n&&n!==r;)1===n.nodeType&&n.setAttribute("data-v-owner",i.uid),n=n.nextSibling;i.ut()}}function ln(e,t,i,n){const r=t.targetStart=i(""),o=t.targetAnchor=i("");return r[Xi]=o,e&&(n(r,e),n(o,e)),o}const un=Symbol("_leaveCb"),cn=Symbol("_enterCb");const hn=[Function,Array],dn={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:hn,onEnter:hn,onAfterEnter:hn,onEnterCancelled:hn,onBeforeLeave:hn,onLeave:hn,onAfterLeave:hn,onLeaveCancelled:hn,onBeforeAppear:hn,onAppear:hn,onAfterAppear:hn,onAppearCancelled:hn},pn=e=>{const t=e.subTree;return t.component?pn(t.component):t},fn={name:"BaseTransition",props:dn,setup(e,{slots:t}){const i=cs(),n=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Bn(()=>{e.isMounted=!0}),Un(()=>{e.isUnmounting=!0}),e}();return()=>{const r=t.default&&Cn(t.default(),!0);if(!r||!r.length)return;const o=_n(r),s=St(e),{mode:a}=s;if(a&&"in-out"!==a&&"out-in"!==a&&"default"!==a&&ti(`invalid <transition> mode: ${a}`),n.isLeaving)return vn(o);const l=bn(o);if(!l)return vn(o);let u=yn(l,s,n,i,e=>u=e);l.type!==Ao&&wn(l,u);let c=i.subTree&&bn(i.subTree);if(c&&c.type!==Ao&&!zo(l,c)&&pn(i).type!==Ao){let e=yn(c,s,n,i);if(wn(c,e),"out-in"===a&&l.type!==Ao)return n.isLeaving=!0,e.afterLeave=()=>{n.isLeaving=!1,8&i.job.flags||i.update(),delete e.afterLeave,c=void 0},vn(o);"in-out"===a&&l.type!==Ao?e.delayLeave=(e,t,i)=>{mn(n,c)[String(c.key)]=c,e[un]=()=>{t(),e[un]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{i(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function _n(e){let t=e[0];if(e.length>1){let i=!1;for(const n of e)if(n.type!==Ao){if(i){ti("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}t=n,i=!0}}return t}const gn=fn;function mn(e,t){const{leavingVNodes:i}=e;let n=i.get(t.type);return n||(n=Object.create(null),i.set(t.type,n)),n}function yn(e,t,i,n,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:p,onLeave:f,onAfterLeave:_,onLeaveCancelled:g,onBeforeAppear:m,onAppear:y,onAfterAppear:v,onAppearCancelled:b}=t,w=String(e.key),C=mn(i,e),x=(e,t)=>{e&&si(e,n,9,t)},I=(e,t)=>{const i=t[1];x(e,t),h(e)?e.every(e=>e.length<=1)&&i():e.length<=1&&i()},E={mode:s,persisted:a,beforeEnter(t){let n=l;if(!i.isMounted){if(!o)return;n=m||l}t[un]&&t[un](!0);const r=C[w];r&&zo(e,r)&&r.el[un]&&r.el[un](),x(n,[t])},enter(e){let t=u,n=c,r=d;if(!i.isMounted){if(!o)return;t=y||u,n=v||c,r=b||d}let s=!1;const a=e[cn]=t=>{s||(s=!0,x(t?r:n,[e]),E.delayedLeave&&E.delayedLeave(),e[cn]=void 0)};t?I(t,[e,a]):a()},leave(t,n){const r=String(e.key);if(t[cn]&&t[cn](!0),i.isUnmounting)return n();x(p,[t]);let o=!1;const s=t[un]=i=>{o||(o=!0,n(),x(i?g:_,[t]),t[un]=void 0,C[r]===e&&delete C[r])};C[r]=e,f?I(f,[t,s]):s()},clone(e){const o=yn(e,t,i,n,r);return r&&r(o),o}};return E}function vn(e){if(kn(e))return(e=Jo(e)).children=null,e}function bn(e){if(!kn(e))return Zi(e.type)&&e.children?_n(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:i}=e;if(i){if(16&t)return i[0];if(32&t&&_(i.default))return i.default()}}function wn(e,t){6&e.shapeFlag&&e.component?(e.transition=t,wn(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Cn(e,t=!1,i){let n=[],r=0;for(let o=0;o<e.length;o++){let s=e[o];const a=null==i?s.key:String(i)+String(null!=s.key?s.key:o);s.type===Mo?(128&s.patchFlag&&r++,n=n.concat(Cn(s.children,t,a))):(t||s.type!==Ao)&&n.push(null!=a?Jo(s,{key:a}):s)}if(r>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}
/*! #__NO_SIDE_EFFECTS__ */function xn(e,t){return _(e)?(()=>a({name:e.name},t,{setup:e}))():e}function In(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const En=new WeakSet;function On(e,i,n,r,o=!1){if(h(e))return void e.forEach((e,t)=>On(e,i&&(h(i)?i[t]:i),n,r,o));if(Sn(r)&&!o)return void(512&r.shapeFlag&&r.type.__asyncResolved&&r.component.subTree.component&&On(e,i,n,r.component.subTree));const s=4&r.shapeFlag?Is(r.component):r.el,a=o?null:s,{i:u,r:d}=e;if(!u)return void ti("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");const p=i&&i.r,f=u.refs===t?u.refs={}:u.refs,m=u.setupState,y=St(m),v=m===t?()=>!1:e=>(c(y,e)&&!Tt(y[e])&&ti(`Template ref "${e}" used on a non-ref value. It will not work in the production build.`),!En.has(y[e])&&c(y,e));if(null!=p&&p!==d&&(g(p)?(f[p]=null,v(p)&&(m[p]=null)):Tt(p)&&(p.value=null)),_(d))oi(d,u,12,[a,f]);else{const t=g(d),i=Tt(d);if(t||i){const r=()=>{if(e.f){const i=t?v(d)?m[d]:f[d]:d.value;o?h(i)&&l(i,s):h(i)?i.includes(s)||i.push(s):t?(f[d]=[s],v(d)&&(m[d]=f[d])):(d.value=[s],e.k&&(f[e.k]=d.value))}else t?(f[d]=a,v(d)&&(m[d]=a)):i?(d.value=a,e.k&&(f[e.k]=a)):ti("Invalid template ref type:",d,`(${typeof d})`)};a?(r.id=-1,ro(r,n)):r()}else ti("Invalid template ref type:",d,`(${typeof d})`)}}j().requestIdleCallback,j().cancelIdleCallback;const Sn=e=>!!e.type.__asyncLoader,kn=e=>e.type.__isKeepAlive,Pn={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=cs(),n=i.ctx;if(!n.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const r=new Map,o=new Set;let s=null;i.__v_cache=r;const a=i.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=n,d=h("div");function p(e){An(e),c(e,i,a,!0)}function f(e){r.forEach((t,i)=>{const n=Ss(t.type);n&&!e(n)&&_(i)})}function _(e){const t=r.get(e);!t||s&&zo(t,s)?s&&An(s):p(t),r.delete(e),o.delete(e)}n.activate=(e,t,i,n,r)=>{const o=e.component;u(e,t,i,0,a),l(o.vnode,e,t,i,o,a,n,e.slotScopeIds,r),ro(()=>{o.isDeactivated=!1,o.a&&A(o.a);const t=e.props&&e.props.onVnodeMounted;t&&ss(t,o.parent,e)},a),Fi(o)},n.deactivate=e=>{const t=e.component;co(t.m),co(t.a),u(e,d,null,1,a),ro(()=>{t.da&&A(t.da);const i=e.props&&e.props.onVnodeUnmounted;i&&ss(i,t.parent,e),t.isDeactivated=!0},a),Fi(t),t.__keepAliveStorageContainer=d},_o(()=>[e.include,e.exclude],([e,t])=>{e&&f(t=>Rn(e,t)),t&&f(e=>!Rn(t,e))},{flush:"post",deep:!0});let g=null;const m=()=>{null!=g&&(Do(i.subTree.type)?ro(()=>{r.set(g,Fn(i.subTree))},i.subTree.suspense):r.set(g,Fn(i.subTree)))};return Bn(m),Hn(m),Un(()=>{r.forEach(e=>{const{subTree:t,suspense:n}=i,r=Fn(t);if(e.type===r.type&&e.key===r.key){An(r);const e=r.component.da;return void(e&&ro(e,n))}p(e)})}),()=>{if(g=null,!t.default)return s=null;const i=t.default(),n=i[0];if(i.length>1)return ti("KeepAlive should contain exactly one component child."),s=null,i;if(!(Go(n)&&(4&n.shapeFlag||128&n.shapeFlag)))return s=null,n;let a=Fn(n);if(a.type===Ao)return s=null,a;const l=a.type,u=Ss(Sn(a)?a.type.__asyncResolved||{}:l),{include:c,exclude:h,max:d}=e;if(c&&(!u||!Rn(c,u))||h&&u&&Rn(h,u))return a.shapeFlag&=-257,s=a,n;const p=null==a.key?l:a.key,f=r.get(p);return a.el&&(a=Jo(a),128&n.shapeFlag&&(n.ssContent=a)),g=p,f?(a.el=f.el,a.component=f.component,a.transition&&wn(a,a.transition),a.shapeFlag|=512,o.delete(p),o.add(p)):(o.add(p),d&&o.size>parseInt(d,10)&&_(o.values().next().value)),a.shapeFlag|=256,s=a,Do(n.type)?n:a}}};function Rn(e,t){return h(e)?e.some(e=>Rn(e,t)):g(e)?e.split(",").includes(t):"[object RegExp]"===w(e)&&(e.lastIndex=0,e.test(t))}function Tn(e,t){Mn(e,"a",t)}function Dn(e,t){Mn(e,"da",t)}function Mn(e,t,i=us){const n=e.__wdc||(e.__wdc=()=>{let t=i;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if($n(t,n,i),i){let e=i.parent;for(;e&&e.parent;)kn(e.parent.vnode)&&Ln(n,t,i,e),e=e.parent}}function Ln(e,t,i,n){const r=$n(t,e,n,!0);Wn(()=>{l(n[t],r)},i)}function An(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Fn(e){return 128&e.shapeFlag?e.ssContent:e}function $n(e,t,i=us,n=!1){if(i){const r=i[e]||(i[e]=[]),o=t.__weh||(t.__weh=(...n)=>{Oe();const r=ps(i),o=si(t,i,e,n);return r(),Se(),o});return n?r.unshift(o):r.push(o),o}ti(`${M(ri[e].replace(/ hook$/,""))} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}const Nn=e=>(t,i=us)=>{ys&&"sp"!==e||$n(e,(...e)=>t(...e),i)},jn=Nn("bm"),Bn=Nn("m"),Vn=Nn("bu"),Hn=Nn("u"),Un=Nn("bum"),Wn=Nn("um"),Gn=Nn("sp"),zn=Nn("rtg"),Yn=Nn("rtc");function qn(e,t=us){$n("ec",e,t)}const Kn="components";function Xn(e,t){return er(Kn,e,!0,t)||e}const Zn=Symbol.for("v-ndc");function Jn(e){return g(e)?er(Kn,e,!1)||e:e||Zn}function Qn(e){return er("directives",e)}function er(e,t,i=!0,n=!1){const r=Ui||us;if(r){const o=r.type;if(e===Kn){const e=Ss(o,!1);if(e&&(e===t||e===P(t)||e===D(P(t))))return o}const s=tr(r[e]||o[e],t)||tr(r.appContext[e],t);if(!s&&n)return o;if(i&&!s){const i=e===Kn?"\nIf this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.":"";ti(`Failed to resolve ${e.slice(0,-1)}: ${t}${i}`)}return s}ti(`resolve${D(e.slice(0,-1))} can only be used in render() or setup().`)}function tr(e,t){return e&&(e[t]||e[P(t)]||e[D(P(t))])}function ir(e,t,i,n){let r;const o=i,s=h(e);if(s||g(e)){let i=!1,n=!1;s&&xt(e)&&(i=!Et(e),n=It(e),e=Be(e)),r=new Array(e.length);for(let s=0,a=e.length;s<a;s++)r[s]=t(i?n?Rt(Pt(e[s])):Pt(e[s]):e[s],s,void 0,o)}else if("number"==typeof e){Number.isInteger(e)||ti(`The v-for range expect an integer value but got ${e}.`),r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o)}else if(y(e))if(e[Symbol.iterator])r=Array.from(e,(e,i)=>t(e,i,void 0,o));else{const i=Object.keys(e);r=new Array(i.length);for(let n=0,s=i.length;n<s;n++){const s=i[n];r[n]=t(e[s],s,n,o)}}else r=[];return r}function nr(e,t){for(let i=0;i<t.length;i++){const n=t[i];if(h(n))for(let t=0;t<n.length;t++)e[n[t].name]=n[t].fn;else n&&(e[n.name]=n.key?(...e)=>{const t=n.fn(...e);return t&&(t.key=n.key),t}:n.fn)}return e}function rr(e,t,i={},n,r){if(Ui.ce||Ui.parent&&Sn(Ui.parent)&&Ui.parent.ce)return"default"!==t&&(i.name=t),jo(),Wo(Mo,null,[Xo("slot",i,n&&n())],64);let o=e[t];o&&o.length>1&&(ti("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),o=()=>[]),o&&o._c&&(o._d=!1),jo();const s=o&&or(o(i)),a=i.key||s&&s.key,l=Wo(Mo,{key:(a&&!m(a)?a:`_${t}`)+(!s&&n?"_fb":"")},s||(n?n():[]),s&&1===e._?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function or(e){return e.some(e=>!Go(e)||e.type!==Ao&&!(e.type===Mo&&!or(e.children)))?e:null}const sr=e=>e?ms(e)?Is(e):sr(e.parent):null,ar=a(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>wt(e.props),$attrs:e=>wt(e.attrs),$slots:e=>wt(e.slots),$refs:e=>wt(e.refs),$parent:e=>sr(e.parent),$root:e=>sr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>vr(e),$forceUpdate:e=>e.f||(e.f=()=>{gi(e.update)}),$nextTick:e=>e.n||(e.n=_i.bind(e.proxy)),$watch:e=>mo.bind(e)}),lr=e=>"_"===e||"$"===e,ur=(e,i)=>e!==t&&!e.__isScriptSetup&&c(e,i),cr={get({_:e},i){if("__v_skip"===i)return!0;const{ctx:n,setupState:r,data:o,props:s,accessCache:a,type:l,appContext:u}=e;if("__isVue"===i)return!0;let h;if("$"!==i[0]){const l=a[i];if(void 0!==l)switch(l){case 1:return r[i];case 2:return o[i];case 4:return n[i];case 3:return s[i]}else{if(ur(r,i))return a[i]=1,r[i];if(o!==t&&c(o,i))return a[i]=2,o[i];if((h=e.propsOptions[0])&&c(h,i))return a[i]=3,s[i];if(n!==t&&c(n,i))return a[i]=4,n[i];_r&&(a[i]=0)}}const d=ar[i];let p,f;return d?("$attrs"===i?($e(e.attrs,"get",""),Io()):"$slots"===i&&$e(e,"get",i),d(e)):(p=l.__cssModules)&&(p=p[i])?p:n!==t&&c(n,i)?(a[i]=4,n[i]):(f=u.config.globalProperties,c(f,i)?f[i]:void(!Ui||g(i)&&0===i.indexOf("__v")||(o!==t&&lr(i[0])&&c(o,i)?ti(`Property ${JSON.stringify(i)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===Ui&&ti(`Property ${JSON.stringify(i)} was accessed during render but is not defined on instance.`))))},set({_:e},i,n){const{data:r,setupState:o,ctx:s}=e;return ur(o,i)?(o[i]=n,!0):o.__isScriptSetup&&c(o,i)?(ti(`Cannot mutate <script setup> binding "${i}" from Options API.`),!1):r!==t&&c(r,i)?(r[i]=n,!0):c(e.props,i)?(ti(`Attempting to mutate prop "${i}". Props are readonly.`),!1):"$"===i[0]&&i.slice(1)in e?(ti(`Attempting to mutate public property "${i}". Properties starting with $ are reserved and readonly.`),!1):(i in e.appContext.config.globalProperties?Object.defineProperty(s,i,{enumerable:!0,configurable:!0,value:n}):s[i]=n,!0)},has({_:{data:e,setupState:i,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==t&&c(e,a)||ur(i,a)||(l=s[0])&&c(l,a)||c(r,a)||c(ar,a)||c(o.config.globalProperties,a)},defineProperty(e,t,i){return null!=i.get?e._.accessCache[t]=0:c(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function hr(){return pr().slots}function dr(){return pr().attrs}function pr(){const e=cs();return e||ti("useContext() called without active instance."),e.setupContext||(e.setupContext=xs(e))}function fr(e){return h(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}cr.ownKeys=e=>(ti("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));let _r=!0;function gr(e){const t=vr(e),i=e.proxy,r=e.ctx;_r=!1,t.beforeCreate&&mr(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:u,inject:c,created:d,beforeMount:p,mounted:f,beforeUpdate:g,updated:m,activated:b,deactivated:w,beforeDestroy:C,beforeUnmount:x,destroyed:I,unmounted:E,render:O,renderTracked:S,renderTriggered:k,errorCaptured:P,serverPrefetch:R,expose:T,inheritAttrs:D,components:M,directives:L,filters:A}=t,F=function(){const e=Object.create(null);return(t,i)=>{e[i]?ti(`${t} property "${i}" is already defined in ${e[i]}.`):e[i]=t}}();{const[t]=e.propsOptions;if(t)for(const e in t)F("Props",e)}if(c&&function(e,t,i=n){h(e)&&(e=xr(e));for(const n in e){const r=e[n];let o;o=y(r)?"default"in r?Dr(r.from||n,r.default,!0):Dr(r.from||n):Dr(r),Tt(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e}):t[n]=o,i("Inject",n)}}(c,r,F),a)for(const n in a){const e=a[n];_(e)?(Object.defineProperty(r,n,{value:e.bind(i),configurable:!0,enumerable:!0,writable:!0}),F("Methods",n)):ti(`Method "${n}" has type "${typeof e}" in the component definition. Did you reference the function correctly?`)}if(o){_(o)||ti("The data option must be a function. Plain object usage is no longer supported.");const t=o.call(i,i);if(v(t)&&ti("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),y(t)){e.data=yt(t);for(const e in t)F("Data",e),lr(e[0])||Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:()=>t[e],set:n})}else ti("data() should return an object.")}if(_r=!0,s)for(const h in s){const e=s[h],t=_(e)?e.bind(i,i):_(e.get)?e.get.bind(i,i):n;t===n&&ti(`Computed property "${h}" has no getter.`);const o=!_(e)&&_(e.set)?e.set.bind(i):()=>{ti(`Write operation failed: computed property "${h}" is readonly.`)},a=Rs({get:t,set:o});Object.defineProperty(r,h,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}),F("Computed",h)}if(l)for(const n in l)yr(l[n],r,i,n);if(u){const e=_(u)?u.call(i):u;Reflect.ownKeys(e).forEach(t=>{Tr(t,e[t])})}function $(e,t){h(t)?t.forEach(t=>e(t.bind(i))):t&&e(t.bind(i))}if(d&&mr(d,e,"c"),$(jn,p),$(Bn,f),$(Vn,g),$(Hn,m),$(Tn,b),$(Dn,w),$(qn,P),$(Yn,S),$(zn,k),$(Un,x),$(Wn,E),$(Gn,R),h(T))if(T.length){const t=e.exposed||(e.exposed={});T.forEach(e=>{Object.defineProperty(t,e,{get:()=>i[e],set:t=>i[e]=t})})}else e.exposed||(e.exposed={});O&&e.render===n&&(e.render=O),null!=D&&(e.inheritAttrs=D),M&&(e.components=M),L&&(e.directives=L),R&&In(e)}function mr(e,t,i){si(h(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,i)}function yr(e,t,i,n){let r=n.includes(".")?yo(i,n):()=>i[n];if(g(e)){const i=t[e];_(i)?_o(r,i):ti(`Invalid watch handler specified by key "${e}"`,i)}else if(_(e))_o(r,e.bind(i));else if(y(e))if(h(e))e.forEach(e=>yr(e,t,i,n));else{const n=_(e.handler)?e.handler.bind(i):t[e.handler];_(n)?_o(r,n,e):ti(`Invalid watch handler specified by key "${e.handler}"`,n)}else ti(`Invalid watch option: "${n}"`,e)}function vr(e){const t=e.type,{mixins:i,extends:n}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:r.length||i||n?(l={},r.length&&r.forEach(e=>br(l,e,s,!0)),br(l,t,s)):l=t,y(t)&&o.set(t,l),l}function br(e,t,i,n=!1){const{mixins:r,extends:o}=t;o&&br(e,o,i,!0),r&&r.forEach(t=>br(e,t,i,!0));for(const s in t)if(n&&"expose"===s)ti('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const n=wr[s]||i&&i[s];e[s]=n?n(e[s],t[s]):t[s]}return e}const wr={data:Cr,props:Or,emits:Or,methods:Er,computed:Er,beforeCreate:Ir,created:Ir,beforeMount:Ir,mounted:Ir,beforeUpdate:Ir,updated:Ir,beforeDestroy:Ir,beforeUnmount:Ir,destroyed:Ir,unmounted:Ir,activated:Ir,deactivated:Ir,errorCaptured:Ir,serverPrefetch:Ir,components:Er,directives:Er,watch:function(e,t){if(!e)return t;if(!t)return e;const i=a(Object.create(null),e);for(const n in t)i[n]=Ir(e[n],t[n]);return i},provide:Cr,inject:function(e,t){return Er(xr(e),xr(t))}};function Cr(e,t){return t?e?function(){return a(_(e)?e.call(this,this):e,_(t)?t.call(this,this):t)}:t:e}function xr(e){if(h(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Ir(e,t){return e?[...new Set([].concat(e,t))]:t}function Er(e,t){return e?a(Object.create(null),e,t):t}function Or(e,t){return e?h(e)&&h(t)?[...new Set([...e,...t])]:a(Object.create(null),fr(e),fr(null!=t?t:{})):t}function Sr(){return{app:null,config:{isNativeTag:r,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kr=0;function Pr(e,t){return function(t,i=null){_(t)||(t=a({},t)),null==i||y(i)||(ti("root props passed to app.mount() must be an object."),i=null);const n=Sr(),r=new WeakSet,o=[];let s=!1;const l=n.app={_uid:kr++,_component:t,_props:i,_container:null,_context:n,_instance:null,version:Ds,get config(){return n.config},set config(e){ti("app.config cannot be replaced. Modify individual options instead.")},use:(e,...t)=>(r.has(e)?ti("Plugin has already been applied to target app."):e&&_(e.install)?(r.add(e),e.install(l,...t)):_(e)?(r.add(e),e(l,...t)):ti('A plugin must either be a function or an object with an "install" function.'),l),mixin:e=>(n.mixins.includes(e)?ti("Mixin has already been applied to target app"+(e.name?`: ${e.name}`:"")):n.mixins.push(e),l),component:(e,t)=>(gs(e,n.config),t?(n.components[e]&&ti(`Component "${e}" has already been registered in target app.`),n.components[e]=t,l):n.components[e]),directive:(e,t)=>(Yi(e),t?(n.directives[e]&&ti(`Directive "${e}" has already been registered in target app.`),n.directives[e]=t,l):n.directives[e]),mount(r,o,a){if(!s){r.__vue_app__&&ti("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const o=l._ceVNode||Xo(t,i);return o.appContext=n,!0===a?a="svg":!1===a&&(a=void 0),n.reload=()=>{const t=Jo(o);t.el=null,e(t,r,a)},e(o,r,a),s=!0,l._container=r,r.__vue_app__=l,l._instance=o.component,function(e,t){Li("app:init",e,t,{Fragment:Mo,Text:Lo,Comment:Ao,Static:Fo})}(l,Ds),Is(o.component)}ti("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`")},onUnmount(e){"function"!=typeof e&&ti("Expected function as first argument to app.onUnmount(), but got "+typeof e),o.push(e)},unmount(){s?(si(o,l._instance,16),e(null,l._container),l._instance=null,function(e){Li("app:unmount",e)}(l),delete l._container.__vue_app__):ti("Cannot unmount an app that is not mounted.")},provide:(e,t)=>(e in n.provides&&(c(n.provides,e)?ti(`App already provides property with key "${String(e)}". It will be overwritten with the new value.`):ti(`App already provides property with key "${String(e)}" inherited from its parent element. It will be overwritten with the new value.`)),n.provides[e]=t,l),runWithContext(e){const t=Rr;Rr=l;try{return e()}finally{Rr=t}}};return l}}let Rr=null;function Tr(e,t){if(us){let i=us.provides;const n=us.parent&&us.parent.provides;n===i&&(i=us.provides=Object.create(n)),i[e]=t}else ti("provide() can only be used inside setup().")}function Dr(e,t,i=!1){const n=us||Ui;if(n||Rr){let r=Rr?Rr._context.provides:n?null==n.parent||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return i&&_(t)?t.call(n&&n.proxy):t;ti(`injection "${String(e)}" not found.`)}else ti("inject() can only be used inside setup() or functional components.")}const Mr={},Lr=()=>Object.create(Mr),Ar=e=>Object.getPrototypeOf(e)===Mr;function Fr(e,i,n,r){const[o,s]=e.propsOptions;let a,l=!1;if(i)for(let t in i){if(E(t))continue;const u=i[t];let h;o&&c(o,h=P(t))?s&&s.includes(h)?(a||(a={}))[h]=u:n[h]=u:Co(e.emitsOptions,t)||t in r&&u===r[t]||(r[t]=u,l=!0)}if(s){const i=St(n),r=a||t;for(let t=0;t<s.length;t++){const a=s[t];n[a]=$r(o,i,a,r[a],e,!c(r,a))}}return l}function $r(e,t,i,n,r,o){const s=e[i];if(null!=s){const e=c(s,"default");if(e&&void 0===n){const e=s.default;if(s.type!==Function&&!s.skipFactory&&_(e)){const{propsDefaults:o}=r;if(i in o)n=o[i];else{const s=ps(r);n=o[i]=e.call(null,t),s()}}else n=e;r.ce&&r.ce._setProp(i,n)}s[0]&&(o&&!e?n=!1:!s[1]||""!==n&&n!==T(i)||(n=!0))}return n}const Nr=new WeakMap;function jr(e,n,r=!1){const o=r?Nr:n.propsCache,s=o.get(e);if(s)return s;const l=e.props,u={},d=[];let p=!1;if(!_(e)){const t=e=>{p=!0;const[t,i]=jr(e,n,!0);a(u,t),i&&d.push(...i)};!r&&n.mixins.length&&n.mixins.forEach(t),e.extends&&t(e.extends),e.mixins&&e.mixins.forEach(t)}if(!l&&!p)return y(e)&&o.set(e,i),i;if(h(l))for(let i=0;i<l.length;i++){g(l[i])||ti("props must be strings when using array syntax.",l[i]);const e=P(l[i]);Br(e)&&(u[e]=t)}else if(l){y(l)||ti("invalid props options",l);for(const e in l){const t=P(e);if(Br(t)){const i=l[e],n=u[t]=h(i)||_(i)?{type:i}:a({},i),r=n.type;let o=!1,s=!0;if(h(r))for(let e=0;e<r.length;++e){const t=r[e],i=_(t)&&t.name;if("Boolean"===i){o=!0;break}"String"===i&&(s=!1)}else o=_(r)&&"Boolean"===r.name;n[0]=o,n[1]=s,(o||c(n,"default"))&&d.push(t)}}}const f=[u,d];return y(e)&&o.set(e,f),f}function Br(e){return"$"!==e[0]&&!E(e)||(ti(`Invalid prop name: "${e}" is a reserved property.`),!1)}function Vr(e,t,i){const n=St(t),r=i.propsOptions[0],o=Object.keys(e).map(e=>P(e));for(const s in r){let e=r[s];null!=e&&Hr(s,n[s],e,wt(n),!o.includes(s))}}function Hr(e,t,i,n,r){const{type:o,required:s,validator:a,skipCheck:l}=i;if(s&&r)ti('Missing required prop: "'+e+'"');else if(null!=t||s){if(null!=o&&!0!==o&&!l){let i=!1;const n=h(o)?o:[o],r=[];for(let e=0;e<n.length&&!i;e++){const{valid:o,expectedType:s}=Wr(t,n[e]);r.push(s||""),i=o}if(!i)return void ti(function(e,t,i){if(0===i.length)return`Prop type [] for prop "${e}" won't match anything. Did you mean to use type Array instead?`;let n=`Invalid prop: type check failed for prop "${e}". Expected ${i.map(D).join(" | ")}`;const r=i[0],o=C(t),s=Gr(t,r),a=Gr(t,o);1===i.length&&zr(r)&&!function(...e){return e.some(e=>"boolean"===e.toLowerCase())}(r,o)&&(n+=` with value ${s}`);n+=`, got ${o} `,zr(o)&&(n+=`with value ${a}.`);return n}(e,t,r))}a&&!a(t,n)&&ti('Invalid prop: custom validator check failed for prop "'+e+'".')}}const Ur=e("String,Number,Boolean,Function,Symbol,BigInt");function Wr(e,t){let i;const n=function(e){if(null===e)return"null";if("function"==typeof e)return e.name||"";if("object"==typeof e)return e.constructor&&e.constructor.name||"";return""}(t);if("null"===n)i=null===e;else if(Ur(n)){const r=typeof e;i=r===n.toLowerCase(),i||"object"!==r||(i=e instanceof t)}else i="Object"===n?y(e):"Array"===n?h(e):e instanceof t;return{valid:i,expectedType:n}}function Gr(e,t){return"String"===t?`"${e}"`:"Number"===t?`${Number(e)}`:`${e}`}function zr(e){return["string","number","boolean"].some(t=>e.toLowerCase()===t)}const Yr=e=>"_"===e[0]||"$stable"===e,qr=e=>h(e)?e.map(is):[is(e)],Kr=(e,t,i)=>{if(t._n)return t;const n=zi((...n)=>(!us||null===i&&Ui||i&&i.root!==us.root||ti(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),qr(t(...n))),i);return n._c=!1,n},Xr=(e,t,i)=>{const n=e._ctx;for(const r in e){if(Yr(r))continue;const i=e[r];if(_(i))t[r]=Kr(r,i,n);else if(null!=i){ti(`Non-function value encountered for slot "${r}". Prefer function slots for better performance.`);const e=qr(i);t[r]=()=>e}}},Zr=(e,t)=>{kn(e.vnode)||ti("Non-function value encountered for default slot. Prefer function slots for better performance.");const i=qr(t);e.slots.default=()=>i},Jr=(e,t,i)=>{for(const n in t)!i&&Yr(n)||(e[n]=t[n])};let Qr,eo;function to(e,t){e.appContext.config.performance&&no()&&eo.mark(`vue-${t}-${e.uid}`),Bi(e,t,no()?eo.now():Date.now())}function io(e,t){if(e.appContext.config.performance&&no()){const i=`vue-${t}-${e.uid}`,n=i+":end";eo.mark(n),eo.measure(`<${ks(e,e.type)}> ${t}`,i,n),eo.clearMarks(i),eo.clearMarks(n)}Vi(e,t,no()?eo.now():Date.now())}function no(){return void 0!==Qr||("undefined"!=typeof window&&window.performance?(Qr=!0,eo=window.performance):Qr=!1),Qr}const ro=function(e,t){t&&t.pendingBranch?h(e)?t.effects.push(...e):t.effects.push(e):yi(e)};function oo(e){return function(e){const r=j();r.__VUE__=!0,Ai(r.__VUE_DEVTOOLS_GLOBAL_HOOK__,r);const{insert:o,remove:s,patchProp:a,createElement:l,createText:u,createComment:d,setText:p,setElementText:f,parentNode:_,nextSibling:g,setScopeId:m=n,insertStaticContent:y}=e,b=(e,t,i,n=null,r=null,o=null,s=void 0,a=null,l=!Ii&&!!t.dynamicChildren)=>{if(e===t)return;e&&!zo(e,t)&&(n=te(e),X(e,r,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:h}=t;switch(u){case Lo:w(e,t,i,n);break;case Ao:C(e,t,i,n);break;case Fo:null==e?x(t,i,n,s):I(e,t,i,s);break;case Mo:B(e,t,i,n,r,o,s,a,l);break;default:1&h?k(e,t,i,n,r,o,s,a,l):6&h?V(e,t,i,n,r,o,s,a,l):64&h||128&h?u.process(e,t,i,n,r,o,s,a,l,re):ti("Invalid VNode type:",u,`(${typeof u})`)}null!=c&&r?On(c,e&&e.ref,o,t||e,!t):null==c&&e&&null!=e.ref&&On(e.ref,null,o,e,!0)},w=(e,t,i,n)=>{if(null==e)o(t.el=u(t.children),i,n);else{const i=t.el=e.el;t.children!==e.children&&p(i,t.children)}},C=(e,t,i,n)=>{null==e?o(t.el=d(t.children||""),i,n):t.el=e.el},x=(e,t,i,n)=>{[e.el,e.anchor]=y(e.children,t,i,n,e.el,e.anchor)},I=(e,t,i,n)=>{if(t.children!==e.children){const r=g(e.anchor);S(e),[t.el,t.anchor]=y(t.children,i,r,n)}else t.el=e.el,t.anchor=e.anchor},O=({el:e,anchor:t},i,n)=>{let r;for(;e&&e!==t;)r=g(e),o(e,i,n),e=r;o(t,i,n)},S=({el:e,anchor:t})=>{let i;for(;e&&e!==t;)i=g(e),s(e),e=i;s(t)},k=(e,t,i,n,r,o,s,a,l)=>{"svg"===t.type?s="svg":"math"===t.type&&(s="mathml"),null==e?R(t,i,n,r,o,s,a,l):L(e,t,r,o,s,a,l)},R=(e,t,i,n,r,s,u,c)=>{let h,d;const{props:p,shapeFlag:_,transition:g,dirs:m}=e;if(h=e.el=l(e.type,s,p&&p.is,p),8&_?f(h,e.children):16&_&&M(e.children,h,null,n,r,so(e,s),u,c),m&&Ki(e,null,n,"created"),D(h,e,e.scopeId,u,n),p){for(const e in p)"value"===e||E(e)||a(h,e,null,p[e],s,n);"value"in p&&a(h,"value",null,p.value,s),(d=p.onVnodeBeforeMount)&&ss(d,n,e)}F(h,"__vnode",e,!0),F(h,"__vueParentComponent",n,!0),m&&Ki(e,null,n,"beforeMount");const y=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(r,g);y&&g.beforeEnter(h),o(h,t,i),((d=p&&p.onVnodeMounted)||y||m)&&ro(()=>{d&&ss(d,n,e),y&&g.enter(h),m&&Ki(e,null,n,"mounted")},r)},D=(e,t,i,n,r)=>{if(i&&m(e,i),n)for(let o=0;o<n.length;o++)m(e,n[o]);if(r){let i=r.subTree;if(i.patchFlag>0&&2048&i.patchFlag&&(i=So(i.children)||i),t===i||Do(i.type)&&(i.ssContent===t||i.ssFallback===t)){const t=r.vnode;D(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},M=(e,t,i,n,r,o,s,a,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=a?ns(e[u]):is(e[u]);b(null,l,t,i,n,r,o,s,a)}},L=(e,i,n,r,o,s,l)=>{const u=i.el=e.el;u.__vnode=i;let{patchFlag:c,dynamicChildren:h,dirs:d}=i;c|=16&e.patchFlag;const p=e.props||t,_=i.props||t;let g;if(n&&ao(n,!1),(g=_.onVnodeBeforeUpdate)&&ss(g,n,i,e),d&&Ki(i,e,n,"beforeUpdate"),n&&ao(n,!0),Ii&&(c=0,l=!1,h=null),(p.innerHTML&&null==_.innerHTML||p.textContent&&null==_.textContent)&&f(u,""),h?($(e.dynamicChildren,h,u,n,r,so(i,o),s),lo(e,i)):l||z(e,i,u,null,n,r,so(i,o),s,!1),c>0){if(16&c)N(u,p,_,n,o);else if(2&c&&p.class!==_.class&&a(u,"class",null,_.class,o),4&c&&a(u,"style",p.style,_.style,o),8&c){const e=i.dynamicProps;for(let t=0;t<e.length;t++){const i=e[t],r=p[i],s=_[i];s===r&&"value"!==i||a(u,i,r,s,o,n)}}1&c&&e.children!==i.children&&f(u,i.children)}else l||null!=h||N(u,p,_,n,o);((g=_.onVnodeUpdated)||d)&&ro(()=>{g&&ss(g,n,i,e),d&&Ki(i,e,n,"updated")},r)},$=(e,t,i,n,r,o,s)=>{for(let a=0;a<t.length;a++){const l=e[a],u=t[a],c=l.el&&(l.type===Mo||!zo(l,u)||198&l.shapeFlag)?_(l.el):i;b(l,u,c,null,n,r,o,s,!0)}},N=(e,i,n,r,o)=>{if(i!==n){if(i!==t)for(const t in i)E(t)||t in n||a(e,t,i[t],null,o,r);for(const t in n){if(E(t))continue;const s=n[t],l=i[t];s!==l&&"value"!==t&&a(e,t,l,s,o,r)}"value"in n&&a(e,"value",i.value,n.value,o)}},B=(e,t,i,n,r,s,a,l,c)=>{const h=t.el=e?e.el:u(""),d=t.anchor=e?e.anchor:u("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:_}=t;(Ii||2048&p)&&(p=0,c=!1,f=null),_&&(l=l?l.concat(_):_),null==e?(o(h,i,n),o(d,i,n),M(t.children||[],i,d,r,s,a,l,c)):p>0&&64&p&&f&&e.dynamicChildren?($(e.dynamicChildren,f,i,r,s,a,l),lo(e,t)):z(e,t,i,d,r,s,a,l,c)},V=(e,t,i,n,r,o,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?r.ctx.activate(t,i,n,s,l):H(t,i,n,r,o,s,l):U(e,t,l)},H=(e,i,r,o,s,a,l)=>{const u=e.component=function(e,i,r){const o=e.type,s=(i?i.appContext:e.appContext)||as,a={uid:ls++,vnode:e,type:o,parent:i,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new se(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(s.provides),ids:i?i.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jr(o,s),emitsOptions:wo(o,s),emit:null,emitted:null,propsDefaults:t,inheritAttrs:o.inheritAttrs,ctx:t,data:t,props:t,attrs:t,slots:t,refs:t,setupState:t,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};a.ctx=function(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(ar).forEach(i=>{Object.defineProperty(t,i,{configurable:!0,enumerable:!1,get:()=>ar[i](e),set:n})}),t}(a),a.root=i?i.root:a,a.emit=bo.bind(null,a),e.ce&&e.ce(a);return a}(e,o,s);if(u.type.__hmrId&&function(e){const t=e.type.__hmrId;let i=Oi.get(t);i||(Si(t,e.type),i=Oi.get(t)),i.instances.add(e)}(u),Jt(e),to(u,"mount"),kn(e)&&(u.ctx.renderer=re),to(u,"init"),function(e,t=!1,i=!1){t&&ds(t);const{props:r,children:o}=e.vnode,s=ms(e);(function(e,t,i,n=!1){const r={},o=Lr();e.propsDefaults=Object.create(null),Fr(e,t,r,o);for(const s in e.propsOptions[0])s in r||(r[s]=void 0);Vr(t||{},r,e),i?e.props=n?r:vt(r):e.type.props?e.props=r:e.props=o,e.attrs=o})(e,r,s,t),((e,t,i)=>{const n=e.slots=Lr();if(32&e.vnode.shapeFlag){const e=t.__;e&&F(n,"__",e,!0);const r=t._;r?(Jr(n,t,i),i&&F(n,"_",r,!0)):Xr(t,n)}else t&&Zr(e,t)})(e,o,i||t);const a=s?function(e,t){var i;const r=e.type;r.name&&gs(r.name,e.appContext.config);if(r.components){const t=Object.keys(r.components);for(let i=0;i<t.length;i++)gs(t[i],e.appContext.config)}if(r.directives){const e=Object.keys(r.directives);for(let t=0;t<e.length;t++)Yi(e[t])}r.compilerOptions&&bs()&&ti('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.');e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,cr),function(e){const{ctx:t,propsOptions:[i]}=e;i&&Object.keys(i).forEach(i=>{Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>e.props[i],set:n})})}(e);const{setup:o}=r;if(o){Oe();const n=e.setupContext=o.length>1?xs(e):null,s=ps(e),a=oi(o,e,0,[wt(e.props),n]),l=v(a);if(Se(),s(),!l&&!e.sp||Sn(e)||In(e),l){if(a.then(fs,fs),t)return a.then(i=>{vs(e,i,t)}).catch(t=>{ai(t,e,0)});if(e.asyncDep=a,!e.suspense){ti(`Component <${null!=(i=r.name)?i:"Anonymous"}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else vs(e,a,t)}else ws(e,t)}(e,t):void 0;t&&ds(!1)}(u,!1,l),io(u,"init"),Ii&&(e.el=null),u.asyncDep){if(s&&s.registerDep(u,W,l),!e.el){const e=u.subTree=Xo(Ao);C(null,e,i,r)}}else W(u,e,i,r,s,a,l);Qt(),io(u,"mount")},U=(e,t,i)=>{const n=t.component=e.component;if(function(e,t,i){const{props:n,children:r,component:o}=e,{props:s,children:a,patchFlag:l}=t,u=o.emitsOptions;if((r||a)&&Ii)return!0;if(t.dirs||t.transition)return!0;if(!(i&&l>=0))return!(!r&&!a||a&&a.$stable)||n!==s&&(n?!s||To(n,s,u):!!s);if(1024&l)return!0;if(16&l)return n?To(n,s,u):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const i=e[t];if(s[i]!==n[i]&&!Co(u,i))return!0}}return!1}(e,t,i)){if(n.asyncDep&&!n.asyncResolved)return Jt(t),G(n,t,i),void Qt();n.next=t,n.update()}else t.el=e.el,n.vnode=t},W=(e,t,i,n,r,o,s)=>{const a=()=>{if(e.isMounted){let{next:t,bu:i,u:n,parent:l,vnode:u}=e;{const i=uo(e);if(i)return t&&(t.el=u.el,G(e,t,s)),void i.asyncDep.then(()=>{e.isUnmounted||a()})}let c,h=t;Jt(t||e.vnode),ao(e,!1),t?(t.el=u.el,G(e,t,s)):t=u,i&&A(i),(c=t.props&&t.props.onVnodeBeforeUpdate)&&ss(c,l,t,u),ao(e,!0),to(e,"render");const d=Eo(e);io(e,"render");const p=e.subTree;e.subTree=d,to(e,"patch"),b(p,d,_(p.el),te(p),e,r,o),io(e,"patch"),t.el=d.el,null===h&&function({vnode:e,parent:t},i){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n!==e)break;(e=t.vnode).el=i,t=t.parent}}(e,d.el),n&&ro(n,r),(c=t.props&&t.props.onVnodeUpdated)&&ro(()=>ss(c,l,t,u),r),$i(e),Qt()}else{let s;const{el:a,props:l}=t,{bm:u,m:c,parent:h,root:d,type:p}=e,f=Sn(t);ao(e,!1),u&&A(u),!f&&(s=l&&l.onVnodeBeforeMount)&&ss(s,h,t),ao(e,!0);{d.ce&&!1!==d.ce._def.shadowRoot&&d.ce._injectChildStyle(p),to(e,"render");const s=e.subTree=Eo(e);io(e,"render"),to(e,"patch"),b(null,s,i,n,e,r,o),io(e,"patch"),t.el=s.el}if(c&&ro(c,r),!f&&(s=l&&l.onVnodeMounted)){const e=t;ro(()=>ss(s,h,e),r)}(256&t.shapeFlag||h&&Sn(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&ro(e.a,r),e.isMounted=!0,Fi(e),t=i=n=null}};e.scope.on();const l=e.effect=new he(a);e.scope.off();const u=e.update=l.run.bind(l),c=e.job=l.runIfDirty.bind(l);c.i=e,c.id=e.uid,l.scheduler=()=>gi(c),ao(e,!0),l.onTrack=e.rtc?t=>A(e.rtc,t):void 0,l.onTrigger=e.rtg?t=>A(e.rtg,t):void 0,u()},G=(e,i,n)=>{i.component=e;const r=e.vnode.props;e.vnode=i,e.next=null,function(e,t,i,n){const{props:r,attrs:o,vnode:{patchFlag:s}}=e,a=St(r),[l]=e.propsOptions;let u=!1;if(function(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}(e)||!(n||s>0)||16&s){let n;Fr(e,t,r,o)&&(u=!0);for(const o in a)t&&(c(t,o)||(n=T(o))!==o&&c(t,n))||(l?!i||void 0===i[o]&&void 0===i[n]||(r[o]=$r(l,a,o,void 0,e,!0)):delete r[o]);if(o!==a)for(const e in o)t&&c(t,e)||(delete o[e],u=!0)}else if(8&s){const i=e.vnode.dynamicProps;for(let n=0;n<i.length;n++){let s=i[n];if(Co(e.emitsOptions,s))continue;const h=t[s];if(l)if(c(o,s))h!==o[s]&&(o[s]=h,u=!0);else{const t=P(s);r[t]=$r(l,a,t,h,e,!1)}else h!==o[s]&&(o[s]=h,u=!0)}}u&&Ne(e.attrs,"set",""),Vr(t||{},r,e)}(e,i.props,r,n),((e,i,n)=>{const{vnode:r,slots:o}=e;let s=!0,a=t;if(32&r.shapeFlag){const t=i._;t?Ii?(Jr(o,i,n),Ne(e,"set","$slots")):n&&1===t?s=!1:Jr(o,i,n):(s=!i.$stable,Xr(i,o)),a=i}else i&&(Zr(e,i),a={default:1});if(s)for(const t in o)Yr(t)||null!=a[t]||delete o[t]})(e,i.children,n),Oe(),vi(e),Se()},z=(e,t,i,n,r,o,s,a,l=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,h=t.children,{patchFlag:d,shapeFlag:p}=t;if(d>0){if(128&d)return void q(u,h,i,n,r,o,s,a,l);if(256&d)return void Y(u,h,i,n,r,o,s,a,l)}8&p?(16&c&&ee(u,r,o),h!==u&&f(i,h)):16&c?16&p?q(u,h,i,n,r,o,s,a,l):ee(u,r,o,!0):(8&c&&f(i,""),16&p&&M(h,i,n,r,o,s,a,l))},Y=(e,t,n,r,o,s,a,l,u)=>{t=t||i;const c=(e=e||i).length,h=t.length,d=Math.min(c,h);let p;for(p=0;p<d;p++){const i=t[p]=u?ns(t[p]):is(t[p]);b(e[p],i,n,null,o,s,a,l,u)}c>h?ee(e,o,s,!0,!1,d):M(t,n,r,o,s,a,l,u,d)},q=(e,t,n,r,o,s,a,l,u)=>{let c=0;const h=t.length;let d=e.length-1,p=h-1;for(;c<=d&&c<=p;){const i=e[c],r=t[c]=u?ns(t[c]):is(t[c]);if(!zo(i,r))break;b(i,r,n,null,o,s,a,l,u),c++}for(;c<=d&&c<=p;){const i=e[d],r=t[p]=u?ns(t[p]):is(t[p]);if(!zo(i,r))break;b(i,r,n,null,o,s,a,l,u),d--,p--}if(c>d){if(c<=p){const e=p+1,i=e<h?t[e].el:r;for(;c<=p;)b(null,t[c]=u?ns(t[c]):is(t[c]),n,i,o,s,a,l,u),c++}}else if(c>p)for(;c<=d;)X(e[c],o,s,!0),c++;else{const f=c,_=c,g=new Map;for(c=_;c<=p;c++){const e=t[c]=u?ns(t[c]):is(t[c]);null!=e.key&&(g.has(e.key)&&ti("Duplicate keys found during update:",JSON.stringify(e.key),"Make sure keys are unique."),g.set(e.key,c))}let m,y=0;const v=p-_+1;let w=!1,C=0;const x=new Array(v);for(c=0;c<v;c++)x[c]=0;for(c=f;c<=d;c++){const i=e[c];if(y>=v){X(i,o,s,!0);continue}let r;if(null!=i.key)r=g.get(i.key);else for(m=_;m<=p;m++)if(0===x[m-_]&&zo(i,t[m])){r=m;break}void 0===r?X(i,o,s,!0):(x[r-_]=c+1,r>=C?C=r:w=!0,b(i,t[r],n,null,o,s,a,l,u),y++)}const I=w?function(e){const t=e.slice(),i=[0];let n,r,o,s,a;const l=e.length;for(n=0;n<l;n++){const l=e[n];if(0!==l){if(r=i[i.length-1],e[r]<l){t[n]=r,i.push(n);continue}for(o=0,s=i.length-1;o<s;)a=o+s>>1,e[i[a]]<l?o=a+1:s=a;l<e[i[o]]&&(o>0&&(t[n]=i[o-1]),i[o]=n)}}o=i.length,s=i[o-1];for(;o-- >0;)i[o]=s,s=t[s];return i}(x):i;for(m=I.length-1,c=v-1;c>=0;c--){const e=_+c,i=t[e],d=e+1<h?t[e+1].el:r;0===x[c]?b(null,i,n,d,o,s,a,l,u):w&&(m<0||c!==I[m]?K(i,n,d,2):m--)}}},K=(e,t,i,n,r=null)=>{const{el:a,type:l,transition:u,children:c,shapeFlag:h}=e;if(6&h)return void K(e.component.subTree,t,i,n);if(128&h)return void e.suspense.move(t,i,n);if(64&h)return void l.move(e,t,i,re);if(l===Mo){o(a,t,i);for(let e=0;e<c.length;e++)K(c[e],t,i,n);return void o(e.anchor,t,i)}if(l===Fo)return void O(e,t,i);if(2!==n&&1&h&&u)if(0===n)u.beforeEnter(a),o(a,t,i),ro(()=>u.enter(a),r);else{const{leave:n,delayLeave:r,afterLeave:l}=u,c=()=>{e.ctx.isUnmounted?s(a):o(a,t,i)},h=()=>{n(a,()=>{c(),l&&l()})};r?r(a,c,h):h()}else o(a,t,i)},X=(e,t,i,n=!1,r=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:h,dirs:d,cacheIndex:p}=e;if(-2===h&&(r=!1),null!=a&&(Oe(),On(a,null,i,e,!0),Se()),null!=p&&(t.renderCache[p]=void 0),256&c)return void t.ctx.deactivate(e);const f=1&c&&d,_=!Sn(e);let g;if(_&&(g=s&&s.onVnodeBeforeUnmount)&&ss(g,t,e),6&c)Q(e.component,i,n);else{if(128&c)return void e.suspense.unmount(i,n);f&&Ki(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,i,re,n):u&&!u.hasOnce&&(o!==Mo||h>0&&64&h)?ee(u,t,i,!1,!0):(o===Mo&&384&h||!r&&16&c)&&ee(l,t,i),n&&Z(e)}(_&&(g=s&&s.onVnodeUnmounted)||f)&&ro(()=>{g&&ss(g,t,e),f&&Ki(e,null,t,"unmounted")},i)},Z=e=>{const{type:t,el:i,anchor:n,transition:r}=e;if(t===Mo)return void(e.patchFlag>0&&2048&e.patchFlag&&r&&!r.persisted?e.children.forEach(e=>{e.type===Ao?s(e.el):Z(e)}):J(i,n));if(t===Fo)return void S(e);const o=()=>{s(i),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:n}=r,s=()=>t(i,o);n?n(e.el,o,s):s()}else o()},J=(e,t)=>{let i;for(;e!==t;)i=g(e),s(e),e=i;s(t)},Q=(e,t,i)=>{e.type.__hmrId&&function(e){Oi.get(e.type.__hmrId).instances.delete(e)}(e);const{bum:n,scope:r,job:o,subTree:s,um:a,m:l,a:u,parent:c,slots:{__:d}}=e;var p;co(l),co(u),n&&A(n),c&&h(d)&&d.forEach(e=>{c.renderCache[e]=void 0}),r.stop(),o&&(o.flags|=8,X(s,e,t,i)),a&&ro(a,t),ro(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),p=e,Ti&&"function"==typeof Ti.cleanupBuffer&&!Ti.cleanupBuffer(p)&&Ni(p)},ee=(e,t,i,n=!1,r=!1,o=0)=>{for(let s=o;s<e.length;s++)X(e[s],t,i,n,r)},te=e=>{if(6&e.shapeFlag)return te(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=g(e.anchor||e.el),i=t&&t[Xi];return i?g(i):t};let ie=!1;const ne=(e,t,i)=>{null==e?t._vnode&&X(t._vnode,null,null,!0):b(t._vnode||null,e,t,null,null,null,i),t._vnode=e,ie||(ie=!0,vi(),bi(),ie=!1)},re={p:b,um:X,m:K,r:Z,mt:H,mc:M,pc:z,pbc:$,n:te,o:e};let oe;return{render:ne,hydrate:oe,createApp:Pr(ne)}}(e)}function so({type:e,props:t},i){return"svg"===i&&"foreignObject"===e||"mathml"===i&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function ao({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function lo(e,t,i=!1){const n=e.children,r=t.children;if(h(n)&&h(r))for(let o=0;o<n.length;o++){const e=n[o];let t=r[o];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=r[o]=ns(r[o]),t.el=e.el),i||-2===t.patchFlag||lo(e,t)),t.type===Lo&&(t.el=e.el),t.type!==Ao||t.el||(t.el=e.el),t.el&&(t.el.__vnode=t)}}function uo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:uo(t)}function co(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ho=Symbol.for("v-scx"),po=()=>{{const e=Dr(ho);return e||ti("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function fo(e,t){return go(e,null,t)}function _o(e,t,i){return _(t)||ti("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),go(e,t,i)}function go(e,i,r=t){const{immediate:o,deep:s,flush:l,once:u}=r;i||(void 0!==o&&ti('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),void 0!==s&&ti('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),void 0!==u&&ti('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const c=a({},r);c.onWarn=ti;const h=i&&o||!i&&"post"!==l;let d;if(ys)if("sync"===l){const e=po();d=e.__watcherHandles||(e.__watcherHandles=[])}else if(!h){const e=()=>{};return e.stop=n,e.resume=n,e.pause=n,e}const p=us;c.call=(e,t,i)=>si(e,p,t,i);let f=!1;"post"===l?c.scheduler=e=>{ro(e,p&&p.suspense)}:"sync"!==l&&(f=!0,c.scheduler=(e,t)=>{t?e():gi(e)}),c.augmentJob=e=>{i&&(e.flags|=4),f&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};const _=Kt(e,i,c);return ys&&(d?d.push(_):h&&_()),_}function mo(e,t,i){const n=this.proxy,r=g(e)?e.includes(".")?yo(n,e):()=>n[e]:e.bind(n,n);let o;_(t)?o=t:(o=t.handler,i=t);const s=ps(this),a=go(r,o.bind(n),i);return s(),a}function yo(e,t){const i=t.split(".");return()=>{let t=e;for(let e=0;e<i.length&&t;e++)t=t[i[e]];return t}}const vo=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${P(t)}Modifiers`]||e[`${T(t)}Modifiers`];function bo(e,i,...n){if(e.isUnmounted)return;const r=e.vnode.props||t;{const{emitsOptions:t,propsOptions:[r]}=e;if(t)if(i in t){const e=t[i];if(_(e)){e(...n)||ti(`Invalid event arguments: event validation failed for event "${i}".`)}}else r&&M(P(i))in r||ti(`Component emitted event "${i}" but it is neither declared in the emits option nor as an "${M(P(i))}" prop.`)}let o=n;const s=i.startsWith("update:"),a=s&&vo(r,i.slice(7));a&&(a.trim&&(o=n.map(e=>g(e)?e.trim():e)),a.number&&(o=n.map($))),function(e,t,i){Li("component:emit",e.appContext.app,e,t,i)}(e,i,o);{const t=i.toLowerCase();t!==i&&r[M(t)]&&ti(`Event "${t}" is emitted in component ${ks(e,e.type)} but the handler is registered for "${i}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${T(i)}" instead of "${i}".`)}let l,u=r[l=M(i)]||r[l=M(P(i))];!u&&s&&(u=r[l=M(T(i))]),u&&si(u,e,6,o);const c=r[l+"Once"];if(c){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,si(c,e,6,o)}}function wo(e,t,i=!1){const n=t.emitsCache,r=n.get(e);if(void 0!==r)return r;const o=e.emits;let s={},l=!1;if(!_(e)){const n=e=>{const i=wo(e,t,!0);i&&(l=!0,a(s,i))};!i&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return o||l?(h(o)?o.forEach(e=>s[e]=null):a(s,o),y(e)&&n.set(e,s),s):(y(e)&&n.set(e,null),null)}function Co(e,t){return!(!e||!o(t))&&(t=t.slice(2).replace(/Once$/,""),c(e,t[0].toLowerCase()+t.slice(1))||c(e,T(t))||c(e,t))}let xo=!1;function Io(){xo=!0}function Eo(e){const{type:t,vnode:i,proxy:n,withProxy:r,propsOptions:[a],slots:l,attrs:u,emit:c,render:h,renderCache:d,props:p,data:f,setupState:_,ctx:g,inheritAttrs:m}=e,y=Gi(e);let v,b;xo=!1;try{if(4&i.shapeFlag){const e=r||n,t=_.__isScriptSetup?new Proxy(e,{get:(e,t,i)=>(ti(`Property '${String(t)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(e,t,i))}):e;v=is(h.call(t,e,d,wt(p),_,f,g)),b=u}else{const e=t;u===p&&Io(),v=is(e.length>1?e(wt(p),{get attrs(){return Io(),wt(u)},slots:l,emit:c}):e(wt(p),null)),b=t.props?u:ko(u)}}catch(x){$o.length=0,ai(x,e,1),v=Xo(Ao)}let w,C=v;if(v.patchFlag>0&&2048&v.patchFlag&&([C,w]=Oo(v)),b&&!1!==m){const e=Object.keys(b),{shapeFlag:t}=C;if(e.length)if(7&t)a&&e.some(s)&&(b=Po(b,a)),C=Jo(C,b,!1,!0);else if(!xo&&C.type!==Ao){const e=Object.keys(u),t=[],i=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];o(r)?s(r)||t.push(r[2].toLowerCase()+r.slice(3)):i.push(r)}i.length&&ti(`Extraneous non-props attributes (${i.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),t.length&&ti(`Extraneous non-emits event listeners (${t.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}return i.dirs&&(Ro(C)||ti("Runtime directive used on component with non-element root node. The directives will not function as intended."),C=Jo(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(i.dirs):i.dirs),i.transition&&(Ro(C)||ti("Component inside <Transition> renders non-element root node that cannot be animated."),wn(C,i.transition)),w?w(C):v=C,Gi(y),v}const Oo=e=>{const t=e.children,i=e.dynamicChildren,n=So(t,!1);if(!n)return[e,void 0];if(n.patchFlag>0&&2048&n.patchFlag)return Oo(n);const r=t.indexOf(n),o=i?i.indexOf(n):-1;return[is(n),n=>{t[r]=n,i&&(o>-1?i[o]=n:n.patchFlag>0&&(e.dynamicChildren=[...i,n]))}]};function So(e,t=!0){let i;for(let n=0;n<e.length;n++){const r=e[n];if(!Go(r))return;if(r.type!==Ao||"v-if"===r.children){if(i)return;if(i=r,t&&i.patchFlag>0&&2048&i.patchFlag)return So(i.children)}}return i}const ko=e=>{let t;for(const i in e)("class"===i||"style"===i||o(i))&&((t||(t={}))[i]=e[i]);return t},Po=(e,t)=>{const i={};for(const n in e)s(n)&&n.slice(9)in t||(i[n]=e[n]);return i},Ro=e=>7&e.shapeFlag||e.type===Ao;function To(e,t,i){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const o=n[r];if(t[o]!==e[o]&&!Co(i,o))return!0}return!1}const Do=e=>e.__isSuspense;const Mo=Symbol.for("v-fgt"),Lo=Symbol.for("v-txt"),Ao=Symbol.for("v-cmt"),Fo=Symbol.for("v-stc"),$o=[];let No=null;function jo(e=!1){$o.push(No=e?null:[])}let Bo=1;function Vo(e,t=!1){Bo+=e,e<0&&No&&t&&(No.hasOnce=!0)}function Ho(e){return e.dynamicChildren=Bo>0?No||i:null,$o.pop(),No=$o[$o.length-1]||null,Bo>0&&No&&No.push(e),e}function Uo(e,t,i,n,r,o){return Ho(Ko(e,t,i,n,r,o,!0))}function Wo(e,t,i,n,r){return Ho(Xo(e,t,i,n,r,!0))}function Go(e){return!!e&&!0===e.__v_isVNode}function zo(e,t){if(6&t.shapeFlag&&e.component){const i=Ei.get(t.type);if(i&&i.has(e.component))return e.shapeFlag&=-257,t.shapeFlag&=-513,!1}return e.type===t.type&&e.key===t.key}const Yo=({key:e})=>null!=e?e:null,qo=({ref:e,ref_key:t,ref_for:i})=>("number"==typeof e&&(e=""+e),null!=e?g(e)||Tt(e)||_(e)?{i:Ui,r:e,k:t,f:!!i}:e:null);function Ko(e,t=null,i=null,n=0,r=null,o=(e===Mo?0:1),s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Yo(t),ref:t&&qo(t),scopeId:Wi,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ui};return a?(rs(l,i),128&o&&e.normalize(l)):i&&(l.shapeFlag|=g(i)?8:16),l.key!=l.key&&ti("VNode created with invalid key (NaN). VNode type:",l.type),Bo>0&&!s&&No&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&No.push(l),l}const Xo=(...e)=>function(e,t=null,i=null,n=0,r=null,o=!1){e&&e!==Zn||(e||ti(`Invalid vnode type when creating vnode: ${e}.`),e=Ao);if(Go(e)){const n=Jo(e,t,!0);return i&&rs(n,i),Bo>0&&!o&&No&&(6&n.shapeFlag?No[No.indexOf(e)]=n:No.push(n)),n.patchFlag=-2,n}Ps(e)&&(e=e.__vccOpts);if(t){t=Zo(t);let{class:e,style:i}=t;e&&!g(e)&&(t.class=G(e)),y(i)&&(Ot(i)&&!h(i)&&(i=a({},i)),t.style=B(i))}const s=g(e)?1:Do(e)?128:Zi(e)?64:y(e)?4:_(e)?2:0;4&s&&Ot(e)&&ti("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.","\nComponent that was made reactive: ",e=St(e));return Ko(e,t,i,n,r,s,o,!0)}(...e);function Zo(e){return e?Ot(e)||Ar(e)?a({},e):e:null}function Jo(e,t,i=!1,n=!1){const{props:r,ref:o,patchFlag:s,children:a,transition:l}=e,u=t?os(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Yo(u),ref:t&&t.ref?i&&o?h(o)?o.concat(qo(t)):[o,qo(t)]:qo(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:-1===s&&h(a)?a.map(Qo):a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Mo?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jo(e.ssContent),ssFallback:e.ssFallback&&Jo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&wn(c,l.clone(c)),c}function Qo(e){const t=Jo(e);return h(e.children)&&(t.children=e.children.map(Qo)),t}function es(e=" ",t=0){return Xo(Lo,null,e,t)}function ts(e="",t=!1){return t?(jo(),Wo(Ao,null,e)):Xo(Ao,null,e)}function is(e){return null==e||"boolean"==typeof e?Xo(Ao):h(e)?Xo(Mo,null,e.slice()):Go(e)?ns(e):Xo(Lo,null,String(e))}function ns(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Jo(e)}function rs(e,t){let i=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(h(t))i=16;else if("object"==typeof t){if(65&n){const i=t.default;return void(i&&(i._c&&(i._d=!1),rs(e,i()),i._c&&(i._d=!0)))}{i=32;const n=t._;n||Ar(t)?3===n&&Ui&&(1===Ui.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Ui}}else _(t)?(t={default:t,_ctx:Ui},i=32):(t=String(t),64&n?(i=16,t=[es(t)]):i=8);e.children=t,e.shapeFlag|=i}function os(...e){const t={};for(let i=0;i<e.length;i++){const n=e[i];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=G([t.class,n.class]));else if("style"===e)t.style=B([t.style,n.style]);else if(o(e)){const i=t[e],r=n[e];!r||i===r||h(i)&&i.includes(r)||(t[e]=i?[].concat(i,r):r)}else""!==e&&(t[e]=n[e])}return t}function ss(e,t,i,n=null){si(e,t,7,[i,n])}const as=Sr();let ls=0;let us=null;const cs=()=>us||Ui;let hs,ds;{const e=j(),t=(t,i)=>{let n;return(n=e[t])||(n=e[t]=[]),n.push(i),e=>{n.length>1?n.forEach(t=>t(e)):n[0](e)}};hs=t("__VUE_INSTANCE_SETTERS__",e=>us=e),ds=t("__VUE_SSR_SETTERS__",e=>ys=e)}const ps=e=>{const t=us;return hs(e),e.scope.on(),()=>{e.scope.off(),hs(t)}},fs=()=>{us&&us.scope.off(),hs(null)},_s=e("slot,component");function gs(e,{isNativeTag:t}){(_s(e)||t(e))&&ti("Do not use built-in or reserved HTML elements as component id: "+e)}function ms(e){return 4&e.vnode.shapeFlag}let ys=!1;function vs(e,t,i){_(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:y(t)?(Go(t)&&ti("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=jt(t),function(e){const{ctx:t,setupState:i}=e;Object.keys(St(i)).forEach(e=>{if(!i.__isScriptSetup){if(lr(e[0]))return void ti(`setup() return property ${JSON.stringify(e)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>i[e],set:n})}})}(e)):void 0!==t&&ti("setup() should return an object. Received: "+(null===t?"null":typeof t)),ws(e,i)}const bs=()=>!0;function ws(e,t,i){const r=e.type;e.render||(e.render=r.render||n);{const t=ps(e);Oe();try{gr(e)}finally{Se(),t()}}r.render||e.render!==n||t||(r.template?ti('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):ti("Component is missing template or render function: ",r))}const Cs={get:(e,t)=>(Io(),$e(e,"get",""),e[t]),set:()=>(ti("setupContext.attrs is readonly."),!1),deleteProperty:()=>(ti("setupContext.attrs is readonly."),!1)};function xs(e){const t=t=>{if(e.exposed&&ti("expose() should be called only once per setup()."),null!=t){let e=typeof t;"object"===e&&(h(t)?e="array":Tt(t)&&(e="ref")),"object"!==e&&ti(`expose() should be passed a plain object, received ${e}.`)}e.exposed=t||{}};{let i,n;return Object.freeze({get attrs(){return i||(i=new Proxy(e.attrs,Cs))},get slots(){return n||(n=function(e){return new Proxy(e.slots,{get:(t,i)=>($e(e,"get","$slots"),t[i])})}(e))},get emit(){return(t,...i)=>e.emit(t,...i)},expose:t})}}function Is(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(jt(kt(e.exposed)),{get:(t,i)=>i in t?t[i]:i in ar?ar[i](e):void 0,has:(e,t)=>t in e||t in ar})):e.proxy}const Es=/(?:^|[-_])(\w)/g,Os=e=>e.replace(Es,e=>e.toUpperCase()).replace(/[-_]/g,"");function Ss(e,t=!0){return _(e)?e.displayName||e.name:e.name||t&&e.__name}function ks(e,t,i=!1){let n=Ss(t);if(!n&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(n=e[1])}if(!n&&e&&e.parent){const i=e=>{for(const i in e)if(e[i]===t)return i};n=i(e.components||e.parent.type.components)||i(e.appContext.components)}return n?Os(n):i?"App":"Anonymous"}function Ps(e){return _(e)&&"__vccOpts"in e}const Rs=(e,t)=>{const i=function(e,t,i=!1){let n,r;_(e)?n=e:(n=e.get,r=e.set);const o=new Gt(n,r,i);return t&&!i&&(o.onTrack=t.onTrack,o.onTrigger=t.onTrigger),o}(e,t,ys);{const e=cs();e&&e.appContext.config.warnRecursiveComputed&&(i._warnRecursive=!0)}return i};function Ts(e,t,i){const n=arguments.length;return 2===n?y(t)&&!h(t)?Go(t)?Xo(e,null,[t]):Xo(e,t):Xo(e,null,t):(n>3?i=Array.prototype.slice.call(arguments,2):3===n&&Go(i)&&(i=[i]),Xo(e,t,i))}const Ds="3.5.17",Ms=ti;
/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let Ls;const As="undefined"!=typeof window&&window.trustedTypes;if(As)try{Ls=As.createPolicy("vue",{createHTML:e=>e})}catch(VY){Ms(`Error creating trusted types policy: ${VY}`)}const Fs=Ls?e=>Ls.createHTML(e):e=>e,$s="undefined"!=typeof document?document:null,Ns=$s&&$s.createElement("template"),js={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,n)=>{const r="svg"===t?$s.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?$s.createElementNS("http://www.w3.org/1998/Math/MathML",e):i?$s.createElement(e,{is:i}):$s.createElement(e);return"select"===e&&n&&null!=n.multiple&&r.setAttribute("multiple",n.multiple),r},createText:e=>$s.createTextNode(e),createComment:e=>$s.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>$s.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,n,r,o){const s=i?i.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),i),r!==o&&(r=r.nextSibling););else{Ns.innerHTML=Fs("svg"===n?`<svg>${e}</svg>`:"mathml"===n?`<math>${e}</math>`:e);const r=Ns.content;if("svg"===n||"mathml"===n){const e=r.firstChild;for(;e.firstChild;)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,i)}return[s?s.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Bs="transition",Vs="animation",Hs=Symbol("_vtc"),Us={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ws=a({},dn,Us),Gs=e=>(e.displayName="Transition",e.props=Ws,e),zs=Gs((e,{slots:t})=>Ts(gn,function(e){const t={};for(const a in e)a in Us||(t[a]=e[a]);if(!1===e.css)return t;const{name:i="v",type:n,duration:r,enterFromClass:o=`${i}-enter-from`,enterActiveClass:s=`${i}-enter-active`,enterToClass:l=`${i}-enter-to`,appearFromClass:u=o,appearActiveClass:c=s,appearToClass:h=l,leaveFromClass:d=`${i}-leave-from`,leaveActiveClass:p=`${i}-leave-active`,leaveToClass:f=`${i}-leave-to`}=e,_=function(e){if(null==e)return null;if(y(e))return[Ks(e.enter),Ks(e.leave)];{const t=Ks(e);return[t,t]}}(r),g=_&&_[0],m=_&&_[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:w,onLeave:C,onLeaveCancelled:x,onBeforeAppear:I=v,onAppear:E=b,onAppearCancelled:O=w}=t,S=(e,t,i,n)=>{e._enterCancelled=n,Zs(e,t?h:l),Zs(e,t?c:s),i&&i()},k=(e,t)=>{e._isLeaving=!1,Zs(e,d),Zs(e,f),Zs(e,p),t&&t()},P=e=>(t,i)=>{const r=e?E:b,s=()=>S(t,e,i);Ys(r,[t,s]),Js(()=>{Zs(t,e?u:o),Xs(t,e?h:l),qs(r)||ea(t,n,g,s)})};return a(t,{onBeforeEnter(e){Ys(v,[e]),Xs(e,o),Xs(e,s)},onBeforeAppear(e){Ys(I,[e]),Xs(e,u),Xs(e,c)},onEnter:P(!1),onAppear:P(!0),onLeave(e,t){e._isLeaving=!0;const i=()=>k(e,t);Xs(e,d),e._enterCancelled?(Xs(e,p),na()):(na(),Xs(e,p)),Js(()=>{e._isLeaving&&(Zs(e,d),Xs(e,f),qs(C)||ea(e,n,m,i))}),Ys(C,[e,i])},onEnterCancelled(e){S(e,!1,void 0,!0),Ys(w,[e])},onAppearCancelled(e){S(e,!0,void 0,!0),Ys(O,[e])},onLeaveCancelled(e){k(e),Ys(x,[e])}})}(e),t)),Ys=(e,t=[])=>{h(e)?e.forEach(e=>e(...t)):e&&e(...t)},qs=e=>!!e&&(h(e)?e.some(e=>e.length>1):e.length>1);function Ks(e){const t=(e=>{const t=g(e)?Number(e):NaN;return isNaN(t)?e:t})(e);return function(e,t){void 0!==e&&("number"!=typeof e?ti(`${t} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&ti(`${t} is NaN - the duration expression might be incorrect.`))}(t,"<transition> explicit duration"),t}function Xs(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[Hs]||(e[Hs]=new Set)).add(t)}function Zs(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const i=e[Hs];i&&(i.delete(t),i.size||(e[Hs]=void 0))}function Js(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Qs=0;function ea(e,t,i,n){const r=e._endId=++Qs,o=()=>{r===e._endId&&n()};if(null!=i)return setTimeout(o,i);const{type:s,timeout:a,propCount:l}=function(e,t){const i=window.getComputedStyle(e),n=e=>(i[e]||"").split(", "),r=n(`${Bs}Delay`),o=n(`${Bs}Duration`),s=ta(r,o),a=n(`${Vs}Delay`),l=n(`${Vs}Duration`),u=ta(a,l);let c=null,h=0,d=0;t===Bs?s>0&&(c=Bs,h=s,d=o.length):t===Vs?u>0&&(c=Vs,h=u,d=l.length):(h=Math.max(s,u),c=h>0?s>u?Bs:Vs:null,d=c?c===Bs?o.length:l.length:0);const p=c===Bs&&/\b(transform|all)(,|$)/.test(n(`${Bs}Property`).toString());return{type:c,timeout:h,propCount:d,hasTransform:p}}(e,t);if(!s)return n();const u=s+"end";let c=0;const h=()=>{e.removeEventListener(u,d),o()},d=t=>{t.target===e&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),e.addEventListener(u,d)}function ta(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,i)=>ia(t)+ia(e[i])))}function ia(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function na(){return document.body.offsetHeight}const ra=Symbol("_vod"),oa=Symbol("_vsh"),sa={beforeMount(e,{value:t},{transition:i}){e[ra]="none"===e.style.display?"":e.style.display,i&&t?i.beforeEnter(e):aa(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:n}){!t!=!i&&(n?t?(n.beforeEnter(e),aa(e,!0),n.enter(e)):n.leave(e,()=>{aa(e,!1)}):aa(e,t))},beforeUnmount(e,{value:t}){aa(e,t)}};function aa(e,t){e.style.display=t?e[ra]:"none",e[oa]=!t}sa.name="show";const la=Symbol("CSS_VAR_TEXT"),ua=/(^|;)\s*display\s*:/;const ca=/[^\\];\s*$/,ha=/\s*!important$/;function da(e,t,i){if(h(i))i.forEach(i=>da(e,t,i));else if(null==i&&(i=""),ca.test(i)&&Ms(`Unexpected semicolon at the end of '${t}' style value: '${i}'`),t.startsWith("--"))e.setProperty(t,i);else{const n=function(e,t){const i=fa[t];if(i)return i;let n=P(t);if("filter"!==n&&n in e)return fa[t]=n;n=D(n);for(let r=0;r<pa.length;r++){const i=pa[r]+n;if(i in e)return fa[t]=i}return t}(e,t);ha.test(i)?e.setProperty(T(n),i.replace(ha,""),"important"):e[n]=i}}const pa=["Webkit","Moz","ms"],fa={};const _a="http://www.w3.org/1999/xlink";function ga(e,t,i,n,r,o=X(t)){n&&t.startsWith("xlink:")?null==i?e.removeAttributeNS(_a,t.slice(6,t.length)):e.setAttributeNS(_a,t,i):null==i||o&&!Z(i)?e.removeAttribute(t):e.setAttribute(t,o?"":m(i)?String(i):i)}function ma(e,t,i,n,r){if("innerHTML"===t||"textContent"===t)return void(null!=i&&(e[t]="innerHTML"===t?Fs(i):i));const o=e.tagName;if("value"===t&&"PROGRESS"!==o&&!o.includes("-")){const n="OPTION"===o?e.getAttribute("value")||"":e.value,r=null==i?"checkbox"===e.type?"on":"":String(i);return n===r&&"_value"in e||(e.value=r),null==i&&e.removeAttribute(t),void(e._value=i)}let s=!1;if(""===i||null==i){const n=typeof e[t];"boolean"===n?i=Z(i):null==i&&"string"===n?(i="",s=!0):"number"===n&&(i=0,s=!0)}try{e[t]=i}catch(VY){s||Ms(`Failed setting prop "${t}" on <${o.toLowerCase()}>: value ${i} is invalid.`,VY)}s&&e.removeAttribute(r||t)}function ya(e,t,i,n){e.addEventListener(t,i,n)}const va=Symbol("_vei");function ba(e,t,i,n,r=null){const o=e[va]||(e[va]={}),s=o[t];if(n&&s)s.value=Ea(n,t);else{const[i,a]=function(e){let t;if(wa.test(e)){let i;for(t={};i=e.match(wa);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}const i=":"===e[2]?e.slice(3):T(e.slice(2));return[i,t]}(t);if(n){const s=o[t]=function(e,t){const i=e=>{if(e._vts){if(e._vts<=i.attached)return}else e._vts=Date.now();si(function(e,t){if(h(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}(e,i.value),t,5,[e])};return i.value=e,i.attached=Ia(),i}(Ea(n,t),r);ya(e,i,s,a)}else s&&(!function(e,t,i,n){e.removeEventListener(t,i,n)}(e,i,s,a),o[t]=void 0)}}const wa=/(?:Once|Passive|Capture)$/;let Ca=0;const xa=Promise.resolve(),Ia=()=>Ca||(xa.then(()=>Ca=0),Ca=Date.now());function Ea(e,t){return _(e)||h(e)?e:(Ms(`Wrong type passed as event handler to ${t} - did you forget @ or : in front of your prop?\nExpected function or array of functions, received type ${typeof e}.`),n)}const Oa=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;const Sa=e=>{const t=e.props["onUpdate:modelValue"]||!1;return h(t)?e=>A(t,e):t},ka=Symbol("_assign"),Pa={created(e,{value:t},i){e.checked=J(t,i.props.value),e[ka]=Sa(i),ya(e,"change",()=>{e[ka](function(e){return"_value"in e?e._value:e.value}(e))})},beforeUpdate(e,{value:t,oldValue:i},n){e[ka]=Sa(n),t!==i&&(e.checked=J(t,n.props.value))}};const Ra=["ctrl","shift","alt","meta"],Ta={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Ra.some(i=>e[`${i}Key`]&&!t.includes(i))},Da=(e,t)=>{const i=e._withMods||(e._withMods={}),n=t.join(".");return i[n]||(i[n]=(i,...n)=>{for(let e=0;e<t.length;e++){const n=Ta[t[e]];if(n&&n(i,t))return}return e(i,...n)})},Ma={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},La=(e,t)=>{const i=e._withKeys||(e._withKeys={}),n=t.join(".");return i[n]||(i[n]=i=>{if(!("key"in i))return;const n=T(i.key);return t.some(e=>e===n||Ma[e]===n)?e(i):void 0})},Aa=a({patchProp:(e,t,i,n,r,a)=>{const l="svg"===r;"class"===t?function(e,t,i){const n=e[Hs];n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}(e,n,l):"style"===t?function(e,t,i){const n=e.style,r=g(i);let o=!1;if(i&&!r){if(t)if(g(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==i[t]&&da(n,t,"")}else for(const e in t)null==i[e]&&da(n,e,"");for(const e in i)"display"===e&&(o=!0),da(n,e,i[e])}else if(r){if(t!==i){const e=n[la];e&&(i+=";"+e),n.cssText=i,o=ua.test(i)}}else t&&e.removeAttribute("style");ra in e&&(e[ra]=o?n.display:"",e[oa]&&(n.display="none"))}(e,i,n):o(t)?s(t)||ba(e,t,0,n,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,i,n){if(n)return"innerHTML"===t||"textContent"===t||!!(t in e&&Oa(t)&&_(i));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(Oa(t)&&g(i))return!1;return t in e}(e,t,n,l))?(ma(e,t,n),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||ga(e,t,n,l,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&g(n)?("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),ga(e,t,n,l)):ma(e,P(t),n,0,t)}},js);let Fa;function $a(){return Fa||(Fa=oo(Aa))}const Na=(...e)=>{$a().render(...e)};!function(){if("undefined"==typeof window)return;const e={style:"color:#3ba776"},i={style:"color:#1677ff"},n={style:"color:#f5222d"},r={style:"color:#eb2f96"},o={__vue_custom_formatter:!0,header(t){if(!y(t))return null;if(t.__isVue)return["div",e,"VueInstance"];if(Tt(t)){Oe();const i=t.value;return Se(),["div",{},["span",e,p(t)],"<",u(i),">"]}return xt(t)?["div",{},["span",e,Et(t)?"ShallowReactive":"Reactive"],"<",u(t),">"+(It(t)?" (readonly)":"")]:It(t)?["div",{},["span",e,Et(t)?"ShallowReadonly":"Readonly"],"<",u(t),">"]:null},hasBody:e=>e&&e.__isVue,body(e){if(e&&e.__isVue)return["div",{},...s(e.$)]}};function s(e){const i=[];e.type.props&&e.props&&i.push(l("props",St(e.props))),e.setupState!==t&&i.push(l("setup",e.setupState)),e.data!==t&&i.push(l("data",St(e.data)));const n=c(e,"computed");n&&i.push(l("computed",n));const o=c(e,"inject");return o&&i.push(l("injected",o)),i.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:e}]]),i}function l(e,t){return t=a({},t),Object.keys(t).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},e],["div",{style:"padding-left:1.25em"},...Object.keys(t).map(e=>["div",{},["span",r,e+": "],u(t[e],!1)])]]:["span",{}]}function u(e,t=!0){return"number"==typeof e?["span",i,e]:"string"==typeof e?["span",n,JSON.stringify(e)]:"boolean"==typeof e?["span",r,e]:y(e)?["object",{object:t?St(e):e}]:["span",n,String(e)]}function c(e,t){const i=e.type;if(_(i))return;const n={};for(const r in e.ctx)d(i,r,t)&&(n[r]=e.ctx[r]);return n}function d(e,t,i){const n=e[i];return!!(h(n)&&n.includes(t)||y(n)&&t in n)||!(!e.extends||!d(e.extends,t,i))||!(!e.mixins||!e.mixins.some(e=>d(e,t,i)))||void 0}function p(e){return Et(e)?"ShallowRef":e.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(o):window.devtoolsFormatters=[o]}();var ja,Ba,Va,Ha,Ua=Object.create,Wa=Object.defineProperty,Ga=Object.getOwnPropertyDescriptor,za=Object.getOwnPropertyNames,Ya=Object.getPrototypeOf,qa=Object.prototype.hasOwnProperty,Ka=(ja={"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js"(){}},function(){return ja&&(Ba=(0,ja[za(ja)[0]])(ja=0)),Ba}),Xa=(Va={"../../node_modules/.pnpm/rfdc@1.4.1/node_modules/rfdc/index.js"(e,t){function i(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}Ka(),t.exports=function(e){if((e=e||{}).circles)return function(e){const t=[],n=[],r=new Map;if(r.set(Date,e=>new Date(e)),r.set(Map,(e,t)=>new Map(s(Array.from(e),t))),r.set(Set,(e,t)=>new Set(s(Array.from(e),t))),e.constructorHandlers)for(const i of e.constructorHandlers)r.set(i[0],i[1]);let o=null;return e.proto?l:a;function s(e,s){const a=Object.keys(e),l=new Array(a.length);for(let u=0;u<a.length;u++){const c=a[u],h=e[c];if("object"!=typeof h||null===h)l[c]=h;else if(h.constructor!==Object&&(o=r.get(h.constructor)))l[c]=o(h,s);else if(ArrayBuffer.isView(h))l[c]=i(h);else{const e=t.indexOf(h);l[c]=-1!==e?n[e]:s(h)}}return l}function a(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return s(e,a);if(e.constructor!==Object&&(o=r.get(e.constructor)))return o(e,a);const l={};t.push(e),n.push(l);for(const s in e){if(!1===Object.hasOwnProperty.call(e,s))continue;const u=e[s];if("object"!=typeof u||null===u)l[s]=u;else if(u.constructor!==Object&&(o=r.get(u.constructor)))l[s]=o(u,a);else if(ArrayBuffer.isView(u))l[s]=i(u);else{const e=t.indexOf(u);l[s]=-1!==e?n[e]:a(u)}}return t.pop(),n.pop(),l}function l(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return s(e,l);if(e.constructor!==Object&&(o=r.get(e.constructor)))return o(e,l);const a={};t.push(e),n.push(a);for(const s in e){const u=e[s];if("object"!=typeof u||null===u)a[s]=u;else if(u.constructor!==Object&&(o=r.get(u.constructor)))a[s]=o(u,l);else if(ArrayBuffer.isView(u))a[s]=i(u);else{const e=t.indexOf(u);a[s]=-1!==e?n[e]:l(u)}}return t.pop(),n.pop(),a}}(e);const t=new Map;if(t.set(Date,e=>new Date(e)),t.set(Map,(e,t)=>new Map(r(Array.from(e),t))),t.set(Set,(e,t)=>new Set(r(Array.from(e),t))),e.constructorHandlers)for(const i of e.constructorHandlers)t.set(i[0],i[1]);let n=null;return e.proto?function e(o){if("object"!=typeof o||null===o)return o;if(Array.isArray(o))return r(o,e);if(o.constructor!==Object&&(n=t.get(o.constructor)))return n(o,e);const s={};for(const r in o){const a=o[r];"object"!=typeof a||null===a?s[r]=a:a.constructor!==Object&&(n=t.get(a.constructor))?s[r]=n(a,e):ArrayBuffer.isView(a)?s[r]=i(a):s[r]=e(a)}return s}:function e(o){if("object"!=typeof o||null===o)return o;if(Array.isArray(o))return r(o,e);if(o.constructor!==Object&&(n=t.get(o.constructor)))return n(o,e);const s={};for(const r in o){if(!1===Object.hasOwnProperty.call(o,r))continue;const a=o[r];"object"!=typeof a||null===a?s[r]=a:a.constructor!==Object&&(n=t.get(a.constructor))?s[r]=n(a,e):ArrayBuffer.isView(a)?s[r]=i(a):s[r]=e(a)}return s};function r(e,r){const o=Object.keys(e),s=new Array(o.length);for(let a=0;a<o.length;a++){const l=o[a],u=e[l];"object"!=typeof u||null===u?s[l]=u:u.constructor!==Object&&(n=t.get(u.constructor))?s[l]=n(u,r):ArrayBuffer.isView(u)?s[l]=i(u):s[l]=r(u)}return s}}}},function(){return Ha||(0,Va[za(Va)[0]])((Ha={exports:{}}).exports,Ha),Ha.exports});Ka(),Ka(),Ka();var Za,Ja="undefined"!=typeof navigator,Qa="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:{};void 0!==Qa.chrome&&Qa.chrome.devtools,Ja&&(Qa.self,Qa.top),"undefined"!=typeof navigator&&(null==(Za=navigator.userAgent)||Za.toLowerCase().includes("electron")),Ka();var el=((e,t,i)=>(i=null!=e?Ua(Ya(e)):{},((e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of za(t))qa.call(e,r)||r===i||Wa(e,r,{get:()=>t[r],enumerable:!(n=Ga(t,r))||n.enumerable});return e})(Wa(i,"default",{value:e,enumerable:!0}),e)))(Xa()),tl=/(?:^|[-_/])(\w)/g;function il(e,t){return t?t.toUpperCase():""}var nl=/^https?:\/\//;var rl=(0,el.default)({circles:!0});const ol={trailing:!0};function sl(e,t=25,i={}){if(i={...ol,...i},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let n,r,o,s,a=[];const l=(t,n)=>(o=async function(e,t,i){return await e.apply(t,i)}(e,t,n),o.finally(()=>{if(o=null,i.trailing&&s&&!r){const e=l(t,s);return s=null,e}}),o);return function(...e){return o?(i.trailing&&(s=e),o):new Promise(o=>{const s=!r&&i.leading;clearTimeout(r),r=setTimeout(()=>{r=null;const t=i.leading?n:l(this,e);for(const e of a)e(t);a=[]},t),s?(n=l(this,e),o(n)):a.push(o)})}}function al(e,t={},i){for(const n in e){const r=e[n],o=i?`${i}:${n}`:n;"object"==typeof r&&null!==r?al(r,t,o):"function"==typeof r&&(t[o]=r)}return t}const ll={run:e=>e()},ul=void 0!==console.createTask?console.createTask:()=>ll;function cl(e,t){const i=t.shift(),n=ul(i);return e.reduce((e,i)=>e.then(()=>n.run(()=>i(...t))),Promise.resolve())}function hl(e,t){const i=t.shift(),n=ul(i);return Promise.all(e.map(e=>n.run(()=>e(...t))))}function dl(e,t){for(const i of[...e])i(t)}class pl{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,i={}){if(!e||"function"!=typeof t)return()=>{};const n=e;let r;for(;this._deprecatedHooks[e];)r=this._deprecatedHooks[e],e=r.to;if(r&&!i.allowDeprecated){let e=r.message;e||(e=`${n} hook has been deprecated`+(r.to?`, please use ${r.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(e)||this._deprecatedMessages.add(e)}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let i,n=(...e)=>("function"==typeof i&&i(),i=void 0,n=void 0,t(...e));return i=this.hook(e,n),i}removeHook(e,t){if(this._hooks[e]){const i=this._hooks[e].indexOf(t);-1!==i&&this._hooks[e].splice(i,1),0===this._hooks[e].length&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]="string"==typeof t?{to:t}:t;const i=this._hooks[e]||[];delete this._hooks[e];for(const n of i)this.hook(e,n)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=al(e),i=Object.keys(t).map(e=>this.hook(e,t[e]));return()=>{for(const e of i.splice(0,i.length))e()}}removeHooks(e){const t=al(e);for(const i in t)this.removeHook(i,t[i])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(cl,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(hl,e,...t)}callHookWith(e,t,...i){const n=this._before||this._after?{name:t,args:i,context:{}}:void 0;this._before&&dl(this._before,n);const r=e(t in this._hooks?[...this._hooks[t]]:[],i);return r instanceof Promise?r.finally(()=>{this._after&&n&&dl(this._after,n)}):(this._after&&n&&dl(this._after,n),r)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(void 0!==this._before){const t=this._before.indexOf(e);-1!==t&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(void 0!==this._after){const t=this._after.indexOf(e);-1!==t&&this._after.splice(t,1)}}}}function fl(){return new pl}var _l,gl=Object.create,ml=Object.defineProperty,yl=Object.getOwnPropertyDescriptor,vl=Object.getOwnPropertyNames,bl=Object.getPrototypeOf,wl=Object.prototype.hasOwnProperty,Cl=(e,t)=>function(){return t||(0,e[vl(e)[0]])((t={exports:{}}).exports,t),t.exports},xl=((e,t)=>function(){return e&&(t=(0,e[vl(e)[0]])(e=0)),t})({"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js"(){}}),Il=Cl({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/lib/speakingurl.js"(e,t){xl(),function(e){var i={"":"A","":"A","":"A","":"A","":"Ae","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"Oe","":"O","":"O","":"U","":"U","":"U","":"Ue","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"ae","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"oe","":"o","":"o","":"u","":"u","":"u","":"ue","":"u","":"y","":"th","":"y","":"SS","":"a","":"a","":"i","":"aa","":"u","":"e","":"a","":"b","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"y","":"a","":"h","":"la","":"laa","":"lai","":"laa","":"g","":"ch","":"p","":"zh","":"k","":"y","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"k","":"kh","":"g","":"ga","":"ng","":"s","":"sa","":"z","":"za","":"ny","":"t","":"ta","":"d","":"da","":"na","":"t","":"ta","":"d","":"da","":"n","":"p","":"pa","":"b","":"ba","":"m","":"y","":"ya","":"l","":"w","":"th","":"h","":"la","":"a","":"y","":"ya","":"w","":"yw","":"ywa","":"h","":"e","":"-e","":"i","":"-i","":"u","":"-u","":"aw","":"aw","":"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"","":"c","":"d","":"e","":"n","":"r","":"s","":"t","":"u","":"z","":"C","":"D","":"E","":"N","":"R","":"S","":"T","":"U","":"Z","":"h","":"sh","":"n","":"r","":"b","":"lh","":"k","":"a","":"v","":"m","":"f","":"dh","":"th","":"l","":"g","":"gn","":"s","":"d","":"z","":"t","":"y","":"p","":"j","":"ch","":"tt","":"hh","":"kh","":"th","":"z","":"sh","":"s","":"d","":"t","":"z","":"a","":"gh","":"q","":"w","":"a","":"aa","":"i","":"ee","":"u","":"oo","":"e","":"ey","":"o","":"oa","":"","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"p","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"a","":"v","":"g","":"d","":"e","":"z","":"i","":"th","":"i","":"k","":"l","":"m","":"n","":"ks","":"o","":"p","":"r","":"s","":"t","":"y","":"f","":"x","":"ps","":"o","":"a","":"e","":"i","":"o","":"y","":"i","":"o","":"s","":"i","":"y","":"y","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"I","":"TH","":"I","":"K","":"L","":"M","":"N","":"KS","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"O","":"A","":"E","":"I","":"O","":"Y","":"I","":"O","":"I","":"Y","":"a","":"e","":"g","":"i","":"k","":"l","":"n","":"u","":"A","":"E","":"G","":"I","":"k","":"L","":"N","":"U","":"Kj","":"kj","":"Lj","":"lj","":"Nj","":"nj","":"Ts","":"ts","":"a","":"c","":"e","":"l","":"n","":"s","":"z","":"z","":"A","":"C","":"E","":"L","":"N","":"S","":"Z","":"Z","":"Ye","":"I","":"Yi","":"G","":"ye","":"i","":"yi","":"g","":"a","":"A","":"s","":"S","":"t","":"T","":"t","":"T","":"a","":"b","":"v","":"g","":"d","":"e","":"yo","":"zh","":"z","":"i","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"kh","":"c","":"ch","":"sh","":"sh","":"","":"y","":"","":"e","":"yu","":"ya","":"A","":"B","":"V","":"G","":"D","":"E","":"Yo","":"Zh","":"Z","":"I","":"I","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"Kh","":"C","":"Ch","":"Sh","":"Sh","":"","":"Y","":"","":"E","":"Yu","":"Ya","":"dj","":"j","":"c","":"dz","":"Dj","":"j","":"C","":"Dz","":"l","":"l","":"r","":"L","":"L","":"R","":"s","":"S","":"i","":"I","":"g","":"G","":"a","":"A","":"a","":"A","":"a","":"A","":"d","":"D","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"o","":"o","":"o","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"o","":"i","":"I","":"i","":"I","":"i","":"i","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"","":"y","":"y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"18","":"18","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"0","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":'"',"":'"',"":"'","":"'","":"d","":"f","":"(TM)","":"(C)","":"oe","":"OE","":"(R)","":"+","":"(SM)","":"...","":"o","":"o","":"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY","":"CNY","":"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF","":"TRY","":"AFN","":"AZN","":"BGN","":"KHR","":"CRC","":"KZT","":"MKD","z":"PLN","":"RUB","":"GEL"},n=["",""],r={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on","":"ah","":"ah"},o={en:{},az:{"":"c","":"e","":"g","":"i","":"o","":"s","":"u","":"C","":"E","":"G","":"I","":"O","":"S","":"U"},cs:{"":"c","":"d","":"e","":"n","":"r","":"s","":"t","":"u","":"z","":"C","":"D","":"E","":"N","":"R","":"S","":"T","":"U","":"Z"},fi:{"":"a","":"A","":"o","":"O"},hu:{"":"a","":"A","":"o","":"O","":"u","":"U","":"u","":"U"},lt:{"":"a","":"c","":"e","":"e","":"i","":"s","":"u","":"u","":"z","":"A","":"C","":"E","":"E","":"I","":"S","":"U","":"U"},lv:{"":"a","":"c","":"e","":"g","":"i","":"k","":"l","":"n","":"s","":"u","":"z","":"A","":"C","":"E","":"G","":"i","":"k","":"L","":"N","":"S","":"u","":"Z"},pl:{"":"a","":"c","":"e","":"l","":"n","":"o","":"s","":"z","":"z","":"A","":"C","":"e","":"L","":"N","":"O","":"S","":"Z","":"Z"},sv:{"":"a","":"A","":"o","":"O"},sk:{"":"a","":"A"},sr:{"":"lj","":"nj","":"Lj","":"Nj","":"dj","":"Dj"},tr:{"":"U","":"O","":"u","":"o"}},s={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},ca:{"":"delta","":"infinit","":"amor","&":"i","|":"o","<":"menys que",">":"mes que","":"suma dels","":"moneda"},cs:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},dv:{"":"delta","":"kolunulaa","":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","":"jumula","":"faisaa"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fa:{"":"delta","":"bi-nahayat","":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","":"majmooe","":"vahed"},fi:{"":"delta","":"aarettomyys","":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","":"summa","":"valuutta"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},ge:{"":"delta","":"usasruloba","":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","":"jami","":"valuta"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{"":"delta","":"begalybe","":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","":"suma","":"valiuta"},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),l=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),c=function(e,t){var c,h,f,_,g,m,y,v,b,w,C,x,I,E,O="-",S="",k="",P=!0,R={},T="";if("string"!=typeof e)return"";if("string"==typeof t&&(O=t),y=s.en,v=o.en,"object"==typeof t)for(C in c=t.maintainCase||!1,R=t.custom&&"object"==typeof t.custom?t.custom:R,f=+t.truncate>1&&t.truncate||!1,_=t.uric||!1,g=t.uricNoSlash||!1,m=t.mark||!1,P=!1!==t.symbols&&!1!==t.lang,O=t.separator||O,_&&(T+=a),g&&(T+=l),m&&(T+=u),y=t.lang&&s[t.lang]&&P?s[t.lang]:P?s.en:{},v=t.lang&&o[t.lang]?o[t.lang]:!1===t.lang||!0===t.lang?{}:o.en,t.titleCase&&"number"==typeof t.titleCase.length&&Array.prototype.toString.call(t.titleCase)?(t.titleCase.forEach(function(e){R[e+""]=e+""}),h=!0):h=!!t.titleCase,t.custom&&"number"==typeof t.custom.length&&Array.prototype.toString.call(t.custom)&&t.custom.forEach(function(e){R[e+""]=e+""}),Object.keys(R).forEach(function(t){var i;i=t.length>1?new RegExp("\\b"+d(t)+"\\b","gi"):new RegExp(d(t),"gi"),e=e.replace(i,R[t])}),R)T+=C;for(T=d(T+=O),I=!1,E=!1,w=0,x=(e=e.replace(/(^\s+|\s+$)/g,"")).length;w<x;w++)C=e[w],p(C,R)?I=!1:v[C]?(C=I&&v[C].match(/[A-Za-z0-9]/)?" "+v[C]:v[C],I=!1):C in i?(w+1<x&&n.indexOf(e[w+1])>=0?(k+=C,C=""):!0===E?(C=r[k]+i[C],k=""):C=I&&i[C].match(/[A-Za-z0-9]/)?" "+i[C]:i[C],I=!1,E=!1):C in r?(k+=C,C="",w===x-1&&(C=r[k]),E=!0):!y[C]||_&&-1!==a.indexOf(C)||g&&-1!==l.indexOf(C)?(!0===E?(C=r[k]+C,k="",E=!1):I&&(/[A-Za-z0-9]/.test(C)||S.substr(-1).match(/A-Za-z0-9]/))&&(C=" "+C),I=!1):(C=I||S.substr(-1).match(/[A-Za-z0-9]/)?O+y[C]:y[C],C+=void 0!==e[w+1]&&e[w+1].match(/[A-Za-z0-9]/)?O:"",I=!0),S+=C.replace(new RegExp("[^\\w\\s"+T+"_-]","g"),O);return h&&(S=S.replace(/(\w)(\S*)/g,function(e,t,i){var n=t.toUpperCase()+(null!==i?i:"");return Object.keys(R).indexOf(n.toLowerCase())<0?n:n.toLowerCase()})),S=S.replace(/\s+/g,O).replace(new RegExp("\\"+O+"+","g"),O).replace(new RegExp("(^\\"+O+"+|\\"+O+"+$)","g"),""),f&&S.length>f&&(b=S.charAt(f)===O,S=S.slice(0,f),b||(S=S.slice(0,S.lastIndexOf(O)))),c||h||(S=S.toLowerCase()),S},h=function(e){return function(t){return c(t,e)}},d=function(e){return e.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},p=function(e,t){for(var i in t)if(t[i]===e)return!0};if(void 0!==t&&t.exports)t.exports=c,t.exports.createSlug=h;else if("undefined"!=typeof define&&define.amd)define([],function(){return c});else try{if(e.getSlug||e.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";e.getSlug=c,e.createSlug=h}catch(VY){}}(e)}}),El=Cl({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/index.js"(e,t){xl(),t.exports=Il()}});function Ol(e){const t=e.__file;if(t)return(i=function(e,t){let i=e.replace(/^[a-z]:/i,"").replace(/\\/g,"/");i.endsWith(`index${t}`)&&(i=i.replace(`/index${t}`,t));const n=i.lastIndexOf("/"),r=i.substring(n+1);{const e=r.lastIndexOf(t);return r.substring(0,e)}}(t,".vue"))&&`${i}`.replace(tl,il);var i}function Sl(e,t){return e.type.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__=t,t}function kl(e){return e.__VUE_DEVTOOLS_NEXT_APP_RECORD__?e.__VUE_DEVTOOLS_NEXT_APP_RECORD__:e.root?e.appContext.app.__VUE_DEVTOOLS_NEXT_APP_RECORD__:void 0}function Pl(e){var t,i;const n=null==(t=e.subTree)?void 0:t.type,r=kl(e);return!!r&&(null==(i=null==r?void 0:r.types)?void 0:i.Fragment)===n}function Rl(e){var t,i,n;const r=function(e){var t;const i=e.name||e._componentTag||e.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__||e.__name;return"index"===i&&(null==(t=e.__file)?void 0:t.endsWith("index.vue"))?"":i}((null==e?void 0:e.type)||{});if(r)return r;if((null==e?void 0:e.root)===e)return"Root";for(const s in null==(i=null==(t=e.parent)?void 0:t.type)?void 0:i.components)if(e.parent.type.components[s]===(null==e?void 0:e.type))return Sl(e,s);for(const s in null==(n=e.appContext)?void 0:n.components)if(e.appContext.components[s]===(null==e?void 0:e.type))return Sl(e,s);const o=Ol((null==e?void 0:e.type)||{});return o||"Anonymous Component"}function Tl(e,t){t=t||`${e.id}:root`;return e.instanceMap.get(t)||e.instanceMap.get(":root")}function Dl(e){return _l||(_l=document.createRange()),_l.selectNode(e),_l.getBoundingClientRect()}function Ml(e,t){return(!e.top||t.top<e.top)&&(e.top=t.top),(!e.bottom||t.bottom>e.bottom)&&(e.bottom=t.bottom),(!e.left||t.left<e.left)&&(e.left=t.left),(!e.right||t.right>e.right)&&(e.right=t.right),e}xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl();var Ll={top:0,left:0,right:0,bottom:0,width:0,height:0};function Al(e){const t=e.subTree.el;return"undefined"==typeof window?Ll:Pl(e)?function(e){const t=function(){const e={top:0,bottom:0,left:0,right:0,get width(){return e.right-e.left},get height(){return e.bottom-e.top}};return e}();if(!e.children)return t;for(let i=0,n=e.children.length;i<n;i++){const n=e.children[i];let r;if(n.component)r=Al(n.component);else if(n.el){const e=n.el;1===e.nodeType||e.getBoundingClientRect?r=e.getBoundingClientRect():3===e.nodeType&&e.data.trim()&&(r=Dl(e))}r&&Ml(t,r)}return t}(e.subTree):1===(null==t?void 0:t.nodeType)?null==t?void 0:t.getBoundingClientRect():e.subTree.component?Al(e.subTree.component):Ll}function Fl(e){return Pl(e)?function(e){if(!e.children)return[];const t=[];return e.children.forEach(e=>{e.component?t.push(...Fl(e.component)):(null==e?void 0:e.el)&&t.push(e.el)}),t}(e.subTree):e.subTree?[e.subTree.el]:[]}xl();var $l="__vue-devtools-component-inspector__",Nl="__vue-devtools-component-inspector__card__",jl="__vue-devtools-component-inspector__name__",Bl="__vue-devtools-component-inspector__indicator__",Vl={display:"block",zIndex:2147483640,position:"fixed",backgroundColor:"#42b88325",border:"1px solid #42b88350",borderRadius:"5px",transition:"all 0.1s ease-in",pointerEvents:"none"},Hl={fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 8px",borderRadius:"4px",textAlign:"left",position:"absolute",left:0,color:"#e9e9e9",fontSize:"14px",fontWeight:600,lineHeight:"24px",backgroundColor:"#42b883",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},Ul={display:"inline-block",fontWeight:400,fontStyle:"normal",fontSize:"12px",opacity:.7};function Wl(){return document.getElementById($l)}function Gl(e){return{left:Math.round(100*e.left)/100+"px",top:Math.round(100*e.top)/100+"px",width:Math.round(100*e.width)/100+"px",height:Math.round(100*e.height)/100+"px"}}function zl(e){var t;const i=document.createElement("div");i.id=null!=(t=e.elementId)?t:$l,Object.assign(i.style,{...Vl,...Gl(e.bounds),...e.style});const n=document.createElement("span");n.id=Nl,Object.assign(n.style,{...Hl,top:e.bounds.top<35?0:"-35px"});const r=document.createElement("span");r.id=jl,r.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`;const o=document.createElement("i");return o.id=Bl,o.innerHTML=`${Math.round(100*e.bounds.width)/100} x ${Math.round(100*e.bounds.height)/100}`,Object.assign(o.style,Ul),n.appendChild(r),n.appendChild(o),i.appendChild(n),document.body.appendChild(i),i}function Yl(e){const t=Wl(),i=document.getElementById(Nl),n=document.getElementById(jl),r=document.getElementById(Bl);t&&(Object.assign(t.style,{...Vl,...Gl(e.bounds)}),Object.assign(i.style,{top:e.bounds.top<35?0:"-35px"}),n.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`,r.innerHTML=`${Math.round(100*e.bounds.width)/100} x ${Math.round(100*e.bounds.height)/100}`)}function ql(){const e=Wl();e&&(e.style.display="none")}var Kl=null;function Xl(e){const t=e.target;if(t){const e=t.__vueParentComponent;if(e){Kl=e;if(e.vnode.el){const t=Al(e),i=Rl(e);Wl()?Yl({bounds:t,name:i}):zl({bounds:t,name:i})}}}}var Zl,Jl=null;function Ql(){return window.addEventListener("mouseover",Xl),new Promise(e=>{function t(i){i.preventDefault(),i.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),Kl&&t(`${null!=(o=null==(r=null==(n=null==(i=Kl)?void 0:i.appContext)?void 0:n.app)?void 0:r.__VUE_DEVTOOLS_NEXT_APP_RECORD_ID__)?o:0}:${i===(null==i?void 0:i.root)?"root":i.uid}`);var i,n,r,o}(i,i=>{window.removeEventListener("click",t,!0),Jl=null,window.removeEventListener("mouseover",Xl);const n=Wl();n&&(n.style.display="none"),e(JSON.stringify({id:i}))})}Jl=t,window.addEventListener("click",t,!0)})}function eu(){return new Promise(e=>{function t(){!function(){const e=Qa.__VUE_INSPECTOR__,t=e.openInEditor;e.openInEditor=async(...i)=>{e.disable(),t(...i)}}(),e(Qa.__VUE_INSPECTOR__)}Qa.__VUE_INSPECTOR__?t():function(e){let t=0;const i=setInterval(()=>{Qa.__VUE_INSPECTOR__&&(clearInterval(i),t+=30,e()),t>=5e3&&clearInterval(i)},30)}(()=>{t()})})}function tu(e){return function(e){return!(!e||!e.__v_isReadonly)}(e)?tu(e.__v_raw):!(!e||!e.__v_isReactive)}function iu(e){return!(!e||!0!==e.__v_isRef)}function nu(e){const t=e&&e.__v_raw;return t?nu(t):e}xl(),null!=(Zl=Qa).__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__||(Zl.__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__=!0),xl(),xl();var ru=class{constructor(){this.refEditor=new ou}set(e,t,i,n){const r=Array.isArray(t)?t:t.split(".");for(;r.length>1;){const t=r.shift();e=e instanceof Map?e.get(t):e instanceof Set?Array.from(e.values())[t]:e[t],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}const o=r[0],s=this.refEditor.get(e)[o];n?n(e,o,i):this.refEditor.isRef(s)?this.refEditor.set(s,i):e[o]=i}get(e,t){const i=Array.isArray(t)?t:t.split(".");for(let n=0;n<i.length;n++)if(e=e instanceof Map?e.get(i[n]):e[i[n]],this.refEditor.isRef(e)&&(e=this.refEditor.get(e)),!e)return;return e}has(e,t,i=!1){if(void 0===e)return!1;const n=Array.isArray(t)?t.slice():t.split("."),r=i?2:1;for(;e&&n.length>r;){e=e[n.shift()],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}return null!=e&&Object.prototype.hasOwnProperty.call(e,n[0])}createDefaultSetCallback(e){return(t,i,n)=>{if((e.remove||e.newKey)&&(Array.isArray(t)?t.splice(i,1):nu(t)instanceof Map?t.delete(i):nu(t)instanceof Set?t.delete(Array.from(t.values())[i]):Reflect.deleteProperty(t,i)),!e.remove){const r=t[e.newKey||i];this.refEditor.isRef(r)?this.refEditor.set(r,n):nu(t)instanceof Map?t.set(e.newKey||i,n):nu(t)instanceof Set?t.add(n):t[e.newKey||i]=n}}}},ou=class{set(e,t){if(iu(e))e.value=t;else{if(e instanceof Set&&Array.isArray(t))return e.clear(),void t.forEach(t=>e.add(t));const i=Object.keys(t);if(e instanceof Map){const n=new Set(e.keys());return i.forEach(i=>{e.set(i,Reflect.get(t,i)),n.delete(i)}),void n.forEach(t=>e.delete(t))}const n=new Set(Object.keys(e));i.forEach(i=>{Reflect.set(e,i,Reflect.get(t,i)),n.delete(i)}),n.forEach(t=>Reflect.deleteProperty(e,t))}}get(e){return iu(e)?e.value:e}isRef(e){return iu(e)||tu(e)}};xl(),xl(),xl();var su;function au(){if(!Ja||"undefined"==typeof localStorage||null===localStorage)return{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""};const e=localStorage.getItem("__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS_STATE__");return e?JSON.parse(e):{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""}}xl(),xl(),xl(),null!=(su=Qa).__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS||(su.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS=[]);var lu,uu=new Proxy(Qa.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS,{get:(e,t,i)=>Reflect.get(e,t,i)});null!=(lu=Qa).__VUE_DEVTOOLS_KIT_INSPECTOR__||(lu.__VUE_DEVTOOLS_KIT_INSPECTOR__=[]);var cu,hu,du,pu,fu,_u=new Proxy(Qa.__VUE_DEVTOOLS_KIT_INSPECTOR__,{get:(e,t,i)=>Reflect.get(e,t,i)}),gu=sl(()=>{sc.hooks.callHook("sendInspectorToClient",mu())});function mu(){return _u.filter(e=>e.descriptor.app===xu.value.app).filter(e=>"components"!==e.descriptor.id).map(e=>{var t;const i=e.descriptor,n=e.options;return{id:n.id,label:n.label,logo:i.logo,icon:`custom-ic-baseline-${null==(t=null==n?void 0:n.icon)?void 0:t.replace(/_/g,"-")}`,packageName:i.packageName,homepage:i.homepage,pluginId:i.id}})}function yu(e,t){return _u.find(i=>i.options.id===e&&(!t||i.descriptor.app===t))}null!=(cu=Qa).__VUE_DEVTOOLS_KIT_APP_RECORDS__||(cu.__VUE_DEVTOOLS_KIT_APP_RECORDS__=[]),null!=(hu=Qa).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__||(hu.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__={}),null!=(du=Qa).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__||(du.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__=""),null!=(pu=Qa).__VUE_DEVTOOLS_KIT_CUSTOM_TABS__||(pu.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__=[]),null!=(fu=Qa).__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__||(fu.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__=[]);var vu,bu="__VUE_DEVTOOLS_KIT_GLOBAL_STATE__";null!=(vu=Qa)[bu]||(vu[bu]={connected:!1,clientConnected:!1,vitePluginDetected:!0,appRecords:[],activeAppRecordId:"",tabs:[],commands:[],highPerfModeEnabled:!0,devtoolsClientDetected:{},perfUniqueGroupId:0,timelineLayersState:au()});var wu=sl(e=>{sc.hooks.callHook("devtoolsStateUpdated",{state:e})});sl((e,t)=>{sc.hooks.callHook("devtoolsConnectedUpdated",{state:e,oldState:t})});var Cu=new Proxy(Qa.__VUE_DEVTOOLS_KIT_APP_RECORDS__,{get:(e,t,i)=>"value"===t?Qa.__VUE_DEVTOOLS_KIT_APP_RECORDS__:Qa.__VUE_DEVTOOLS_KIT_APP_RECORDS__[t]}),xu=new Proxy(Qa.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__,{get:(e,t,i)=>"value"===t?Qa.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__:"id"===t?Qa.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__:Qa.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__[t]});function Iu(){wu({...Qa[bu],appRecords:Cu.value,activeAppRecordId:xu.id,tabs:Qa.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__,commands:Qa.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__})}var Eu=new Proxy(Qa[bu],{get:(e,t)=>"appRecords"===t?Cu:"activeAppRecordId"===t?xu.id:"tabs"===t?Qa.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__:"commands"===t?Qa.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__:Qa[bu][t],deleteProperty:(e,t)=>(delete e[t],!0),set:(e,t,i)=>(Qa[bu],e[t]=i,Qa[bu][t]=i,!0)});var Ou,Su=e=>{var t;if(e)return e.startsWith("baseline-")?`custom-ic-${e}`:e.startsWith("i-")||((t=e).startsWith("/")||nl.test(t))?e:`custom-ic-baseline-${e}`};function ku(e={}){var t,i,n;const{file:r,host:o,baseUrl:s=window.location.origin,line:a=0,column:l=0}=e;if(r)if("chrome-extension"===o){r.replace(/\\/g,"\\\\");const e=null!=(i=null==(t=window.VUE_DEVTOOLS_CONFIG)?void 0:t.openInEditorHost)?i:"/";fetch(`${e}__open-in-editor?file=${encodeURI(r)}`).then(e=>{if(!e.ok){}})}else if(Eu.vitePluginDetected){const e=null!=(n=Qa.__VUE_DEVTOOLS_OPEN_IN_EDITOR_BASE_URL__)?n:s;Qa.__VUE_INSPECTOR__.openInEditor(e,r,a,l)}}xl(),xl(),xl(),xl(),xl(),null!=(Ou=Qa).__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__||(Ou.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__=[]);var Pu,Ru,Tu=new Proxy(Qa.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__,{get:(e,t,i)=>Reflect.get(e,t,i)});function Du(e){const t={};return Object.keys(e).forEach(i=>{t[i]=e[i].defaultValue}),t}function Mu(e){return`__VUE_DEVTOOLS_NEXT_PLUGIN_SETTINGS__${e}__`}function Lu(e){var t,i,n;const r=null!=(i=null==(t=Tu.find(t=>{var i;return t[0].id===e&&!!(null==(i=t[0])?void 0:i.settings)}))?void 0:t[0])?i:null;return null!=(n=null==r?void 0:r.settings)?n:null}function Au(e,t){var i,n,r;const o=Mu(e);if(o){const e=localStorage.getItem(o);if(e)return JSON.parse(e)}if(e){const t=null!=(n=null==(i=Tu.find(t=>t[0].id===e))?void 0:i[0])?n:null;return Du(null!=(r=null==t?void 0:t.settings)?r:{})}return Du(t)}xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl();var Fu=null!=(Ru=(Pu=Qa).__VUE_DEVTOOLS_HOOK)?Ru:Pu.__VUE_DEVTOOLS_HOOK=fl(),$u={vueAppInit(e){Fu.hook("app:init",e)},vueAppUnmount(e){Fu.hook("app:unmount",e)},vueAppConnected(e){Fu.hook("app:connected",e)},componentAdded:e=>Fu.hook("component:added",e),componentEmit:e=>Fu.hook("component:emit",e),componentUpdated:e=>Fu.hook("component:updated",e),componentRemoved:e=>Fu.hook("component:removed",e),setupDevtoolsPlugin(e){Fu.hook("devtools-plugin:setup",e)},perfStart:e=>Fu.hook("perf:start",e),perfEnd:e=>Fu.hook("perf:end",e)},Nu={on:$u,setupDevToolsPlugin:(e,t)=>Fu.callHook("devtools-plugin:setup",e,t)},ju=class{constructor({plugin:e,ctx:t}){this.hooks=t.hooks,this.plugin=e}get on(){return{visitComponentTree:e=>{this.hooks.hook("visitComponentTree",e)},inspectComponent:e=>{this.hooks.hook("inspectComponent",e)},editComponentState:e=>{this.hooks.hook("editComponentState",e)},getInspectorTree:e=>{this.hooks.hook("getInspectorTree",e)},getInspectorState:e=>{this.hooks.hook("getInspectorState",e)},editInspectorState:e=>{this.hooks.hook("editInspectorState",e)},inspectTimelineEvent:e=>{this.hooks.hook("inspectTimelineEvent",e)},timelineCleared:e=>{this.hooks.hook("timelineCleared",e)},setPluginSettings:e=>{this.hooks.hook("setPluginSettings",e)}}}notifyComponentUpdate(e){var t;if(Eu.highPerfModeEnabled)return;const i=mu().find(e=>e.packageName===this.plugin.descriptor.packageName);if(null==i?void 0:i.id){if(e){const i=[e.appContext.app,e.uid,null==(t=e.parent)?void 0:t.uid,e];Fu.callHook("component:updated",...i)}else Fu.callHook("component:updated");this.hooks.callHook("sendInspectorState",{inspectorId:i.id,plugin:this.plugin})}}addInspector(e){this.hooks.callHook("addInspector",{inspector:e,plugin:this.plugin}),this.plugin.descriptor.settings&&function(e,t){const i=Mu(e);localStorage.getItem(i)||localStorage.setItem(i,JSON.stringify(Du(t)))}(e.id,this.plugin.descriptor.settings)}sendInspectorTree(e){Eu.highPerfModeEnabled||this.hooks.callHook("sendInspectorTree",{inspectorId:e,plugin:this.plugin})}sendInspectorState(e){Eu.highPerfModeEnabled||this.hooks.callHook("sendInspectorState",{inspectorId:e,plugin:this.plugin})}selectInspectorNode(e,t){this.hooks.callHook("customInspectorSelectNode",{inspectorId:e,nodeId:t,plugin:this.plugin})}visitComponentTree(e){return this.hooks.callHook("visitComponentTree",e)}now(){return Eu.highPerfModeEnabled?0:Date.now()}addTimelineLayer(e){this.hooks.callHook("timelineLayerAdded",{options:e,plugin:this.plugin})}addTimelineEvent(e){Eu.highPerfModeEnabled||this.hooks.callHook("timelineEventAdded",{options:e,plugin:this.plugin})}getSettings(e){return Au(null!=e?e:this.plugin.descriptor.id,this.plugin.descriptor.settings)}getComponentInstances(e){return this.hooks.callHook("getComponentInstances",{app:e})}getComponentBounds(e){return this.hooks.callHook("getComponentBounds",{instance:e})}getComponentName(e){return this.hooks.callHook("getComponentName",{instance:e})}highlightElement(e){const t=e.__VUE_DEVTOOLS_NEXT_UID__;return this.hooks.callHook("componentHighlight",{uid:t})}unhighlightElement(){return this.hooks.callHook("componentUnhighlight")}};xl(),xl(),xl(),xl();var Bu="__vue_devtool_undefined__",Vu="__vue_devtool_infinity__",Hu="__vue_devtool_negative_infinity__",Uu="__vue_devtool_nan__";xl(),xl();var Wu,Gu={[Bu]:"undefined",[Uu]:"NaN",[Vu]:"Infinity",[Hu]:"-Infinity"};function zu(e,t){return Nu.setupDevToolsPlugin(e,t)}function Yu(e,t){Qa.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.has(e)||Eu.highPerfModeEnabled&&!(null==t?void 0:t.inspectingComponent)||(Qa.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.add(e),Tu.forEach(t=>{!function(e,t){const[i,n]=e;if(i.app!==t)return;const r=new ju({plugin:{setupFn:n,descriptor:i},ctx:sc});"vuex"===i.packageName&&r.on.editInspectorState(e=>{r.sendInspectorState(e.inspectorId)}),n(r)}(t,e)}))}Object.entries(Gu).reduce((e,[t,i])=>(e[i]=t,e),{}),xl(),xl(),xl(),xl(),xl(),null!=(Wu=Qa).__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__||(Wu.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__=new Set),xl(),xl();var qu,Ku,Xu,Zu="__VUE_DEVTOOLS_ROUTER__",Ju="__VUE_DEVTOOLS_ROUTER_INFO__";function Qu(e){return e.map(e=>{let{path:t,name:i,children:n,meta:r}=e;return(null==n?void 0:n.length)&&(n=Qu(n)),{path:t,name:i,children:n,meta:r}})}function ec(e,t){function i(){var t;const i=null==(t=e.app)?void 0:t.config.globalProperties.$router,n=function(e){if(e){const{fullPath:t,hash:i,href:n,path:r,name:o,matched:s,params:a,query:l}=e;return{fullPath:t,hash:i,href:n,path:r,name:o,params:a,query:l,matched:Qu(s)}}return e}(null==i?void 0:i.currentRoute.value),r=Qu(function(e){const t=new Map;return((null==e?void 0:e.getRoutes())||[]).filter(e=>!t.has(e.path)&&t.set(e.path,1))}(i)),o=console.warn;console.warn=()=>{},Qa[Ju]={currentRoute:n?rl(n):{},routes:rl(r)},Qa[Zu]=i,console.warn=o}i(),Nu.on.componentUpdated(sl(()=>{var n;(null==(n=t.value)?void 0:n.app)===e.app&&(i(),Eu.highPerfModeEnabled||sc.hooks.callHook("routerInfoUpdated",{state:Qa[Ju]}))},200))}null!=(qu=Qa)[Ju]||(qu[Ju]={currentRoute:null,routes:[]}),null!=(Ku=Qa)[Zu]||(Ku[Zu]={}),new Proxy(Qa[Ju],{get:(e,t)=>Qa[Ju][t]}),new Proxy(Qa[Zu],{get(e,t){if("value"===t)return Qa[Zu]}}),xl(),null!=(Xu=Qa).__VUE_DEVTOOLS_ENV__||(Xu.__VUE_DEVTOOLS_ENV__={vitePluginDetected:!1});var tc,ic,nc=function(){const e=fl();e.hook("addInspector",({inspector:e,plugin:t})=>{!function(e,t){var i,n;_u.push({options:e,descriptor:t,treeFilterPlaceholder:null!=(i=e.treeFilterPlaceholder)?i:"Search tree...",stateFilterPlaceholder:null!=(n=e.stateFilterPlaceholder)?n:"Search state...",treeFilter:"",selectedNodeId:"",appRecord:kl(t.app)}),gu()}(e,t.descriptor)});const t=sl(async({inspectorId:t,plugin:i})=>{var n;if(!t||!(null==(n=null==i?void 0:i.descriptor)?void 0:n.app)||Eu.highPerfModeEnabled)return;const r=yu(t,i.descriptor.app),o={app:i.descriptor.app,inspectorId:t,filter:(null==r?void 0:r.treeFilter)||"",rootNodes:[]};await new Promise(t=>{e.callHookWith(async e=>{await Promise.all(e.map(e=>e(o))),t()},"getInspectorTree")}),e.callHookWith(async e=>{await Promise.all(e.map(e=>e({inspectorId:t,rootNodes:o.rootNodes})))},"sendInspectorTreeToClient")},120);e.hook("sendInspectorTree",t);const i=sl(async({inspectorId:t,plugin:i})=>{var n;if(!t||!(null==(n=null==i?void 0:i.descriptor)?void 0:n.app)||Eu.highPerfModeEnabled)return;const r=yu(t,i.descriptor.app),o={app:i.descriptor.app,inspectorId:t,nodeId:(null==r?void 0:r.selectedNodeId)||"",state:null},s={currentTab:`custom-inspector:${t}`};o.nodeId&&await new Promise(t=>{e.callHookWith(async e=>{await Promise.all(e.map(e=>e(o,s))),t()},"getInspectorState")}),e.callHookWith(async e=>{await Promise.all(e.map(e=>e({inspectorId:t,nodeId:o.nodeId,state:o.state})))},"sendInspectorStateToClient")},120);return e.hook("sendInspectorState",i),e.hook("customInspectorSelectNode",({inspectorId:e,nodeId:t,plugin:i})=>{const n=yu(e,i.descriptor.app);n&&(n.selectedNodeId=t)}),e.hook("timelineLayerAdded",({options:e,plugin:t})=>{!function(e,t){Eu.timelineLayersState[t.id]=!1,uu.push({...e,descriptorId:t.id,appRecord:kl(t.app)})}(e,t.descriptor)}),e.hook("timelineEventAdded",({options:t,plugin:i})=>{var n;Eu.highPerfModeEnabled||!(null==(n=Eu.timelineLayersState)?void 0:n[i.descriptor.id])&&!["performance","component-event","keyboard","mouse"].includes(t.layerId)||e.callHookWith(async e=>{await Promise.all(e.map(e=>e(t)))},"sendTimelineEventToClient")}),e.hook("getComponentInstances",async({app:e})=>{const t=e.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(!t)return null;const i=t.id.toString();return[...t.instanceMap].filter(([e])=>e.split(":")[0]===i).map(([,e])=>e)}),e.hook("getComponentBounds",async({instance:e})=>Al(e)),e.hook("getComponentName",({instance:e})=>Rl(e)),e.hook("componentHighlight",({uid:e})=>{const t=xu.value.instanceMap.get(e);t&&function(e){const t=Al(e);if(!t.width&&!t.height)return;const i=Rl(e);Wl()?Yl({bounds:t,name:i}):zl({bounds:t,name:i})}(t)}),e.hook("componentUnhighlight",()=>{ql()}),e}();null!=(tc=Qa).__VUE_DEVTOOLS_KIT_CONTEXT__||(tc.__VUE_DEVTOOLS_KIT_CONTEXT__={hooks:nc,get state(){return{...Eu,activeAppRecordId:xu.id,activeAppRecord:xu.value,appRecords:Cu.value}},api:(ic=nc,{async getInspectorTree(e){const t={...e,app:xu.value.app,rootNodes:[]};return await new Promise(e=>{ic.callHookWith(async i=>{await Promise.all(i.map(e=>e(t))),e()},"getInspectorTree")}),t.rootNodes},async getInspectorState(e){const t={...e,app:xu.value.app,state:null},i={currentTab:`custom-inspector:${e.inspectorId}`};return await new Promise(e=>{ic.callHookWith(async n=>{await Promise.all(n.map(e=>e(t,i))),e()},"getInspectorState")}),t.state},editInspectorState(e){const t=new ru,i={...e,app:xu.value.app,set:(i,n=e.path,r=e.state.value,o)=>{t.set(i,n,r,o||t.createDefaultSetCallback(e.state))}};ic.callHookWith(e=>{e.forEach(e=>e(i))},"editInspectorState")},sendInspectorState(e){const t=yu(e);ic.callHook("sendInspectorState",{inspectorId:e,plugin:{descriptor:t.descriptor,setupFn:()=>({})}})},inspectComponentInspector:()=>Ql(),cancelInspectComponentInspector:()=>(ql(),window.removeEventListener("mouseover",Xl),window.removeEventListener("click",Jl,!0),void(Jl=null)),getComponentRenderCode(e){const t=Tl(xu.value,e);if(t)return"function"!=typeof(null==t?void 0:t.type)?t.render.toString():t.type.toString()},scrollToComponent:e=>function(e){const t=Tl(xu.value,e.id);if(t){const[i]=Fl(t);if("function"==typeof i.scrollIntoView)i.scrollIntoView({behavior:"smooth"});else{const e=Al(t),i=document.createElement("div"),n={...Gl(e),position:"absolute"};Object.assign(i.style,n),document.body.appendChild(i),i.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{document.body.removeChild(i)},2e3)}setTimeout(()=>{const i=Al(t);if(i.width||i.height){const n=Rl(t),r=Wl();r?Yl({...e,name:n,bounds:i}):zl({...e,name:n,bounds:i}),setTimeout(()=>{r&&(r.style.display="none")},1500)}},1200)}}({id:e}),openInEditor:ku,getVueInspector:eu,toggleApp(e,t){const i=Cu.value.find(t=>t.id===e);var n;i&&(function(e){Qa.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__=e,Iu()}(e),n=i,Qa.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__=n,Iu(),ec(i,xu),gu(),Yu(i.app,t))},inspectDOM(e){const t=Tl(xu.value,e);if(t){const[e]=Fl(t);e&&(Qa.__VUE_DEVTOOLS_INSPECT_DOM_TARGET__=e)}},updatePluginSettings(e,t,i){!function(e,t,i){const n=Mu(e),r=localStorage.getItem(n),o=JSON.parse(r||"{}"),s={...o,[t]:i};localStorage.setItem(n,JSON.stringify(s)),sc.hooks.callHookWith(n=>{n.forEach(n=>n({pluginId:e,key:t,oldValue:o[t],newValue:i,settings:s}))},"setPluginSettings")}(e,t,i)},getPluginSettings:e=>({options:Lu(e),values:Au(e)})})});var rc,oc,sc=Qa.__VUE_DEVTOOLS_KIT_CONTEXT__;xl(),((e,t,i)=>{i=null!=e?gl(bl(e)):{},((e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of vl(t))wl.call(e,r)||r===i||ml(e,r,{get:()=>t[r],enumerable:!(n=yl(t,r))||n.enumerable})})(ml(i,"default",{value:e,enumerable:!0}),e)})(El()),null!=(rc=Qa).__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__||(rc.__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__={id:0,appIds:new Set}),xl(),xl(),xl(),xl(),xl(),null!=(oc=Qa).__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__||(oc.__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__=function(e){Eu.devtoolsClientDetected={...Eu.devtoolsClientDetected,...e};const t=Object.values(Eu.devtoolsClientDetected).some(Boolean);var i;i=!t,Eu.highPerfModeEnabled=null!=i?i:!Eu.highPerfModeEnabled,!i&&xu.value&&Yu(xu.value.app)}),xl(),xl(),xl(),xl(),xl(),xl(),xl();var ac=class{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}},lc=class{constructor(e){this.generateIdentifier=e,this.kv=new ac}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}},uc=class extends lc{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){"object"==typeof t?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}};function cc(e,t){const i=function(e){if("values"in Object)return Object.values(e);const t=[];for(const i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t}(e);if("find"in i)return i.find(t);const n=i;for(let r=0;r<n.length;r++){const e=n[r];if(t(e))return e}}function hc(e,t){Object.entries(e).forEach(([e,i])=>t(i,e))}function dc(e,t){return-1!==e.indexOf(t)}function pc(e,t){for(let i=0;i<e.length;i++){const n=e[i];if(t(n))return n}}xl(),xl();var fc=class{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return cc(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}};xl(),xl();var _c=e=>void 0===e,gc=e=>"object"==typeof e&&null!==e&&(e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype)),mc=e=>gc(e)&&0===Object.keys(e).length,yc=e=>Array.isArray(e),vc=e=>e instanceof Map,bc=e=>e instanceof Set,wc=e=>"Symbol"===(e=>Object.prototype.toString.call(e).slice(8,-1))(e),Cc=e=>"number"==typeof e&&isNaN(e),xc=e=>(e=>"boolean"==typeof e)(e)||(e=>null===e)(e)||_c(e)||(e=>"number"==typeof e&&!isNaN(e))(e)||(e=>"string"==typeof e)(e)||wc(e);xl();var Ic=e=>e.replace(/\./g,"\\."),Ec=e=>e.map(String).map(Ic).join("."),Oc=e=>{const t=[];let i="";for(let r=0;r<e.length;r++){let n=e.charAt(r);if("\\"===n&&"."===e.charAt(r+1)){i+=".",r++;continue}"."===n?(t.push(i),i=""):i+=n}const n=i;return t.push(n),t};function Sc(e,t,i,n){return{isApplicable:e,annotation:t,transform:i,untransform:n}}xl();var kc=[Sc(_c,"undefined",()=>null,()=>{}),Sc(e=>"bigint"==typeof e,"bigint",e=>e.toString(),e=>"undefined"!=typeof BigInt?BigInt(e):e),Sc(e=>e instanceof Date&&!isNaN(e.valueOf()),"Date",e=>e.toISOString(),e=>new Date(e)),Sc(e=>e instanceof Error,"Error",(e,t)=>{const i={name:e.name,message:e.message};return t.allowedErrorProps.forEach(t=>{i[t]=e[t]}),i},(e,t)=>{const i=new Error(e.message);return i.name=e.name,i.stack=e.stack,t.allowedErrorProps.forEach(t=>{i[t]=e[t]}),i}),Sc(e=>e instanceof RegExp,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),i=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,i)}),Sc(bc,"set",e=>[...e.values()],e=>new Set(e)),Sc(vc,"map",e=>[...e.entries()],e=>new Map(e)),Sc(e=>{return Cc(e)||((t=e)===1/0||t===-1/0);var t},"number",e=>Cc(e)?"NaN":e>0?"Infinity":"-Infinity",Number),Sc(e=>0===e&&1/e==-1/0,"number",()=>"-0",Number),Sc(e=>e instanceof URL,"URL",e=>e.toString(),e=>new URL(e))];function Pc(e,t,i,n){return{isApplicable:e,annotation:t,transform:i,untransform:n}}var Rc=Pc((e,t)=>{if(wc(e)){return!!t.symbolRegistry.getIdentifier(e)}return!1},(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,i)=>{const n=i.symbolRegistry.getValue(t[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),Tc=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),Dc=Pc(e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const i=Tc[t[1]];if(!i)throw new Error("Trying to deserialize unknown typed array");return new i(e)});function Mc(e,t){if(null==e?void 0:e.constructor){return!!t.classRegistry.getIdentifier(e.constructor)}return!1}var Lc=Pc(Mc,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const i=t.classRegistry.getAllowedProps(e.constructor);if(!i)return{...e};const n={};return i.forEach(t=>{n[t]=e[t]}),n},(e,t,i)=>{const n=i.classRegistry.getValue(t[1]);if(!n)throw new Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(n.prototype),e)}),Ac=Pc((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,i)=>{const n=i.customTransformerRegistry.findByName(t[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),Fc=[Lc,Rc,Ac,Dc],$c=(e,t)=>{const i=pc(Fc,i=>i.isApplicable(e,t));if(i)return{value:i.transform(e,t),type:i.annotation(e,t)};const n=pc(kc,i=>i.isApplicable(e,t));return n?{value:n.transform(e,t),type:n.annotation}:void 0},Nc={};kc.forEach(e=>{Nc[e.annotation]=e});xl();var jc=(e,t)=>{if(t>e.size)throw new Error("index out of bounds");const i=e.keys();for(;t>0;)i.next(),t--;return i.next().value};function Bc(e){if(dc(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(dc(e,"prototype"))throw new Error("prototype is not allowed as a property");if(dc(e,"constructor"))throw new Error("constructor is not allowed as a property")}var Vc=(e,t,i)=>{if(Bc(t),0===t.length)return i(e);let n=e;for(let o=0;o<t.length-1;o++){const e=t[o];if(yc(n)){n=n[+e]}else if(gc(n))n=n[e];else if(bc(n)){n=jc(n,+e)}else if(vc(n)){if(o===t.length-2)break;const i=+e,r=0===+t[++o]?"key":"value",s=jc(n,i);switch(r){case"key":n=s;break;case"value":n=n.get(s)}}}const r=t[t.length-1];if(yc(n)?n[+r]=i(n[+r]):gc(n)&&(n[r]=i(n[r])),bc(n)){const e=jc(n,+r),t=i(e);e!==t&&(n.delete(e),n.add(t))}if(vc(n)){const e=+t[t.length-2],o=jc(n,e);switch(0===+r?"key":"value"){case"key":{const e=i(o);n.set(e,n.get(o)),e!==o&&n.delete(o);break}case"value":n.set(o,i(n.get(o)))}}return e};function Hc(e,t,i=[]){if(!e)return;if(!yc(e))return void hc(e,(e,n)=>Hc(e,t,[...i,...Oc(n)]));const[n,r]=e;r&&hc(r,(e,n)=>{Hc(e,t,[...i,...Oc(n)])}),t(n,i)}function Uc(e,t,i){return Hc(t,(t,n)=>{e=Vc(e,n,e=>((e,t,i)=>{if(!yc(t)){const n=Nc[t];if(!n)throw new Error("Unknown transformation: "+t);return n.untransform(e,i)}switch(t[0]){case"symbol":return Rc.untransform(e,t,i);case"class":return Lc.untransform(e,t,i);case"custom":return Ac.untransform(e,t,i);case"typed-array":return Dc.untransform(e,t,i);default:throw new Error("Unknown transformation: "+t)}})(e,t,i))}),e}function Wc(e,t){function i(t,i){const n=((e,t)=>{Bc(t);for(let i=0;i<t.length;i++){const n=t[i];if(bc(e))e=jc(e,+n);else if(vc(e)){const r=+n,o=0===+t[++i]?"key":"value",s=jc(e,r);switch(o){case"key":e=s;break;case"value":e=e.get(s)}}else e=e[n]}return e})(e,Oc(i));t.map(Oc).forEach(t=>{e=Vc(e,t,()=>n)})}if(yc(t)){const[n,r]=t;n.forEach(t=>{e=Vc(e,Oc(t),()=>e)}),r&&hc(r,i)}else hc(t,i);return e}var Gc=(e,t,i,n,r=[],o=[],s=new Map)=>{var a;const l=xc(e);if(!l){!function(e,t,i){const n=i.get(e);n?n.push(t):i.set(e,[t])}(e,r,t);const i=s.get(e);if(i)return n?{transformedValue:null}:i}if(!((e,t)=>gc(e)||yc(e)||vc(e)||bc(e)||Mc(e,t))(e,i)){const t=$c(e,i),n=t?{transformedValue:t.value,annotations:[t.type]}:{transformedValue:e};return l||s.set(e,n),n}if(dc(o,e))return{transformedValue:null};const u=$c(e,i),c=null!=(a=null==u?void 0:u.value)?a:e,h=yc(c)?[]:{},d={};hc(c,(a,l)=>{if("__proto__"===l||"constructor"===l||"prototype"===l)throw new Error(`Detected property ${l}. This is a prototype pollution risk, please remove it from your object.`);const u=Gc(a,t,i,n,[...r,l],[...o,e],s);h[l]=u.transformedValue,yc(u.annotations)?d[l]=u.annotations:gc(u.annotations)&&hc(u.annotations,(e,t)=>{d[Ic(l)+"."+t]=e})});const p=mc(d)?{transformedValue:h,annotations:u?[u.type]:void 0}:{transformedValue:h,annotations:u?[u.type,d]:d};return l||s.set(e,p),p};function zc(e){return Object.prototype.toString.call(e).slice(8,-1)}function Yc(e){return"Array"===zc(e)}function qc(e,t={}){if(Yc(e))return e.map(e=>qc(e,t));if(!function(e){if("Object"!==zc(e))return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}(e))return e;return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((i,n)=>{if(Yc(t.props)&&!t.props.includes(n))return i;return function(e,t,i,n,r){const o={}.propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";"enumerable"===o&&(e[t]=i),r&&"nonenumerable"===o&&Object.defineProperty(e,t,{value:i,enumerable:!1,writable:!0,configurable:!0})}(i,n,qc(e[n],t),e,t.nonenumerable),i},{})}xl(),xl();var Kc,Xc,Zc,Jc,Qc,eh,th=class{constructor({dedupe:e=!1}={}){this.classRegistry=new uc,this.symbolRegistry=new lc(e=>{var t;return null!=(t=e.description)?t:""}),this.customTransformerRegistry=new fc,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const t=new Map,i=Gc(e,t,this,this.dedupe),n={json:i.transformedValue};i.annotations&&(n.meta={...n.meta,values:i.annotations});const r=function(e,t){const i={};let n;return e.forEach(e=>{if(e.length<=1)return;t||(e=e.map(e=>e.map(String)).sort((e,t)=>e.length-t.length));const[r,...o]=e;0===r.length?n=o.map(Ec):i[Ec(r)]=o.map(Ec)}),n?mc(i)?[n]:[n,i]:mc(i)?void 0:i}(t,this.dedupe);return r&&(n.meta={...n.meta,referentialEqualities:r}),n}deserialize(e){const{json:t,meta:i}=e;let n=qc(t);return(null==i?void 0:i.values)&&(n=Uc(n,i.values,this)),(null==i?void 0:i.referentialEqualities)&&(n=Wc(n,i.referentialEqualities)),n}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}};
/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */
let ih;th.defaultInstance=new th,th.serialize=th.defaultInstance.serialize.bind(th.defaultInstance),th.deserialize=th.defaultInstance.deserialize.bind(th.defaultInstance),th.stringify=th.defaultInstance.stringify.bind(th.defaultInstance),th.parse=th.defaultInstance.parse.bind(th.defaultInstance),th.registerClass=th.defaultInstance.registerClass.bind(th.defaultInstance),th.registerSymbol=th.defaultInstance.registerSymbol.bind(th.defaultInstance),th.registerCustom=th.defaultInstance.registerCustom.bind(th.defaultInstance),th.allowErrorProps=th.defaultInstance.allowErrorProps.bind(th.defaultInstance),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl(),null!=(Kc=Qa).__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__||(Kc.__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__=[]),null!=(Xc=Qa).__VUE_DEVTOOLS_KIT_RPC_CLIENT__||(Xc.__VUE_DEVTOOLS_KIT_RPC_CLIENT__=null),null!=(Zc=Qa).__VUE_DEVTOOLS_KIT_RPC_SERVER__||(Zc.__VUE_DEVTOOLS_KIT_RPC_SERVER__=null),null!=(Jc=Qa).__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__||(Jc.__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__=null),null!=(Qc=Qa).__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__||(Qc.__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__=null),null!=(eh=Qa).__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__||(eh.__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__=null),xl(),xl(),xl(),xl(),xl(),xl(),xl();const nh=e=>ih=e,rh=Symbol("pinia");function oh(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var sh,ah;(ah=sh||(sh={})).direct="direct",ah.patchObject="patch object",ah.patchFunction="patch function";const lh="undefined"!=typeof window,uh=(()=>"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function ch(e,t,i){const n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){_h(n.response,t,i)},n.onerror=function(){},n.send()}function hh(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(VY){}return t.status>=200&&t.status<=299}function dh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(VY){const i=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:80,screenY:20,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});e.dispatchEvent(i)}}const ph="object"==typeof navigator?navigator:{userAgent:""},fh=(()=>/Macintosh/.test(ph.userAgent)&&/AppleWebKit/.test(ph.userAgent)&&!/Safari/.test(ph.userAgent))(),_h=lh?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!fh?function(e,t="download",i){const n=document.createElement("a");n.download=t,n.rel="noopener","string"==typeof e?(n.href=e,n.origin!==location.origin?hh(n.href)?ch(e,t,i):(n.target="_blank",dh(n)):dh(n)):(n.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(n.href)},4e4),setTimeout(function(){dh(n)},0))}:"msSaveOrOpenBlob"in ph?function(e,t="download",i){if("string"==typeof e)if(hh(e))ch(e,t,i);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout(function(){dh(t)})}else navigator.msSaveOrOpenBlob(function(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,i),t)}:function(e,t,i,n){(n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading...");if("string"==typeof e)return ch(e,t,i);const r="application/octet-stream"===e.type,o=/constructor/i.test(String(uh.HTMLElement))||"safari"in uh,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&o||fh)&&"undefined"!=typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!=typeof e)throw n=null,new Error("Wrong reader.result type");e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location.assign(e),n=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);n?n.location.assign(t):location.href=t,n=null,setTimeout(function(){URL.revokeObjectURL(t)},4e4)}}:()=>{};function gh(e,t){"function"==typeof __VUE_DEVTOOLS_TOAST__&&__VUE_DEVTOOLS_TOAST__(" "+e,t)}function mh(e){return"_a"in e&&"install"in e}function yh(){if(!("clipboard"in navigator))return gh("Your browser doesn't support the Clipboard API","error"),!0}function vh(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(gh('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}let bh;async function wh(e){try{const t=(bh||(bh=document.createElement("input"),bh.type="file",bh.accept=".json"),function(){return new Promise((e,t)=>{bh.onchange=async()=>{const t=bh.files;if(!t)return e(null);const i=t.item(0);return e(i?{text:await i.text(),file:i}:null)},bh.oncancel=()=>e(null),bh.onerror=t,bh.click()})}),i=await t();if(!i)return;const{text:n,file:r}=i;Ch(e,JSON.parse(n)),gh(`Global state imported from "${r.name}".`)}catch(t){gh("Failed to import the state from JSON. Check the console for more details.","error")}}function Ch(e,t){for(const i in t){const n=e.state.value[i];n?Object.assign(n,t[i]):e.state.value[i]=t[i]}}function xh(e){return{_custom:{display:e}}}const Ih=" Pinia (root)",Eh="_root";function Oh(e){return mh(e)?{id:Eh,label:Ih}:{id:e.$id,label:e.$id}}function Sh(e){return e?Array.isArray(e)?e.reduce((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:xh(e.type),key:xh(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function kh(e){switch(e){case sh.direct:return"mutation";case sh.patchFunction:case sh.patchObject:return"$patch";default:return"unknown"}}let Ph=!0;const Rh=[],Th="pinia:mutations",Dh="pinia",{assign:Mh}=Object,Lh=e=>" "+e;function Ah(e,t){zu({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Rh,app:e},i=>{"function"!=typeof i.now&&gh("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),i.addTimelineLayer({id:Th,label:"Pinia ",color:15064968}),i.addInspector({id:Dh,label:"Pinia ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{!async function(e){if(!yh())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),gh("Global state copied to clipboard.")}catch(t){if(vh(t))return;gh("Failed to serialize the state. Check the console for more details.","error")}}(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await async function(e){if(!yh())try{Ch(e,JSON.parse(await navigator.clipboard.readText())),gh("Global state pasted from clipboard.")}catch(t){if(vh(t))return;gh("Failed to deserialize the state from clipboard. Check the console for more details.","error")}}(t),i.sendInspectorTree(Dh),i.sendInspectorState(Dh)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{!async function(e){try{_h(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){gh("Failed to export the state as JSON. Check the console for more details.","error")}}(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await wh(t),i.sendInspectorTree(Dh),i.sendInspectorState(Dh)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:e=>{const i=t._s.get(e);i?"function"!=typeof i.$reset?gh(`Cannot reset "${e}" store because it doesn't have a "$reset" method implemented.`,"warn"):(i.$reset(),gh(`Store "${e}" reset.`)):gh(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),i.on.inspectComponent(e=>{const t=e.componentInstance&&e.componentInstance.proxy;if(t&&t._pStores){const t=e.componentInstance.proxy._pStores;Object.values(t).forEach(t=>{e.instanceData.state.push({type:Lh(t.$id),key:"state",editable:!0,value:t._isOptionsAPI?{_custom:{value:St(t.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>t.$reset()}]}}:Object.keys(t.$state).reduce((e,i)=>(e[i]=t.$state[i],e),{})}),t._getters&&t._getters.length&&e.instanceData.state.push({type:Lh(t.$id),key:"getters",editable:!1,value:t._getters.reduce((e,i)=>{try{e[i]=t[i]}catch(n){e[i]=n}return e},{})})})}}),i.on.getInspectorTree(i=>{if(i.app===e&&i.inspectorId===Dh){let e=[t];e=e.concat(Array.from(t._s.values())),i.rootNodes=(i.filter?e.filter(e=>"$id"in e?e.$id.toLowerCase().includes(i.filter.toLowerCase()):Ih.toLowerCase().includes(i.filter.toLowerCase())):e).map(Oh)}}),globalThis.$pinia=t,i.on.getInspectorState(i=>{if(i.app===e&&i.inspectorId===Dh){const e=i.nodeId===Eh?t:t._s.get(i.nodeId);if(!e)return;e&&(i.nodeId!==Eh&&(globalThis.$store=St(e)),i.state=function(e){if(mh(e)){const t=Array.from(e._s.keys()),i=e._s;return{state:t.map(t=>({editable:!0,key:t,value:e.state.value[t]})),getters:t.filter(e=>i.get(e)._getters).map(e=>{const t=i.get(e);return{editable:!1,key:e,value:t._getters.reduce((e,i)=>(e[i]=t[i],e),{})}})}}const t={state:Object.keys(e.$state).map(t=>({editable:!0,key:t,value:e.$state[t]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(t=>({editable:!1,key:t,value:e[t]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(t=>({editable:!0,key:t,value:e[t]}))),t}(e))}}),i.on.editInspectorState(i=>{if(i.app===e&&i.inspectorId===Dh){const e=i.nodeId===Eh?t:t._s.get(i.nodeId);if(!e)return gh(`store "${i.nodeId}" not found`,"error");const{path:n}=i;mh(e)?n.unshift("state"):1===n.length&&e._customProperties.has(n[0])&&!(n[0]in e.$state)||n.unshift("$state"),Ph=!1,i.set(e,n,i.state.value),Ph=!0}}),i.on.editComponentState(e=>{if(e.type.startsWith("")){const i=e.type.replace(/^\s*/,""),n=t._s.get(i);if(!n)return gh(`store "${i}" not found`,"error");const{path:r}=e;if("state"!==r[0])return gh(`Invalid path for store "${i}":\n${r}\nOnly state can be modified.`);r[0]="$state",Ph=!1,e.set(n,r,e.state.value),Ph=!0}})})}let Fh,$h=0;function Nh(e,t,i){const n=t.reduce((t,i)=>(t[i]=St(e)[i],t),{});for(const r in n)e[r]=function(){const t=$h,o=i?new Proxy(e,{get:(...e)=>(Fh=t,Reflect.get(...e)),set:(...e)=>(Fh=t,Reflect.set(...e))}):e;Fh=t;const s=n[r].apply(o,arguments);return Fh=void 0,s}}function jh({app:e,store:t,options:i}){if(!t.$id.startsWith("__hot:")){if(t._isOptionsAPI=!!i.state,!t._p._testing){Nh(t,Object.keys(i.actions),t._isOptionsAPI);const e=t._hotUpdate;St(t)._hotUpdate=function(i){e.apply(this,arguments),Nh(t,Object.keys(i._hmrPayload.actions),!!t._isOptionsAPI)}}!function(e,t){Rh.includes(Lh(t.$id))||Rh.push(Lh(t.$id)),zu({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Rh,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},e=>{const i="function"==typeof e.now?e.now.bind(e):Date.now;t.$onAction(({after:n,onError:r,name:o,args:s})=>{const a=$h++;e.addTimelineEvent({layerId:Th,event:{time:i(),title:" "+o,subtitle:"start",data:{store:xh(t.$id),action:xh(o),args:s},groupId:a}}),n(n=>{Fh=void 0,e.addTimelineEvent({layerId:Th,event:{time:i(),title:" "+o,subtitle:"end",data:{store:xh(t.$id),action:xh(o),args:s,result:n},groupId:a}})}),r(n=>{Fh=void 0,e.addTimelineEvent({layerId:Th,event:{time:i(),logType:"error",title:" "+o,subtitle:"end",data:{store:xh(t.$id),action:xh(o),args:s,error:n},groupId:a}})})},!0),t._customProperties.forEach(n=>{_o(()=>Ft(t[n]),(t,r)=>{e.notifyComponentUpdate(),e.sendInspectorState(Dh),Ph&&e.addTimelineEvent({layerId:Th,event:{time:i(),title:"Change",subtitle:n,data:{newValue:t,oldValue:r},groupId:Fh}})},{deep:!0})}),t.$subscribe(({events:n,type:r},o)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(Dh),!Ph)return;const s={time:i(),title:kh(r),data:Mh({store:xh(t.$id)},Sh(n)),groupId:Fh};r===sh.patchFunction?s.subtitle="":r===sh.patchObject?s.subtitle="":n&&!Array.isArray(n)&&(s.subtitle=n.type),n&&(s.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:n}}),e.addTimelineEvent({layerId:Th,event:s})},{detached:!0,flush:"sync"});const n=t._hotUpdate;t._hotUpdate=kt(r=>{n(r),e.addTimelineEvent({layerId:Th,event:{time:i(),title:" "+t.$id,subtitle:"HMR update",data:{store:xh(t.$id),info:xh("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(Dh),e.sendInspectorState(Dh)});const{$dispose:r}=t;t.$dispose=()=>{r(),e.notifyComponentUpdate(),e.sendInspectorTree(Dh),e.sendInspectorState(Dh),e.getSettings().logStoreChanges&&gh(`Disposed "${t.$id}" store `)},e.notifyComponentUpdate(),e.sendInspectorTree(Dh),e.sendInspectorState(Dh),e.getSettings().logStoreChanges&&gh(`"${t.$id}" store installed `)})}(e,t)}}function Bh(e,t){for(const i in t){const n=t[i];if(!(i in e))continue;const r=e[i];oh(r)&&oh(n)&&!Tt(n)&&!xt(n)?e[i]=Bh(r,n):e[i]=n}return e}const Vh=()=>{};function Hh(e,t,i,n=Vh){e.push(t);const r=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!i&&le()&&ue(r),r}function Uh(e,...t){e.slice().forEach(e=>{e(...t)})}const Wh=e=>e(),Gh=Symbol(),zh=Symbol();function Yh(e,t){e instanceof Map&&t instanceof Map?t.forEach((t,i)=>e.set(i,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const n=t[i],r=e[i];oh(r)&&oh(n)&&e.hasOwnProperty(i)&&!Tt(n)&&!xt(n)?e[i]=Yh(r,n):e[i]=n}return e}const qh=Symbol("pinia:skipHydration");function Kh(e){return!oh(e)||!Object.prototype.hasOwnProperty.call(e,qh)}const{assign:Xh}=Object;function Zh(e){return!(!Tt(e)||!e.effect)}function Jh(e,t,i,n){const{state:r,actions:o,getters:s}=t,a=i.state.value[e];let l;return l=Qh(e,function(){a||n||(i.state.value[e]=r?r():{});const t=Bt(n?Dt(r?r():{}).value:i.state.value[e]);return Xh(t,o,Object.keys(s||{}).reduce((t,n)=>(t[n]=kt(Rs(()=>{nh(i);const t=i._s.get(e);return s[n].call(t,t)})),t),{}))},t,i,n,!0),l}function Qh(e,t,i={},n,r,o){let s;const a=Xh({actions:{}},i);if(!n._e.active)throw new Error("Pinia destroyed");const l={deep:!0};let u,c;l.onTrigger=e=>{u?h=e:0!=u||C._hotUpdating||Array.isArray(h)&&h.push(e)};let h,d=[],p=[];const f=n.state.value[e];o||f||r||(n.state.value[e]={});const _=Dt({});let g;function m(t){let i;u=c=!1,h=[],"function"==typeof t?(t(n.state.value[e]),i={type:sh.patchFunction,storeId:e,events:h}):(Yh(n.state.value[e],t),i={type:sh.patchObject,payload:t,storeId:e,events:h});const r=g=Symbol();_i().then(()=>{g===r&&(u=!0)}),c=!0,Uh(d,i,n.state.value[e])}const y=o?function(){const{state:e}=i,t=e?e():{};this.$patch(e=>{Xh(e,t)})}:()=>{throw new Error(`: Store "${e}" is built using the setup syntax and does not implement $reset().`)};const v=(t,i="")=>{if(Gh in t)return t[zh]=i,t;const r=function(){nh(n);const i=Array.from(arguments),o=[],s=[];let a;Uh(p,{args:i,name:r[zh],store:C,after:function(e){o.push(e)},onError:function(e){s.push(e)}});try{a=t.apply(this&&this.$id===e?this:C,i)}catch(l){throw Uh(s,l),l}return a instanceof Promise?a.then(e=>(Uh(o,e),e)).catch(e=>(Uh(s,e),Promise.reject(e))):(Uh(o,a),a)};return r[Gh]=!0,r[zh]=i,r},b=kt({actions:{},getters:{},state:[],hotState:_}),w={_p:n,$id:e,$onAction:Hh.bind(null,p),$patch:m,$reset:y,$subscribe(t,i={}){const r=Hh(d,t,i.detached,()=>o()),o=s.run(()=>_o(()=>n.state.value[e],n=>{("sync"===i.flush?c:u)&&t({storeId:e,type:sh.direct,events:h},n)},Xh({},l,i)));return r},$dispose:function(){s.stop(),d=[],p=[],n._s.delete(e)}},C=yt(Xh({_hmrPayload:b,_customProperties:kt(new Set)},w));n._s.set(e,C);const x=(n._a&&n._a.runWithContext||Wh)(()=>n._e.run(()=>(s=ae()).run(()=>t({action:v}))));for(const I in x){const t=x[I];if(Tt(t)&&!Zh(t)||xt(t))r?_.value[I]=Ut(x,I):o||(f&&Kh(t)&&(Tt(t)?t.value=f[I]:Yh(t,f[I])),n.state.value[e][I]=t),b.state.push(I);else if("function"==typeof t){const e=r?t:v(t,I);x[I]=e,b.actions[I]=t,a.actions[I]=t}else if(Zh(t)&&(b.getters[I]=o?i.getters[I]:t,lh)){(x._getters||(x._getters=kt([]))).push(I)}}if(Xh(C,x),Xh(St(C),x),Object.defineProperty(C,"$state",{get:()=>r?_.value:n.state.value[e],set:e=>{if(r)throw new Error("cannot set hotState");m(t=>{Xh(t,e)})}}),C._hotUpdate=kt(t=>{C._hotUpdating=!0,t._hmrPayload.state.forEach(e=>{if(e in C.$state){const i=t.$state[e],n=C.$state[e];"object"==typeof i&&oh(i)&&oh(n)?Bh(i,n):t.$state[e]=n}C[e]=Ut(t.$state,e)}),Object.keys(C.$state).forEach(e=>{e in t.$state||delete C[e]}),u=!1,c=!1,n.state.value[e]=Ut(t._hmrPayload,"hotState"),c=!0,_i().then(()=>{u=!0});for(const e in t._hmrPayload.actions){const i=t[e];C[e]=v(i,e)}for(const e in t._hmrPayload.getters){const i=t._hmrPayload.getters[e],r=o?Rs(()=>(nh(n),i.call(C,C))):i;C[e]=r}Object.keys(C._hmrPayload.getters).forEach(e=>{e in t._hmrPayload.getters||delete C[e]}),Object.keys(C._hmrPayload.actions).forEach(e=>{e in t._hmrPayload.actions||delete C[e]}),C._hmrPayload=t._hmrPayload,C._getters=t._getters,C._hotUpdating=!1}),lh){const e={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(t=>{Object.defineProperty(C,t,Xh({value:C[t]},e))})}return n._p.forEach(e=>{if(lh){const t=s.run(()=>e({store:C,app:n._a,pinia:n,options:a}));Object.keys(t||{}).forEach(e=>C._customProperties.add(e)),Xh(C,t)}else Xh(C,s.run(()=>e({store:C,app:n._a,pinia:n,options:a})))}),C.$state&&"object"==typeof C.$state&&"function"==typeof C.$state.constructor&&C.$state.constructor.toString().includes("[native code]"),f&&o&&i.hydrate&&i.hydrate(C.$state,f),u=!0,c=!0,C}
/*! #__NO_SIDE_EFFECTS__ */function ed(e,t,i){let n;const r="function"==typeof t;function o(i,s){if((i=i||(!!(us||Ui||Rr)?Dr(rh,null):null))&&nh(i),!ih)throw new Error('[]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?\nSee https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.\nThis will fail in production.');(i=ih)._s.has(e)||(r?Qh(e,t,n,i):Jh(e,n,i),o._pinia=i);const a=i._s.get(e);if(s){const o="__hot:"+e,a=r?Qh(o,t,n,i,!0):Jh(o,Xh({},n),i,!0);s._hotUpdate(a),delete i.state.value[o],i._s.delete(o)}if(lh){const t=cs();if(t&&t.proxy&&!s){const i=t.proxy;("_pStores"in i?i._pStores:i._pStores={})[e]=a}}return a}return n=r?i:t,o.$id=e,o}function td(e){const t=St(e),i={};for(const n in t){const r=t[n];r.effect?i[n]=Rs({get:()=>e[n],set(t){e[n]=t}}):(Tt(r)||xt(r))&&(i[n]=Ut(e,n))}return i}const id=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,nd=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,rd=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function od(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t))return t}function sd(e,t){if(null==e)return;let i=e;for(let n=0;n<t.length;n++){if(null==i||null==i[t[n]])return;i=i[t[n]]}return i}function ad(e,t,i){if(0===i.length)return t;const n=i[0];return i.length>1&&(t=ad("object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,n)?e[n]:Number.isInteger(Number(i[1]))?[]:{},t,Array.prototype.slice.call(i,1))),Number.isInteger(Number(n))&&Array.isArray(e)?e.slice()[n]:Object.assign({},e,{[n]:t})}function ld(e,t){if(null==e||0===t.length)return e;if(1===t.length){if(null==e)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const i={};for(const t in e)i[t]=e[t];return delete i[t[0]],i}if(null==e[t[0]]){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const i={};for(const t in e)i[t]=e[t];return i}return ad(e,ld(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function ud(e,t){return t.map(e=>e.split(".")).map(t=>[t,sd(e,t)]).filter(e=>void 0!==e[1]).reduce((e,t)=>ad(e,t[1],t[0]),{})}function cd(e,t){return t.map(e=>e.split(".")).reduce((e,t)=>ld(e,t),e)}function hd(e,{storage:t,serializer:i,key:n,debug:r,pick:o,omit:s,beforeHydrate:a,afterHydrate:l},u,c=!0){try{c&&a?.(u);const r=t.getItem(n);if(r){const t=i.deserialize(r),n=o?ud(t,o):t,a=s?cd(n,s):n;e.$patch(a)}c&&l?.(u)}catch(h){}}function dd(e,{storage:t,serializer:i,key:n,debug:r,pick:o,omit:s}){try{const r=o?ud(e,o):e,a=s?cd(r,s):r,l=i.serialize(a);t.setItem(n,l)}catch(a){}}var pd=function(e={}){return function(t){!function(e,t,i){const{pinia:n,store:r,options:{persist:o=i}}=e;if(!o)return;if(!(r.$id in n.state.value)){const e=n._s.get(r.$id.replace("__hot:",""));return void(e&&Promise.resolve().then(()=>e.$persist()))}const s=(Array.isArray(o)?o:!0===o?[{}]:[o]).map(t);r.$hydrate=({runHooks:t=!0}={})=>{s.forEach(i=>{hd(r,i,e,t)})},r.$persist=()=>{s.forEach(e=>{dd(r.$state,e)})},s.forEach(t=>{hd(r,t,e),r.$subscribe((e,i)=>dd(i,t),{detached:!0})})}(t,i=>({key:(e.key?e.key:e=>e)(i.key??t.store.$id),debug:i.debug??e.debug??!1,serializer:i.serializer??e.serializer??{serialize:e=>JSON.stringify(e),deserialize:e=>function(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const i=e.trim();if(i.length<=9)switch(i.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!rd.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(id.test(e)||nd.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,od)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}(e)},storage:i.storage??e.storage??window.localStorage,beforeHydrate:i.beforeHydrate,afterHydrate:i.afterHydrate,pick:i.pick,omit:i.omit}),e.auto??!1)}}(),fd={name:"RealGrid2",version:"2.9.1.1904",license:"enterprise",code:null},_d=function(e,t){return(_d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function gd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}_d(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var md=function(){return md=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},md.apply(this,arguments)};function yd(e,t,i){if(i||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}var vd,bd,wd,Cd,xd,Id,Ed,Od,Sd="$_hash",kd="$_view",Pd="$_row",Rd="$_idx",Td="$_foc",Dd="$_lev";(Od=vd||(vd={})).TEXT="text",Od.NUMBER="number",Od.BOOLEAN="boolean",Od.DATETIME="datetime",Od.OBJECT="object",Od.CHAR="char",Od.UNUM="unum",Od.INT="int",Od.UINT="uint",Od.DATE="date",function(e){e.ASCENDING="ascending",e.DESCENDING="descending",e.NONE="none"}(bd||(bd={})),function(e){e.SENSITIVE="sensitive",e.INSENSITIVE="insensitive"}(wd||(wd={})),function(e){e.ROWS="rows",e.ITEMS="items"}(Cd||(Cd={})),function(e){e.AUTO="auto",e.EXPLICIT="explicit"}(xd||(xd={})),function(e){e.AUTO="auto",e.EXPLICIT="explicit"}(Id||(Id={})),function(e){e.NONE="none",e.HEADER="header",e.FOOTER="footer",e.SUMMARY="summary",e.BOTH="both"}(Ed||(Ed={}));var Md,Ld,Ad=function(e){return e==Ed.BOTH||e==Ed.HEADER};!function(e){e.ALWAYS="always",e.UPDATE="update",e.INSERT="insert"}(Md||(Md={})),function(e){e.ERROR="error",e.WARNING="warning",e.INFO="info",e.IGNORE="ignore"}(Ld||(Ld={}));var Fd,$d,Nd,jd,Bd,Vd,Hd,Ud,Wd,Gd,zd,Yd,qd,Kd,Xd,Zd,Jd,Qd,ep,tp,ip,np,rp,op,sp,ap,lp,up,cp,hp,dp={error:1,warning:2,info:3,ignore:4},pp=function(e,t){return dp[e]-dp[t]};!function(e){e.NONE="none",e.AGGREGATE="aggregate",e.STATISTICAL="statistical"}(Fd||(Fd={})),function(e){e.NONE="none",e.LEFT_EDGE="leftEdge",e.RIGHT_EDGE="rightEdge",e.TOP_EDGE="topEdge",e.BOTTOM_EDGE="bottomEdge",e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom",e.CENTER="center"}($d||($d={})),function(e){e.NONE="none",e.HEAD="head",e.BODY="body",e.TAIL="tail"}(Nd||(Nd={})),function(e){e.NONE="none",e.EVEN="even",e.EVEN_FILL="evenFill",e.FILL="fill"}(jd||(jd={})),function(e){e.DATA="data",e.HEADER="header",e.FOOTER="footer",e.SUMMARY="summary",e.INDICATOR="indicator",e.STATE="state",e.CHECK="check",e.HEAD="head",e.FOOT="foot",e.SUM="sum",e.FIXED_BAR="fixedbar",e.GROUP_HEADER="groupHeader",e.GROUP_FOOTER="groupFooter",e.GROUP_BAR="groupBar",e.GROUP_HEAD="groupHead",e.GROUP_FOOT="groupFoot",e.GROUP_PANEL="groupPanel",e.GROUP_COLUMN="groupColumn",e.GRID_EMPTY="gridEmpty",e.LAYOUT_HEADER="layoutHeader",e.FILTER="filter",e.INLINE_FILTER="inlineFilter",e.SCROLL_BAR="scrollBar",e.SCROLL_TRACK="scrollTrack",e.SCROLL_THUMB="scrollThumb",e.SCROLL_BUTTON="scrollButton",e.SCROLL_EDGE="scrollEdge"}(Bd||(Bd={})),function(e){e.NONE="none",e.ROW="row",e.DATA="data",e.FILL="fill",e.CELL="cell"}(Vd||(Vd={})),function(e){e.NORMAL="normal",e.UPPER="upper",e.LOWER="lower",e.DEFAULT="default"}(Hd||(Hd={})),function(e){e.NORMAL="normal",e.TODAY="today",e.TODAY_WHEN_NULL="todayWhenNull",e.DEFAULT="default",e.DEFAULT_WHEN_NULL="defaultWhenNull"}(Ud||(Ud={})),function(e){e.NONE="none",e.EXCLUSIVE="exclusive",e.INCLUSIVE="inclusive",e.REVERSE="reverse"}(Wd||(Wd={})),function(e){e.NORMAL="normal",e.CHECK="check",e.RADIO="radio",e.SEPARATOR="separator"}(Gd||(Gd={})),function(e){e.VISIBLE="visible",e.HOVERED="hovered",e.ALWAYS="always",e.HIDDEN="hidden",e.ACTIVE_OR_HOVERED="activeOrHovered"}(zd||(zd={})),function(e){e.NONE="none",e.ACTION="action",e.POPUP="popup"}(Yd||(Yd={})),function(e){e.ALWAYS="always",e.DEFAULT="default",e.VISIBLE="visible",e.HIDDEN="hidden",e.ROWFOCUSED="rowfocused"}(qd||(qd={})),function(e){e.LEFT="left",e.RIGHT="right",e.LEFT_EDGE="leftEdge",e.RIGHT_EDGE="rightEdge",e.TOP="top",e.BOTTOM="bottom",e.TOP_EDGE="topEdge",e.BOTTOM_EDGE="bottomEdge",e.CENTER="center"}(Kd||(Kd={})),function(e){e.ALL="all",e.VISIBLE_ONLY="visibleOnly",e.RECYCLE="recycle"}(Xd||(Xd={})),function(e){e.CANCEL="cancel",e.COMMIT="commit",e.DEFAULT="default"}(Zd||(Zd={})),function(e){e.ROW="row",e.GROUP="group",e.FOOTER="footer",e.TREE="tree"}(Jd||(Jd={})),function(e){e.COUNT="count",e.SUM="sum",e.MAX="max",e.MIN="min",e.AVG="avg",e.VAR="var",e.VARP="varp",e.STDEV="stdev",e.STDEVP="stdevp",e.DATACOUNT="datacount",e.DATAAVG="dataavg"}(Qd||(Qd={})),function(e){e.ALWAYS="always",e.DEFAULT="default",e.NONE="none"}(ep||(ep={})),function(e){e.ROW="row",e.GRID="grid",e.NONE="none"}(tp||(tp={})),function(e){e.LAYER="layer",e.LINE="line"}(ip||(ip={})),function(e){e.LEFT_TOP="leftTop",e.LEFT_BOTTOM="leftBottom",e.RIGHT_TOP="rightTop",e.RIGHT_BOTTOM="rightBottom"}(np||(np={})),function(e){e.EXPAND="expand",e.COLLAPSE="collapse",e.ALWAYS="always"}(rp||(rp={})),function(e){e.NONE="none",e.OVER="over",e.ALWAYS="always"}(op||(op={})),function(e){e.EQUAL="equal",e.NOT_EQUAL="notEqual",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",e.RESET="reset",e.GREATER="greater",e.GREATER_EQUAL="greaterEqual",e.LOWER="lower",e.LOWER_EQUAL="lowerEqual",e.BETWEEN="between",e.EMPTY="empty"}(sp||(sp={})),function(e){e.TRIANGLE="triangle",e.SQUARE="square"}(ap||(ap={})),function(e){e.FIRST="first",e.LAST="last",e.DEFAULT="default"}(lp||(lp={})),function(e){e.EXPAND="expand",e.COLLAPSE="collapse",e.REMAIN_AND_EXPAND="remainAndExpand",e.REMAIN_AND_COLLAPSE="remainAndCollapse"}(up||(up={})),function(e){e.NONE="none",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second",e.AUTO="auto"}(cp||(cp={})),function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"}(hp||(hp={}));var fp,_p=function(){function e(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=e,this.y=t,this.width=i,this.height=n}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},set:function(e){var t=e-this.x;this.x+=t,this.width-=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},set:function(e){var t=e-(this.x+this.width);this.width+=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},set:function(e){var t=e-this.y;this.y+=t,this.height-=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},set:function(e){var t=e-(this.y+this.height);this.height+=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.width||0===this.height},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.getInner=function(){return new e(0,0,this.width,this.height)},e.prototype.equals=function(e){return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},e.prototype.leftBy=function(e){return this.x+=e,this.width-=e,this},e.prototype.rightBy=function(e){return this.width+=e,this},e.prototype.topBy=function(e){return this.y+=e,this.height-=e,this},e.prototype.bottomBy=function(e){return this.height+=e,this},e.prototype.shrink=function(e,t){return this.width-=e,this.height-=t,this},e.prototype.expand=function(e,t){return this.width+=e,this.height+=t,this},e.prototype.contains=function(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height},e.prototype.setEmpty=function(){return this.width=this.height=0,this},e.prototype.move=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t,this},e.prototype.set=function(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this},e.prototype.setWidth=function(e){return this.width=e,this},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyHorz=function(e){return this.x=e.x,this.width=e.width,this},e.prototype.copyVert=function(e){return this.y=e.y,this.height=e.height,this},e.prototype.inflate=function(e,t,i,n){return void 0===e&&(e=0),void 0===t&&(t=void 0),void 0===i&&(i=void 0),void 0===n&&(n=void 0),t=void 0!==t?t:e,i=void 0!==i?i:e,n=void 0!==n?n:t,e&&(this.left=this.x-e),t&&(this.top=this.y-t),i&&(this.right=this.right+i),n&&(this.bottom=this.bottom+n),this},e.prototype.offset=function(e,t){return this.x+=e,this.y+=t,this},e.prototype.round=function(){var e=this.clone();return e.x>>>=0,e.y>>>=0,e.width>>>=0,e.height>>>=0,e},e.prototype.union=function(e){var t=this.clone();return t.left=Math.min(this.x,e.x),t.right=Math.max(this.right,e.right),t.top=Math.min(this.y,e.y),t.bottom=Math.max(this.bottom,e.bottom),t},e.prototype.normalize=function(){return this.width<0&&(this.x-=this.width,this.width*=-1),this.height<0&&(this.y-=this.height,this.height*=-1),this},e.prototype.toString=function(){return"{x: "+this.x+", y: "+this.y+", width: "+this.width+", height: "+this.height+"}"},e.Temp=new e,e}(),gp="undefined"!=typeof window?window:{},mp={ua:(fp="undefined"!=typeof window&&window.navigator||{}).userAgent||"",platform:(fp.platform||"").toUpperCase()},yp=mp.ua,vp=mp.platform,bp=vp.indexOf("MAC")>=0,wp=vp.indexOf("WIN")>=0,Cp=!!gp.chrome,xp=void 0!==gp.InstallTrigger,Ip=!!gp.safari||!Cp&&yp.indexOf("Safari")>=0,Ep=/iPad|iPhone|iPod/.test(yp)&&!gp.MSStream,Op=!!yp.match(/Trident.*rv\:11\./),Sp=-1!==yp.indexOf("MSIE 10"),kp=-1!==yp.indexOf("MSIE 9"),Pp=Op||Sp||kp,Rp=Date.now(),Tp=void 0,Dp=void 0,Mp=void 0,Lp=void 0,Ap=void 0;function Fp(e){return e&&e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow)}function $p(e){return e&&e.ownerDocument}function Np(e){return e.defaultView||e.parentWindow}var jp,Bp=function(){function e(){}return e.stopEvent=function(e,t){void 0===t&&(t=!1),e.preventDefault?(e.preventDefault(),e.stopPropagation()):e.returnValue=!1,t&&e.stopImmediatePropagation()},e.setDebugging=function(t,i,n){e.$$_debugging=i,e.$$_keyLog=n},e.isDebugging=function(){return e.$$_debugging},e.setSlotMode=function(t){e.$$_slotMode=t},e.setLanguage=function(t){e.$$_lang=t},Object.defineProperty(e,"language",{get:function(){return this.$$_lang},enumerable:!1,configurable:!0}),e.isSlotMode=function(){return e.$$_slotMode},e.log=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];e.isDebugging()},e.keyLog=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];e.$$_keyLog},e.isArray=function(e){return Array.isArray(e)},e.isObject=function(e){return null!=e&&"object"==typeof e},e.makeArray=function(t,i){return void 0===i&&(i=!1),null!=t?e.isArray(t)?t:[t]:i?[]:void 0},e.isNumber=function(e){return"number"==typeof e},e.getNumber=function(e,t){return isNaN(parseFloat(e))?t:parseFloat(e)},e.getTimer=function(){return(new Date).getTime()-Rp},e.isWhiteSpace=function(e){return!e||!e.trim()},e.pad=function(e,t,i){return t=Math.max(t||2,1),i=i||"0",new Array(t-String(e).length+1).join(i)+e},e.pick=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i,n=e.length,r=0;r<n;r++)if(null!=(i=e[r]))return i},e.included=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var n=t.length,r=0;r<n;r++)if(t[r]==e)return!0;return!1},e.valueIn=function(e,t){if("object"==typeof t)for(var i=Object.keys(t),n=0;n<i.length;n++)if(t[i[n]]===e)return!0;return!1},e.compareTextValue=function(e,t,i,n){if(e===t)return!0;var r=String(e),o=null==t?void 0:String(t);return!r&&!o||!(!r||!o)&&(i||(r=r.toLowerCase(),o=o.toLowerCase()),n?o.indexOf(r)>=0:r==o)},e.cast=function(e,t){return e instanceof t?e:null},e.toInt=function(e,t){var i=parseInt(e,t||10);return isNaN(i)?0:i},e.toFloat=function(e){var t=parseFloat(e);return isNaN(t)?0:t},e.hex=function(e,t,i){void 0===t&&(t=2),void 0===i&&(i="0"),t=Math.max(t||2,1);var n=e.toString(16);return i=i||"0",new Array(t-n.length+1).join(i)+n},e.deepCopy=function(t){if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return new Date(t);for(var i=e.isArray(t)?[]:{},n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];t.hasOwnProperty(o)&&(i[o]=e.deepCopy(t[o]))}return i},e.extendObj=function(e,t){if(null==e||"object"!=typeof e||null==t||"object"!=typeof t)return t;for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];e.hasOwnProperty(r)&&void 0===t[r]&&(t[r]=e[r])}return t},e.getBounds=function(e){var t=new _p;return t.x=e.offsetLeft,t.y=e.offsetTop,t.width=e.offsetWidth,t.height=e.offsetHeight,t},e.toStr=function(e){return"number"==typeof e?isNaN(e)?"":String(e):null!=e?String(e):""},e.setBounds=function(e,t,i,n,r){var o=e.style;o.left=t+"px",o.top=i+"px",o.width=n+"px",o.height=r+"px"},e.getClientRect=function(t){var i=t.getBoundingClientRect(),n=e.getZoom(t),r=new _p(i.left/n,i.top/n,i.width/n,i.height/n);return r.cx=t.offsetLeft,r.cy=t.offsetTop,r},e.getZoom=function(e){var t,i=e.offsetWidth,n=e.offsetHeight,r=e.getBoundingClientRect();try{t=(r.height/n+r.width/i)/2}catch(o){t=1}return Math.round(100*t)/100},e.getMargin=function(e){var t=0,i=0;if(e instanceof Fp(e).HTMLBodyElement)for(var n=e;n;){var r=getComputedStyle(n);"static"===r.position&&(t+=parseFloat(r.marginLeft)||0,i+=parseFloat(r.marginTop)||0),n=n.parentElement}return{x:t,y:i}},e.getChildIndex=function(e){if(e){var t=e.parentNode;if(t)for(var i=t.children,n=i.length;n--;)if(i[n]===e)return n}return-1},e.clearChildren=function(e){for(var t;t=e.lastChild;)e.removeChild(t)},e.clearElements=function(t){for(var i;i=t.lastChild;)e.clearElements(i),t.removeChild(i)},e.addChild=function(e,t){return!(!e||!t||t.parentNode===e||(e.appendChild(t),0))},e.removeChild=function(e,t){return!(!e||!t||t.parentNode!==e||(e.removeChild(t),0))},e.disableSelection=function(e){var t=e.style;t["-moz-user-select"]="-moz-none",t["-khtml-user-select"]="none",t["-webkit-user-select"]="none",t["-o-user-select"]="none",t["-ms-user-select"]="none",t["user-select"]="none"},e.setMobile=function(e){Tp=e},e.setIECompatMode=function(e){Ap=e},e.setTablet=function(e){Mp=e},e.isMobile=function(){return void 0!==Tp?Tp:(void 0===Dp&&(Dp=this.$_checkMobile()),Dp)},e.isIEMode=function(){return!e.isMobile()&&!e.isChromium&&Ap&&!1===navigator.msPointerEnabled},e.isTablet=function(){return void 0!==Mp?Mp:(void 0===Lp&&(Lp=this.$_checkTablet()),Lp)},e.$_checkTablet=function(){return e.isMobile()&&/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(yp.toLowerCase())},e.$_checkMobile=function(){var e=!1;return(yp.match(/Android/i)||yp.match(/webOS/i)||yp.match(/iPhone/i)||yp.match(/iPad/i)||yp.match(/iPod/i)||yp.match(/BlackBerry/i)||yp.match(/Windows Phone/i))&&(e=!0),e||(e="ontouchstart"in window&&yp.indexOf("Macintosh")>=0),e},e.getBrowserSize=function(t){var i=t?t.ownerDocument:document,n=i.defaultView,r=i.body,o=i.documentElement,s=e.getZoom(r);return{width:n.innerWidth/s||o.clientWidth||r.clientWidth,height:n.innerHeight/s||o.clientHeight||r.clientHeight}},e.move=function(e,t,i){e.style.left=t+"px",e.style.top=i+"px"},e.htmlEncode=function(e){return document.createElement("a").appendChild(document.createTextNode(e)).parentNode.innerHTML},e.detach=function(e){return e&&e.parentNode&&e.parentNode.removeChild(e),null},e.getSize=function(t){return e.getClientRect(t)},e.getScrolled=function(e){var t=e.body,i=Np(e),n=e.documentElement;return{sx:i.pageXOffset||n.scrollLeft||t.scrollLeft,sy:i.pageYOffset||n.scrollTop||t.scrollTop}},e.getOffset=function(t){var i=e.getZoom(t),n=t.ownerDocument,r=n.defaultView,o=e.getClientRect(t),s=n.body,a=n.documentElement,l=r.pageYOffset||a.scrollTop||s.scrollTop,u=r.pageXOffset||a.scrollLeft||s.scrollLeft;l/=i,u/=i;var c=a.clientTop||s.clientTop||0,h=a.clientLeft||s.clientLeft||0,d=o.left+u-h,p=o.top+l-c;return{x:Math.round(d),y:Math.round(p)}},e.isAncestorOf=function(e,t,i){var n;if(t instanceof HTMLElement)n=t;else for(var r=this.getComposedPath(i);r.length;){var o=r.shift();if(o instanceof HTMLElement){n=o;break}}for(;n;){if(n==e)return!0;n=n.parentElement}return!1},e.getComposedPath=function(e){if(e.composedPath)return e.composedPath();for(var t=e.target,i=[];t;)i.push(t),t=t.parentElement||t.parentNode;return i},e.equalNumbers=function(e,t){return isNaN(e)&&isNaN(t)||!isNaN(e)&&e==t},e.equalArrays=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;var i=e.length;if(i!=t.length)return!1;for(var n=0;n<i;++n)if(e[n]!==t[n])return!1;return!0},e.equalObjects=function(e,t){return e==t||JSON.stringify(e)===JSON.stringify(t)},e.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},e.incMonth=function(t,i){var n=t.getDate();return t.setDate(1),t.setMonth(t.getMonth()+i),t.setDate(Math.min(n,e.month_days[e.isLeapYear(t.getFullYear())?1:0][t.getMonth()])),t},e.incYear=function(t,i){var n=t.getDate();return t.setDate(1),t.setFullYear(t.getFullYear()+i),t.setDate(Math.min(n,e.month_days[e.isLeapYear(t.getFullYear())?1:0][t.getMonth()])),t},e.setClassName=function(e,t){(t=t||"")!=e.className&&(e.className=t)},e.addClassName=function(e,t){if(t=t||"",e.classList)e.classList.add(t);else{var i=e.className.split(" ");i.indexOf(t)<0&&i.push(t),e.className=i.join(" ")}},e.removeClassName=function(e,t){if(e.classList)e.classList.remove(t);else{var i,n=e.className.split(" ");(i=n.indexOf(t))>=0&&n.splice(i,1),e.className=n.join(" ")}},e.setStyle=function(e,t){var i=t.style;for(var n in e)null!=e[n]?i[n]=e[n]:(i.removeProperty?i.removeProperty(n):i.removeAttribute&&i.removeAttribute(n),i[n]="")},e.getTextLength=function(e){for(var t=0,i=0,n=0;e&&(i=e.charCodeAt(n));n++)t+=i>>7?2:1;return t},e.escapeRegExp=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},e.isEmpty=function(e){return e&&Object.keys(e).length>0},e.isPassive=function(){if(null===e.$_supportPassive){e.$_supportPassive=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){e.$_supportPassive=!0}}))}catch(VY){e.log("passive not support")}}return e.$_supportPassive},e.hangulToChosungAll=function(t){for(var i="",n=0;n<t.length;n++){var r=t.charCodeAt(n)-44032;i+=r>-1&&r<11172?e.cho[Math.floor(r/588)]:t[n]}return i},e.hangulToChosung=function(t){var i={cho:t,org:t};if(/[-]/.test(t)){var n=e.cho,r=t.charCodeAt(0);r>=12593&&r<=12622&&(i.org=void 0),(r-=44032)>=0&&r<11172&&(i.cho=n[Math.floor(r/588)])}return i},e.addQuot=function(e,t){return e&&(e.indexOf("\n")>=0||e.indexOf("\r\n")>=0||'"'==e.charAt(0))&&(e='"'+(e=e.replace(/\"/g,'""'))+'"'),e},e.addQuatation=function(e,t,i,n){return null!=e&&((i||n)&&(i&&e&&(e=e.replace(/\n/g,i)),n&&e&&(e=e.replace(/\r/g,n))),(t||e.indexOf("\n")>=0||e.indexOf(",")>=0||e.indexOf('"')>=0)&&(e='"'+e.replace(/\"/g,'""')+'"')),null===e?"":e},e.isClickableTemplate=function(e,t){return Array.prototype.some.call(e.querySelectorAll("input, textarea, a, select, button, [tabindex]"),function(e){return t===e})},e.isFocusableTemplate=function(e,t){return Array.prototype.some.call(e.querySelectorAll("input, textarea, select"),function(e){var i=e.type;return e===t&&"button"!==i&&"checkbox"!==i})},e.objectToCssText=function(e){return"string"==typeof e?e:e?Object.keys(e).map(function(t){return"".concat(t.split(/(?=[A-Z])/).join("-").toLowerCase(),":").concat(e[t])}).join(";"):null},e.getLast=function(e){return e[e.length-1]},e.camelToHyphen=function(e,t,i){return void 0===i&&(i="-"),e?t?e.split(/(?=[A-Z])/).join(i).toUpperCase():e.split(/(?=[A-Z])/).join(i).toLowerCase():e},e.find=function(e,t){for(var i=0;i<e.length;i++)if(t.call(null,e[i],i,e))return e[i]},e.isInteractive=function(e){var t=Fp(e);return e instanceof(null==t?void 0:t.HTMLInputElement)&&"checkbox"===e.type||e instanceof(null==t?void 0:t.HTMLAnchorElement)},e.assign=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var n=Object(e),r=0;r<t.length;r++){var o=t[r];if(null!=o)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])}return n},e.setInert=function(e,t){t?e.removeAttribute("inert"):e.setAttribute("inert","")},e.insertBefore=function(e,t,i){if(t.nextElementSibling!==i)return e.insertBefore(t,i)},e.ctrlKey=function(t){var i=e.isMac||e.isiOS;return t&&(i&&t.metaKey||!i&&t.ctrlKey)},e.specialKey=function(e){return e&&(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)},e.resetPosition=function(t,i,n,r,o,s,a,l){var u=$p(n),c=Fp(n),h=e.getBrowserSize(),d=e.getSize(t),p=i?e.getSize(i):{left:0,top:0},f=h.width,_=h.height,g=e.getSize(n),m=c.pageXOffset||u.documentElement.scrollLeft,y=c.pageYOffset||u.documentElement.scrollTop;u.documentElement.scrollWidth>u.documentElement.clientWidth&&(_-=18),u.documentElement.scrollHeight>u.documentElement.clientHeight&&(f-=18);var v=e.getMargin(t);r+=v.x,o+=v.y,r+=p.left-d.left,o+=p.top-d.top,(e.ieTen||e.ieOld)&&(r+=u.documentElement.scrollLeft,o+=u.documentElement.scrollTop),o+g.height>_+y&&a&&(o=o-a.height-g.height)<0&&(o=_-g.height-2),e.isMobile()&&!e.isTablet()||!a||(d.bottom<a.bottom+g.height||_+y<a.bottom+g.height)&&(o=a.top-g.height-d.top-2),l?r=Math.max(0,r+s-g.width):r+g.width>f+m&&(r=f-g.width),e.isMobile()&&!e.isTablet()||n.offsetParent||(r+=u.documentElement.offsetLeft,o+=u.documentElement.offsetTop),e.move(n,Math.max(0,r),Math.max(0,o))},e.isIE=Pp,e.ieAll=Pp,e.ieOld=kp,e.isMac=bp,e.isWin=wp,e.isSafari=Ip,e.isChrome=Cp,e.isFirefox=xp,e.ieTen=Sp,e.ieNine=kp,e.isiOS=Ep,e.isChromium=Cp,e.TextProp=e.ieAll?"innerText":"textContent",e.month_days=[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]],e.cho=["","","","","","","","","","","","","","","","","","",""],e.colonreg=/;(?=(?:[^"]*"[^"]*")*(?![^"]*"))/,e.$_INVISIBLE_EDIT_BOUNDS=new _p(-1e4,-1e4,100,100),e.$$_debugging=!1,e.$$_keyLog=!1,e.$$_slotMode=!1,e.$_supportPassive=null,e}(),Vp=function(){function e(){}return e.encode=function(t){var i,n,r,o,s,a,l,u="",c=0,h=e.CHARACTERS;for(t=e.utf8_encode(t);c<t.length;)o=(i=t.charCodeAt(c++))>>2,s=(3&i)<<4|(n=t.charCodeAt(c++))>>4,a=(15&n)<<2|(r=t.charCodeAt(c++))>>6,l=63&r,isNaN(n)?a=l=64:isNaN(r)&&(l=64),u=u+h.charAt(o)+h.charAt(s)+h.charAt(a)+h.charAt(l);return u},e.decode=function(t){var i,n,r,o,s,a,l="",u=0,c=e.CHARACTERS;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)i=c.indexOf(t.charAt(u++))<<2|(o=c.indexOf(t.charAt(u++)))>>4,n=(15&o)<<4|(s=c.indexOf(t.charAt(u++)))>>2,r=(3&s)<<6|(a=c.indexOf(t.charAt(u++))),l+=String.fromCharCode(i),64!=s&&(l+=String.fromCharCode(n)),64!=a&&(l+=String.fromCharCode(r));return e.utf8_decode(l)},e.utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},e.utf8_decode=function(e){for(var t="",i=0,n=0,r=0,o=0,s=e.length;i<s;)(n=e.charCodeAt(i))<128?(t+=String.fromCharCode(n),i++):n>191&&n<224?(r=e.charCodeAt(i+1),t+=String.fromCharCode((31&n)<<6|63&r),i+=2):(r=e.charCodeAt(i+1),o=e.charCodeAt(i+2),t+=String.fromCharCode((15&n)<<12|(63&r)<<6|63&o),i+=3);return t},e.CHARACTERS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e.btoa=function(t){for(var i,n,r,o,s=e.CHARACTERS,a="",l=0,u=(t=String(t)).length%3;l<t.length;){if((n=t.charCodeAt(l++))>255||(r=t.charCodeAt(l++))>255||(o=t.charCodeAt(l++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");i=n<<16|r<<8|o,a+=s.charAt(i>>18&63)+s.charAt(i>>12&63)+s.charAt(i>>6&63)+s.charAt(63&i)}return u?a.slice(0,u-3)+"===".substring(u):a},e}();!function(e){e.NONE="none",e.CREATED="created",e.UPDATED="updated",e.DELETED="deleted",e.CREATE_AND_DELETED="createAndDeleted"}(jp||(jp={}));var Hp=function(e){return e==jp.DELETED||e==jp.CREATE_AND_DELETED},Up=function(){function e(e){this.format=e}return Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(e){e!=this._format&&(this._format=e,this.parse(e))},enumerable:!1,configurable:!0}),e.prototype.toBool=function(e){return!!this.toBoolStrict(e)},e.prototype.toBoolEx=function(e){var t=this._sensitive?e:e.toLowerCase(),i=this.$_toBool(e);return null!=i?i:t?Boolean(t):void 0},e.prototype.toBoolStrict=function(e){return this.$_toBool(e)},e.prototype.toText=function(e){return e?this._trueText:this._falseText},e.prototype.$_toBool=function(e){if(this._values){var t=this._sensitive?e:e.toLowerCase();if(t in this._values)return this._values[t]}},e.prototype.parse=function(e){var t=this;if(this._values={},e){this._trueText=this._falseText=null;var i=e.split(/[;\:]/),n=this._sensitive="0"!=i[2],r=i[0]?n?i[0].split(","):i[0].toLowerCase().split(","):null,o=i[1]?n?i[1].split(","):i[1].toLowerCase().split(","):null;r&&r.forEach(function(e){t._values[e]=!1,t._falseText=t._falseText||e}),o&&o.forEach(function(e){t._values[e]=!0,t._trueText=t._trueText||e})}else this._values[this._trueText="true"]=!0,this._values[this._falseText="false"]=!1},e.Default=new e("false,f,0:true,t,1:0"),e}(),Wp=function(){function e(e){this._format=null,this._baseYear=2e3,this._patterns=[],this._amText="AM",this._pmText="PM",this._matchPattern=!1,e&&(this.format=e)}return Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(e){if(e!=this._format){if(!e)throw new Error("Invalid empty date format");this._format=e,this.parseFormat(e)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseYear",{get:function(){return this._baseYear},set:function(e){e!=this._baseYear&&(this._baseYear=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amText",{get:function(){return this._amText},set:function(e){e!=this._amText&&(this._amText=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pmText",{get:function(){return this._pmText},set:function(e){e!=this._pmText&&(this._pmText=e)},enumerable:!1,configurable:!0}),e.prototype.parse=function(t,i){try{for(var n=0,r=1,o=1,s=0,a=0,l=0,u=0,c=0,h=0,d=this._patterns.length,p=0,f=t.length,_=this._matchPattern,g=this.getStrPattern(t),m=0;m<d&&p<f;m++){var y=this._patterns[m],v=y.c,b=y.len;switch(v){case"y":n=parseInt(_?g[m]:t.substr(p,b));break;case"M":r=parseInt(_?g[m]:t.substr(p,b));break;case"d":o=parseInt(_?g[m]:t.substr(p,b));break;case"a":if(this._amText&&(_?g[m]===this._amText:t.indexOf(this._amText,p)==p))c=12,b=this._amText.length;else if(_?"am"===g[m].toLocaleLowerCase():"am"===t.substr(p,2).toLocaleLowerCase())c=12,b=2;else if(this._pmText&&(_?g[m]===this._pmText:t.indexOf(this._pmText,p)==p))h=12,b=this._pmText.length;else{if(_?"pm"!==g[m].toLocaleLowerCase():"pm"!==t.substr(p,2).toLocaleLowerCase()){if(i)throw"Invalid date value: "+t;return null}h=12,b=2}break;case"H":case"h":s=parseInt(_?g[m]:t.substr(p,b));break;case"m":a=parseInt(_?g[m]:t.substr(p,b));break;case"s":l=parseInt(_?g[m]:t.substr(p,b));break;case"S":u=parseInt(_?g[m]:t.substr(p,b));break;case".":case"/":case"-":case":":case" ":if(e.DATE_SEPARATORS.indexOf(_?g[m]:t.charAt(p))<0){if(i)throw"Invalid date value: ".concat(t,", invalid token[").concat(_?g[m]:t.charAt(p),"]");return null}break;default:if(i)throw"Invalid date value: ".concat(t,", invalid pattern[").concat(_?g[m]:t.charAt(p),"]");return null}p+=b}n<100&&(n+=this._baseYear),c>0?12==s&&(s=0):h>0&&s<12&&(s+=12);var w=new Date(n,r-1,o,s,a,l,u);return w.getFullYear()===n&&w.getMonth()===r-1&&w.getDate()===o?w:null}catch(C){if(i)throw C;return null}},e.prototype.parseFormat=function(e){var t=this,i=0,n=function(e){e&&!isNaN(parseInt(e))&&(t._baseYear=parseInt(e))},r=function(e){if(e){var i=e.split(",");i.length>0&&i[0]&&(t._amText=i[0]||t._amText),i.length>1&&i[1]&&(t._pmText=i[1]||t._pmText)}},o=e.split(";");if(o.length>2)n(o[1]),r(o[2]);else if(o.length>1){var s=o[1];isNaN(parseInt(s))?s&&r(s):n(s)}var a,l,u,c=o[0],h=c.length,d=0;for(this._patterns=[];d<h;)if(a=d,l=c.charAt(d),Bp.isWhiteSpace(l)){for(d++;d<h&&Bp.isWhiteSpace(c.charAt(d));)d++;this._patterns.push({c:" ",p:a,len:d-a}),i++}else{switch(u=0,l){case"y":4!=(u=this.getPattern(c,d,l))&&2!=u&&this.throwInvalidFormat(c);break;case"M":case"d":case"H":case"h":case"m":case"s":case"S":u=this.getPattern(c,d,l);break;case".":case"/":case"-":case":":i++;case"a":1!=(u=this.getPattern(c,d,l))&&this.throwInvalidFormat(c);break;default:this.throwInvalidFormat(c)}u>0&&(this._patterns.push({c:l,p:d,len:u}),d+=u)}this._matchPattern=2*i+1===this._patterns.length},e.prototype.throwInvalidFormat=function(e){throw new Error("Invalid date format: "+e)},e.prototype.throwInvalidValue=function(e){throw new Error("Invalid date format: "+e)},e.prototype.getPattern=function(e,t,i){for(var n=1;++t<e.length&&e.charAt(t)==i;)n++;return n},e.prototype.getStrPattern=function(e){for(var t=e.length,i=0,n=0,r=[];t>i;){var o=e[i];if(/-|\.|\/|:| /.test(o))if(r.push(e.substr(n,i-n)),r.push(o),Bp.isWhiteSpace(o)){for(;Bp.isWhiteSpace(e[++i])&&t>i;);n=i}else n=i+1;i++}return r.push(e.substr(n,i-n)),r},e.DATE_SEPARATORS="./-: ",e}(),Gp=function(){function e(e){this._format="",this._type=0,this._parser=new Wp(null),this.format=e}return e.initialize=function(){e.Default.amText="AM",e.Default.pmText="PM",e.Default.baseYear=2e3},e.getReader=function(t){var i=e.Formatters[t];return i||(e.Formatters[t]=i=new e(t)),i},e.getSimpleDateNull=function(e){if(e instanceof Date)return e;if("number"==typeof e)return new Date(e);if("string"!=typeof e)return null;var t=(e=8===e.length&&/^[0-9]*$/.test(e)?e.replace(/(\d{4})(\d{2})(\d{2})/,"$1/$2/$3"):e).split(/[.//-]/);if(3!=t.length)return null;var i=parseInt(t[0]),n=parseInt(t[1])-1,r=parseInt(t[2]);return i==(e=new Date(i,n,r)).getFullYear()&&n==e.getMonth()&&r==e.getDate()?e:null},Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(e){e!=this._format&&(this._format=e,this.parse(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amText",{get:function(){return this._parser.amText},set:function(e){this._parser.amText=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pmText",{get:function(){return this._parser.pmText},set:function(e){this._parser.pmText=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseYear",{get:function(){return this._parser.baseYear},set:function(e){this._parser.baseYear=e},enumerable:!1,configurable:!0}),e.prototype.toDate=function(e,t){if(!e)return null;var i=null;switch(this._type){case 0:i=this._parser.parse(e,t);break;case 2:var n=parseInt(e);i=new Date(n);break;default:i=new Date(e)}return i&&!isNaN(i.getTime())?i:null},e.prototype.parse=function(t){if(t){if(t.indexOf("T")>0||t.indexOf("Z")>0||/([+\-])(\d\d)?(:)?(\d\d)?$/.test(t))this._type=e.Formats.indexOf("iso");else{var i=t.toLowerCase();this._type=Math.max(0,e.Formats.indexOf(i))}0==this._type&&(this._parser.format=t)}},e.Formats=["custom","iso","timestamp","platform"],e.Default=new e("yyyy/MM/dd HH:mm:ss"),e.Formatters={},e}();Gp.initialize();var zp=0,Yp=function(){function e(e){this.$_disposed=!1,e||(this.$_hash=zp++)}return e.prototype.dispose=function(){return this.$_disposed||this.$_disposing||(this.$_disposed=!0,this.$_disposing=!0,this._doDispose()),null},e.prototype._doDispose=function(){},Object.defineProperty(e.prototype,"disposing",{get:function(){return this.$_disposing},enumerable:!1,configurable:!0}),e.prototype.isMe=function(e){return e==this.$_hash},e.prototype.$_getters=function(e){for(var t=[],i=Object.getOwnPropertyNames(e),n=0,r=i.length;n<r;n++){var o=i[n],s=Object.getOwnPropertyDescriptor(e,o);s&&s.get&&t.push(o)}return t},e.prototype.doAssignSimple=function(e){return!1},e.prototype.assignFrom=function(t){var i=Object.getPrototypeOf(this);if(t instanceof e)for(var n=Object.getPrototypeOf(t),r={};n&&n.constructor!=e;){for(var o=this.$_getters(n),s=0,a=o.length;s<a;s++)if(!((h=o[s])in r))if(r[h]=null,d=Object.getOwnPropertyDescriptor(i,h))d.set&&(u=Object.getOwnPropertyDescriptor(n,h).get)&&d.set.call(this,u.call(t));else for(var l=Object.getPrototypeOf(i);l;){var u,c=Object.getOwnPropertyDescriptor(l,h);if(c)c.set&&(u=Object.getOwnPropertyDescriptor(n,h).get)&&c.set.call(this,u.call(t)),l=null;else l=Object.getPrototypeOf(l)}n=Object.getPrototypeOf(n)}else if(!this.doAssignSimple(t))for(var h in t){var d;if(d=Object.getOwnPropertyDescriptor(i,h))d.set&&d.set.call(this,t[h]);else for(l=Object.getPrototypeOf(i);l;){var p=Object.getOwnPropertyDescriptor(l,h);p?(p.set&&p.set.call(this,t[h]),l=null):l=Object.getPrototypeOf(l)}}},e.prototype.extend=function(e){for(var t in e)this.hasOwnProperty(t)&&(this[t]=e[t])},e.prototype.toProxy=function(t){void 0===t&&(t=!0);for(var i={},n=Object.getPrototypeOf(this),r=[];n&&n.constructor!=e;){for(var o=this.$_getters(n),s=0,a=o.length;s<a;s++){var l=o[s],u=Object.getOwnPropertyDescriptor(n,l);if(u){if(u.get&&u.set&&r.indexOf(l)<0){r.push(l);var c=u.get.call(this);(t||void 0!==c)&&(null!==c&&"object"==typeof c&&Object.getPrototypeOf(c).hasOwnProperty("toProxy")?i[l]=c.toProxy():i[l]=c)}}else for(var h=Object.getPrototypeOf(n);h;){var d=Object.getOwnPropertyDescriptor(h,l);d?(d.get&&d.set&&r.indexOf(l)<0&&(r.push(l),c=d.get.call(this),(t||void 0!==c)&&(i[l]=c)),h=null):h=Object.getPrototypeOf(h)}}n=Object.getPrototypeOf(n)}return i},e}(),qp=function(e){function t(t,i){var n=e.call(this,t)||this;return n.message=t,n.tokenPos=i,n}return gd(t,e),t}(Error),Kp=function(e){function t(t){var i=e.call(this,t)||this;return i.message=t,i}return gd(t,e),t}(Error),Xp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=[],n=0,r=e;n<r.length;n++){i[r[n]]=!0}return i},Zp=Xp(26,27),Jp=Xp(40,45,46,47,48,49,50,51,52,53,54,55,56,57,41,42,43,44),Qp=Xp(4,5,18,19),ef=Xp(11,3,2,14,15,16,17),tf=function(){function e(){this.IS_IDENT=[],this.IS_INTEGER=[],this.IS_NUMBER=[],this.IS_WHITE=[],this.IS_END=[],this.QUOTATION='"'.charCodeAt(0),this.SQUOTATION="'".charCodeAt(0),this.BACKSLASH="\\".charCodeAt(0),this.Keywords={str:20,num:21,bool:23,not:13,len:24,and:11,in:12,mod:15,or:18,div:14,shl:16,shr:17,xor:19,trim:25,is:26,like:46,ilike:48,match:50,imatch:52,likehan:54,ilikehan:55,defined:35,null:34,empty:36,nan:37,datestr:90,year:91,month:92,day:93,hour:94,rounddown:95,timestamp:96},this._procs=null,this._source=null,this._len=0,this._tokenId=0,this._run=0,this._runAhead=0,this._nextRun=0,this._lineNo=0,this._linePos=0,this._tokenPos=0;for(var e=0;e<256;e++)this.IS_IDENT[e]=e=="_".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0),this.IS_INTEGER[e]=e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="f".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="F".charCodeAt(0),this.IS_NUMBER[e]=e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e==".".charCodeAt(0)||e=="e".charCodeAt(0)||e=="E".charCodeAt(0),this.IS_WHITE[e]=e>=1&&e<=9||11==e||e>=14&&e<=32,this.IS_END[e]=0==e;this.initProcs()}return e.prototype.clear=function(){this._source=null},e.prototype.next=function(){var e=this._source.charCodeAt(this._run);this._tokenPos=this._run,e<256?this._procs[e].call(this):this.identProc()},e.prototype.unkownProc=function(){this._tokenId=0,this._run++},e.prototype.symbolProc=function(){this._tokenId=80,this._run++},e.prototype.commaProc=function(){this._tokenId=32,this._run++},e.prototype.crProc=function(){this._tokenId=33,10==this._source.charCodeAt(this._run+1)?this._run+=2:this._run++,this._lineNo++,this._linePos=this._run},e.prototype.lfProc=function(){this._tokenId=33,this._run++,this._lineNo++,this._linePos=this._run},e.prototype.equalProc=function(){this._tokenId=40,"="==this._source.charAt(++this._run)&&"="==this._source.charAt(++this._run)&&this._run++},e.prototype.notProc=function(){this._tokenId=13,"="==this._source.charAt(++this._run)&&(this._tokenId=45,"="==this._source.charAt(++this._run)&&this._run++)},e.prototype.greaterProc=function(){"="==this._source.charAt(this._run+1)?(this._tokenId=42,this._run+=2):(this._tokenId=41,this._run++)},e.prototype.lowerProc=function(){"="==this._source.charAt(this._run+1)?(this._tokenId=44,this._run+=2):">"==this._source.charAt(this._run+1)?(this._tokenId=45,this._run+=2):(this._tokenId=43,this._run++)},e.prototype.nextIdent=function(){for(var e=this._run;e<this._len&&!this.IS_IDENT[this._source.charCodeAt(e)];)e++;for(var t=e;e<this._len&&this.IS_IDENT[this._source.charCodeAt(e)];)e++;return e>t?(this._nextRun=e,this._source.substr(t,e-t).toLowerCase()):null},e.prototype.identProc=function(){for(var e=this._run;this._run<this._len&&(this.IS_IDENT[this._source.charCodeAt(this._run)]||this._source.charCodeAt(this._run)>255);)this._run++;var t=this._source.substr(e,this._run-e).toLowerCase();if(this.Keywords.hasOwnProperty(t))switch(this._tokenId=this.Keywords[t],this._tokenId){case 13:if(t=this.nextIdent())switch(t){case"like":this._tokenId=47,this._run=this._nextRun;break;case"ilike":this._tokenId=49,this._run=this._nextRun;break;case"match":this._tokenId=51,this._run=this._nextRun;break;case"imatch":this._tokenId=53,this._run=this._nextRun;break;case"likehan":this._tokenId=56,this._run=this._nextRun;break;case"ilikehan":this._tokenId=57,this._run=this._nextRun}break;case 26:"not"==(t=this.nextIdent())&&(this._tokenId=27,this._run=this._nextRun)}else this._tokenId=10},e.prototype.integerProc=function(){for(this._tokenId=64,this._run++;this._run<this._len&&this.IS_INTEGER[this._source.charCodeAt(this._run)];)this._run++},e.prototype.numberProc=function(){for(this._tokenId=64,this._run++;this._run<this._len&&this.IS_NUMBER[this._source.charCodeAt(this._run)];){if("."==this._source.charAt(this._run)){if("."==this._source.charAt(this._run+1))break;this._tokenId=63}this._run++}},e.prototype.minusProc=function(){this._tokenId=4,this._run++},e.prototype.plusProc=function(){this._tokenId=5,this._run++},e.prototype.pointProc=function(){"."==this._source.charAt(this._run+1)?(this._tokenId=68,this._run+=2):(this._tokenId=65,this._run++)},e.prototype.roundOpenProc=function(){this._tokenId=66,this._run++},e.prototype.roundCloseProc=function(){this._tokenId=67,this._run++},e.prototype.slashProc=function(){this._tokenId=2,this._run++},e.prototype.spaceProc=function(){for(this._tokenId=71,this._run++;this._run<this._len&&this.IS_WHITE[this._source.charCodeAt(this._run)];)this._run++},e.prototype.bracketOpenProc=function(){this._tokenId=69,this._run++},e.prototype.bracketCloseProc=function(){this._tokenId=70,this._run++},e.prototype.starProc=function(){this._tokenId=3,this._run++},e.prototype.modProc=function(){this._tokenId=15,this._run++},e.prototype.stringProc=function(){this._tokenId=61;do{var e=this._source.charCodeAt(this._run);if(this.IS_END[e])throw new qp("Untermintated string",e);e==this.BACKSLASH&&this._run++,this._run++}while(this._run<this._len&&this._source.charCodeAt(this._run)!=this.QUOTATION);this._run++},e.prototype.smallStringProc=function(){this._tokenId=61;do{var e=this._source.charCodeAt(this._run);if(this.IS_END[e])throw new qp("Untermintated string",e);e==this.BACKSLASH&&this._run++,this._run++}while(this._run<this._len&&this._source.charCodeAt(this._run)!=this.SQUOTATION);this._run++},e.prototype.initProcs=function(){this._procs=[];for(var e=1;e<=255;e++)this._procs[e]=this.symbolProc;for(e=1;e<=32;e++)this._procs[e]=this.spaceProc;for(this._procs[10]=this.lfProc,this._procs[13]=this.crProc,this._procs["$".charCodeAt(0)]=this.integerProc,this._procs[this.QUOTATION]=this.stringProc,this._procs[this.SQUOTATION]=this.smallStringProc,e=0;e<=9;e++)this._procs["0".charCodeAt(0)+e]=this.numberProc;for(e="A".charCodeAt(0);e<="Z".charCodeAt(0);e++)this._procs[e]=this.identProc;for(e="a".charCodeAt(0);e<="z".charCodeAt(0);e++)this._procs[e]=this.identProc;this._procs["_".charCodeAt(0)]=this.identProc,this._procs["(".charCodeAt(0)]=this.roundOpenProc,this._procs[")".charCodeAt(0)]=this.roundCloseProc,this._procs["*".charCodeAt(0)]=this.starProc,this._procs["+".charCodeAt(0)]=this.plusProc,this._procs[",".charCodeAt(0)]=this.commaProc,this._procs["-".charCodeAt(0)]=this.minusProc,this._procs[".".charCodeAt(0)]=this.pointProc,this._procs["/".charCodeAt(0)]=this.slashProc,this._procs["%".charCodeAt(0)]=this.modProc,this._procs["<".charCodeAt(0)]=this.lowerProc,this._procs["=".charCodeAt(0)]=this.equalProc,this._procs[">".charCodeAt(0)]=this.greaterProc,this._procs["[".charCodeAt(0)]=this.bracketOpenProc,this._procs["]".charCodeAt(0)]=this.bracketCloseProc,this._procs["!".charCodeAt(0)]=this.notProc},Object.defineProperty(e.prototype,"tokenId",{get:function(){return this._tokenId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenLoc",{get:function(){return{x:this._tokenPos-this._linePos,y:this._lineNo}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenLen",{get:function(){return this._run-this._tokenPos},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"token",{get:function(){return this._source.substr(this._tokenPos,this.tokenLen)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpace",{get:function(){return 71==this._tokenId},enumerable:!1,configurable:!0}),e.prototype.init=function(e){this._source=e,this._len=e.length,this._lineNo=0,this._linePos=0,this._tokenPos=0,this._runAhead=this._run=0,this._tokenId=0},e.prototype.charAhread=function(){for(this._runAhead=this._run;this._runAhead<this._len&&this._source.charCodeAt(this._runAhead)>0&&this._source.charCodeAt(this._runAhead)<=32;)this._runAhead++;return this._source.charCodeAt(this._runAhead)},e.prototype.nextId=function(e){do{this.next()}while(this._run<this._len&&this._tokenId!=e);return null},e.prototype.nextNoSpace=function(){if(this._run<this._len)do{this.next()}while(this._run<this._len&&this.isSpace);return null},e.prototype.isFirstInLine=function(){if(0==this._tokenPos)return!0;var e,t=this._tokenPos;for(t--;t>0&&this.IS_WHITE[this._source.charCodeAt(t)];)t--;return 0==t||10==(e=this._source.charCodeAt(t))||13==e},e}(),nf=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype.isIdentifier=function(e){throw new Error("Token is not a valid Identifier: "+e)},t.prototype.evaluateIdentifier=function(e){throw new Error("Invalid identifier key: "+e)},t.prototype.evaluateIndexerI=function(e,t){throw new Error("Invalid identifier indexer: "+e)},t.prototype.evaluateIndexerS=function(e,t,i){throw new Error("Invalid identifier indexer: "+e)},t}(Yp),rf=function(){function e(){}return Object.defineProperty(e.prototype,"value",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"asLiteral",{get:function(){return null},enumerable:!1,configurable:!0}),e.prototype.prepareValue=function(){},e.prototype.getLiteral=function(){},e.prototype.isIdentifier=function(e){return!1},e.prototype.toString=function(){return String(this)},e}(),of=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t}(rf);!function(e){function t(){return e.call(this)||this}gd(t,e),t.prototype.evaluate=function(e){},t.prototype.toString=function(){return""},t.Default=new t}(rf);var sf,af=function(e){function t(){var t=e.call(this)||this;return t._operator=0,t}return gd(t,e),t.prototype.evaluate=function(e){if(this._literal)return this._literal.value;if(!this._rightExpr)return this._leftExpr.evaluate(e);var t=this._leftExpr.evaluate(e),i=this._rightExpr.evaluate(e);switch(this._operator){case 40:return t==i;case 45:return t!=i;case 41:return t>i;case 42:return t>=i;case 43:return t<i;case 44:return t<=i;case 46:return this.calcLike(t,i,!1);case 47:return!this.calcLike(t,i,!1);case 48:return this.calcLike(t,i,!0);case 49:return!this.calcLike(t,i,!0);case 54:return this.calcLikeHan(t,i,!1);case 56:return!this.calcLikeHan(t,i,!1);case 55:return this.calcLikeHan(t,i,!0);case 57:return!this.calcLikeHan(t,i,!0);case 50:return this.calcMatch(t,i,!1);case 51:return!this.calcMatch(t,i,!1);case 52:return this.calcMatch(t,i,!0);case 53:return!this.calcMatch(t,i,!0);default:throw new Kp("Unknown operator: "+this._operator)}},t.prototype.toString=function(){var e="";if(this._literal)e=this._literal.toString();else if(this._rightExpr){var t=this._leftExpr.toString(),i=this._rightExpr.toString(),n=void 0;switch(this._operator){case 40:n="=";break;case 45:n="<>";break;case 41:n=">";break;case 42:n=">=";break;case 43:n="<";break;case 44:n="<=";break;case 46:n="like";break;case 47:n="not like";break;case 48:n="ilike";break;case 49:n="not ilike";break;case 50:n="match";break;case 51:n="not match";break;case 52:n="imatch";break;case 53:n="not imatch";break;case 54:n="likeHan";break;case 56:n="not likehan";break;case 55:n="ilikeHan";break;case 57:n="not ilikehan";break;case 32:n=",";break;default:n="<<ERROR>>"}e="("+t+" "+n+" "+i+")"}else e=this._leftExpr.toString();return e},t.prototype.isIdentifier=function(e){return this._leftExpr&&!this._rightExpr&&this._leftExpr.isIdentifier(e)},t.prototype.prepareValue=function(){this._leftExpr.prepareValue(),null==this._rightExpr?this._literal=this._leftExpr.getLiteral():this._rightExpr.prepareValue()},t.prototype.getLiteral=function(){return this._literal},t.prototype.calcLike=function(e,t,i){var n=String(e),r=String(t);if(n&&r){i&&(n=n.toLowerCase(),r=r.toLowerCase());var o=r.length;if(o>1){var s="%"==r.charAt(0),a="%"==r.charAt(o-1);if(s&&a)return r=r.substr(1,o-2),n.indexOf(r,0)>=0;if(s){r=r.substr(1,o-1);var l=n.lastIndexOf(r);return l>=0&&l==n.length-r.length}return a?(r=r.substr(0,o-1),0==n.indexOf(r,0)):n==r}return"%"!=r&&n==r}return!1},t.prototype.calcLikeHan=function(e,t,i){if(e&&t){e=String(e);var n=(t=String(t)).length,r="%"==t.charAt(0),o="%"==t.charAt(n-1);if(t=r&&o?t.substr(1,n-2):r?t.substr(1,n-1):o?t.substr(0,n-1):t,e.length<t.length)return;i&&(e=e.toLowerCase(),t=t.toLowerCase());var s=Bp.hangulToChosungAll(e),a=Bp.hangulToChosungAll(t),l=-1,u=void 0;if(r&&o){for(;(l=s.indexOf(a,l+1))>=0;){for(var c=0;c<a.length&&c+l<s.length;c++){var h=Bp.hangulToChosung(e[c+l]);if((d=Bp.hangulToChosung(t[c])).org&&d.org!==h.org||!d.cho||d.cho!==h.cho){u=!1;break}u=!0}if(u)return!0}return!1}if(r){if((l=s.lastIndexOf(a))>=0&&l===s.length-a.length){for(c=0;c<a.length;c++){if(h=Bp.hangulToChosung(e[l+c]),(d=Bp.hangulToChosung(t[c])).org&&d.org!==h.org||!d.cho||d.cho!==h.cho){u=!1;break}u=!0}if(u)return!0}return!1}if(o){if(0===s.indexOf(a)){for(c=0;c<a.length;c++){var d;if(h=Bp.hangulToChosung(e[c]),(d=Bp.hangulToChosung(t[c])).org&&d.org!==h.org||!d.cho||d.cho!==h.cho){u=!1;break}u=!0}if(u)return!0}return!1}return e==t}return!1},t.prototype.calcMatch=function(e,t,i){return new RegExp(t,"m"+(i?"i":"")).test(e)},t}(rf),lf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),Object.defineProperty(t.prototype,"value",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"asLiteral",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(e){},t}(rf),uf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.toString=function(){return"defined"},t}(lf),cf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.toString=function(){return"empty"},t}(lf),hf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return NaN},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"null"},t}(lf),df=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.toString=function(){return"NaN"},t}(lf),pf=function(e){function t(i,n,r){var o=e.call(this)||this;return o._leftExpr=i,o._operator=n,o._isNot=27==n,o._value=-1,r instanceof uf?o._value=t.DEFINED:r instanceof hf?o._value=t.NULL:r instanceof cf?o._value=t.EMPTY:r instanceof df&&(o._value=t.NAN),o}return gd(t,e),t.prototype.prepareValue=function(){this._leftExpr.prepareValue(),this._literal=this._leftExpr.getLiteral()},t.prototype.getLiteral=function(){return null},t.prototype.evaluate=function(e){var i,n=this._literal?this._literal.value:this._leftExpr.evaluate(e);switch(this._value){case t.DEFINED:i=void 0!==n;break;case t.NULL:i=null==n;break;case t.EMPTY:i=null==n||0==String(n).length;break;case t.NAN:i=null===n||isNaN(n);break;default:return}return this._isNot?!i:i},t.prototype.toString=function(){var e="<<ERROR>>";switch(this._value){case t.DEFINED:e="defined";break;case t.NULL:e="null";break;case t.EMPTY:e="empty";break;case t.NAN:e="NaN"}return"("+(this._isNot?"is not ":"is ")+e+")"},t.DEFINED=0,t.NULL=1,t.EMPTY=2,t.NAN=3,t}(af),ff=function(e){function t(t){var i=e.call(this)||this;return i._value=Number(t),i}return gd(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"asLiteral",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(e){return this._value},t.prototype.toString=function(){return String(this._value)},t}(of),_f=function(e){function t(t){var i=e.call(this)||this;return i._value=parseInt(t),i}return gd(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"asLiteral",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(e){return this._value},t.prototype.toString=function(){return String(this._value)},t}(of),gf=function(e){function t(t){var i=e.call(this)||this;i._value=t.substr(1,t.length-2);for(var n="",r=0,o=!1;r<i._value.length;)"\\"!=i._value[r]||o?(o=!1,n+=i._value[r++]):(o=!0,r++);return i._value=n,i}return gd(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"asLiteral",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(e){return this._value},t.prototype.toString=function(){return"'"+this._value+"'"},t}(of),mf=function(e){function t(t){var i=e.call(this)||this;return i._idKey=-651212,i._literal=t,i}return gd(t,e),Object.defineProperty(t.prototype,"identifier",{get:function(){return this._literal},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(e){return-651212==this._idKey&&(this._idKey=e.isIdentifier(this._literal)),e.evaluateIdentifier(this._idKey)},t.prototype.toString=function(){return this._literal},t}(rf),yf=function(e){function t(t,i,n){var r=e.call(this)||this;return r._idKey=-1490313,r._intIndex=NaN,r._strIndex=null,r._ident=t,r._indexer=i,r._capital=n,r}return gd(t,e),t.prototype.prepareValue=function(){var e=this._indexer.asLiteral;if(e||this._indexer instanceof af&&(this._indexer.prepareValue(),e=this._indexer.getLiteral()),e){var t=e.value;"string"==typeof t?this._strIndex=t:this._intIndex=parseInt(t),this._capital&&this._strIndex&&(this._strIndex=this._strIndex.toUpperCase())}},t.prototype.getLiteral=function(){return null},t.prototype.evaluate=function(e){if(-1490313==this._idKey&&(this._idKey=e.isIdentifier(this._ident)),this._strIndex)return e.evaluateIndexerS(this._idKey,this._strIndex,this._capital);if(isNaN(this._intIndex)){var t=this._indexer.evaluate(e);return"string"==typeof t?e.evaluateIndexerS(this._idKey,t,this._capital):e.evaluateIndexerI(this._idKey,t)}return e.evaluateIndexerI(this._idKey,this._intIndex)},t.prototype.toString=function(){return this._ident+"["+this._indexer.toString()+"]"},t}(af),vf=function(e){function t(t){var i=e.call(this)||this;return i._factor=t,i}return gd(t,e),t.prototype.prepareValue=function(){this._literal=this._factor.asLiteral,!this._literal&&this._factor instanceof rf&&(this._factor.prepareValue(),this._literal=this._factor.getLiteral())},t.prototype.getLiteral=function(){return null},t}(rf),bf=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){var t=this._literal instanceof of?this._literal.value:this._factor.evaluate(e);return t?t.length:0},t.prototype.toString=function(){return"(len "+this._factor+")"},t}(vf),wf=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){var t=this._literal instanceof of?this._literal.value:this._factor.evaluate(e);return t?t.trim():t},t.prototype.toString=function(){return"(trim "+this._factor+")"},t}(vf),Cf=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){return-(this._literal instanceof of?this._literal.value:this._factor.evaluate(e))},t.prototype.toString=function(){return"-"+this._factor},t}(vf),xf=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){return this._literal instanceof of?this._literal.value:this._factor.evaluate(e)},t.prototype.toString=function(){return"+"+this._factor},t}(vf),If=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){return!(this._literal instanceof of?this._literal.value:this._factor.evaluate(e))},t.prototype.toString=function(){return"(not "+this._factor+")"},t}(vf),Ef=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){var t=this._literal instanceof of?this._literal.value:this._factor.evaluate(e);return Boolean(t)},t.prototype.toString=function(){return"(bool "+this._factor+")"},t}(vf),Of=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){var t=this._literal instanceof of?this._literal.value:this._factor.evaluate(e);return Number(t)},t.prototype.toString=function(){return"(num "+this._factor+")"},t}(vf),Sf=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){var t=this._literal instanceof of?this._literal.value:this._factor.evaluate(e);return String(t)},t.prototype.toString=function(){return"(str "+this._factor+")"},t}(vf),kf=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){var t=this._literal instanceof of?this._literal.value:this._factor.evaluate(e);if(t instanceof Date){var i=Bp.pad;t=i(t.getFullYear(),4)+i(t.getMonth()+1,2)+i(t.getDate(),2)}return String(t)},t.prototype.toString=function(){return"(datestr "+this._factor+")"},t}(vf),Pf=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){var t=this._literal instanceof of?this._literal.value:this._factor.evaluate(e);return t instanceof Date?t.getFullYear():null},t.prototype.toString=function(){return"(year "+this._factor+")"},t}(vf),Rf=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){var t=this._literal instanceof of?this._literal.value:this._factor.evaluate(e);return t instanceof Date?t.getMonth()+1:null},t.prototype.toString=function(){return"(month "+this._factor+")"},t}(vf),Tf=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){var t=this._literal instanceof of?this._literal.value:this._factor.evaluate(e);return t instanceof Date?t.getDate():null},t.prototype.toString=function(){return"(day "+this._factor+")"},t}(vf),Df=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){var t=this._literal instanceof of?this._literal.value:this._factor.evaluate(e);return t instanceof Date?t.getHours():null},t.prototype.toString=function(){return"(hour "+this._factor+")"},t}(vf),Mf=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.evaluate=function(e){var t=this._factor,i=t.getLiteral();if(t.getLiteral())return i.value;if(t._rightExpr){var n=t._leftExpr.evaluate(e),r=t._rightExpr.evaluate(e);if(32===t._operator){var o=Math.pow(10,r);return Math.floor(n*o)/o}throw new Kp("Unknown operator: "+t._operator)}return t._leftExpr.evaluate(e)},t.prototype.toString=function(){return"(rounddown "+this._factor+")"},t}(vf),Lf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.evaluate=function(e){var t=this._factor,i=t.getLiteral();if(i)return i.value;if(t._rightExpr){var n=t._leftExpr.evaluate(e),r=t._rightExpr.evaluate(e);if(null==n)return;if(!(n instanceof Date))throw new Kp("value not date: "+n);if(32===t._operator){var o=1;switch(r){case 4:o*=24;case 3:o*=60;case 2:o*=60;case 1:o*=1e3}return Math.floor(n.getTime()/o)*o}throw new Kp("Unknown operator: "+t._operator)}if(null!=(n=t._leftExpr.evaluate(e))){if(!(n instanceof Date))throw new Kp("value not date: "+n);return n.getTime()}},t.prototype.toString=function(){return"(timestamp "+this._factor+")"},t}(vf),Af=function(e){function t(){var t=e.call(this)||this;return t._factors=[],t._operators=[],t._literal=null,t}return gd(t,e),t.prototype.addFactor=function(e){this._factors.push(e)},t.prototype.addOperator=function(e){this._operators.push(e)},t.prototype.isIdentifier=function(e){return 1==this._factors.length&&this._factors[0]instanceof mf&&this._factors[0].identifier==e},t.prototype.prepareValue=function(){for(var e=0,t=this._factors.length;e<t;e++)this._factors[e].prepareValue();if(0==this._operators.length){var i=this._factors[0];this._literal=i.asLiteral,this._literal||(this._literal=i.getLiteral())}},t.prototype.getLiteral=function(){return this._literal},t.prototype.evaluate=function(e){if(this._literal)return this._literal.value;for(var t=this._factors.length,i=this._factors[0].evaluate(e),n=1;n<t;n++){var r=this._factors[n].evaluate(e);switch(this._operators[n-1]){case 11:i=i&&r;break;case 3:i*=r;break;case 2:i/=r;break;case 14:i=Math.floor(Math.floor(i)/Math.floor(r));break;case 15:i%=r;break;case 16:i<<=r;break;case 17:i>>=r}}return i},t.prototype.toString=function(){var e="";if(this._literal)e=this._literal.toString();else if(1==this._factors.length)e=this._factors[0].toString();else{e="("+this._factors[0].toString();for(var t=1;t<this._factors.length;t++){switch(this._operators[t-1]){case 11:e+=" and ";break;case 3:e+=" * ";break;case 2:case 14:e+=" / ";break;case 15:e+=" mod ";break;case 16:e+=" shl ";break;case 17:e+=" shr "}e+=this._factors[t].toString()}e+=")"}return e},t}(rf),Ff=function(e){function t(){var t=e.call(this)||this;return t._terms=[],t._operators=[],t._literal=null,t}return gd(t,e),t.prototype.addTerm=function(e){this._terms.push(e)},t.prototype.addOperator=function(e){this._operators.push(e)},t.prototype.isIdentifier=function(e){return 1==this._terms.length&&this._terms[0].isIdentifier(e)},t.prototype.prepareValue=function(){for(var e=0,t=this._terms.length;e<t;e++)this._terms[e].prepareValue();0==this._operators.length&&(this._literal=this._terms[0].getLiteral())},t.prototype.getLiteral=function(){return this._literal},t.prototype.evaluate=function(e){if(this._literal)return this._literal.value;for(var t=this._terms.length,i=this._terms[0].evaluate(e),n=1;n<t;n++){var r=this._terms[n].evaluate(e);switch(this._operators[n-1]){case 4:i-=r;break;case 5:i+=r;break;case 18:i=i||r;break;case 19:i^=r}}return i},t.prototype.toString=function(){var e="";if(this._literal)e=this._literal.toString();else if(1==this._terms.length)e=this._terms[0].toString();else{e="("+this._terms[0].toString();for(var t=1;t<this._terms.length;t++){switch(this._operators[t-1]){case 4:e+=" - ";break;case 5:e+=" + ";break;case 18:e+=" or ";break;case 19:e+=" xor ";break;default:e+=" <<ERROR>> "}e+=this._terms[t].toString()}e+=")"}return e},t}(rf),$f=function(){function e(){this._node=null,this._capitalIndexers=null,this._lexer=new tf}return e.prototype.syntaxError=function(e,t){throw new qp(e,t)},e.prototype.expected=function(e){if(e!=this._lexer.tokenId)throw new qp("Token is not a expected kind ["+e+"]: "+this._lexer.tokenId,this._lexer.tokenLoc);this.nextToken()},e.prototype.nextToken=function(){this._lexer.nextNoSpace()},e.prototype.doExpression=function(){var e,t=null,i=this.doSimpleExpression();if(Zp[e=this._lexer.tokenId]){this.nextToken();var n=this.doSimpleExpression();n.prepareValue();var r=n.getLiteral();if(!(r instanceof lf))throw new qp("is operator's operand must be defined, null or empty: "+this._lexer.tokenId,null);t=new pf(i,e,r)}else(t=new af)._leftExpr=i,(Jp[this._lexer.tokenId]||32==this._lexer.tokenId)&&(t._operator=this._lexer.tokenId,this.nextToken(),t._rightExpr=this.doSimpleExpression());return t},e.prototype.doSimpleExpression=function(){var e=new Ff;for(e.addTerm(this.doTerm());Qp[this._lexer.tokenId];)e.addOperator(this._lexer.tokenId),this.nextToken(),e.addTerm(this.doTerm());return e},e.prototype.doTerm=function(){var e=new Af;for(e.addFactor(this.doFactor());ef[this._lexer.tokenId];)e.addOperator(this._lexer.tokenId),this.nextToken(),e.addFactor(this.doFactor());return e},e.prototype.doFactor=function(){var e=this._lexer.tokenId;switch(e){case 61:return this.doCharString();case 66:return this.doRoundOpen();case 10:return this.doIdentifier();case 64:return this.doInteger();case 63:return this.doNumber();case 4:return this.doMinus();case 5:return this.doPlus();case 13:return this.doNot();case 35:return this.doDefined();case 34:return this.doNull();case 36:return this.doEmpty();case 37:return this.doNaN();case 23:return this.doToBool();case 21:return this.doToNumber();case 20:return this.doToString();case 24:return this.doLength();case 25:return this.doTrim();case 90:return this.doToDateString();case 91:return this.doToYear();case 92:return this.doToMonth();case 93:return this.doToDay();case 94:return this.doToHour();case 95:return this.doRoundDown();case 96:return this.doTimeStamp()}throw new qp("Unkown token: "+e,this._lexer.tokenLoc)},e.prototype.doCharString=function(){var e=this._lexer.token;return this.nextToken(),new gf(e)},e.prototype.doRoundOpen=function(){this.nextToken();var e=this.doExpression();return this.expected(67),e},e.prototype.doIdentifier=function(){var e=this._lexer.token;if(this.nextToken(),69==this._lexer.tokenId){this.nextToken();var t=this.doExpression();return this.expected(70),new yf(e,t,this._capitalIndexers.indexOf(e)>=0)}return new mf(e)},e.prototype.doNumber=function(){var e=this._lexer.token;return this.nextToken(),new ff(e)},e.prototype.doInteger=function(){var e=this._lexer.token;return this.nextToken(),new _f(e)},e.prototype.doMinus=function(){return this.nextToken(),new Cf(this.doFactor())},e.prototype.doPlus=function(){return this.nextToken(),new xf(this.doFactor())},e.prototype.doNot=function(){return this.nextToken(),new If(this.doFactor())},e.prototype.doDefined=function(){return this.nextToken(),new uf},e.prototype.doNull=function(){return this.nextToken(),new hf},e.prototype.doEmpty=function(){return this.nextToken(),new cf},e.prototype.doNaN=function(){return this.nextToken(),new df},e.prototype.doToBool=function(){return this.nextToken(),new Ef(this.doFactor())},e.prototype.doToNumber=function(){return this.nextToken(),new Of(this.doFactor())},e.prototype.doToString=function(){return this.nextToken(),new Sf(this.doFactor())},e.prototype.doLength=function(){return this.nextToken(),new bf(this.doFactor())},e.prototype.doTrim=function(){return this.nextToken(),new wf(this.doFactor())},e.prototype.doToDateString=function(){return this.nextToken(),new kf(this.doFactor())},e.prototype.doToYear=function(){return this.nextToken(),new Pf(this.doFactor())},e.prototype.doToMonth=function(){return this.nextToken(),new Rf(this.doFactor())},e.prototype.doToDay=function(){return this.nextToken(),new Tf(this.doFactor())},e.prototype.doToHour=function(){return this.nextToken(),new Df(this.doFactor())},e.prototype.doRoundDown=function(){return this.nextToken(),new Mf(this.doFactor())},e.prototype.doTimeStamp=function(){return this.nextToken(),new Lf(this.doFactor())},e.prototype.parse=function(e,t){if(e){this._capitalIndexers=t||[],this._lexer.init(e),this.nextToken();var i=this.doExpression();return i&&i.prepareValue(),this._lexer.clear(),this._capitalIndexers=null,i}return null},e.prototype.evaluate=function(e,t,i){return this.parse(e,i).evaluate(t)},e.Default=new e,e}(),Nf=["value","values"],jf=function(e){function t(t,i,n){void 0===i&&(i=vd.TEXT),void 0===n&&(n=0);var r=e.call(this)||this;return r._index=-1,r._dataType=vd.TEXT,r._subType=null,r._runType=vd.TEXT,r._length=0,r._subTypeEnabled=!0,r._required=!1,r._updatable=!0,r._ranged=!1,r._runSet=null,r._typeLock=!1,r._objectKey=null,r._objectCallback=null,t&&(r.fieldName=t),null!=i&&(i===vd.DATE&&(i=vd.DATETIME,r._subType=vd.DATE,r._subTypeEnabled=!0),r._dataType=i),r._length=n,r}return gd(t,e),Object.defineProperty(t.prototype,"hash",{get:function(){return this._fieldName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldName",{get:function(){return this._fieldName},set:function(e){if(!(e=e&&e.trim()))throw new Error("Field name must be exists.");e!=this._orgFieldName&&(this._orgFieldName=e,this._orgAttrName="@"+e,this._fieldName=e.toUpperCase(),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orgFieldName",{get:function(){return this._orgFieldName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orgAttrName",{get:function(){return this._orgAttrName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataType",{get:function(){return this._dataType},set:function(e){e!=this._dataType&&(this._dataType=e,this.resetTypes(),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runType",{get:function(){return this._runType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subType",{get:function(){return this._subType},set:function(e){(e=e||null)!=this._subType&&(this._subType=e,this.resetTypes(),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subTypeEnabled",{get:function(){return this._subTypeEnabled},set:function(e){e!=this._subTypeEnabled&&(this._subTypeEnabled=e,this.resetTypes(),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseField",{get:function(){return this._baseField},set:function(e){e!=this._orgBaseField&&(this._orgBaseField=e,this._baseField=e&&e.toUpperCase(),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(e){(e=e||0)!=this._length&&(this._length=e,this.resetTypes(),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"set",{get:function(){return this._set},set:function(e){e!==this._set&&(this._set=e,this.resetTypes(),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minimum",{get:function(){return this._minimum},set:function(e){e!=this._minimum&&(this._minimum=e,this.resetTypes(),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maximum",{get:function(){return this._maximum},set:function(e){e!=this._maximum&&(this._maximum=e,this.resetTypes(),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(e){e!=this._required&&(this._required=e,this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._header},set:function(e){e!=this._header&&(this._header=e,this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this._defaultValue},set:function(e){e!=this._defaultValue&&(this._defaultValue=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullValue",{get:function(){return this._nullValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(e){e!=this._booleanFormat&&(this._booleanFormat=e,this._boolParser=e?new Up(e):null,this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(e){e!=this._datetimeFormat&&(this._datetimeFormat=e,e?(this._dateParser=new Gp(e),this._amText&&(this._dateParser.amText=this._amText),this._pmText&&(this._dateParser.pmText=this._pmText),this._baseYear&&(this._dateParser.baseYear=this._baseYear)):this._dateParser=null,this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"amText",{get:function(){return this._amText},set:function(e){e!=this._amText&&(this._amText=e,this._dateParser&&(this._dateParser.amText=e),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pmText",{get:function(){return this._pmText},set:function(e){e!=this._pmText&&(this._pmText=e,this._dateParser&&(this._dateParser.pmText=e),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseYear",{get:function(){return this._baseYear},set:function(e){e!=this._baseYear&&(this._baseYear=e,this._dateParser&&(this._dateParser.baseYear=e),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueExpression",{get:function(){return this._valueExpression},set:function(e){e!=this._valueExpression&&(this._valueExpression=e,this._owner&&this._owner.updateField(this,!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueCallback",{get:function(){return this._valueCallback},set:function(e){e!=this._valueCallback&&(this._valueCallback=e,this._owner&&this._owner.updateField(this,!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tag",{get:function(){return this._tag},set:function(e){this._tag=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objectKey",{get:function(){return this._objectKey},set:function(e){this._objectKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objectCallback",{get:function(){return this._objectCallback},set:function(e){this._objectCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculated",{get:function(){return!!this._valueExpression||!!this._valueCallback},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updatable",{get:function(){return!this._valueExpression&&!this._valueCallback&&this._updatable},set:function(e){e!=this._updatable&&(this._updatable=e)},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(e){var t=null==e||""===e;return t||this._dataType!=vd.NUMBER||(t=isNaN(e)),t},t.prototype.equalValues=function(e,t){return this._equalValues(e,t)},t.prototype.sameValues=function(e,t){return this._sameValues(e,t)},t.prototype.readValue=function(e){return this._readValue(e)},t.prototype.getBool=function(e,t){return"boolean"==typeof t?t:this._boolParser?this._boolParser.toBool(t):e.toBool(t)},t.prototype.getDate=function(e,t){return t instanceof Date?new Date(t.getTime()):"number"==typeof t?new Date(t):this._dateParser?this._dateParser.toDate(t,!1):e.toDate(t,!1)},t.prototype.clone=function(){var e=new t(this.fieldName,this.dataType,this.length);return e._orgFieldName=this._orgFieldName,e._orgAttrName=this._orgAttrName,e._boolParser=this._boolParser,e._dateParser=this._dateParser,e._orgBaseField=this._orgBaseField,e._baseField=this._baseField,e._defaultValue=this._defaultValue,e._valueCallback=this._valueCallback,e._valueExpression=this._valueExpression,e},t.prototype.$_resetTypes=function(e){this.resetTypes(e)},t.prototype.assignFrom=function(e){"fieldName"in e&&(this.fieldName=e.fieldName),"subType"in e&&(this._subType=e.subType),"set"in e&&(this._set=e.set instanceof Array?e.set.slice():null),"defaultValue"in e&&(this._defaultValue=e.defaultValue),"baseField"in e&&(this.baseField=e.baseField),"booleanFormat"in e&&(this.booleanFormat=e.booleanFormat),"amText"in e&&(this._amText=e.amText),"pmText"in e&&(this._pmText=e.pmText),"baseYear"in e&&(this._baseYear=e.baseYear),"header"in e&&(this._header=e.header),"datetimeFormat"in e&&(this.datetimeFormat=e.datetimeFormat),"objectKey"in e&&(this._objectKey=e.objectKey),"objectCallback"in e&&(this._objectCallback=e.objectCallback),"required"in e&&(this._required=e.required),"minimum"in e&&(this._minimum=e.minimum),"maximum"in e&&(this._maximum=e.maximum),"valueExpression"in e&&(this.valueExpression=e.valueExpression),"valueCallback"in e&&(this._valueCallback=e.valueCallback),"tag"in e&&(this._tag=e.tag)},t.prototype.$_setIndex=function(e){this._index=e},t.prototype.$_prepare=function(e){this._owner=e},t.prototype.changed=function(){},t.prototype.resetTypes=function(e){if(!this._typeLock){e&&(this._ownerBoolParser=e.boolParser,this._ownerDateParser=e.dateParser);var t=this._dataType,i=this._subType;if(this._runType=t,this._ranged=!1,(!this._owner||this._owner.subTypeEnabled)&&this._subTypeEnabled){if(i)switch(t){case vd.TEXT:i==vd.CHAR&&this._length>0&&(t=i);break;case vd.NUMBER:i!=vd.UNUM&&i!=vd.INT&&i!=vd.UINT||(t=i);break;case vd.DATETIME:i==vd.DATE&&(t=i)}if(this._runType=t,this._runSet=null,this._set&&this._set.length){if(this._runType==vd.DATETIME){this._runSet=[];for(var n=0;n<this._set.length;n++)(r=this.getDate(this._ownerDateParser,this._set[n]))&&this._runSet.push(r.getTime());this._runSet.length<1&&(this._runSet=null)}else if(this._runType==vd.DATE){for(this._runSet=[],n=0;n<this._set.length;n++){var r;if(r=this.getDate(this._ownerDateParser,this._set[n])){var o=new Date(r.getDate());this._runSet.push(o.setHours(0,0,0,0))}}this._runSet.length<1&&(this._runSet=null)}else this._runSet=this._set;this._ranged=!0}if(!this._ranged)switch(this._dataType){case vd.NUMBER:this._runMin=Number(this._minimum),this._runMax=Number(this._maximum),isNaN(this._runMin)||isNaN(this._runMax)?this._ranged=!isNaN(this._runMin)||!isNaN(this._runMax):this._ranged=this._runMin<=this._runMax;break;case vd.DATETIME:case vd.DATE:this._runMin=this.getDate(this._ownerDateParser,this._minimum),this._runMax=this.getDate(this._ownerDateParser,this._maximum),this._runMin&&this._runMax?this._ranged=this._runMin.getTime()<=this._runMax.getTime():this._ranged=this._runMin||this._runMax}switch(this._runType){case vd.TEXT:this._equalValues=this.equalTextValues,this._sameValues=this.sameTextValues,this._readValue=this.readTextValue,this._nullValue=null;break;case vd.CHAR:this._equalValues=this.equalTextValues,this._sameValues=this.sameTextValues,this._readValue=this.readCharValue,this._nullValue=null;break;case vd.NUMBER:this._equalValues=this.equalNumberValues,this._sameValues=this.sameNumberValues,this._readValue=this.readNumberValue,this._nullValue=NaN;break;case vd.UNUM:this._equalValues=this.equalNumberValues,this._sameValues=this.sameNumberValues,this._readValue=this.readUnumValue,this._nullValue=NaN;break;case vd.INT:this._equalValues=this.equalNumberValues,this._sameValues=this.sameNumberValues,this._readValue=this.readIntValue,this._nullValue=NaN;break;case vd.UINT:this._equalValues=this.equalNumberValues,this._sameValues=this.sameNumberValues,this._readValue=this.readUintValue,this._nullValue=NaN;break;case vd.DATETIME:this._equalValues=this.equalDateValues,this._sameValues=this.sameDateValues,this._readValue=this.readDatetimeValue,this._nullValue=null;break;case vd.DATE:this._equalValues=this.equalDateValues,this._sameValues=this.sameDateValues,this._readValue=this.readDateValue,this._nullValue=null;break;case vd.BOOLEAN:this._equalValues=this.equalBoolValues,this._sameValues=this.sameBoolValues,this._readValue=this.readBooleanValue,this._nullValue=!1;break;case vd.OBJECT:this._equalValues=this.equalObjectValues,this._sameValues=this.sameObjectValues,this._readValue=this.readObjectValues,this._nullValue=!1;break;default:this._equalValues=this.equalDummyValues,this._sameValues=this.sameDummyValues,this._readValue=this.readDummyValue,this._nullValue=void 0}}}},t.prototype.$_refreshFormats=function(e){this._owner=e,this._dateParser&&(this._dateParser.baseYear||(this._dateParser.baseYear=e.baseYear),this._dateParser.amText||(this._dateParser.amText=e.amText),this._dateParser.pmText||(this._dateParser.pmText=e.pmText)),this._ownerBoolParser=e.boolParser,this._ownerDateParser=e.dateParser},t.prototype.equalDummyValues=function(e,t){return this.equalTextValues(e,t)},t.prototype.sameDummyValues=function(e,t){return null==e?null==t:null!=t&&e==t},t.prototype.equalTextValues=function(e,t){return void 0===e?void 0===t:void 0!==t&&e==t},t.prototype.sameTextValues=function(e,t){return null==e||""==e?null==t||""==t:null!=t&&""!=t&&e==t},t.prototype.equalNumberValues=function(e,t){return void 0===e?void 0===t:void 0!==t&&(isNaN(e)?isNaN(t):!isNaN(t)&&e==t)},t.prototype.sameNumberValues=function(e,t){return isNaN(e)?isNaN(t):!isNaN(t)&&e==t},t.prototype.equalDateValues=function(e,t){return void 0===e?void 0===t:void 0!==t&&(e instanceof Date?t instanceof Date&&e.getTime()==t.getTime():!(t instanceof Date))},t.prototype.sameDateValues=function(e,t){return e instanceof Date?t instanceof Date&&e.getTime()==t.getTime():!(t instanceof Date)},t.prototype.equalBoolValues=function(e,t){return void 0===e?void 0===t:void 0!==t&&Boolean(e)==Boolean(t)},t.prototype.sameBoolValues=function(e,t){return this.equalBoolValues(e,t)},t.prototype.equalObjectValues=function(e,t){return void 0===e||void 0===t?void 0===e==(void 0===t):JSON.stringify(e)===JSON.stringify(t)},t.prototype.sameObjectValues=function(e,t){return null==e||null==t?null==e&&null==t:JSON.stringify(e)===JSON.stringify(t)},t.prototype.readDummyValue=function(e){return e},t.prototype.readTextValue=function(e){if(void 0===e)return e;var t=null===e?null:String(e);return this._ranged&&this._runSet&&this._runSet.indexOf(t)<0?void 0:t},t.prototype.readCharValue=function(e){if(void 0===e)return e;var t=null===e?null:String(e);return t&&(t=t.substr(0,this._length)),this._ranged&&this._runSet&&this._runSet.indexOf(t)<0?void 0:t},t.prototype.readNumberValue=function(e){if(null!=e&&""!==e){var t=Number(e);if(this._ranged)if(this._runSet){if(this._runSet.indexOf(t)<0)return}else isNaN(this._runMin)||(t=Math.max(this._runMin,t)),isNaN(this._runMax)||(t=Math.min(this._runMax,t));return t}},t.prototype.readUnumValue=function(e){if(null!=e&&""!==e){var t=Math.max(0,Number(e));if(this._ranged){if(this._runSet){if(this._runSet.indexOf(t)<0)return}else isNaN(this._runMin)||(t=Math.max(this._runMin,t)),isNaN(this._runMax)||(t=Math.min(this._runMax,t));t=Math.max(0,t)}return t}},t.prototype.readIntValue=function(e){if(null!=e&&""!==e){var t=e>=0?Math.floor(e):Math.ceil(e);if(this._ranged){if(this._runSet){if(this._runSet.indexOf(t)<0)return}else isNaN(this._runMin)||(t=Math.max(this._runMin,t)),isNaN(this._runMax)||(t=Math.min(this._runMax,t));t=t>=0?Math.floor(t):Math.ceil(t)}return t}},t.prototype.readUintValue=function(e){if(null!=e&&""!==e){var t=Math.max(0,Math.floor(Math.floor(e)));if(this._ranged){if(this._runSet){if(this._runSet.indexOf(t)<0)return}else isNaN(this._runMin)||(t=Math.max(this._runMin,t)),isNaN(this._runMax)||(t=Math.min(this._runMax,t));t=Math.max(0,Math.floor(Math.floor(t)))}return t}},t.prototype.readDatetimeValue=function(e){if(void 0!==e){if(null===e)return this._nullValue;var t=this.getDate(this._ownerDateParser,e);if(t&&this._ranged)if(this._runSet){for(var i=!1,n=this._runSet.length;n--;)if(t.getTime()==this._runSet[n]){i=!0;break}if(!i)return}else this._runMin&&t.getTime()<this._runMin.getTime()&&(t=new Date(this._runMin)),this._runMax&&t.getTime()>this._runMax.getTime()&&(t=new Date(this._runMax));return t}},t.prototype.readDateValue=function(e){if(void 0!==e){if(null===e)return this._nullValue;var t=this.getDate(this._ownerDateParser,e);if(t&&(t.setHours(0,0,0,0),this._ranged))if(this._runSet){for(var i=!1,n=this._runSet.length;n--;)if(t.getTime()==this._runSet[n]){i=!0;break}if(!i)return}else this._runMin&&t.getTime()<this._runMin.getTime()&&(t=new Date(this._runMin)),this._runMax&&t.getTime()>this._runMax.getTime()&&(t=new Date(this._runMax));return t}},t.prototype.readBooleanValue=function(e){return void 0===e?e:null!==e&&this.getBool(this._ownerBoolParser,e)},t.prototype.readObjectValues=function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){throw new Error("Invalid Object String "+t+"\r\n"+e)}else if(null!=e&&"object"!=typeof e)try{e=JSON.parse(e)}catch(t){Bp.log("JSON.parse fail => ".concat(e))}return Bp.deepCopy(e)},t.prototype.$_compareObject=function(e,t,i,n){var r=this._objectKey,o=this._objectCallback,s=o?o(this.orgFieldName,i,e):r&&e.hasOwnProperty(r)?e[r]:null,a=o?o(this.orgFieldName,n,t):r&&t.hasOwnProperty(r)?t[r]:null;return s>a?1:s<a?-1:0},t.prototype.$_calculateValue=function(e,t,i,n,r,o,s){return this._valueCallback?this._valueCallback(e.handler,i,n,o,s):this._valueExpression?(this._exprNode||(this._exprNode=$f.Default.parse(this._valueExpression,Nf)),t.setValues(s,r),this._exprNode.evaluate(t)):void 0},t}(Yp);!function(e){e.NONE="none",e.EXPLICIT="explicit",e.AUTO="auto"}(sf||(sf={}));var Bf=function(e){function t(){var t=e.call(this)||this;return t._values=null,t._fields=null,t._fieldCount=0,t}return gd(t,e),t.prototype.setValues=function(e,t){this._values=e,this._fields=t,this._fieldCount=t?t.length:0},t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){throw new Kp("Invalid identifier key: "+e)},t.prototype.evaluateIndexerI=function(e,i){if(this._values){if(e==t.ID_VALUE||e==t.ID_VALUES){if(i<0||i>=this._fieldCount)throw new Kp("Data field index out of bounds:"+i);return this._values[i]}throw new Kp("Invalid identifier indexer: "+e)}},t.prototype.evaluateIndexerS=function(e,i,n){if(e!=t.ID_VALUE&&e!=t.ID_VALUES)throw new Kp("Invalid identifier indexer: "+e);if(this._values&&this._fields){var r=this._fields.indexOf(i);if(r<0||r>=this._fieldCount)throw new Kp("Data field is not exists:"+i);return this._values[r]}},t.ID_VALUE=0,t.ID_VALUES=1,t.IDENTS={value:t.ID_VALUE,values:t.ID_VALUES},t}(nf),Vf=function(e){function t(){var t=e.call(this)||this;return t._listeners=[],t}return gd(t,e),t.prototype._doDispose=function(){return this._listeners=[],e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"listenerCount",{get:function(){return this._listeners.length},enumerable:!1,configurable:!0}),t.prototype.addListener=function(e,t){return null!=e&&this._listeners&&this._listeners.indexOf(e)<0&&(null!=t&&t>=0?this._listeners.splice(t,0,e):this._listeners.push(e)),this},t.prototype.removeListener=function(e){if(!this.disposing&&null!=e&&this._listeners){var t=this._listeners.indexOf(e);t>=0&&this._listeners.splice(t,1)}return this},t.prototype.clearListener=function(){this._listeners.length=0},t.prototype.fireEvent=function(e){var t=Array.prototype.slice.call(arguments,0);t[0]=this;for(var i=0,n=this._listeners.length;i<n;i++){var r=this._listeners[i],o=r[e];o&&o.apply(r,t)}},t.prototype.fireConfirmEvent=function(e){var t=Array.prototype.slice.call(arguments,0);t[0]=this;for(var i=0,n=this._listeners.length;i<n;i++){var r=this._listeners[i],o=r[e];if(o){var s=o.apply(r,t);if("boolean"==typeof s&&!s)return!1}}return!0},t.prototype.fireMessageEvent=function(e){var t=Array.prototype.slice.call(arguments,0);t[0]=this;for(var i=0,n=this._listeners.length;i<n;i++){var r=this._listeners[i],o=r[e];if(o){var s=o.apply(r,t);if("string"==typeof s&&s)return s}}return null},t.prototype.fireObjectEvent=function(e){var t=Array.prototype.slice.call(arguments,0);t[0]=this;for(var i=0,n=this._listeners.length;i<n;i++){var r=this._listeners[i],o=r[e];if(o){var s=o.apply(r,t);if(null!=s)return s}}return null},t}(Yp),Hf=["yy","yyyy","YY","YYYY","M","MM","d","dd","a","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","T","t","Z","z","+"],Uf=[".","/","-",":"],Wf="A".charCodeAt(0),Gf="a".charCodeAt(0),zf="Y".charCodeAt(0),Yf="y".charCodeAt(0),qf="M".charCodeAt(0),Kf="m".charCodeAt(0),Xf="d".charCodeAt(0),Zf="H".charCodeAt(0),Jf="h".charCodeAt(0),Qf="S".charCodeAt(0),e_="s".charCodeAt(0),t_=function(e,t,i){void 0===i&&(i=0);var n=e.toString();return i&&n.length>=i?n.substr(0,i):(t=Math.max(n.length,t),("0000"+e.toString()).substr(-t))},i_=function(){function e(e){this.format=e}return e.getFormatter=function(t){var i=e.Formatters[t];return i||(e.Formatters[t]=i=new e(t)),i},Object.defineProperty(e,"Default",{get:function(){return e.getFormatter(e.DEFAULT_FORMAT)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(t){(t=t||e.DEFAULT_FORMAT)!=this._format&&(this._tokens=[],this.parse(t),this._format=t)},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(!this._tokens)return"";var t=this._hasUTC,i=new Date(e);t||null==this._timeOff||(i=new Date(i.getTime()+60*i.getTimezoneOffset()*1e3+this._timeOff));for(var n=this._tokens,r="",o=t?i.getUTCHours():i.getHours(),s=0,a=n.length;s<a;s++){var l=n[s],u=l.length;switch(l.charCodeAt(0)){case zf:case Yf:r+=t_((t?i.getUTCFullYear():i.getFullYear())%Math.pow(10,u),u);break;case qf:r+=t_((t?i.getUTCMonth():i.getMonth())+1,u);break;case Xf:r+=t_(t?i.getUTCDate():i.getDate(),u);break;case Zf:r+=t_(o,u);break;case Jf:r+=t_(this._hasAmPm?0==o?12:o>12?o-12:o:o,u);break;case Kf:r+=t_(t?i.getUTCMinutes():i.getMinutes(),u);break;case e_:r+=t_(t?i.getUTCSeconds():i.getSeconds(),u);break;case Gf:case Wf:r+=o<12?this._amText:this._pmText;break;case Qf:r+=t_(t?i.getUTCMilliseconds():i.getMilliseconds(),u,u);break;default:r+=l}}if(!t&&null!=this._timeOff){var c=this._timeOff>=0?"+":"-",h=Math.abs(this._timeOff/6e4);r+=c+"".concat(t_(Math.floor(h/60),2),":").concat(t_(h%60,2))}return r},e.prototype.parseDateFormatTokens=function(e){var t=[];if(e){var i,n=e.trim(),r=0;if(i=n.match(/([+\-])(\d\d)?(:)?(\d\d)?$/)){var o=i[1];if(null==i[2])this._timeOff=60*-(new Date).getTimezoneOffset()*1e3;else{var s=parseInt(i[2]),a=parseInt(i[4]||"00");this._timeOff=60*(60*s+a)*1e3,"-"===o&&(this._timeOff=-this._timeOff)}n=n.substr(0,i.index)}for(var l=n.length;r<l;){var u=n.charAt(r);if(Uf.indexOf(u)>=0)t.push(u),r++;else{for(var c=r++;r<l&&n.charAt(r)==u;)r++;if(u=n.substring(c,r),Hf.indexOf(u)<0&&/[a-zA-Z\+]/.test(u[0]))throw new Error("Invalid datetime write format: "+e);t.push(u)}if(r<l&&Bp.isWhiteSpace(u=n.charAt(r)))for(t.push(u);r<l&&Bp.isWhiteSpace(n.charAt(r));)r++}}return t},e.prototype.parse=function(t){if(this._amText="AM",this._pmText="PM",t){var i=t.split(";");this._format=i[0]||e.DEFAULT_FORMAT,this._tokens=this.parseDateFormatTokens(this._format),this._hasAmPm=this._tokens.indexOf("a")>=0||this._tokens.indexOf("A")>=0,this._hasUTC=this._tokens.indexOf("z")>0||this._tokens.indexOf("Z")>0;var n=void 0;if(i.length>2?n=i[2]:i.length>1&&i[1]&&(n=i[1]),n){var r=n.split(",");r.length>0&&r[0]&&(this._amText=r[0]||this._amText),r.length>1&&r[1]&&(this._pmText=r[1]||this._pmText)}}},e.DEFAULT_FORMAT="yyyy/MM/dd",e.Formatters={},e}(),n_=function(){function e(e){this.$_parse(this._format=e)}return e.getFormatter=function(t){var i=e.Formatters[t];return i||(e.Formatters[t]=i=new e(t)),i},Object.defineProperty(e.prototype,"format",{get:function(){return this._format},enumerable:!1,configurable:!0}),e.prototype.formatValue=function(e){return void 0===e?this._nullText:e?this._trueText:this._falseText},e.prototype.$_parse=function(e){if(this._falseText=this._trueText=null,e){var t=e.split(/[;\:]/);this._falseText=t[0],t.length>0&&(this._trueText=t[1]),t.length>1&&(this._nullText=t[2])}},e.Formatters={},e}(),r_=function(){function e(){}return Object.defineProperty(e,"messages",{get:function(){return e.currentMessages?e.currentMessages:this.currentMessages=Bp.assign({},e.defaultMessages)},enumerable:!1,configurable:!0}),e.setMessages=function(t){e.currentMessages=Bp.assign({},e.defaultMessages,t)},e.defaultMessages={dateEditorCancelLabel:"Cancel",dateEditorDeleteLabel:"Delete",dateEditorHourLabel:"",dateEditorMinuteLabel:"",dateEditorMonths:void 0,dateEditorSaveLabel:"Save",dateEditorSecondLabel:"",dateEditorTodayLabel:"Today",dateEditorWeekDays:["","","","","","",""],dateEditorYearDisplayFormat:"{Y}",dateEditorMonthDisplayFormat:"{M}",dateEditorYearMonthDisplayFormat:void 0,searchEditorMoreText:"",checkListAcceptText:"Accept",checkListCancelText:"Cancel",checkListAllCheckText:"Check All",filterSelectorAcceptText:"",filterSelectorAllCheckText:"( )",filterSelectorCancelText:"",filterSelectorEmptyFilterText:"( )",filterSelectorFilterResetText:"",filterSelectorFiltersResetText:" ",filterSelectorSearchPlaceholder:"...",filterSelectorSearchedCheckText:"(  )",filterSelectorDateYearFormat:"{YYYY}",filterSelectorDateQuarterFormat:"{Q}",filterSelectorDateMonthFormat:"{M}",filterSelectorDateDayFormat:"YYYY-MM-DD",filterSelectorHourFormat:"{H}",filterSelectorMinuteFormat:"{M}",filterSelectorSecondFormat:"{S}",filterToastMessage:"Filtering...",dataDropProxyLabel:"${rows} ${mode}",dataDropModeMove:"",dataDropModeCopy:"",groupingPrompt:"        .",groupingToastMessage:"Grouping...",groupResetText:"",displayEmptyMessage:"  .",filterOperatorContains:"",filterOperatorNotContains:" ",filterOperatorStartsWith:" ",filterOperatorEndsWith:" ",filterOperatorEqual:"",filterOperatorNotEqual:" ",filterOperatorEmpty:" ",filterOperatorReset:"",filterOperatorGreater:" ",filterOperatorGreaterEqual:" ",filterOperatorLower:" ",filterOperatorLowerEqual:" ",filterOperatorBetween:"",invalidDatetimeFormat1:"Invalid datetime read format - 'H' 'a'    : ",invalidDatetimeFormat2:"Invalid datetime read format - 'h'  'a'   : ",commitEditingMessage:"   .",deleteRowsMessage:" () ?",invalidFormatMessage:"  .",decimalSeparator:".",thousandsSeparator:",",sortingToastMessage:"Sorting...",exportProgressMessage:"Exporting...",rowIndicatorHeadText:"No.",rowIndicatorFootText:"",rowIndicatorSumText:"",stateTextCreateAndDeleted:"X",stateTextCreated:"C",stateTextDeleted:"D",stateTextUpdated:"U",rowOutOfBounds:"row is out of bounds: ",fieldIndexOutOfBounds:"fieldIndex is out of bounds: ",fieldNameMustExists:"fieldName must be exists.",fieldNameAlreadyExists:"fieldName is already exists: ",clientEditingError:"Client is editing (call grid.commit() or grid.cancel() first)",gridElementAttachFail:"Grid is already contained ContainerDiv",gridContainerNotFind:"Invalid grid container element: "},e}(),o_=function(){function e(){}return Object.defineProperty(e,"currency",{get:function(){return e._currency},enumerable:!1,configurable:!0}),Object.defineProperty(e,"locale",{get:function(){return e._locale},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numberFormats",{get:function(){return e._numberFormats||(e._numberFormats=Bp.assign({},e.defNumberFormats())),e._numberFormats},enumerable:!1,configurable:!0}),e.defNumberFormats=function(){var t=e._currency||"KRW";return{number:{style:"decimal",excelFormat:"#,##0.0"},currency:{style:"currency",currency:t,excelFormat:"KRW"===t?"#,##0":void 0},accounting:{style:"currency",currency:t,currencySign:"accounting"}}},e.getNumberFormatter=function(t){var i=e._numberFormats;i||(i=e._numberFormats=Bp.assign({},e.defNumberFormats()));var n=i[t];if(n){var r=n.formatter;return r||(r=n.formatter=new Intl.NumberFormat(e._locale||navigator.language,n)),r}},e.addNumberFormat=function(t,i,n){var r=e._numberFormats;if(i&&t)return r||(r=e._numberFormats=Bp.assign({},e.defNumberFormats())),r[t]&&!n||(r[t]=i),t},e.setLocale=function(t){if(e._locale=t.locale||navigator.language,Bp.setLanguage(e._locale),e._currency=t.currency||"KRW",e._numberFormats=Bp.assign({},e.defNumberFormats()),t.numberFormats)for(var i in t.numberFormats)e.addNumberFormat(i,t.numberFormats[i],!0);t.messages&&r_.setMessages(t.messages)},e.getLocale=function(){var t={locale:e._locale||navigator.language,currency:e._currency||"KRW"};return t.messages=Bp.assign({},r_.messages),t.numberFormats=Bp.assign({},t.numberFormats||e.defNumberFormats()),t},e}(),s_=function(e){return Bp.included(e,"c","f","C","F","a","A")},a_=function(){function e(e){this._groupPos=0,this._replacement="$&,",this.parse(this._format=e)}return e.getFormatter=function(t){var i=e.Formatters[t];return i||(e.Formatters[t]=i=new e(t)),i},Object.defineProperty(e,"Default",{get:function(){return e.getFormatter(e.DEFAULT_FORMAT)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"separator",{get:function(){return this._seperator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupSep",{get:function(){return this._groupSep},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minDigits",{get:function(){return this._minDigits},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxDigits",{get:function(){return this._maxDigits},enumerable:!1,configurable:!0}),e.prototype.parse=function(e){this._minDigits=0,this._maxDigits=0,this._parse(e)},e.prototype.getText=function(e,t){void 0===t&&(t=!0);var i=Number(e);if(isNaN(i))return"";if((o_.numberFormats||{}).hasOwnProperty(this._format)){var n=o_.getNumberFormatter(this._format);return n&&n.format(e)}var r=this._minDigits,o=0;if(this._optDecimal){var s=(l=(""+i).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(l[1]?l[1].length:0)-(l[2]?+l[2]:0)):0;r=Math.min(Math.max(s,this._minDigits),this._maxDigits)}if(this._round)switch(o=Math.pow(10,r),this._round){case"c":i=Math.ceil(o*i)/o;break;case"f":var a=i.toString().split(".");i=parseFloat(a.length>1?a[0]+"."+a[1].substr(0,r):a[0])}i="a"===this._round?Math.abs(i):i;var l,u=(i=Number(i.toPrecision(15))).toFixed(r);return!t&&(o=parseFloat(u))===Math.abs(parseFloat(u))&&0===o&&(u=Math.abs(i).toFixed(r)),this._seperator&&(u=u.replace(".",this._seperator)),this._reg?r?u.replace(this._regDecimal,this._replacement):u.replace(this._reg,this._replacement):u},e.prototype._parse=function(e){if(e&&(e=e.trim()),e&&!(o_.numberFormats||{}).hasOwnProperty(e)){var t=r_.messages.decimalSeparator,i=r_.messages.thousandsSeparator;if(e.indexOf(";")>-1){var n=e.split(";");e=n[0],n.length>1&&n[1]&&!s_(n[1])&&(t=n[1]),n.length>2&&n[2]&&!s_(n[2])&&(i=n[2]),this._round=n[3]||n[2]||n[1],this._round=s_(this._round)?this._round.toLowerCase():this._round}this._seperator="."==t?null:t,this._groupSep=","==i?null:i;var r=e.length,o=e.indexOf(".");if(this._optDecimal=e.indexOf("#",o)>0,o>=0){for(var s=o+1;s<r&&"0"==e.charAt(s);s++)this._minDigits++,this._maxDigits++;for(;s<r&&"#"==e.charAt(s);s++)this._maxDigits++;e=e.substr(0,o)}if(e){var a=e.length;","==e.charAt(a-1)&&(this._groupPos=3,e=e.substr(0,a-1))}if(e){var l=e.length,u=!0;for(s=l-1;s>=0;s--){var c=e.charAt(s);if("0"==c&&u);else if(0==this._groupPos&&","==c)this._groupPos=l-s-1;else{if("#"!=c)break;u=!1}}}this._groupPos>0&&(this._replacement="$&"+i,this._reg=new RegExp("\\d(?=(\\d{"+this._groupPos+"})+($|\\"+t+"))","g"),this._regDecimal=new RegExp("\\d(?=(\\d{"+this._groupPos+"})+\\"+t+")","g"))}},e.DEFAULT_FORMAT="#,##0.0",e.Formatters={},e}(),l_=function(e){function t(t){var i=e.call(this)||this;return i._datetimeWriter=null,i._booleanFormatter=null,i._numberFormatter=null,i.assignFrom(t),i}return gd(t,e),Object.defineProperty(t.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(e){e!=this._datetimeFormat&&(this._datetimeFormat=e,this._datetimeWriter=e?i_.getFormatter(e):null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(e){e!=this._booleanFormat&&(this._booleanFormat=e,this._booleanFormatter=e?n_.getFormatter(e):null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){e!=this._numberFormat&&(this._numberFormat=e,this._numberFormatter=e?a_.getFormatter(e):null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeCallback",{get:function(){return this._datetimeCallback},set:function(e){this._datetimeCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanCallback",{get:function(){return this._booleanCallback},set:function(e){this._booleanCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberCallback",{get:function(){return this._numberCallback},set:function(e){this._numberCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullDateText",{get:function(){return this._nullDateText},set:function(e){this._nullDateText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullText",{get:function(){return this._nullText},set:function(e){this._nullText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nanText",{get:function(){return this._nanText},set:function(e){this._nanText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowState",{get:function(){return this._rowState},set:function(e){this._rowState=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeWriter",{get:function(){return this._datetimeWriter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanFormatter",{get:function(){return this._booleanFormatter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter},enumerable:!1,configurable:!0}),t}(Yp),u_=function(){function e(){}return Object.defineProperty(e,"summaryMode",{get:function(){return e._summaryMode},enumerable:!1,configurable:!0}),Object.defineProperty(e,"fixed",{get:function(){return e._fixed||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"display",{get:function(){return e._display||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"format",{get:function(){return e._format||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"edit",{get:function(){return e._edit||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"editor",{get:function(){return e._editor||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"copy",{get:function(){return e._copy||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"paste",{get:function(){return e._paste||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"sorting",{get:function(){return e._sorting||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"filtering",{get:function(){return e._filtering||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"dataDrop",{get:function(){return e._dataDrop||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rowIndicator",{get:function(){return e._rowIndicator||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"checkBar",{get:function(){return e._checkBar||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"stateBar",{get:function(){return e._stateBar||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"header",{get:function(){return e._header||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"footer",{get:function(){return e._footer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"footers",{get:function(){return e._footers||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"headerSummary",{get:function(){return e._headerSummary||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"headerSummaries",{get:function(){return e._headerSummaries||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"hideDeletedRows",{get:function(){return e._hideDeletedRows},enumerable:!1,configurable:!0}),Object.defineProperty(e,"sortMode",{get:function(){return e._sortMode},enumerable:!1,configurable:!0}),Object.defineProperty(e,"groupSummaryMode",{get:function(){return e._groupSummaryMode},enumerable:!1,configurable:!0}),Object.defineProperty(e,"filterOr",{get:function(){return e._filterOr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"filterMode",{get:function(){return e._filterMode},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rowGroup",{get:function(){return e._rowGroup||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"groupPanel",{get:function(){return e._groupPanel||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"grouping",{get:function(){return e._grouping||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"filterPanel",{get:function(){return e._filterPanel||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"dataOptions",{get:function(){return e._dataOptions||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"mobile",{get:function(){return e._mobile||{}},enumerable:!1,configurable:!0}),e.setDefaultOptions=function(t,i){t&&(e._fixed=Bp.assign({},t.fixed),e._display=Bp.assign({},t.display),e._format=Bp.assign({},t.format),e._edit=Bp.assign({},t.edit),e._editor=Bp.assign({},t.editor),e._copy=Bp.assign({},t.copy),e._paste=Bp.assign({},t.paste),e._sorting=Bp.assign({},t.sorting),e._filtering=Bp.assign({},t.filtering),e._dataDrop=Bp.assign({},t.dataDrop),e._rowIndicator=Bp.assign({},t.rowIndicator),e._checkBar=Bp.assign({},t.checkBar),e._stateBar=Bp.assign({},t.stateBar),e._header=Bp.assign({},t.header),e._footer=Bp.assign({},t.footer),e._footers=Bp.assign({},t.footers),e._headerSummary=Bp.assign({},t.headerSummary),e._headerSummaries=Bp.assign({},t.headerSummaries),void 0!==t.hideDeleted&&(e._hideDeletedRows=t.hideDeletedRows),void 0!==t.hideDeletedRows&&(e._hideDeletedRows=t.hideDeletedRows),void 0!==t.sortMode&&(e._sortMode=t.sortMode),void 0!==t.summaryMode&&(e._summaryMode=t.summaryMode),void 0!==t.inclusiveFiltering&&(e._filterOr=t.inclusiveFiltering),void 0!==t.filterOr&&(e._filterOr=t.filterOr),void 0!==t.filterMode&&(e._filterMode=t.filterMode),e._groupPanel=Bp.assign({},t.groupPanel),void 0!==t.groupSummaryMode&&(e._groupSummaryMode=t.groupSummaryMode),e._rowGroup=Bp.assign({},t.rowGroup),e._groupPanel=Bp.assign({},t.groupPanel),e._grouping=Bp.assign({},t.grouping),e._filterPanel=Bp.assign({},t.filterPanel),e._mobile=Bp.assign({},t.mobile)),i&&(e._dataOptions=Bp.assign({},i))},e}(),c_=function(){function e(){}return e.prototype.compare=function(e,t,i){return e.dataType==vd.NUMBER?Number(t)-Number(i):t>i?1:t<i?-1:0},e}(),h_=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t}(Error),d_=function(e){function t(){return e.call(this,r_.messages.clientEditingError)||this}return gd(t,e),t}(Error),p_=function(e){function t(){var t=e.call(this)||this;return t._subTypeEnabled=!0,t._undoable=!1,t._insertable=!0,t._updatable=!0,t._deletable=!0,t._softDeleting=!1,t._deleteCreated=!1,t._checkStates=!0,t._restoreMode=sf.NONE,t._strictRestore=!1,t._booleanFormat=null,t._datetimeFormat=null,t._baseYear=2e3,t._amText="AM",t._pmText="PM",t._alertClientError=!0,t._throwClientError=!1,t._commitBeforeDataEdit=!1,t._fields=[],t._calcFields=[],t._fieldNames=[],t._fieldMap={},t._defComparer=new c_,t._comparers=[],t._boolParser=Up.Default,t._dateParser=Gp.Default,t._eventLock=0,t._resetLock=0,t._countLock=0,t._clients=[],t.assignFrom(u_.dataOptions),t}return gd(t,e),t.getUniqueValues=function(e,t){return Object.keys(e.reduce(function(e,t){return e[t]=!0,e},{})).map(function(e){if("null"===e)return null;if("undefined"!==e)switch(t){case vd.NUMBER:case vd.UNUM:return parseFloat(e);case vd.UINT:case vd.INT:return parseInt(e);case vd.DATE:case vd.DATETIME:return new Date(parseInt(e));case vd.BOOLEAN:return"false"!==e&&("true"===e||void 0);default:return e}})},t.prototype._doDispose=function(){try{this.$_internalClearFields(),this._fieldMap=null}catch(t){Bp.log("DataSource dispose catch error")}this._fields=this._calcFields=this._fieldNames=this._fieldMap=this._boolParser=this._dateParser=this._comparers=this._clients=this._defComparer=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"subTypeEnabled",{get:function(){return this._subTypeEnabled},set:function(e){if(e!=this._subTypeEnabled){this._subTypeEnabled=e;for(var t=0,i=this._fields;t<i.length;t++)i[t].$_resetTypes()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"insertable",{get:function(){return this._insertable},set:function(e){this._insertable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updatable",{get:function(){return this._updatable},set:function(e){this._updatable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deletable",{get:function(){return this._deletable},set:function(e){this._deletable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"softDeleting",{get:function(){return this._softDeleting},set:function(e){this._softDeleting=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deleteCreated",{get:function(){return this._deleteCreated},set:function(e){this._deleteCreated=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkStates",{get:function(){return this._checkStates},set:function(e){e!=this._checkStates&&(this._checkStates=e,this._doCheckStatesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"restoreMode",{get:function(){return this._restoreMode},set:function(e){if(e!=this._restoreMode){var t=this._restoreMode;this._restoreMode=e,this._doRestoreModeChanged(t,e)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strictRestore",{get:function(){return this._strictRestore},set:function(e){this._strictRestore=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(e){e!=this._booleanFormat&&(this._booleanFormat=e,this._boolParser=e?new Up(e):Up.Default)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(e){e!=this._datetimeFormat&&(this._datetimeFormat=e,this.$_createDateReader())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseYear",{get:function(){return this._baseYear},set:function(e){this._baseYear=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"amText",{get:function(){return this._amText},set:function(e){e!=this._amText&&(this._amText=e,this.$_createDateReader())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pmText",{get:function(){return this._pmText},set:function(e){e!=this._pmText&&(this._pmText=e,this.$_createDateReader())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alertClientError",{get:function(){return this._alertClientError},set:function(e){this._alertClientError=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"throwClientError",{get:function(){return this._throwClientError},set:function(e){this._throwClientError=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitBeforeDataEdit",{get:function(){return this._commitBeforeDataEdit},set:function(e){this._commitBeforeDataEdit=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculateRuntime",{get:function(){return this._calculateRuntime||(this._calculateRuntime=new Bf),this._calculateRuntime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldCount",{get:function(){return this._fields.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boolParser",{get:function(){return this._boolParser},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dateParser",{get:function(){return this._dateParser},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventLocked",{get:function(){return this._eventLock>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valuesCallback",{get:function(){return this._valuesCallback},set:function(e){this._valuesCallback=e},enumerable:!1,configurable:!0}),t.prototype.registerClient=function(e){e&&this._clients.indexOf(e)<0&&this._clients.push(e)},t.prototype.unregisterClient=function(e){if(e){var t=this._clients.indexOf(e);t>=0&&this._clients.splice(t,1)}},t.prototype.cancelClients=function(){for(var e=0,t=this._clients;e<t.length;e++)t[e].cancelDataEditing()},t.prototype.commitClients=function(){for(var e=0,t=this._clients;e<t.length;e++)t[e].commitDataEditing()},t.prototype.beginUpdate=function(){this._checkClientState(),this._eventLock++},t.prototype.endUpdate=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this._checkClientState(),this._eventLock=Math.max(0,this._eventLock-1),0==this._eventLock&&(e&&(this._resetLock>0?(this.clearCommandStack(),this._fireReset(t)):this._fireRefresh(),this._countLock>0&&this._fireRowCountChanged()),this._resetLock=this._countLock=0)},t.prototype.addField=function(e,t,i){if(this._checkClientState()){var n;this.beginUpdate();try{(n=this.$_internalAddField(e))&&n.$_resetTypes(this)}finally{t?this._doFieldsReset():this._resetLock++,i&&this._reCalculateFields(),this.endUpdate(!0,!1)}return n}},t.prototype.removeField=function(e,t){var i;if(this._checkClientState()&&e&&("string"==typeof e?i=this.fieldByName(e):e instanceof jf?i=e:"object"==typeof e&&e.fieldName&&(i=this.fieldByName(e.fieldName)),i)){this.beginUpdate();try{this.$_internalRemoveField(i)}finally{t?this._doFieldsReset():this._resetLock++,this.endUpdate(!0,!1)}}},t.prototype.updateField=function(e,t){var i=0,n=this._calcFields;if(e.calculated&&n.indexOf(e)<0){i=n.length;for(var r=0;r<n.length;r++)if(n[r].index>=e.index){i=r;break}n.splice(i,0,e)}else e.calculated||(i=n.indexOf(e))>=0&&n.splice(i,1);if(t&&e.calculated){this.beginUpdate();try{this._reCalculateFields(e)}finally{this.endUpdate(!0)}}},t.prototype.clearFields=function(){this._checkClientState()&&this._fields.length>0&&(this.$_internalClearFields(),this._doFieldsReset())},t.prototype.setFields=function(e){if(this._checkClientState()){this.beginUpdate();try{if(this.$_internalClearFields(),e)for(var t=0,i=e.length;t<i;t++){var n=this.$_internalAddField(e[t]);n&&n.$_resetTypes(this)}}finally{this.endUpdate(),this._doFieldsReset()}}},t.prototype.getField=function(e){return"string"==typeof e&&(e=this.getFieldIndex(e)),this._fields[e]},t.prototype.getFields=function(){return this._fields.slice()},t.prototype.fieldByName=function(e){if(e)for(var t=e.toUpperCase(),i=0,n=this._fields;i<n.length;i++){var r=n[i];if(r.fieldName==t)return r}return null},t.prototype.getFieldNames=function(){for(var e=[],t=0;t<this._fields.length;t++)e.push(this._fields[t].fieldName);return e},t.prototype.getOrgFieldNames=function(){for(var e=[],t=0;t<this._fields.length;t++)e.push(this._fields[t].orgFieldName);return e},t.prototype.getFieldName=function(e){return this._checkFieldIndex(e),this._fields[e].fieldName},t.prototype.getOrgFieldName=function(e){return this._checkFieldIndex(e),this._fields[e].orgFieldName},t.prototype.getFieldIndex=function(e){if("number"==typeof e)return e;if(e){var t=e.toUpperCase();if(t in this._fieldMap)return this._fieldMap[t]}return-1},t.prototype.getFieldIndexC=function(e){return e in this._fieldMap?this._fieldMap[e]:-1},t.prototype.getBaseField=function(e){return e>=0&&e<this._fields.length?this.getFieldIndex(this._fields[e].baseField):-1},t.prototype.getValueType=function(e){return this._fields[e].dataType},t.prototype.getDefaultValue=function(e){return this._fields[e].defaultValue()},t.prototype.objectToRow=function(e){var t=[],i=this._valuesCallback;if(i){var n=i.call(this,this.$_handler,e);if(n&&Array.isArray(n))return n.slice()}if(e)for(var r=0,o=this.fieldCount;r<o;r++){var s=this.getOrgFieldName(r);e.hasOwnProperty(s)&&(t[r]=e[s])}return t},t.prototype.canUpdateField=function(e,t){if(t>=0&&t<this._fields.length){if(!this._fields[t].updatable&&e>=0)try{var i=this.getRowState(e);return!i||i==jp.CREATED||i==jp.CREATE_AND_DELETED}catch(n){return!1}return!0}return!1},t.prototype.getDataComparer=function(e){return e>=0&&this._comparers[e]},t.prototype.setDataComparer=function(e,t){this._comparers[e]=t},t.prototype.canSummarize=function(e){return e>=0&&e<this.fieldCount},t.prototype.canAppendRow=function(){return!1},t.prototype._convertValues=function(e,t){var i="*"in t&&"*"==t["*"]?e:{};for(var n in t)i[t[n]]=e[n];return i},t.prototype.getClientsBusy=function(){var e={busy:!1,cnt:0,client:null};if(this.disposing)return e;for(var t=this._clients.length;t--;)this._clients[t].isDataEditing()&&(e.busy=!0,e.cnt++,e.client=this._clients[t]);return e},t.prototype._checkClientState=function(){if(this.getClientsBusy().busy){if(this._throwClientError)throw new d_;return this._alertClientError&&alert((new d_).message),!1}return!0},t.prototype._checkFieldIndex=function(e){if(e<0||e>=this._fields.length)throw new h_(r_.messages.fieldIndexOutOfBounds+e)},t.prototype.$_internalClearFields=function(){this._checkClientState();for(var e=0,t=this._fields;e<t.length;e++)t[e].$_setIndex(-1);this._fields.splice(0,this._fields.length),this._calcFields.splice(0,this._calcFields.length),this._fieldNames.splice(0,this._fieldNames.length),this._fieldMap={}},t.prototype.$_internalInsertField=function(e,t){this._checkClientState();var i=this._fields.length;if(e<0||e>i)throw Bp.isDebugging(),new h_(r_.messages.fieldIndexOutOfBounds+e);if(t){t.$_prepare(this),this._fields.splice(e,0,t),this._fieldNames.splice(e,0,t.fieldName),t.calculated&&this._calcFields.push(t),t.$_setIndex(e),this._fieldMap[t.fieldName]=e;for(var n=e+1;n<=i;n++)(t=this._fields[n]).$_setIndex(n),this._fieldMap[t.fieldName]=n;return e}return-1},t.prototype.$_internalRemoveField=function(e){if(this._checkClientState(),e){var t=e.index;this._fields.splice(t,1),this._fieldNames.splice(t,1),delete this._fieldMap[e.fieldName];for(var i=0;i<=this._fields.length-1;i++)(e=this._fields[i]).$_setIndex(i),this._fieldMap[e.fieldName]=i}},t.prototype.$_addField=function(e,t,i,n){if(!e)throw new h_(r_.messages.fieldNameMustExists);if(this.getFieldIndex(e)>=0)throw new h_(r_.messages.fieldNameAlreadyExists+e);var r=new jf(e,t,i);n&&r.assignFrom(n);var o=n&&null!=n.index&&!isNaN(n.index)?n.index:this._fields.length;return this.$_internalInsertField(o,r),r},t.prototype.$_internalAddField=function(e){var t=null;return"string"==typeof e?t=this.$_addField(e,vd.TEXT,0):e instanceof jf?(t=e.clone(),this.$_internalInsertField(this._fields.length,t)):e&&(t=this.$_addField(e.fieldName,e.dataType||vd.TEXT,e.length,e)),t},t.prototype._internalCalculateValues=function(e,t,i){var n=i?Bp.makeArray(i):this._calcFields;if(n.length>0){for(var r=[],o=0;o<e.length;o++)r[o]=this.getField(o).readValue(e[o]);o=0;for(var s=n.length;o<s;o++){var a=n[o],l=this._fieldMap[a.fieldName];e[l]=r[l]=a.readValue(a.$_calculateValue(this,this.calculateRuntime,t,a.orgFieldName,this._fieldNames,this.getOrgFieldNames(),r))}}},t.prototype.refreshFieldFormats=function(){for(var e=0,t=this._fields;e<t.length;e++)t[e].$_refreshFormats(this)},t.prototype.refreshFieldFormat=function(e){e&&e.$_refreshFormats(this)},t.prototype._getRowValues=function(){return new Array(this.fieldCount)},t.prototype.$_createOutputRows=function(e,t,i){void 0===i&&(i=0);var n=this.fieldCount,r=e.length;t instanceof l_||(t=new l_(t));var o=t.nullDateText,s=t.nullText,a=t.nanText;try{for(var l=0;l<n;l++){var u=this.getField(l),c=u.dataType,h=u.orgFieldName,d=void 0,p=void 0,f=void 0,_=void 0,g=void 0,m=void 0;if(c==vd.DATETIME&&((d=t.datetimeCallback)||(_=t.datetimeWriter)||o))if(d)for(var y=0;y<r;y++)(w=e[y])[h]=d(this.handler,y+i,h,w[h]);else for(y=0;y<r;y++){var v=(w=e[y])[h];w[h]=v?_?_.getText(w[h]):v:o}else if(c==vd.BOOLEAN&&((p=t.booleanCallback)||(g=t.booleanFormatter)))if(p)for(y=0;y<r;y++)(w=e[y])[h]=p(this.handler,y+i,h,w[h]);else for(y=0;y<r;y++)(w=e[y])[h]=g.formatValue(w[h]);else if(c==vd.NUMBER&&((f=t.numberCallback)||(m=t.numberFormatter)||a))if(f)for(y=0;y<r;y++)(w=e[y])[h]=f(this.handler,y+i,h,w[h]);else for(y=0;y<r;y++){var b=(w=e[y])[h];w[h]=null==b||isNaN(b)?a:m?m.getText(b):b}else if(null!=s&&null!=s)for(y=0;y<r;y++){var w;b=(w=e[y])[h],w[h]=null==b||null==b?s:b}}}finally{t&&t.dispose()}},t.prototype.$_sortRows=function(e,t,i,n,r){do{var o=n,s=r,a=e[Math.floor((n+r)/2)];do{for(;o<=s&&!(i(t,a,e[o])<=0);)o++;for(;o<=s&&!(i(t,a,e[s])>=0);)s--;if(o<=s){if(o!=s){var l=e[o];e[o]=e[s],e[s]=l}o++,s--}}while(o<=s);n<s&&this.$_sortRows(e,t,i,n,s),n=o}while(n<r)},t.prototype.$_createDateReader=function(){this._datetimeFormat?(this._dateParser=new Gp(this._datetimeFormat),this._dateParser.amText=this._amText,this._dateParser.pmText=this._pmText,this._dateParser.baseYear=this._baseYear):this._dateParser=Gp.Default},t.prototype._doCheckStatesChanged=function(){},t.prototype._fireCommandStackChanged=function(e,i){this._eventLock<=0&&this.fireEvent(t.COMMAND_STACK_CHANGED,e,i)},t.COMMAND_STACK_CHANGED="onDataSourceCommandStackChanged",t}(Vf),f_=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype.connect=function(e){},t.prototype.disconnect=function(){},t.prototype.clearRows=function(){},t.prototype.setRows=function(){},t.prototype.setRowCount=function(e){},t.prototype.insertRow=function(e){},t.prototype.insertRows=function(e,t){},t.prototype.removeRow=function(e){},t.prototype.removeRows=function(e){},t.prototype.updateRow=function(e){},t.prototype.updateRows=function(e,t){},t.prototype.updateRowList=function(e){},t.prototype.setValue=function(e,t){},t.prototype.moveRow=function(e,t){},t.prototype.moveRows=function(e,t,i){},t.prototype.moveRowList=function(e,t){},t.prototype.changeStates=function(e){},t}(Yp),__=function(e){function t(t){var i=e.call(this)||this;return i._tags=[],i._owner=t,i}return gd(t,e),t.prototype._doDispose=function(){this._owner=null,this._tags=null,e.prototype._doDispose.call(this)},t.prototype.add=function(e){null!=this._tags&&e&&this._tags.indexOf(e)<0&&(this._tags.push(e),e.connect(this._owner))},t.prototype.remove=function(e){if(null!=this._tags&&e){var t=this._tags.indexOf(e);t>=0&&(this._tags.splice(t,1),e.disconnect())}},t.prototype.clearRows=function(){if(null!=this._tags)for(var e=0,t=this._tags;e<t.length;e++)t[e].clearRows()},t.prototype.setRows=function(){if(null!=this._tags)for(var e=0,t=this._tags;e<t.length;e++)t[e].setRows()},t.prototype.setRowCount=function(e){if(null!=this._tags)for(var t=0,i=this._tags;t<i.length;t++)i[t].setRowCount(e)},t.prototype.insertRow=function(e){if(null!=this._tags)for(var t=0,i=this._tags;t<i.length;t++)i[t].insertRow(e)},t.prototype.insertRows=function(e,t){if(null!=this._tags)for(var i=0,n=this._tags;i<n.length;i++)n[i].insertRows(e,t)},t.prototype.removeRow=function(e){if(null!=this._tags)for(var t=0,i=this._tags;t<i.length;t++)i[t].removeRow(e)},t.prototype.removeRows=function(e){if(null!=this._tags)for(var t=0,i=this._tags;t<i.length;t++)i[t].removeRows(e)},t.prototype.updateRow=function(e){if(null!=this._tags)for(var t=0,i=this._tags;t<i.length;t++)i[t].updateRow(e)},t.prototype.updateRows=function(e,t){if(null!=this._tags)for(var i=0,n=this._tags;i<n.length;i++)n[i].updateRows(e,t)},t.prototype.updateRowList=function(e){if(null!=this._tags)for(var t=0,i=this._tags;t<i.length;t++)i[t].updateRowList(e)},t.prototype.setValue=function(e,t){if(null!=this._tags)for(var i=0,n=this._tags;i<n.length;i++)n[i].setValue(e,t)},t.prototype.moveRow=function(e,t){if(null!=this._tags)for(var i=0,n=this._tags;i<n.length;i++)n[i].moveRow(e,t)},t.prototype.moveRows=function(e,t,i){if(null!=this._tags)for(var n=0,r=this._tags;n<r.length;n++)r[n].moveRows(e,t,i)},t.prototype.moveRowList=function(e,t){if(null!=this._tags)for(var i=0,n=this._tags;i<n.length;i++)n[i].moveRowList(e,t)},t}(Yp),g_=function(){function e(e){this._active=!1,this._exprNode=null,this.criteria=e}return e.prototype.dispose=function(){this._exprNode=null},Object.defineProperty(e.prototype,"criteria",{get:function(){return this._criteria},set:function(t){t!=this._criteria&&(this._criteria=t,this._exprNode=t?$f.Default.parse(t,e.CAPITAL_INDEXERS):null)},enumerable:!1,configurable:!0}),e.prototype.select=function(e,t,i){return!this._exprNode||(e.setRow(t,i),this._exprNode.evaluate(e))},e.CAPITAL_INDEXERS=["value","values","len"],e}(),m_=function(){function e(t,i){this._filterMode=e.FILTER_AND,this._or=!1,this.load(t),i&&(this.filterMode=i)}return e.prototype.dispose=function(){return this._filters&&this._filters.forEach(function(e,t){e.dispose()}),this._filters=null,null},Object.defineProperty(e.prototype,"filterMode",{get:function(){return this._filterMode},set:function(t){var i=t?t.toLocaleLowerCase():t;i!=this._filterMode&&(this._filterMode=i,this._or=this._filterMode==e.FILTER_OR)},enumerable:!1,configurable:!0}),e.prototype.load=function(e){if(!e||e instanceof Array||(e=[e]),this._filters=[],e instanceof Array)for(var t=0,i=e.length;t<i;t++){var n=void 0,r=e[t];r&&("string"==typeof r?n=new g_(r):r.criteria&&(n=new g_(r.criteria))),n&&this._filters.push(n)}},e.prototype.prepare=function(e,t){e.prepare(t)},e.prototype.select=function(e,t,i){var n=this._filters,r=n.length;if(this._or){for(var o=0;o<r;o++)if(1==n[o].select(e,t,i))return!0;return!1}for(o=0;o<r;o++)if(0==n[o].select(e,t,i))return!1;return!0},e.FILTER_AND="and",e.FILTER_OR="or",e}(),y_=function(e){function t(){var t=e.call(this)||this;return t._ds=null,t._fieldCount=0,t._row=-1,t._values=null,t}return gd(t,e),t.prototype._doDispose=function(){this._ds=null,e.prototype._doDispose.call(this)},t.prototype.prepare=function(e){this._ds=e,this._fieldCount=e?e.fieldCount:0},t.prototype.setRow=function(e,t){this._row=e,this._values=t},t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){if(e===t.ID_ROW)return this._row;throw new Kp("Invalid identifier key: "+e)},t.prototype.evaluateIndexerI=function(e,i){if(i<0||i>=this._fieldCount)throw new Kp("Data field index out of bounds:"+i);switch(e){case t.ID_VALUE:case t.ID_VALUES:return this._values[i]}throw new Kp("Invalid identifier indexer: "+e)},t.prototype.evaluateIndexerS=function(e,i,n){switch(e){case t.ID_VALUE:case t.ID_VALUES:var r=this.getField(i,n);return this._values[r]}throw new Kp("Invalid identifier indexer: "+e)},t.prototype.getField=function(e,t){var i=t?this._ds.getFieldIndexC(e):this._ds.getFieldIndex(e);if(i<0||i>=this._fieldCount)throw new Kp("Data field is not exits:"+e);return i},t.ID_ROW=0,t.ID_VALUE=1,t.ID_VALUES=2,t.IDENTS={row:t.ID_ROW,value:t.ID_VALUE,values:t.ID_VALUES},t}(nf),v_=function(e){function t(){var t=e.call(this)||this;return t._tags=new __(t),t._filterRuntime=new y_,t._commandListeners=[],t}return gd(t,e),t.prototype._doDispose=function(){this._tags=this._tags.dispose(),this._filters=this._filters&&this._filters.dispose(),this._filterRuntime=this._filterRuntime.dispose(),this._commandListeners=null,this._fireDispose(),e.prototype._doDispose.call(this)},t.prototype.editCommandStackChanged=function(e,t,i){this._fireCommandStackChanged(t,i)},Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterRuntime",{get:function(){return this._filterRuntime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deletedCount",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tags",{get:function(){return this._tags},enumerable:!1,configurable:!0}),t.prototype.addTag=function(e){this._tags.add(e)},t.prototype.removeTag=function(e){this._tags.remove(e)},t.prototype.setFilterMode=function(e){this._filters&&e==this._filters.filterMode||(this._filters?this._filters.filterMode=e:this._filters=new m_(null,e))},t.prototype.setFilters=function(e,t){!e||e instanceof m_?(this._filters=e,this._filters&&t&&(this._filters.filterMode=t)):this._filters=new m_(e,t)},t.prototype.getRowObject=function(e){if(e<0||e>=this.rowCount)throw new h_(r_.messages.rowOutOfBounds+e);for(var t={},i=0,n=this.fieldCount;i<n;i++){var r=this.getOrgFieldName(i),o=this.getValue(e,i);t[r]=o}return t},t.prototype.compareValues=function(e,t,i,n,r){return 0},t.prototype.compareTexts=function(e,t,i,n){return 0},t.prototype.compareNumbers=function(e,t,i,n){return 0},t.prototype.compareBools=function(e,t,i,n){return 0},t.prototype.compareObjects=function(e,t,i,n){return 0},t.prototype.summarize=function(e,t){return!1},t.prototype.summarizeRange=function(e,t,i){return!1},t.prototype.copyRows=function(e,t,i,n){},Object.defineProperty(t.prototype,"hiddenCount",{get:function(){return 0},enumerable:!1,configurable:!0}),t.prototype.isHiddenRow=function(e){return!1},t.prototype.registerCommandListener=function(e){e&&this._commandListeners&&this._commandListeners.indexOf(e)<0&&this._commandListeners.push(e)},t.prototype.unregisterCommandListener=function(e){var t=this._commandListeners?this._commandListeners.indexOf(e):-1;t>=0&&this._commandListeners.splice(t,1)},t.prototype.findRow=function(e,t,i){},t.prototype._doFieldsReset=function(){this._fireReset(!0)},t.prototype._keepCommandStates=function(e){if(this._commandListeners.length>0)return this._commandListeners[0].getCommandStates(e)},t.prototype._yieldCommandStates=function(e,t){if(this._commandListeners.length>0)return this._commandListeners[0].setCommandStates(e,t)},t.prototype._fireDispose=function(){this._eventLock<=0&&this.fireEvent("onDataProviderDisposed")},t.prototype._fireReset=function(e){this._eventLock<=0?this.fireEvent("onDataProviderReset",e):this._resetLock++},t.prototype._fireRefresh=function(){this._eventLock<=0&&this.fireEvent("onDataProviderRefresh")},t.prototype._fireRowCountChanged=function(){this._eventLock<=0?this.fireEvent("onDataProviderRowCountChanged"):this._countLock++},t.prototype.fireDataLoadComplated=function(){this._eventLock<=0&&this.fireEvent("onDataProviderDataLoadComplated")},t.prototype.fireRowInserting=function(e,t){return!(this._eventLock<=0)||this.fireConfirmEvent("onDataProviderRowInserting",e,t)},t.prototype.fireRowInserted=function(e){this._eventLock<=0&&(this.fireEvent("onDataProviderRowInserted",e),this.fireEvent("onDataProviderDataChanged"))},t.prototype.fireRowsInserted=function(e,t){this._eventLock<=0&&(this.fireEvent("onDataProviderRowsInserted",e,t),this.fireEvent("onDataProviderDataChanged"))},t.prototype.fireRowRemoving=function(e){return!(this._eventLock<=0)||this.fireConfirmEvent("onDataProviderRowRemoving",e)},t.prototype.fireRowRemoved=function(e){this._eventLock<=0&&(this.fireEvent("onDataProviderRowRemoved",e),this.fireEvent("onDataProviderDataChanged"))},t.prototype.fireRowsRemoving=function(e){return!(this._eventLock<=0)||this.fireConfirmEvent("onDataProviderRowsRemoving",e)},t.prototype.fireRowsRemoved=function(e){this._eventLock<=0&&(this.fireEvent("onDataProviderRowsRemoved",e),this.fireEvent("onDataProviderDataChanged"))},t.prototype.fireRowUpdating=function(e,t,i){return!(this._eventLock<=0)||this.fireConfirmEvent("onDataProviderRowUpdating",e,t,i)},t.prototype.fireRowUpdated=function(e){this._eventLock<=0&&(this.fireEvent("onDataProviderRowUpdated",e),this.fireEvent("onDataProviderDataChanged"))},t.prototype.fireRowsUpdated=function(e,t){this._eventLock<=0&&(this.fireEvent("onDataProviderRowsUpdated",e,t),this.fireEvent("onDataProviderDataChanged"))},t.prototype.fireRowListUpdated=function(e){this._eventLock<=0&&(this.fireEvent("onDataProviderRowListUpdated",e),this.fireEvent("onDataProviderDataChanged"))},t.prototype.fireRowMoving=function(e,t){return!(this._eventLock<=0)||this.fireConfirmEvent("onDataProviderRowMoving",e,t)},t.prototype.fireRowMoved=function(e,t){this._eventLock<=0&&this.fireEvent("onDataProviderRowMoved",e,t)},t.prototype.fireRowsMoving=function(e,t,i){return!(this._eventLock<=0)||this.fireConfirmEvent("onDataProviderRowsMoving",e,t,i)},t.prototype.fireRowsMoved=function(e,t,i){this._eventLock<=0&&this.fireEvent("onDataProviderRowsMoved",e,t,i)},t.prototype.fireRowListMoving=function(e,t){return!(this._eventLock<=0)||this.fireConfirmEvent("onDataProviderRowListMoving",e,t)},t.prototype.fireRowListMoved=function(e,t){this._eventLock<=0&&this.fireEvent("onDataProviderRowListMoved",e,t)},t.prototype.fireValueChanging=function(e,t,i){return!(this._eventLock<=0)||this.fireConfirmEvent("onDataProviderValueChanging",e,t,i)},t.prototype.fireValueChanged=function(e,t){this._eventLock<=0&&(this.fireEvent("onDataProviderValueChanged",e,t),this.fireEvent("onDataProviderDataChanged"))},t.prototype.fireRowStateChanged=function(e,t){this._eventLock<=0&&this.fireEvent("onDataProviderStateChanged",e,t)},t.prototype.fireRowStatesChanged=function(e,t){this._eventLock<=0&&this.fireEvent("onDataProviderStatesChanged",e,t)},t.prototype.fireRowStatesCleared=function(){this._eventLock<=0&&this.fireEvent("onDataProviderStatesCleared")},t.prototype.fireRestoreRows=function(e){this._eventLock<=0&&this.fireEvent("onDataProviderRestoreRows",e)},t.prototype.fireRowHided=function(e,t){this._eventLock<=0&&this.fireEvent("onDataProviderRowHided",e,t)},t}(p_),b_=function(e){function t(t){var i=e.call(this)||this;return i.fields=[],i.values=[],i.startIndex=0,i.wrap=!0,i.select=!0,i.allFields=!0,i.caseSensitive=!1,i.partialMatch=!1,i.compareCallback=null,i.reverse=!1,t&&i.extend(t),i}return gd(t,e),t}(Yp),w_=function(e){function t(t){var i=e.call(this)||this;return i.fields=null,i.value=null,i.startIndex=0,i.startFieldIndex=0,i.wrap=!0,i.select=!0,i.caseSensitive=!1,i.partialMatch=!1,i.columns=null,i.compareCallback=null,i.reverse=!1,t&&i.extend(t),i}return gd(t,e),t}(Yp);!function(e){gd(function(t){return e.call(this,t)||this},e)}(Error);var C_=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._doDispose=function(){},t.prototype.undo=function(){},t.prototype.redo=function(e){},t.prototype.execute=function(){return this.redo(!1)},t}(Yp);!function(e){function t(){return e.call(this)||this}gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.undo=function(){},t.prototype.redo=function(e){},t.prototype.execute=function(){return this.redo(!1)}}(C_);var x_=function(e){function t(t){var i=e.call(this)||this;return i._commands=[],i._current=-1,i._undoing=!1,i._redoing=!1,i._owner=t,i}return gd(t,e),t.prototype._doDispose=function(){this._owner=null,this._commands=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._commands.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canUndo",{get:function(){return this._current>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){return this._commands.length>this._current+1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"undoing",{get:function(){return this._undoing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redoing",{get:function(){return this._redoing},enumerable:!1,configurable:!0}),t.prototype.undo=function(){if(this.canUndo){var e=this._commands[this._current];this._undoing=!0;try{e.undo()}finally{this._undoing=!1}this._current=this._current-1,this._changed()}},t.prototype.redo=function(e){var t;if(this.canRedo){var i=this._current+1,n=this._commands[i];this._redoing=!0;try{t=n.redo(!0)}finally{this._redoing=!1}this._current=i,this._changed()}return t},t.prototype.execute=function(e){if(e){var t=this._current++;this._commands[this._current]=e,this.$_shrink(this._current+1);var i=void 0;try{i=e.execute()}catch(n){throw this.$_shrink(t+1),this._current=t,n}return this._changed(),i}},t.prototype.flush=function(){var e=this._commands.length;if(e>0){for(;e--;)this._commands[e].dispose();this._commands=[],this._current=-1,this._changed()}},t.prototype._changed=function(){null!=this._owner&&this._owner.editCommandStackChanged(this,this.canUndo,this.canRedo)},t.prototype.$_shrink=function(e){if(e>=0&&e<this._commands.length){for(var t=this._commands.length-1;t>=e;t--)this._commands[t].dispose();this._commands.splice(e,this._commands.length-e)}},t}(Vf),I_=function(e){function t(t){var i=e.call(this)||this;return i._ds=t,i}return gd(t,e),t.prototype._doDispose=function(){this._ds=null,this._save=null,e.prototype._doDispose.call(this)},t.prototype.redo=function(e){return e?this._doRedo(this._ds,this._save):this._save=this._doRun(this._ds),this._save&&this._save.result},t.prototype.undo=function(){this._doUndo(this._ds,this._save)},t.prototype._setSoftDeleting=function(e,t){e._softDeleting=t},t.prototype._setDeleteCreated=function(e,t){e._deleteCreated=t},t.prototype._cloneRow=function(e){if(Bp.isArray(e))return e.slice();if(e){var t={};for(var i in e)t[i]=e[i];return t}},t.prototype._cloneValues=function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=-1),e){var n=e.length,r=[];i<0&&(i=n),t=Math.max(0,t);for(var o=Math.min(n,t+i),s=t;s<o;s++){var a=e[s];if(Bp.isArray(a))r.push(a.slice());else if(a){var l={};for(var u in a)l[u]=a[u];r.push(l)}}return r}return null},t}(C_),E_=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t}(I_),O_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t}(x_),S_=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o._row=i,o._field=n,o._value=r,o}return gd(t,e),t.prototype._doRun=function(e){var t={};return t.row=e._keepRow(this._row),(t.result=e.$_setValue(this._row,this._field,this._value))&&(this._newState=e.getRowState(this._row)),t},t.prototype._doRedo=function(e,t){e.$_setValue(this._row,this._field,this._value)},t.prototype._doUndo=function(e,t){e._yieldRow(this._row,t.row),t.row.state!=this._newState&&e.fireRowStateChanged(this._row,this._newState),e.fireValueChanged(this._row,this._field)},t}(E_),k_=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o._row=i,o._values=o._cloneRow(n),o._strict=r,o}return gd(t,e),t.prototype._doDispose=function(){this._values=null,e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var t={};return t.row=e._keepRow(this._row),(t.result=e.$_updateRow(this._row,this._values,this._strict))&&(this._newState=e.getRowState(this._row)),t},t.prototype._doRedo=function(e,t){e.$_updateRow(this._row,this._values,this._strict)},t.prototype._doUndo=function(e,t){e._yieldRow(this._row,t.row),t.row.state!=this._newState&&e.fireRowStateChanged(this._row,this._newState),e.fireRowUpdated(this._row)},t}(E_),P_=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._row=i,Bp.isArray(n)||(n=t.objectToRow(n)),r._values=n.slice(),r}return gd(t,e),t.prototype._doRun=function(e){var t={};return t.result=e.$_insertRow(this._row,this._values),t},t.prototype._doRedo=function(e,t){e.$_insertRow(this._row,this._values)},t.prototype._doUndo=function(e,t){e.$_deleteRow(this._row)},t}(E_),R_=function(e){function t(t,i){var n=e.call(this,t)||this;return n._row=i,n}return gd(t,e),t.prototype._doRun=function(e){var t={};return this._softDeleting=e.softDeleting,t.row=e._keepRow(this._row),t.result=e.$_deleteRow(this._row),t},t.prototype._doRedo=function(e,t){var i=e.softDeleting;try{this._setSoftDeleting(e,this._softDeleting),e.$_deleteRow(this._row)}finally{this._setSoftDeleting(e,i)}},t.prototype._doUndo=function(e,t){e.$_insertRow(this._row,t.row.values),e._yieldStates(this._row,t.row),e._yieldCommandStates(this._row,t.row.outer)},t}(E_),T_=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o._row=i,o._state=n,o._force=r,o}return gd(t,e),t.prototype._doRun=function(e){var t={};return t.row=e._keepStates(this._row),e.$_setRowState(this._row,this._state,this._force),t},t.prototype._doRedo=function(e,t){e.$_setRowState(this._row,this._state,this._force)},t.prototype._doUndo=function(e,t){e._yieldState(this._row,t.row.state),t.row.state!=this._state&&e.fireRowStateChanged(this._row,this._state)},t}(E_),D_=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._row=i,r._state=n,r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var t={};return t.state=e._keepState(this._row),e.$_changeRowState(this._row,this._state,!0,!0),t},t.prototype._doRedo=function(e,t){e.$_changeRowState(this._row,this._state,!0,!0)},t.prototype._doUndo=function(e,t){e._yieldState(this._row,t.state),t.state!=this._state&&e.fireRowStateChanged(this._row,this._state)},t}(E_),M_=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._deleteRows=i,r._rowEvents=n,r}return gd(t,e),t.prototype._doRun=function(e){var t={rows:[]};t.orgValues=e._keepOrgValues();var i=e.$_clearRowStates(this._deleteRows,this._rowEvents,!0);return t.rows=i.rows,t.states=i.states,t.values=i.values,t.rowIds=i.rowIds,t},t.prototype._doRedo=function(e,t){e.$_clearRowStates(this._deleteRows,this._rowEvents,!1)},t.prototype._doUndo=function(e,t){var i=t.rows,n=t.values,r=t.states,o=t.rowIds,s=[];if(n)for(var a=0;a<i.length;a++){var l=i[a];e.$_internalInsertRow(l,n[l],!0,o[l])}if(r)for(a=0;a<r.length;a++)r[a]&&(e._yieldState(a,r[a]),r[a]!==jp.NONE&&s.push(a));e._yieldOrgValues(t.rows),(i.length>0||r.length>0)&&e._fireRefresh()},t}(E_),L_=function(e){function t(t,i,n,r,o,s,a){var l=e.call(this,t)||this;return l._row=i,l._values=l._cloneValues(n,r,o),l._start=0,l._count=l._values.length,l._rowEvents=s,l._strict=a,l}return gd(t,e),t.prototype._doDispose=function(){this._values=null,e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var t={};return e.$_updateRows(this._row,this._values,this._start,this._count,this._strict,this._rowEvents,t),t},t.prototype._doRedo=function(e,t){e.$_updateRows(this._row,this._values,this._start,this._count,this._strict,this._rowEvents,null)},t.prototype._doUndo=function(e,t){var i=t.rows;if(i&&!(i.length<1)){for(var n=t.values,r=t.states,o=t.orgValues,s=0;s<i.length;s++){var a=i[s];e.$_restoreRow(a,n[s],r[s],o[s])}e._fireRefresh()}},t}(E_),A_=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._rows=i.slice(),r._rowEvents=n,r}return gd(t,e),t.prototype._doRun=function(e){var t={};return this._softDeleting=e.softDeleting,e.$_removeRows(this._rows,this._rowEvents,t),t},t.prototype._doRedo=function(e,t){var i=e.softDeleting;try{this._setSoftDeleting(e,this._softDeleting),e.$_removeRows(this._rows,this._rowEvents,null)}finally{this._setSoftDeleting(e,i)}},t.prototype._doUndo=function(e,t){var i=t.rows,n=t.statedRows;if(!(i.length<1&&n.length<1)){for(var r=t.rowSaves,o=t.states,s=0;s<i.length;s++){var a=i[s],l=r[s];e.$_internalInsertRow(a,l.values,!0),e._yieldRow(a,l,!1)}for(i.length&&e._fireRowCountChanged(),s=0;s<n.length;s++)a=n[s],e._yieldState(a,o[s]);for(n.length&&e.fireRowStatesChanged(n,!0),i.length>0&&e._fireRefresh(),s=0;s<i.length;s++){a=i[s];var u=r[s];e._yieldCommandStates(a,u.outer)}}},t}(E_),F_=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t)||this;return a._row=i,a._values=a._cloneValues(n,r,o),a._start=0,a._count=a._values.length,a._rowEvents=s,a}return gd(t,e),t.prototype._doRun=function(e){return e.$_insertRows(this._row,this._values,this._start,this._count,this._rowEvents),{}},t.prototype._doRedo=function(e,t){e.$_insertRows(this._row,this._values,this._start,this._count,this._rowEvents)},t.prototype._doUndo=function(e,t){if(!this._rows){this._rows=[];for(var i=0;i<this._values.length;i++)this._rows.push(this._row+i)}var n=e.softDeleting;try{this._setSoftDeleting(e,!1),e.$_removeRows(this._rows,!1,null)}finally{this._setSoftDeleting(e,n)}},t}(E_);function $_(e,t){return e&&e.getAttribute(t)}var N_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.csvToArray=function(e,t,i,n,r,o){void 0===i&&(i=0),void 0===n&&(n=-1),void 0===r&&(r=!1),void 0===o&&(o=",");for(var s=[],a=[],l=t.length,u=0,c=[],h=!1,d=!1;u<l;){var p=t.charAt(u);'"'==p?h?d&&'"'==t.charAt(u+1)?(c.push(p),u++):d?(d=!1,!r&&c.push(p)):c.push(p):(h=d=!0,!r&&c.push(p)):d||p!=o&&"\r"!=p&&"\n"!=p?(h=!0,c.push(p)):(p==o?a.push(c.join("")):"\r"!=p&&"\n"!=p||(a.push(c.join("")),s.push(a),a=[],"\n"==t.charAt(u+1)&&u++),c=[],h=!1),u++}d&&c.splice(0,0,'"'),c.length>0&&a.push(c.join("")),a.length>0&&s.push(a),i>0&&(n<=0?s.splice(0,i):s=s.splice(i,n));for(var f=e.getFields(),_=f.length,g=_>0,m=0,y=s.length;m<y;m++){a=s[m],g&&a.length>_&&(a.length=_);for(var v=0;v<_;v++)a[v]=f[v].readValue(a[v])}return s},t.xmlToRow=function(e,t,i){for(var n=e.childNodes,r=t.length,o=new Array(r),s=0,a=n.length;s<a;s++){var l,u=n[s];if((l=i.indexOf(u.tagName))>=0){var c=u.nodeValue;null==c&&u.hasChildNodes()&&(c=Bp.included(u.childNodes[0].nodeType,3,4)?u.childNodes[0].nodeValue:void 0),null!=c&&(o[l]=c)}}for(s=0;s<r;s++)if(void 0===o[s]){var h=$_(e,i[s]);null!=h&&(o[s]=h)}return o},t.xmlToArray=function(e,i,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var o=null,s=t.xmlToRow,a=i?i.length:0;if(a&&(n=Math.max(0,n),r<0&&(r=a),r=Math.min(a-n,r))){var l=e.getFields(),u=e.getOrgFieldNames();l.length,o=new Array(r);for(var c=0;c<r;c++){var h=s(i[c+n],l,u);o[c]=h}}return o},t}(Yp),j_=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._row=i,r._newRow=n,r}return gd(t,e),t.prototype._doRun=function(e){e.$_moveRow(this._row,this._newRow)},t.prototype._doRedo=function(e,t){e.$_moveRow(this._row,this._newRow)},t.prototype._doUndo=function(e,t){e.$_moveRow(this._newRow,this._row)},t}(E_),B_=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o._row=i,o._count=n,o._newRow=r,o}return gd(t,e),t.prototype._doRun=function(e){e.$_moveRows(this._row,this._count,this._newRow)},t.prototype._doRedo=function(e,t){e.$_moveRows(this._row,this._count,this._newRow)},t.prototype._doUndo=function(e,t){e.$_moveRows(this._newRow,this._count,this._row)},t}(E_),V_=function(e){function t(t,i,n){var r=e.call(this,t)||this;r._rows=i,r._newRows=i.slice();for(var o=n-i[0],s=0;s<i.length;s++)r._newRows[s]+=o;return r}return gd(t,e),t.prototype._doRun=function(e){var t={};return t.result=e.$_moveRowList(this._rows,this._newRows[0]),t},t.prototype._doRedo=function(e,t){return e.$_moveRowList(this._rows,this._newRows[0])},t.prototype._doUndo=function(e,t){return e.$_moveRowList(this._newRows,this._rows[0])},t}(E_),H_=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._rowFields=Bp.deepCopy(i),r._value=n,r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var t={};return e.$_fillValue(this._rowFields,this._value,t),t},t.prototype._doRedo=function(e,t){e.$_fillValue(this._rowFields,this._value,null)},t.prototype._doUndo=function(e,t){var i=t.rows;if(!(i.length<1)){for(var n=t.values,r=t.states,o=t.orgValues,s=0;s<i.length;s++){var a=i[s];e.$_restoreRow(a,n[s],r[s],o[s])}e._fireRefresh()}},t}(E_),U_=function(e){function t(t,i,n,r,o){void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=jp.NONE);var s=e.call(this,t)||this;return s._newCount=i,s._oldCount=t.rowCount,s._fillDefaults=n,s._defaultValues=r,s._rowState=o,s}return gd(t,e),t.prototype._doRun=function(e){var t={};return e.$_setRowCount(this._newCount,this._fillDefaults,this._defaultValues,this._rowState,t),t},t.prototype._doRedo=function(e,t){e.$_setRowCount(this._newCount,this._fillDefaults,this._defaultValues,this._rowState,null)},t.prototype._doUndo=function(e,t){if(this._oldCount<this._newCount)e.$_setRowCount(this._oldCount);else if(this._oldCount>this._newCount){var i=t.rows,n=t.statedRows;if(i.length<1&&n.length<1)return;for(var r=t.rowSaves,o=t.states,s=0;s<i.length;s++){var a=i[s],l=r[s];e.$_internalInsertRow(a,l.values,!0),e._yieldRow(a,l,!1)}for(s=0;s<n.length;s++)a=n[s],e._yieldState(a,o[s]);for(e._fireRefresh(),s=0;s<i.length;s++){a=i[s];var u=r[s];e._yieldCommandStates(a,u.outer)}}},t}(E_),W_=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o._values=Bp.deepCopy(i),o._rowEvents=n,o._strict=r,o}return gd(t,e),t.prototype._doDispose=function(){this._values=null,e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var t={};return e.$_updateRows2(this._values,this._strict,this._rowEvents,t),t},t.prototype._doRedo=function(e,t){e.$_updateRows2(this._values,this._strict,this._rowEvents,null)},t.prototype._doUndo=function(e,t){var i=t.rows;if(i&&!(i.length<1)){for(var n=t.values,r=t.states,o=t.orgValues,s=0;s<i.length;s++){var a=i[s];e.$_restoreRow(a,n[s],r[s],o[s])}e._fireRefresh()}},t}(E_),G_=function(e){function t(t,i,n,r,o){var s=e.call(this,t)||this;return s._rows=i.slice(),s._state=n,s._force=r,s._rowEvents=o,s}return gd(t,e),t.prototype._doRun=function(e){for(var t={},i=0;i<this._rows.length;i++){var n=this._rows[i];t[n]=e._keepStates(n)}return e.$_setRowStates(this._rows,this._state,this._force,this._rowEvents),t},t.prototype._doRedo=function(e,t){e.$_setRowStates(this._rows,this._state,this._force,this._rowEvents)},t.prototype._doUndo=function(e,t){for(var i=[],n=this._rows.length;n--;){var r=this._rows[n];e._yieldStates(r,t[r]),t[r].state!==this._state&&(this._rowEvents?e.fireRowStateChanged(r,this._state):i.push(r))}i.length>0&&e.fireRowStatesChanged(i,Hp(this._state))},t}(E_),z_=function(e){function t(t,i){var n=e.call(this,t)||this;return n._rows=i&&i.slice(),n}return gd(t,e),t.prototype._doDispose=function(){this._rows=null,e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var t={};return e.$_restoreUpdatedRows(this._rows,t),t},t.prototype._doRedo=function(e,t){e.$_restoreUpdatedRows(this._rows,null)},t.prototype._doUndo=function(e,t){var i=t.rows;if(i&&!(i.length<1)){for(var n=0;n<i.length;n++){var r=i[n],o=t[r],s=o.values,a=o.state,l=o.orgValues;e.$_restoreRow(r,s,a,l)}e._fireRefresh()}},t}(E_),Y_=function(e){function t(t,i){var n=e.call(this)||this;return n._points=[],n._nextPoint=0,n._values=[],n._rowIds=[],n._rowStates=[],n._orgValues=null,n._needRestore=!1,n._deletedCount=0,n._nextRowId=0,n._hiddenIds=[],n.$_handler=i,t&&(n.undoable=!0,n._commands=new O_(n)),n}return gd(t,e),t.prototype._doDispose=function(){this._commands=this._commands&&this._commands.dispose(),this._values=this._rowIds=this._rowStates=this._points=this._orgValues=this._hiddenIds=[],e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"handler",{get:function(){return this.$_handler},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"undoable",{get:function(){return this._undoable&&!!this._commands},set:function(e){e!=this.undoable&&(this._undoable=e,this._commands&&this._commands.flush())},enumerable:!1,configurable:!0}),t.prototype.getDataRow=function(e){return this._rowIds.indexOf(e)},Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._values.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deletedCount",{get:function(){return this._deletedCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canUndo",{get:function(){return this._commands&&this._commands.canUndo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){return this._commands&&this._commands.canRedo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"undoing",{get:function(){return this._commands&&this._commands.undoing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redoing",{get:function(){return this._commands&&this._commands.redoing},enumerable:!1,configurable:!0}),t.prototype.getRowId=function(e){return this._rowIds[e]},t.prototype.$_internalInsertField=function(t,i){if((t=e.prototype.$_internalInsertField.call(this,t,i))>=0){for(var n=this._values.length,r=0;r<n;r++)(o=this._values[r])&&o.splice(t,0,void 0);if(this._orgValues)for(n=Math.min(n,this._orgValues.length),r=0;r<n;r++){var o;(o=this._orgValues[r])&&o.splice(t,0,void 0)}}return t},t.prototype.$_internalRemoveField=function(t){try{var i=t.index;if(i>=0){for(var n=0,r=this._values;n<r.length;n++)(a=r[n])&&a.splice(i,1);if(this._orgValues)for(var o=0,s=this._orgValues;o<s.length;o++){var a;(a=s[o])&&a.splice(i,1)}}e.prototype.$_internalRemoveField.call(this,t)}catch(l){throw l}},t.prototype.$_internalClearFields=function(){e.prototype.$_internalClearFields.call(this),this.$_clearRows()},t.prototype.setRowCount=function(e,t,i,n){void 0===t&&(t=!1),void 0===i&&(i=null),void 0===n&&(n=jp.NONE),this.undoable?this._commands.execute(new U_(this,e,t,i,n)):this.$_setRowCount(e,t,i,n)},t.prototype.$_setRowCount=function(e,t,i,n,r){if(void 0===t&&(t=!1),void 0===i&&(i=null),void 0===n&&(n=jp.NONE),void 0===r&&(r=null),this._checkClientState()){var o=this._values,s=o.length,a=Math.max(0,e);if(a!=s){var l=this._rowIds,u=this._rowStates;if(this.refreshFieldFormats(),r&&(r.rows=[],r.rowSaves=[],r.statedRows=[],r.states=[]),a>s&&(t||i)){var c=this.fieldCount,h=i;if(!h||h instanceof Array||(h=this.objectToRow(h)),h&&h.length<1&&(h=null),t||h)for(var d=h?Math.min(h.length,c):0,p=s;p<a;p++){var f=[];if(t)for(var _=0;_<c;_++){var g=this.getField(_);f[_]=void 0!==g.defaultValue?g.defaultValue:g.nullValue}if(d>0)for(_=0;_<d;_++){var m=h[_];void 0!==m&&(f[_]=this.getField(_).readValue(m))}o[p]=f}}else if(a>s)for(p=s;p<a;p++)o[p]=[];else if(a<s){if(r)for(p=a;p<s;p++){var y=p;r.statedRows.push(y),r.states.push(u[p]),r.rows.push(y),r.rowSaves.push(this._keepRow(y))}if(this._deletedCount>0)for(p=s-1;p>=a;p--)Hp(u[p])&&this._deletedCount--}for(n=this.checkStates&&n?n:jp.NONE,o.length=l.length=u.length=a,this._orgValues&&this._orgValues.length>a&&(this._orgValues.length=a),p=s;p<a;p++)u[p]=n,l[p]=this._nextRowId++;for(p=this._hiddenIds.length-1;p>=0;p--)_=this._hiddenIds[p],l.indexOf(_)<0&&this._hiddenIds.splice(p,1);this.tags.setRowCount(a),this._fireRefresh(),this._fireRowCountChanged()}}},t.prototype.$_clearRows=function(){this._values.length=0,this._values=[],this._rowIds.length=0,this._rowIds=[],this._rowStates.length=0,this._rowStates=[],this._hiddenIds.length=0,this._hiddenIds=[],this._orgValues?(this._orgValues.length=0,this._orgValues=[]):this._orgValues=null,this._deletedCount=0,this.clearCommandStack(),this.tags.clearRows()},t.prototype.clearRows=function(){this._checkClientState()&&(this.$_clearRows(),this._fireRefresh(),this._fireRowCountChanged(),this.fireDataLoadComplated())},t.prototype.setRows=function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=-1),this._checkClientState()&&0!=i){this.refreshFieldFormats(),this.beginUpdate();try{this.$_clearRows();var n=this.checkStates,r=this.filters,o=this.filterRuntime,s=void 0;if(e&&(s=e.length)>0&&t<s)if(t=Math.max(0,t),i=i<0?s:Math.min(i,s-t),r){this._values.length=this._rowIds.length=this._rowStates.length=i,r.prepare(o,this);for(var a=s,l=0,u=0,c=t;c<a&&l<i;c++)(h=e[c])instanceof Array||(h=this.objectToRow(h)),r.select(o,u++,h)&&this.$_internalSetRow(l++,h,n);this._values.length=this._rowIds.length=this._rowStates.length=l}else if((a=Math.min(s,t+i))>t)for(this._values.length=this._rowIds.length=this._rowStates.length=a-t,l=0,c=t;c<a;c++){var h;(h=e[c])instanceof Array||(h=this.objectToRow(h)),this.$_internalSetRow(l++,h,n)}}finally{this.endUpdate(!1),this.clearCommandStack()}this.tags.setRows(),this._fireRefresh(),this._fireRowCountChanged(),this.fireDataLoadComplated()}},t.prototype.setXmlRows=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=-1),this._checkClientState()&&0!=i&&(e=N_.xmlToArray(this,e,t,i),this.setRows(e))},t.prototype.insertRows=function(e,t,i,n,r){void 0===i&&(i=0),void 0===n&&(n=-1),void 0===r&&(r=!1),this.undoable?this._commands.execute(new F_(this,e,t,i,n,r)):this.$_insertRows(e,t,i,n,r)},t.prototype.$_insertRows=function(e,t,i,n,r){if(this._checkClientState()&&t){var o=t.length;if(!(o<1)&&0!=(n=n<0?o:Math.min(o,n))){if(e<0||e>this._values.length)throw new h_(r_.messages.rowOutOfBounds+e);this.refreshFieldFormats(),i=Math.max(0,i);var s=Math.min(o,i+n);if(r)for(var a=e,l=i;l<s;l++)(u=t[l])instanceof Array||(u=this.objectToRow(u)),this.fireRowInserting(a,u)&&(this.$_internalInsertRow(a,u,!0,null),this.fireRowInserted(a),this._fireRowCountChanged(),a++);else{for(a=e,l=i;l<s;l++,a++){var u;(u=t[l])instanceof Array||(u=this.objectToRow(u)),this.$_internalInsertRow(a,u,!1,null)}this.tags.insertRows(e,n=s-i),this.fireRowsInserted(e,n),this._fireRowCountChanged()}}}},t.prototype.appendRows=function(e,t,i,n){void 0===t&&(t=0),void 0===i&&(i=-1),void 0===n&&(n=!1),this.insertRows(this.rowCount,e,t,i,n)},t.prototype.insertRowsFrom=function(e,t,i,n){for(var r=[],o=0,s=i;o<s.length;o++){var a=s[o];r.push(e.getRowObject(a))}if(t)for(var l=i.length-1;l>=0;l--)r[l]=this._convertValues(r[l],t);this.insertRows(n,r)},t.prototype.appendRowsFrom=function(e,t,i){this.insertRowsFrom(e,t,i,this.rowCount)},t.prototype.insertXmlRows=function(e,t,i,n,r){void 0===i&&(i=0),void 0===n&&(n=-1),void 0===r&&(r=!1),this._checkClientState()&&(t=N_.xmlToArray(this,t,i,n),this.insertRows(e,t,0,-1,r))},t.prototype.appendXmlRows=function(e,t,i,n){void 0===n&&(n=!1),this.insertXmlRows(this.rowCount,e,t,i,n)},t.prototype.fillValue=function(e,t){if(this.undoable)return this._commands.execute(new H_(this,e,t));this.$_fillValue(e,t)},t.prototype.updateRows=function(e,t,i,n,r,o){if(void 0===o&&(o=!1),this.undoable)return this._commands.execute(new L_(this,e,t,i,n,o,r));this.$_updateRows(e,t,i,n,r,o)},t.prototype.updateRows2=function(e,t,i){if(this.undoable)return this._commands.execute(new W_(this,e,i,t));this.$_updateRows2(e,t,i)},t.prototype.updateXmlRows=function(e,t,i,n,r){void 0===r&&(r=!1),this._checkClientState()&&(t=N_.xmlToArray(this,t,i,n),this.updateRows(e,t,0,-1,r))},t.prototype.getValue=function(e,t){this.$_checkRowIndex(e),this._checkFieldIndex(t);var i=this._values[e];return i?i[t]:void 0},t.prototype.setValue=function(e,t,i){return this.undoable?this._commands.execute(new S_(this,e,t,i)):this.$_setValue(e,t,i)},t.prototype.$_setValue=function(e,t,i){if(!this._checkClientState())return!1;this.$_checkRowIndex(e),this._checkFieldIndex(t);var n=this.getField(t),r=this._rowStates[e];if(!n)throw new h_(r_.messages.fieldIndexOutOfBounds+t);if(!n.updatable&&(r==jp.NONE||r==jp.UPDATED))return!1;var o,s=this._values[e],a=n.readValue(i);if(s&&n.equalValues(a,s[t]))return!1;this.refreshFieldFormat(n);var l=this.checkStates&&(r==jp.NONE||!r);return s||(this._values[e]=s=new Array(this.fieldCount)),l&&this._orgValues&&(o=s.concat()),s[t]=a,this._internalCalculateValues(s,e),l?(o&&(this._orgValues[e]=o),this.$_changeRowState(e,jp.UPDATED,!0)):this._needRestore&&this.restoreState(e),this.tags.setValue(e,t),this.fireValueChanged(e,t),!0},t.prototype.updateRow=function(e,t,i){return this.undoable?this._commands.execute(new k_(this,e,t,i)):this.$_updateRow(e,t,i)},t.prototype.getRow=function(e){this.$_checkRowIndex(e);var t=this._values[e];return t?t.slice():[]},t.prototype.getRows=function(e,t){void 0===e&&(e=0),void 0===t&&(t=-1);var i=this._values.length,n=Math.max(0,e),r=t<0?i-1:Math.min(i-1,t);if(n>=i||r<n)return[];for(var o=r-n+1,s=new Array(o),a=0;a<o;a++)s[a]=this._values[a+n]?this._values[a+n].slice():[];return s},t.prototype.getRowObject=function(e,t){return this.$_checkRowIndex(e),this.$_getRowObject(e,t)},t.prototype.getRowObjects=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=-1);var n=this._values.length,r=Math.max(0,e),o=t<0?n-1:Math.min(n-1,t);if(r>=n||o<r)return[];for(var s=o-r+1,a=new Array(s),l=0;l<s;l++)a[l]=this.$_getRowObject(l+r,i);return a},t.prototype.getOutputObject=function(e,t){var i=this.getRowObject(t,null==e?void 0:e.rowState);return e&&this.$_createOutputRows([i],e,t),i},t.prototype.getOutputObjects=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=-1);var n=this.getRowObjects(t,i,null==e?void 0:e.rowState);return e&&this.$_createOutputRows(n,e,t),n},t.prototype.getFieldValues=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=-1),this._checkFieldIndex(e);var n=this._values.length;if(i=i<0?n-1:Math.min(n-1,i),(t=Math.max(0,t))>=n||i<t)return null;for(var r=new Array(i-t+1),o=t;o<=i;o++){var s=this._values[o];r[o-t]=s&&s[e]}return r},t.prototype.hasData=function(e){var t=this._values;return e>=0&&e<t.length&&void 0!==t[e]&&t[e].length>0},t.prototype.insertRow=function(e,t){return this.undoable?this._commands.execute(new P_(this,e,t)):this.$_insertRow(e,t)},t.prototype.$_insertRow=function(e,t,i){if(void 0===i&&(i=void 0),!this._checkClientState())return!1;if(e<0||e>this._values.length)throw new h_(r_.messages.rowOutOfBounds+e);return this.refreshFieldFormats(),!(!t||!this.fireRowInserting(e,t)||(Bp.isArray(t)||(t=this.objectToRow(t)),this.$_internalInsertRow(e,t,!0,null),i&&this._yieldStates(e,i),this.fireRowInserted(e),this._fireRowCountChanged(),0))},t.prototype.appendRow=function(e){var t=this.rowCount;return this.insertRow(t,e)?t:-1},t.prototype.removeRow=function(e){if(this.undoable){if(this.softDeleting&&this.checkStates)switch(this._rowStates[e]){case jp.CREATED:if(!this.deleteCreated)return this._commands.execute(new D_(this,e,jp.CREATE_AND_DELETED));break;case jp.DELETED:case jp.CREATE_AND_DELETED:return;default:return this._commands.execute(new D_(this,e,jp.DELETED))}return this._commands.execute(new R_(this,e))}return this.$_removeRow(e)},t.prototype.$_removeRow=function(e){if(!this._checkClientState())return!1;if(this.$_checkRowIndex(e),this.softDeleting&&this.checkStates){switch(this._rowStates[e]){case jp.CREATED:this.deleteCreated?this.$_deleteRow(e):this.$_changeRowState(e,jp.CREATE_AND_DELETED,!0,!0);break;case jp.DELETED:case jp.CREATE_AND_DELETED:break;default:this.$_changeRowState(e,jp.DELETED,!0,!0)}return!0}return this.$_deleteRow(e)},t.prototype.removeRows=function(e,t){void 0===t&&(t=!1),this.undoable?this._commands.execute(new A_(this,e,t)):this.$_removeRows(e,t,null)},t.prototype.$_removeRows=function(e,t,i){if(this._checkClientState()){var n,r=this.deleteCreated;if(e&&!((n=e.length)<1)){if(e=e.slice(),i&&(i.rows=[],i.rowSaves=[],i.statedRows=[],i.states=[]),this.softDeleting&&this.checkStates){for(var o=t?null:[],s=n;s--;){var a=e[s],l=this._rowStates[a],u=!1;switch(this.$_checkRowIndex(a),l){case jp.CREATED:r||(i&&(i.statedRows.push(a),i.states.push(l)),u=this.$_changeRowState(a,jp.CREATE_AND_DELETED,t,!1),e.splice(s,1));break;case jp.DELETED:case jp.CREATE_AND_DELETED:e.splice(s,1);break;default:i&&(i.statedRows.push(a),i.states.push(l)),u=this.$_changeRowState(a,jp.DELETED,t,!1),e.splice(s,1)}o&&u&&o.push(a)}t||o&&o.length>0&&this.fireRowStatesChanged(o,!0)}if((n=e.length)>0){if(n>1&&e.sort(function(e,t){return e-t}),i)for(s=0;s<n;s++)a=e[s],i.rows.push(a),i.rowSaves.push(this._keepRow(a));if(t)for(s=n;s--;)a=e[s],this.$_checkRowIndex(a),this.$_deleteRow(a);else if(this.fireRowsRemoving(e)){for(s=n;s--;)a=e[s],l=this._rowStates[a],this.$_checkRowIndex(a),this.$_internalRemoveRow(a),Hp(l)&&this._deletedCount--;this.tags.removeRows(e),this.fireRowsRemoved(e),this._fireRowCountChanged()}}}}},t.prototype.moveRow=function(e,t){if(e!=t)return this.undoable?this._commands.execute(new j_(this,e,t)):void this.$_moveRow(e,t)},t.prototype.$_moveRow=function(e,t){this._checkClientState()&&(this.$_checkRowIndex(e),this.$_checkRowIndex(t),this.fireRowMoving(e,t)&&(this.$_internalMoveRow(e,t),this.tags.moveRow(e,t),this.fireRowMoved(e,t)))},t.prototype.moveRows=function(e,t,i){if(!(t<1||e==i))return this.undoable?this._commands.execute(new B_(this,e,t,i)):void this.$_moveRows(e,t,i)},t.prototype.$_moveRows=function(e,t,i){this._checkClientState()&&(this.$_checkRowIndex(e),this.$_checkRowIndex(i),this.fireRowsMoving(e,t,i)&&(this.$_internalMoveRows(e,t,i),this.tags.moveRows(e,t,i),this.fireRowsMoved(e,t,i)))},t.prototype.moveRowList=function(e,t){if(e&&!(e.length<1))return e=e.sort(function(e,t){return e-t}),this.undoable?this._commands.execute(new V_(this,e,t)):this.$_moveRowList(e,t)},t.prototype.$_moveRowList=function(e,t){if(this._checkClientState()){var i=e[0];return this.$_checkRowIndex(i),this.$_checkRowIndex(t),this.fireRowListMoving(e,t)?(this.$_internalMoveRowList(e,t),this.tags.moveRowList(e,t),this.fireRowListMoved(e,t),!0):void 0}},t.prototype.getRowState=function(e){return this.$_checkRowIndex(e),this._rowStates[e]||jp.NONE},t.prototype.$_checkDeleted=function(e,t){Hp(t)?this._deletedCount++:Hp(e)&&!Hp(t)&&this._deletedCount--},t.prototype.setRowState=function(e,t,i){return this.undoable?this._commands.execute(new T_(this,e,t,i)):this.$_setRowState(e,t,i)},t.prototype.$_setRowState=function(e,t,i){this._checkClientState()&&(this.$_checkRowIndex(e),this._orgValues?this.$_changeRowStateEx(e,t,!0,i):this.$_changeRowState(e,t,!0,i))},t.prototype.setRowStates=function(e,t,i,n){return void 0===n&&(n=!1),this.undoable?this._commands.execute(new G_(this,e,t,i,n)):this.$_setRowStates(e,t,i,n)},t.prototype.$_setRowStates=function(e,t,i,n){var r;if(void 0===n&&(n=!1),this._checkClientState()&&e&&!((r=e.length)<1))if(n)for(var o=0;o<r;o++){var s=e[o];this.$_checkRowIndex(s),this.$_changeRowStateEx(s,t,!0,i)}else{var a=[],l=this._rowStates;for(o=0;o<r;o++){var u=l[s=e[o]];this.$_checkRowIndex(s),t!=u&&(l[s]=t,a.push(s),this.$_checkDeleted(u,t),this._orgValues&&this.prepareOrgValues(s,u,t))}a.length>0&&this.fireRowStatesChanged(a)}},t.prototype.clearRowStates=function(e,t){void 0===t&&(t=!1),this.undoable?this._commands.execute(new M_(this,e,t)):this.$_clearRowStates(e,t)},t.prototype.$_clearRowStates=function(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),this._checkClientState()){for(var n=[],r=i?this._rowStates.slice():null,o=i?[]:null,s=i?this._rowIds.slice():null,a=this._rowStates.length;a--;){var l=this._rowStates[a];switch(o&&(o[a]=null),l){case jp.CREATE_AND_DELETED:case jp.DELETED:if(e){if(n.push(a),o){var u=this._keepRow(a);u&&(o[a]=u.values)}t?this.$_deleteRow(a):(this.$_internalRemoveRow(a),this.tags.removeRow(a),this._deletedCount--)}else this.$_changeRowState(a,jp.NONE,t);break;default:this.$_changeRowState(a,jp.NONE,t)}}return this.$_resetOrgValues(),t||(n.length>0&&(this.fireRowsRemoved(n),this._fireRowCountChanged()),this.fireRowStatesCleared()),i?{rows:n,states:r,values:o,rowIds:s}:void 0}},t.prototype.$_restoreStates=function(e,t){this.fireRowStatesChanged(e)},t.prototype.getStateRows=function(e){var t=[];if(e)for(var i=0,n=this._rowStates.length;i<n;i++)this._rowStates[i]==e&&t.push(i);return t},t.prototype.getAllStateRows=function(){for(var e={},t=e[jp.CREATED]=[],i=e[jp.UPDATED]=[],n=e[jp.DELETED]=[],r=e[jp.CREATE_AND_DELETED]=[],o=0,s=this._rowStates.length;o<s;o++){var a=this._rowStates[o];a===jp.CREATED?t.push(o):a===jp.UPDATED?i.push(o):a===jp.DELETED?n.push(o):a===jp.CREATE_AND_DELETED&&r.push(o)}return e},t.prototype.getRowStateCount=function(e){var t=e?e.length:0,i=this._rowStates.length,n=0;if(t&&i)if(t>1)for(var r=0;r<i;r++){var o=this._rowStates[r];e.indexOf(o)>=0&&n++}else for(o=e[0],r=0;r<i;r++)this._rowStates[r]===o&&n++;return n},t.prototype.$_restoreState=function(e){if(this._rowStates[e]===jp.UPDATED){var t=this._orgValues[e];if(t){for(var i=this._values[e],n=this.strictRestore,r=0,o=this.fieldCount;r<o;r++){var s=i.length>r?i[r]:void 0,a=t.length>r?t[r]:void 0,l=this.getField(r);if(n){if(!l.equalValues(s,a))return!1}else if(!l.sameValues(s,a))return!1}return this._rowStates[e]=jp.NONE,!0}}return!1},t.prototype.restoreUpdatedStates=function(e){if(this._orgValues&&this._checkClientState()){var t=[];if(null!=e)for(var i=0,n=e.length;i<n;i++){var r=e[i];r>=0&&r<this._values.length&&this.$_restoreState(r)&&t.push(r)}else for(i=0,n=this._values.length;i<n;i++)this.$_restoreState(i)&&t.push(i);t.length>0&&this.fireRowStatesChanged(t)}},t.prototype.$_restoreUpdatedRow=function(e,t){var i=this._rowStates[e];if(i===jp.UPDATED){var n=this._orgValues[e];if(n){var r=this._values[e];t&&(t[e]={state:i,values:r.slice(),orgValues:n.slice()},(t.rows||(t.rows=[])).push(e));for(var o=0,s=Math.min(n.length,this.fieldCount);o<s;o++)r[o]=n[o];return this._rowStates[e]=jp.NONE,!0}}return!1},t.prototype.$_restoreRow=function(e,t,i,n){this._values[e]=t.slice(),this._rowStates[e]=i,this._orgValues&&(this._orgValues[e]=n&&n.slice())},t.prototype.restoreUpdatedRows=function(e){this.undoable&&this._orgValues?this._commands.execute(new z_(this,e)):this.$_restoreUpdatedRows(e)},t.prototype.$_restoreUpdatedRows=function(e,t){if(this._orgValues&&this._checkClientState()){var i=[];if(null!=e)for(var n=0,r=e.length;n<r;n++){var o=e[n];o>=0&&o<this._values.length&&this.$_restoreUpdatedRow(o,t)&&i.push(o)}else for(n=0,r=this._values.length;n<r;n++)this.$_restoreUpdatedRow(n,t)&&i.push(n);i.length>0&&(t&&(t.rows=i.slice()),this.fireRestoreRows(i),this.fireRowStatesChanged(i))}},t.prototype._reCalculateFields=function(e){var t=this;this._values.forEach(function(i,n){t._internalCalculateValues(i,n,e)})},t.prototype.getUpdatedCells=function(e){var t=this.restoreMode;if(!this._orgValues||t!=sf.AUTO&&t!=sf.EXPLICIT)return null;if(null==e&&(e=this.getStateRows(jp.UPDATED)),null==e)return null;for(var i=[],n=0,r=e.length;n<r;n++){var o=e[n],s=o>=0&&this._orgValues&&o<this._orgValues.length?this._orgValues[o]:null;if(s){for(var a=this._values[o],l=this.strictRestore,u=[],c=0,h=this.fieldCount;c<h;c++){var d=a.length>c?a[c]:void 0,p=s.length>c?s[c]:void 0,f=this.getField(c);f.calculated||(l?f.equalValues(d,p)||u.push({fieldName:this.getOrgFieldName(c),oldValue:s[c],newValue:a[c]}):f.sameValues(d,p)||u.push({fieldName:this.getOrgFieldName(c),oldValue:s[c],newValue:a[c]}))}u.length>0&&i.push({__rowId:o,updatedCells:u})}}return i},t.prototype._doRestoreModeChanged=function(){this.$_resetOrgValues()},t.prototype.findRow=function(e,t,i){if(void 0===i&&(i=0),e.length<1||t.length<e.length)return-1;for(var n=[],r=[],o=this._values,s=0,a=e.length;s<a;s++){var l=void 0;(l="string"==typeof e[s]?this.getFieldIndex(e[s]):Number(e[s]))>=0&&l<this.fieldCount&&n.indexOf(l)<0&&(n.push(l),r.push(t[s]))}var u=n.length;for(s=0;s<u;s++)n[s]=this.getField(n[s]);for(s=i,a=o.length;s<a;s++){var c=o[s],h=!0;for(l=0;l<u;l++)if(!n[l].equalValues(r[l],c[l])){h=!1;break}if(h)return s}return-1},t.prototype.savePoint=function(e){if(void 0===e&&(e=!0),this._checkClientState()){var t=this._values,i=this.fieldCount,n=t?t.length:0;if(i>0&&n>0){for(var r=new Array(n),o=0;o<n;o++){var s=t[o]&&t[o].concat();r[o]=s}var a=e?this._rowStates.concat():null,l=this._nextPoint++;return this._points.push({id:l,data:r,states:a}),l}return-1}},t.prototype.rollback=function(e){if(this._checkClientState())for(var t=this._points.length-1;t>=0;t--){var i=this._points[t];if(i.id==e){this.$_removeSavePoints(t+1),this.setRows(i.data);var n=i.states;n&&(this._rowStates=n.concat());break}}},t.prototype.$_removeSavePoints=function(e){for(var t=this._points,i=t.length-1;i>=e;i--)t[i].data=null,t.pop()},t.prototype.clearSavePoints=function(){this.$_removeSavePoints(0)},t.prototype.getSavePoints=function(){for(var e=[],t=0,i=this._points.length;t<i;t++)e.push(this._points[t].id);return e},t.prototype.canUpdateRow=function(e){return!(this._rowStates[e]===jp.NONE&&!this.updatable)},t.prototype.canAppendRow=function(){return!0},t.prototype.canInsertRow=function(e){return!0},t.prototype.canDeleteRow=function(e){return!0},t.prototype.getDistinctValues=function(e,t,i){if(void 0===t&&(t=-1),void 0===i&&(i=bd.ASCENDING),t=arguments.length>1?t:-1,this._checkFieldIndex(e),t<0&&(t=this._values.length),t>0){for(var n=this.getField(e).dataType,r=[],o=void 0,s=0,a=this.rowCount;s<a;s++)switch(o=this._values[s]?this._values[s][e]:void 0,n){case vd.NUMBER:null!=o&&isNaN(o)||r.push(o);break;case vd.DATE:case vd.DATETIME:r.push(o?o.getTime():void 0);break;case vd.OBJECT:default:r.push(o)}return r=p_.getUniqueValues(r,n),i!==bd.NONE&&(r=Bp.included(n,vd.DATETIME,vd.DATE,vd.NUMBER)?r.sort(function(e,t){return e-t}):r.sort(),i===bd.DESCENDING&&(r=r.reverse())),r.slice(0,t)}return null},t.prototype.compareValues=function(e,t,i,n,r){var o=this._values[t],s=this._values[i];if(o===s)return 0;var a=o?o[e]:null,l=s?s[e]:null;return-1===n&&(a=""==a?null:a,l=""==l?null:l),null==a?null==l?0:-1*n:null==l?1*n:(a=r?String(a).toLowerCase():a)>(l=r?String(l).toLowerCase():l)?1:a<l?-1:0},t.prototype.compareTexts=function(e,t,i,n){return this.compareValues(e,t,i,n,!0)},t.prototype.compareNumbers=function(e,t,i,n){var r=this._values[t],o=this._values[i];if(r===o)return 0;var s=r?r[e]:NaN,a=o?o[e]:NaN;return isNaN(s)?isNaN(a)?0:-1*n:isNaN(a)?1*n:s>a?1:s<a?-1:0},t.prototype.compareBools=function(e,t,i,n){var r=this._values[t],o=this._values[i];if(r===o)return 0;var s=!!r&&Boolean(r[e]),a=!!o&&Boolean(o[e]);return s&&!a?1:!s&&a?-1:0},t.prototype.compareObjects=function(e,t,i,n){var r=this._values[t],o=this._values[i];if(r===o)return 0;var s=r?r[e]:null,a=o?o[e]:null;return s?a?this.getField(e).$_compareObject(s,a,t,i):1*n:a?-1*n:0},t.prototype.summarize=function(e,t){var i=this.rowCount;if(i<1)return!1;for(var n=[],r=0;r<i;r++)n.push(r);return this.summarizeRange(e,n,t)},t.prototype.summarizeRange=function(e,t,i){if(null==e||null==t)return!1;e.clear();var n=t.length;if(n<1)return!1;for(var r,o,s,a=this.getField(e.field).dataType===vd.NUMBER,l=0,u=e.field,c=0;c<n;){var h=t[c++];null==(g=(_=this._values[h])&&_[u])||a&&(!a||isNaN(g))||(a&&(r=l?r+g:g),(a||""!=g)&&l++,(null==o||g<o)&&(o=g),(null==s||g>s)&&(s=g))}if(e.count=n,l>0)if(e.sum=r,e.min=o,e.max=s,a&&(e.avg=r/n),e.dataCount=l,a&&(e.dataAvg=r/l),i&&a){for(var d=0,p=e.avg,f=0;f<n;f++){var _,g;h=t[f],null!=(g=(_=this._values[h])&&_[u])&&(d+=Math.pow(g-p,2))}e.varsp=d/n,e.vars=d/(n-1)}else e.varsp=NaN,e.vars=NaN;return!0},t.prototype._keepRow=function(e){var t={};return t.rowId=this._rowIds[e],t.values=this._values[e]&&this._values[e].slice(),t.state=this._rowStates[e],t.orgValues=this._orgValues&&this._orgValues[e]&&this._orgValues[e].slice(),t.outer=this._keepCommandStates(e),t},t.prototype._yieldRow=function(e,t,i){void 0===i&&(i=!0),this._rowIds[e]=t.rowId,this._values[e]=t.values&&t.values.slice(),this._rowStates[e]=t.state,this._orgValues&&(this._orgValues[e]=t.orgValues&&t.orgValues.slice()),i&&this._yieldCommandStates(e,t.outer)},t.prototype._keepStates=function(e){var t={};return t.rowId=this._rowIds[e],t.state=this._rowStates[e],t.orgValues=this._orgValues&&this._orgValues[e]&&this._orgValues[e].slice(),t},t.prototype._yieldStates=function(e,t){this._rowIds[e]=t.rowId,this._rowStates[e]=t.state,this._orgValues&&(this._orgValues[e]=t.orgValues&&t.orgValues.slice())},t.prototype._keepState=function(e){return this._rowStates[e]},t.prototype._yieldState=function(e,t){var i=this._rowStates[e];this._rowStates[e]=t,!Hp(i)&&Hp(t)?this._deletedCount++:Hp(i)&&!Hp(t)&&this._deletedCount--},t.prototype._keepOrgValues=function(){var e=this._orgValues;if(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]&&e[i].slice());return t}return null},t.prototype._yieldOrgValues=function(e){if(this._orgValues)if(e){this._orgValues=[];for(var t=0;t<e.length;t++)this._orgValues.push(e[t]&&e[t].slice())}else this._orgValues=e},t.prototype.$_checkRowIndex=function(e){if(isNaN(e)||e<0||e>=this._values.length)throw Bp.isDebugging(),new h_(r_.messages.rowOutOfBounds+e)},t.prototype.$_resetOrgValues=function(){var e=this.restoreMode;this._orgValues=this.checkStates&&e!=sf.NONE?[]:null,this._needRestore=this._orgValues&&e==sf.AUTO},t.prototype.arrayToRow=function(e,t){for(var i=Math.min(e?e.length:0,this.fieldCount),n=new Array(i),r=0;r<i;r++)n[r]=this.getField(r).readValue(e[r]);return this._internalCalculateValues(n,t),n},t.prototype.$_internalSetRow=function(e,t,i){var n=this.arrayToRow(t,e);this._values[e]=n,this._rowIds[e]=this._nextRowId++,this.checkStates&&(this._rowStates[e]=jp.NONE)},t.prototype.$_internalInsertRow=function(e,t,i,n){var r=this.arrayToRow(t,e),o=e==this._values.length;o?(this._values.push(r),this._rowIds.push(this._nextRowId++)):(this._values.splice(e,0,r),this._rowIds.splice(e,0,null!=n?n:this._nextRowId++)),i&&this.tags.insertRow(e),o?this._rowStates.push(this.checkStates?jp.CREATED:jp.NONE):(this._rowStates.splice(e,0,this.checkStates?jp.CREATED:jp.NONE),this._orgValues&&this._orgValues.splice(e,0,void 0))},t.prototype.$_createValue=function(e,t){var i=t.slice();if(Bp.isArray(e))for(var n=0;n<e.length;n++)i[n]=e[n];else if(Bp.isObject(e))for(var r in e){var o=this.getFieldIndex(r);-1!==o&&(i[o]=e[r])}return i},t.prototype.$_updateRow=function(e,t,i){if(this._checkClientState()){this.$_checkRowIndex(e),this.refreshFieldFormats();var n=this.$_createValue(t,this._values[e]);return!(!t||!this.fireRowUpdating(e,n,this._values[e].slice())||(this.$_internalUpdateRow(e,t,i,!0,!0),this.fireRowUpdated(e),0))}},t.prototype.$_updateRows=function(e,t,i,n,r,o,s){if(void 0===s&&(s=null),this._checkClientState()&&t){var a=t.length;if(!(a<1)&&0!=(n=n<0?a:Math.min(a,n))){i=Math.max(0,i),this.refreshFieldFormats();var l=this.rowCount,u=Math.min(a,i+n);if(!(u<=i))if(s&&(s.rows=[],s.values=[],s.states=[],s.orgValues=[]),o)for(var c=e,h=i;h<u&&c<l;h++,c++){var d=t[h];!this._values[c]&&(this._values[c]=new Array(this.fieldCount));var p=this.$_createValue(d,this._values[c]);this.fireRowUpdating(c,p,this._values[c].slice())&&(s&&(s.rows.push(c),s.values.push(this._values[c].slice()),s.states.push(this._rowStates[c]),s.orgValues.push(this._orgValues&&this._orgValues[c])),this.$_internalUpdateRow(c,d,r,!0,!0),this.fireRowUpdated(c))}else{var f=[];for(c=e,h=i;h<u&&c<l;h++,c++)this._rowStates[c]==jp.NONE&&f.push(c),!this._values[c]&&(this._values[c]=new Array(this.fieldCount)),s&&(s.rows.push(c),s.values.push(this._values[c].slice()),s.states.push(this._rowStates[c]),s.orgValues.push(this._orgValues&&this._orgValues[c])),d=t[h],this.$_internalUpdateRow(c,d,r,!1,!1);f.length>0&&this.fireRowStatesChanged(f),this.tags.updateRows(e,n=u-i),this.fireRowsUpdated(e,n)}}}},t.prototype.$_updateRows2=function(e,t,i,n){var r=this;if(this._checkClientState()&&e)if(this.refreshFieldFormats(),n&&(n.rows=[],n.values=[],n.states=[],n.orgValues=[]),Object.keys(e).forEach(function(e){return r.$_checkRowIndex(parseInt(e))}),i)for(var o in e){var s=Number(o),a=e[o],l=this.$_createValue(a,this._values[s]);!this._values[s]&&(this._values[s]=new Array(this.fieldCount)),this.fireRowUpdating(s,l,this._values[o].slice())&&(n&&(n.rows.push(s),n.values.push(this._values[s].slice()),n.states.push(this._rowStates[s]),n.orgValues.push(this._orgValues&&this._orgValues[s])),this.$_internalUpdateRow(s,a,t,!0,!0),this.fireRowUpdated(s))}else{var u=[],c=[];for(var o in e)s=Number(o),this._rowStates[s]==jp.NONE&&u.push(s),!this._values[s]&&(this._values[s]=new Array(this.fieldCount)),n&&(n.rows.push(s),n.values.push(this._values[s].slice()),n.states.push(this._rowStates[s]),n.orgValues.push(this._orgValues&&this._orgValues[s])),a=e[o],this.$_internalUpdateRow(s,a,t,!1,!1),c.push(s);u.length>0&&this.fireRowStatesChanged(u),this.tags.updateRowList(c),this.fireRowListUpdated(c)}},t.prototype.$_fillValue=function(e,t,i){if(void 0===i&&(i=null),this._checkClientState()&&Object.keys(e).length){this.refreshFieldFormats(),i&&(i.rows=[],i.values=[],i.states=[],i.orgValues=[]);var n=[],r=[];for(var o in e){r.push(+o),this._rowStates[o]==jp.NONE&&n.push(+o),!this._values[o]&&(this._values[o]=new Array(this.fieldCount)),i&&(i.rows.push(o),i.values.push(this._values[o].slice()),i.states.push(this._rowStates[o]),i.orgValues.push(this._orgValues&&this._orgValues[o]));for(var s=this._values[o].slice(),a=0,l=e[o];a<l.length;a++)s[l[a]]=t;this.$_internalUpdateRow(+o,s,!1,!1,!1)}n.length>0&&this.fireRowStatesChanged(n),this.tags.updateRowList(r),this.fireRowListUpdated(r)}},t.prototype.$_internalUpdateRow=function(e,t,i,n,r){var o,s=this.getFields(),a=Bp.isArray(t),l=Math.min(s.length,a?t.length:s.length),u=this._values[e],c=this._rowStates[e],h=this.checkStates&&(c==jp.NONE||!c);u||(this._values[e]=u=new Array(this.fieldCount)),h&&this._orgValues&&(o=Bp.deepCopy(u));for(var d=!1,p=0;p<l;p++){var f=s[p];if((f.updatable||c==jp.CREATED||c==jp.CREATE_AND_DELETED)&&(a||t.hasOwnProperty(f.orgFieldName))){var _=a?t[p]:t[f.orgFieldName];i&&void 0===_||(d=!this._needRestore||d||(i?!f.equalValues(u[p],f.readValue(_)):!f.sameValues(u[p],f.readValue(_))),u[p]=f.readValue(_))}}d&&this._internalCalculateValues(u,e),h&&d?(o&&(this._orgValues[e]=o),this.$_changeRowState(e,jp.UPDATED,n)):this._needRestore&&this.restoreState(e),r&&this.tags.updateRow(e)},t.prototype.$_changeRowState=function(e,t,i,n){if(void 0===n&&(n=!1),this.checkStates||n){var r=this._rowStates[e];if((t=t||jp.NONE)!=r)return this._rowStates[e]=t,!Hp(r)&&Hp(t)?this._deletedCount++:Hp(r)&&!Hp(t)&&this._deletedCount--,i&&this.fireRowStateChanged(e,r),!0}return!1},t.prototype.restoreState=function(e){if(this._rowStates[e]===jp.UPDATED){var t=this._orgValues[e];if(t){for(var i=this._values[e],n=this.strictRestore,r=0,o=this.fieldCount;r<o;r++){var s=i.length>r?i[r]:void 0,a=t.length>r?t[r]:void 0;if(n){if(!this.getField(r).equalValues(s,a))return!1}else if(!this.getField(r).sameValues(s,a))return!1}return this._rowStates[e]=jp.NONE,!0}}return!1},t.prototype.prepareOrgValues=function(e,t,i){i==jp.UPDATED?this._orgValues[e]=this._values[e]?this._values[e].concat():[]:t==jp.UPDATED&&this._orgValues[e]&&(this._orgValues[e]=void 0)},t.prototype.$_changeRowStateEx=function(e,t,i,n){var r=this._rowStates[e];return!!this.$_changeRowState(e,t,!1,n)&&(this._orgValues&&this.prepareOrgValues(e,r,t),i&&this.fireRowStateChanged(e,r),!0)},t.prototype.$_getRowObject=function(e,t){var i={},n=this._values[e];if(n){for(var r=0;r<this.fieldCount;r++)i[this.getOrgFieldName(r)]=n[r];t&&(i.__rowState=this.getRowState(e))}return i},t.prototype.$_deleteRow=function(e){if(this.fireRowRemoving(e)){var t=this._rowStates[e];return this.$_internalRemoveRow(e),Hp(t)&&this._deletedCount--,this.tags.removeRow(e),this.fireRowRemoved(e),this._fireRowCountChanged(),!0}return!1},t.prototype.$_internalRemoveRow=function(e){var t=this._rowIds[e];this._hiddenIds.indexOf(t)>=0&&this._hiddenIds.splice(this._hiddenIds.indexOf(t),1),this._values.splice(e,1),this._rowIds.splice(e,1),this._orgValues&&this._orgValues.length>e&&this._orgValues.splice(e,1),this._rowStates.splice(e,1)},t.prototype.$_internalMoveRow=function(e,t){var i=this._values[e],n=this._rowIds[e],r=this._rowStates[e];this._values.splice(e,1),this._rowIds.splice(e,1),this._rowStates.splice(e,1),this._values.splice(t,0,i),this._rowIds.splice(t,0,n),this._rowStates.splice(t,0,r),this._orgValues&&(this._orgValues.length=Math.max(this._orgValues.length,t+1),i=this._orgValues[e],this._orgValues.splice(e,1),this._orgValues.splice(t,0,i))},t.prototype.$_internalMoveRows=function(e,t,i){for(var n=this._values.splice(e,t),r=this._rowIds.splice(e,t),o=this._rowStates.splice(e,t),s=0,a=n.length;s<a;s++)this._values.splice(i+s,0,n[s]),this._rowIds.splice(i+s,0,r[s]),this._rowStates.splice(i+s,0,o[s]);if(this._orgValues)for(this._orgValues.length=Math.max(this._orgValues.length,i+t+1),s=0,a=(n=this._orgValues.splice(e,t)).length;s<a;s++)this._orgValues.splice(i+s,0,n[s])},t.prototype.$_internalMoveRowList=function(e,t){for(var i=[],n=[],r=[],o=e.length-1;o>=0;o--){var s=e[o];i.push(this._values.splice(s,1)[0]),n.push(this._rowIds.splice(s,1)[0]),r.push(this._rowStates.splice(s,1)[0])}i=i.reverse(),n=n.reverse(),r=r.reverse(),o=0;for(var a=e.length;o<a;o++)this._values.splice(t+o,0,i[o]),this._rowIds.splice(t+o,0,n[o]),this._rowStates.splice(t+o,0,r[o]);if(this._orgValues){for(i=[],this._orgValues.length=Math.max(this._orgValues.length,t+e.length+1),o=e.length-1;o>=0;o--)i.push(this._orgValues.splice(e[o],1)[0]);for(i=i.reverse(),o=0,a=e.length;o<a;o++)this._orgValues.splice(t+o,0,i[o])}},t.prototype.$_searchDataRow=function(e,t,i,n,r){var o=this.rowCount;if(o<1)return-1;var s=Math.min(e.length,t.length);if(s<1)return-1;for(var a=i.allFields,l=i.caseSensitive,u=i.partialMatch,c=null,h=[],d=i.reverse,p=i.compareCallback||Bp.compareTextValue,f=0;f<s;f++)h[f]=this.getField(e[f]).dataType;n=Math.max(0,n),r=Math.min(o-1,r);for(var _=n;d?_>=r:_<=r;d?_--:_++){var g=!0;for(f=0;f<s;f++){var m=this.getValue(_,e[f]),y=this.getOrgFieldName(e[f]);switch(h[f]){case vd.DATETIME:case vd.DATE:if(t[f]instanceof Date)g=p.call(this.$_handler,t[f],m,l,u,_,y);else{if(!c){var v=/[.]/.test(t[f])?"yyyy.MM.dd":/[/]/.test(t[f])?"yyyy/MM/dd":/[-]/.test(t[f])?"yyyy-MM-dd":"yyyyMMdd";c=new i_(v)}g=p.call(this.$_handler,t[f],m?c.getText(m):m,l,u,_,y)}break;default:g=p.call(this.$_handler,t[f],m,l,u,_,y)}if(g&&!a)return _;if(!g&&a)break}if(g)return _}return-1},t.prototype.searchDataRow=function(e){var t=-1;e instanceof b_||(e.reverse&&!e.hasOwnProperty("startIndex")&&(e.startIndex=this.rowCount-1),e=new b_(e));var i=e.fields,n=e.values,r=e.startIndex;if(i&&i.length>0&&n&&n.length>0){for(var o=i.length,s=[],a=0;a<o;a++){var l=parseFloat(i[a]);if(isNaN(l)){var u=this.getFieldIndex(i[a]);u>=0&&s.push(u)}else s.push(l)}if(s.length>0){o=this.rowCount;var c=e.reverse;r=c?Math.min(o,r):Math.max(0,r),(t=(c?r>-1:r<o)?this.$_searchDataRow(s,n,e,r,c?0:o-1):-1)<0&&e.wrap&&(c?r<o-1:r>0)&&(t=this.$_searchDataRow(s,n,e,c?o-1:0,c?r+1:r-1))}}return t},t.prototype.$_searchData=function(e,t,i,n,r,o){var s=this.rowCount;if(s<1)return null;for(var a=i.caseSensitive,l=i.partialMatch,u=this.fieldCount,c=e.length,h=i.reverse,d=null,p=[],f=0;f<u;f++)p[f]=this.getField(f).dataType;n=Math.max(0,n),r=Math.max(0,Math.min(s-1,r)),o=Math.max(h?-1:0,Math.min(o,c)),h?o<0&&(n--,o=c-1):o>=e.length&&(n++,o=0);for(var _=i.compareCallback||Bp.compareTextValue,g=n;h?g>=r:g<=r;h?g--:g++)for(f=h?g<n?c-1:o:g>n?0:o;h?f>=0:f<c;h?f--:f++){var m=e[f];if(m>=0&&m<u){var y=this.getValue(g,m),v=!1,b=this.getOrgFieldName(m);switch(p[m]){case vd.DATETIME:case vd.DATE:if(t instanceof Date)v=_.call(this.$_handler,t,y,a,l,g,b);else{if(!d){var w=/[.]/.test(t)?"yyyy.MM.dd":/[/]/.test(t)?"yyyy/MM/dd":/[-]/.test(t)?"yyyy-MM-dd":"yyyyMMdd";d=new i_(w)}v=_.call(this.$_handler,t,y?d.getText(y):y,a,l,g,b)}break;default:v=_.call(this.$_handler,t,y,a,l,g,b)}if(v)return{dataRow:g,fieldIndex:m,searchFieldIndex:f,fieldName:b}}}return null},t.prototype.searchData=function(e){var t=this,i=e.value,n=this.rowCount,r=e.fields=Bp.makeArray(e.fields);r&&r.length||(r=this.getOrgFieldNames());var o=[];if(!(r&&r.length>0&&null!=i))return null;r.forEach(function(e){o.push(t.getFieldIndex(e))}),e instanceof w_||(e.reverse&&(e.hasOwnProperty("startIndex")||(e.startIndex=n-1),e.hasOwnProperty("startFieldIndex")||(e.startFieldIndex=o.length-1)),e=new w_(e));var s=null,a=e.reverse,l=o.length,u=a?Math.min(n-1,e.startIndex):Math.max(0,e.startIndex),c=a?0:n-1,h=a?Math.min(l-1,e.startFieldIndex):Math.max(0,e.startFieldIndex),d=a?u<n-1||h<l-1:u>0||h>0;return!(s=(a?u>=0&&h>=0:u<n)?this.$_searchData(o,i,e,u,c,h):null)&&e.wrap&&d&&(s=this.$_searchData(o,i,e,a?n-1:0,u-1,a?h:0)),s&&(s.fieldName=this.getOrgFieldName(s.fieldIndex)),s},t.prototype.isDataChanged=function(e,t){if(this._rowStates[e]!==jp.UPDATED||!this._orgValues)return!1;if(this.$_checkRowIndex(e),this._checkFieldIndex(t),this._orgValues[e]){var i=this._orgValues[e][t],n=this.getValue(e,t),r=this.getField(t);return r&&!r.sameValues(i,n)}return!1},t.prototype.$_hideRows=function(e,t){if(null!=e){var i=Bp.isArray(e)?e:[e],n=[];this._hiddenIds.length;for(var r=0,o=i.length;r<o;r++){var s=this.getRowId(i[r]);if(null!=s)if(t)this._hiddenIds.indexOf(s)<0&&(n.push(i[r]),this._hiddenIds.push(s));else{var a=this._hiddenIds.indexOf(s);a>=0&&(n.push(i[r]),this._hiddenIds.splice(a,1))}}n.length&&this.fireRowHided(n,t)}},t.prototype.hideRows=function(e){this.$_hideRows(e,!0)},t.prototype.showRows=function(e){this.$_hideRows(e,!1)},t.prototype.clearHiddenRows=function(){this._hiddenIds.length>0&&this.fireRowHided(this._hiddenIds.splice(0),!1)},t.prototype.getHiddenRows=function(){for(var e=[],t=0,i=this._hiddenIds.length;t<i;t++){var n=this._rowIds.indexOf(this._hiddenIds[t]);n>=0&&e.push(n)}return e.sort(function(e,t){return e-t}),e},t.prototype.isHiddenRow=function(e){var t=this._rowIds[e];return this._hiddenIds.indexOf(t)>=0},Object.defineProperty(t.prototype,"hiddenCount",{get:function(){return this._hiddenIds.length},enumerable:!1,configurable:!0}),t.prototype.undo=function(){this.canUndo&&this._commands.undo()},t.prototype.redo=function(){this.canRedo&&this._commands.redo(!0)},t.prototype.clearCommandStack=function(){this._commands&&this._commands.flush()},t}(v_),q_=function(e){function t(t){var i=e.call(this)||this;return i._tags=new Array,i._owner=t,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.add=function(e){if(e){var t=this._tags||(this._tags=[]);t.indexOf(e)<0&&t.push(e),e.connect(this._owner)}},t.prototype.remove=function(e){if(e&&this._tags){var t=this._tags.indexOf(e);t>=0&&(this._tags.splice(t,1),e.disconnect())}},t.prototype.clearRows=function(){if(this._tags)for(var e=this._tags.length;e--;)this._tags[e].clearRows()},t.prototype.setRows=function(){if(this._tags)for(var e=this._tags.length;e--;)this._tags[e].setRows()},t.prototype.addRow=function(e){if(this._tags)for(var t=this._tags.length;t--;)this._tags[t].addRow(e)},t.prototype.addRows=function(e){if(this._tags)for(var t=this._tags.length;t--;)this._tags[t].addRows(e)},t.prototype.removeRow=function(e){if(this._tags)for(var t=this._tags.length;t--;)this._tags[t].removeRow(e)},t.prototype.removeRows=function(e){if(this._tags)for(var t=this._tags.length;t--;)this._tags[t].removeRows(e)},t.prototype.updateRow=function(e){if(this._tags)for(var t=this._tags.length;t--;)this._tags[t].updateRow(e)},t.prototype.updateRows=function(e){if(this._tags)for(var t=this._tags.length;t--;)this._tags[t].updateRows(e)},t}(Yp),K_=function(){function e(){}return e.parse=function(e){return(new window.DOMParser).parseFromString(e,"text/xml")},e.toString=function(e){return(new window.XMLSerializer).serializeToString(e)},e.getNodeValue=function(e){return e.firstChild.nodeValue},e.getAttr=function(e,t){return e.getAttribute(t)},e.setAttr=function(e,t,i){e.setAttribute(t,i)},e.addChild=function(e,t,i){var n=e.createElement(i);return t.appendChild(n),n},e.addChildWithAttr=function(e,t,i,n,r){var o=e.createElement(i);return o.setAttribute(n,r),t.appendChild(o),o},e.addChildWithValue=function(e,t,i,n){var r=e.createElement(i);return r.nodeValue=n,t.appendChild(r),r},e.parseXml=function(e){var t=null;try{(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e)}catch(wL){if(t)throw wL;t=(new window.DOMParser).parseFromString(e,"text/xml")}return t},e}();function X_(e,t){var i=[];if(e){var n=e.childNodes;if(n)for(var r=0,o=n.length;r<o;r++){var s=n[r];s.tagName===t&&i.push(s)}}return i}var Z_,J_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.extractJson=function(e,t){var i=e;if(t=t&&t.trim())for(var n=t.split("."),r=0;r<n.length;r++){var o=n[r]&&n[r].trim();if(o){var s=o.indexOf("["),a=o.lastIndexOf("]");if(s>0&&a>s){var l=o.substring(0,s),u="$"!=l?i[l]:i;if(Array.isArray(u)){l=o.substring(s+1,a);var c=parseInt(l);i=c>=0&&c<u.length?u[c]:null}else i=null}else"$"!=o&&(i=i[o]);if(!i)break}}return Array.isArray(i)?i:null},t.extractXml=function(e,t){var i=null;if(t=t&&t.trim())for(var n=t.split("."),r=0;r<n.length;r++){var o=n[r]&&n[r].trim();if(o){var s=o.indexOf("["),a=o.lastIndexOf("]");if(s>0&&a>s){var l=o.substring(0,s);(i=X_(i?i[0]:e,l))&&(l=o.substring(s+1,a),i=i[parseInt(l)])}else i=X_(i?i[0]:e,o);if(!i)break}}return i},t}(Yp);!function(e){e.SET="set",e.APPEND="append",e.INSERT="insert",e.UPDATE="update"}(Z_||(Z_={}));var Q_,eg,tg,ig=function(e){function t(t){var i=e.call(this)||this;if(i.fillMode=Z_.SET,i.fillPos=0,i.count=-1,i.rootArray=!0,i.rows="row",i.start=0,i.delimiter=",",i.quoted=!1,i.parentId=0,i.childrenField=null,i.treeField=null,i.iconField=null,i.needSorting=!1,i.noStates=!1,t){for(var n in t)null!=t[n]&&(i[n]=t[n]);i.parentId=t.parentId||t.parent,i.childrenField=t.childrenField||t.children,i.treeField=t.treeField||t.tree,i.iconField=t.iconField||t.icon,i.needSorting=t.needSorting||t.sorting}return i}return gd(t,e),t}(Yp),ng=function(e){function t(t){var i=e.call(this)||this;return i._provider=t,i}return gd(t,e),t.prototype._doDispose=function(){this._provider=null},t.prototype.load=function(e,t,i){var n=new ig(i);if(this._checkEmpty(t,n))return 0;var r=this._provider.checkStates;n.noStates&&(this._provider.checkStates=!1);try{switch(e){case"json":return this._loadJson(t,n);case"xml":return this._loadXml(t,n);case"csv":return this._loadCsv(t,n)}}finally{this._provider.checkStates=r,this._provider.fireDataLoadComplated()}},t.prototype._loadJson=function(e,t){"string"==typeof e&&(e=JSON.parse(e));var i=null;if(t.rootArray&&(i=Bp.isArray(e)?e:null),i||(i=J_.extractJson(e,t.rows)),i){var n=t.fillPos,r=t.start,o=t.count;switch(t.fillMode){case Z_.APPEND:this._provider.appendRows(i,r,o);break;case Z_.INSERT:this._provider.insertRows(n,i,r,o);break;case Z_.UPDATE:this._provider.updateRows(n,i,r,o,!1);break;case Z_.SET:default:this._provider.setRows(i,r,o)}return i.length}return this._fillEmpty(t),0},t.prototype._loadXml=function(e,t){if("string"==typeof e&&(e=K_.parse(e)),e&&e.documentElement){var i=t.fillPos,n=t.start,r=t.count,o=t.rows,s=J_.extractXml(e.documentElement,o);switch(t.fillMode){case Z_.APPEND:this._provider.appendXmlRows(s,n,r);break;case Z_.INSERT:this._provider.insertXmlRows(i,s,n,r);break;case Z_.UPDATE:this._provider.updateXmlRows(i,s,n,r);break;case Z_.SET:default:this._provider.setXmlRows(s,n,r)}return s.length}return this._fillEmpty(t),0},t.prototype._loadCsv=function(e,t){var i=t.fillPos,n=t.start,r=t.count,o=t.quoted,s=t.delimiter,a=N_.csvToArray(this._provider,e,n,r,o,s);if(a&&(r=a.length)>0){switch(t.fillMode){case Z_.APPEND:this._provider.appendRows(a,0,r);break;case Z_.INSERT:this._provider.insertRows(i,a,0,r);break;case Z_.UPDATE:this._provider.updateRows(i,a,0,r,!1);break;case Z_.SET:default:this._provider.setRows(a,0,r)}return a.length}return this._fillEmpty(t),0},t.prototype._fillEmpty=function(e){e.fillMode===Z_.SET&&this._provider.setRows(null)},t.prototype._checkEmpty=function(e,t){return!e&&(this._fillEmpty(t),!0)},t}(Yp),rg=function(e){function t(t,i){var n=e.call(this)||this;return n._rowCount=0,n._ds=t,n._rootRow=i,n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"provider",{get:function(){return this._ds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rootRow",{get:function(){return this._rootRow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"insertedRows",{get:function(){return this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"insertedCount",{get:function(){return this._rowCount},enumerable:!1,configurable:!0}),t.prototype._prepareLoad=function(e){this._rowCount=0,this._rows=[]},t.prototype._createRow=function(e,t,i){return this._ds.createRow(i,isNaN(i[t])?-1:i[t],i[e],!1)},t.prototype._createRow2=function(e,t,i){return this._ds.createRow(i,t,e,!1)},t.prototype._rowAdded=function(e,t){this._rowCount++,this._rows&&t.parent===e&&this._rows.push(t)},t.prototype._addRow=function(e,t,i,n,r){var o=this._createRow(i,n,r);return t._insertChild(t.count,o,!0,!0),this._rowAdded(e,o),o},t.prototype._addRow2=function(e,t,i,n,r){var o=this._createRow2(i,n,r);return t._insertChild(t.count,o,!0,!0),this._rowAdded(e,o),o},t}(Yp),og=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),t.prototype._loadData=function(e,t,i,n,r,o){if(this._prepareLoad(t),!e||e.length<1)return this._rowCount;for(var s=this.provider,a=e.length,l=[],u=new Array(e.length),c=0;c<a;c++)if(l[c]=c,Array.isArray(e[c])){if(Array.isArray(e[c]))for(var h=u[c]=new Array(s.fieldCount),d=0,p=s.fieldCount;d<p;d++)h[d]=e[c][d]}else u[c]=this.provider.objectToRow(e[c]);n&&this.$_sortRows(l,u,i,0,a-1),s.beginUpdate();try{this.$_buildTree(t||this.rootRow,l,u,i,r,o)}finally{s.endUpdate(!1)}return this.insertedCount},t.prototype.$_sortRows=function(e,t,i,n,r){function o(e,n){var r=t[e][i],o=t[n][i];return r==o?0:r<o?-1:1}do{var s=n,a=r,l=e[Math.floor((n+r)/2)];do{for(;!(o(l,e[s])<=0);)s++;for(;!(o(l,e[a])>=0);)a--;if(s<=a){if(s!=a){var u=e[s];e[s]=e[a],e[a]=u}s++,a--}}while(s<=a);n<a&&this.$_sortRows(e,t,i,n,a),n=s}while(n<r)},t.prototype.$_buildTree=function(e,t,i,n,r,o){function s(t,i,r,o){for(var s=o[n];i!=e;){var a=i.getValue(n);if(t.parentCallback){if(t.parentCallback(a,s))return i}else if(0==s.indexOf(a))return i;i=i.parent}return e}var a=t[0],l=this._createRow(r,o,i[a]),u=s(this,e,0,i[a]);if(u._insertChild(u.count,l,!0,!0),this._rowAdded(e,l),t.length>1)for(var c=t.length,h=l,d=1;d<c;d++)a=t[d],l=this._createRow(r,o,i[a]),(u=s(this,h,0,i[a]))._insertChild(u.count,l,!0,!0),this._rowAdded(e,l),h=l},t}(rg),sg=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),t.prototype.load=function(e,t,i,n,r,o){return this._loadData(t,e,i,n,r,o)},t}(og),ag=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),t.prototype.load=function(e,t,i,n,r,o){var s=N_.csvToArray(this.provider,t);return this._loadData(s,e,i,n,r,o)},t}(og),lg=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),t.prototype.load=function(e,t,i,n,r){if(this._prepareLoad(e),t){var o=J_.extractJson(t,i);if(o&&o.length>0){this.provider.beginUpdate();try{this.$_buildJsonTree(this.provider,e||this.rootRow,o,i,n,r)}finally{this.provider.endUpdate(!1)}}}return this._rowCount},t.prototype.load2=function(e,t,i,n,r,o){if(this._prepareLoad(e),t){var s=J_.extractJson(t,i);if(s&&s.length>0){this.provider.beginUpdate();try{this.$_buildJsonTree2(this.provider,e||this.rootRow,s,n,r,o)}finally{this.provider.endUpdate(!1)}}}return this._rowCount},t.prototype.$_buildJsonTree=function(e,t,i,n,r,o){var s=e.getOrgFieldNames();!function e(i,s,a,l){for(var u=l.length,c=0,h=a.length;c<h;c++){for(var d=a[c],p=new Array(u),f=0;f<u;f++){var _=l[f];d.hasOwnProperty(_)&&(p[f]=d[_])}var g=i._addRow(t,s,r,o,p);if(d.hasOwnProperty(n)){var m=d[n];Array.isArray(m)&&m.length>0&&e(i,g,m,l)}}}(this,t,i,s)},t.prototype.$_buildJsonTree2=function(e,t,i,n,r,o){var s=e.getOrgFieldNames();!function e(i,s,a,l){for(var u=l.length,c=0,h=a.length;c<h;c++){for(var d=a[c],p=new Array(u),f=0;f<u;f++){var _=l[f];d.hasOwnProperty(_)&&(p[f]=d[_])}var g=i._addRow2(t,s,d[r],isNaN(d[o])?-1:d[o],p);if(d.hasOwnProperty(n)){var m=d[n];Array.isArray(m)&&m.length>0&&e(i,g,m,l)}}}(this,t,i,s)},t}(rg),ug=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),t.prototype.load=function(e,t,i,n,r){if(this._prepareLoad(e),t){var o="string"==typeof t?K_.parseXml(t):t;if(o){var s=J_.extractXml(o.documentElement,i);if(s&&s.length>0){this.provider.beginUpdate();try{this.$_buildXmlTree(this.provider,e||this.rootRow,s,i,n,r)}finally{this.provider.endUpdate(!1)}}}}return this._rowCount},t.prototype.$_buildXmlTree=function(e,t,i,n,r,o){!function e(i,s,a,l,u){for(var c=0,h=a.length;c<h;c++){var d=a[c],p=N_.xmlToRow(d,l,u),f=i._addRow(t,s,r,o,p),_=J_.extractXml(d,n);_&&_.length>0&&e(i,f,_,l,u)}}(this,t,i,e.getFields(),e.getOrgFieldNames())},t}(og),cg=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype._keepChildren=function(e,t,i){for(var n=0;n<t.children.length;n++){var r=t.getChild(n),o=r._keepRow(e,!0);i.push(o),r.children&&r.children.length&&this._keepChildren(e,r,o.children=[])}},t.prototype._restoreChildren=function(e,t,i){for(var n=0;n<i.length;n++){var r=i[n],o=void 0;"state"===r.run?(o=e.rowById(r.rowId))._changeRowState(r.state,!0,!1):((o=e.createTemp())._yieldRow(e,r,!0),t._addChild(o,!1,!0)),r.children&&this._restoreChildren(e,o,r.children)}},t}(I_),hg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t}(x_),dg=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o._rowId=i.rowId,o._values=o._cloneRow(n),o._strict=r,o}return gd(t,e),t.prototype._doRun=function(e){var t={},i=e.rowById(this._rowId);return t.row=i._keepRow(e),(t.result=i.$_update(e,this._values,this._strict,!1))&&(this._newState=i.rowState),t},t.prototype._doRedo=function(e,t){var i=e.rowById(this._rowId);i&&i.$_update(e,this._values,this._strict,!1)},t.prototype._doUndo=function(e,t){var i=e.rowById(this._rowId);i&&i._yieldRow(e,t.row),t.row.state!=this._newState&&e._fireRowStateChanged(i,!1),e._rowUpdated(i)},t}(cg),pg=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._rowId=i.rowId,r._recursive=n,r._parentId=i.parent.rowId,r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var t=e.rowById(this._rowId),i=t._keepRow(e,!0),n=e.rowById(this._parentId);return n?((!this._softDeleting||this._softDeleting&&this._recursive)&&t.children&&t.children.length&&(i.children=[],this._keepChildren(e,t,i.children)),i.result=n._removeChild(t,!1,this._recursive,[i])):i.result=!1,i},t.prototype._doRedo=function(e,t){var i=e.rowById(this._rowId);e.rowById(this._parentId)._removeChild(i,!1,this._recursive,[t])},t.prototype._doUndo=function(e,t){var i,n="remove"===t.run;if((i=n?e.createTemp():e.rowById(this._rowId))&&(i._yieldRow(e,t,!0),t.children&&t.children.length&&this._restoreChildren(e,i,t.children)),n){var r=e.rowById(this._parentId);r&&r._insertChild(t.index,i,!1,!0)}else e._stateChanged(i,!0)},t}(cg),fg=function(e){function t(t,i,n,r,o){var s=e.call(this,t)||this;return s._row=r,s._rowId=r.rowId,s._index=n,s._noState=o,s._parentId=i.rowId,s}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var t=e.rowById(this._rowId)||this._row,i=t._keepRow(e,!1),n=e.rowById(this._parentId);return t.children&&t.children.length&&(i.children=[],this._keepChildren(e,t,i.children)),i.result=n._insertChild(this._index,t,!1,this._noState),i},t.prototype._doRedo=function(e,t){var i=e.rowById(this._parentId),n=e.createTemp();n._yieldRow(e,t,!1),n._rowId=t.rowId,i&&n&&i._insertChild(this._index,n,!1,this._noState)},t.prototype._doUndo=function(e,t){var i=e.rowById(this._parentId),n=e.rowById(this._rowId);i&&n&&i.$_removeChild(n,this._index,!1)},t}(cg),_g=function(e){function t(t,i){var n=e.call(this)||this;return n._children=null,n._descendantCount=0,!i&&(n._rowId=t&&t._nextRowId++),n}return gd(t,e),t.getRowIds=function(e){if(!e)return null;for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i];t.push(r.rowId)}return t},t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"rowId",{get:function(){return this._rowId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"provider",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){var e=this.parent;return null!=e?e._children.indexOf(this):-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconIndex",{get:function(){return-1},set:function(e){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._children?this._children.length:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"descendantCount",{get:function(){return this._descendantCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children?this._children.concat():null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"descendants",{get:function(){if(this._children){var e=[];return function e(t,i){for(var n=0,r=t.count;n<r;n++){var o=t.getChild(n);i.push(o),e(o,i)}}(this,e),e}return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ancestors",{get:function(){var e=null,t=this.parent;if(t)for(e=[];t&&t.rowId>=0;)e.push(t),t=t.parent;return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowState",{get:function(){return jp.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return null},enumerable:!1,configurable:!0}),t.prototype.getChild=function(e){if(e>=0){if(!this._children||e>=this._children.length)throw new RangeError("Index is invalid: "+e);return this._children[e]}throw new RangeError("Index is invalid: "+e)},t.prototype.getChildObjects=function(e,t,i,n,r,o){void 0===o&&(o=-1);var s=this._children;if(s){var a=[];t=t||"rows",i=i||"iconIndex";for(var l=0,u=s.length;l<u;l++){var c=s[l],h=c.getObject();n&&(h.__rowId=c._rowId),r&&(h.__rowState=c.rowState),e&&0!==o&&(h[t]=c.getChildObjects(e,t,i,n,r,o-1)),h[i]=c.iconIndex,a.push(h)}return a}return null},t.prototype.$_createTreeOutputRows=function(e,t,i){var n=[];!function e(t,i,n){for(var r=0,o=t.length;r<o;r++){var s=t[r];i.push(t[r]),n&&s[n]&&s[n].length&&e(s[n],i,n)}}(e,n,i);var r,o=this.provider,s=o.fieldCount,a=n.length;t instanceof l_||(t=new l_(t));for(var l=t.nullDateText,u=t.nullText,c=t.nanText,h=this.provider.handler,d=0;d<s;d++){var p=o.getField(d),f=p.orgFieldName,_=void 0,g=void 0;if(p.dataType==vd.DATETIME&&((_=t.datetimeCallback)||(g=t.datetimeWriter)||null!=l&&null!=l))if(_)for(var m=0;m<a;m++)(r=n[m])[f]=_(h,r._rowId,f,r[f]);else for(m=0;m<a;m++){var y=(r=n[m])[f];r[f]=y?g?g.getText(r[f]):y:l}else if(p.dataType==vd.BOOLEAN&&((_=t.booleanCallback)||(g=t.booleanFormatter)))if(_)for(m=0;m<a;m++)(r=n[m])[f]=_(h,r._rowId,f,r[f]);else for(m=0;m<a;m++)(r=n[m])[f]=g.formatValue(r[f]);else if(p.dataType==vd.NUMBER&&((_=t.numberCallback)||(g=t.numberFormatter)||null!=c&&null!=c))if(_)for(m=0;m<a;m++)(r=n[m])[f]=_(h,r._rowId,f,r[f]);else for(m=0;m<a;m++){var v=(r=n[m])[f];r[f]=null==v||isNaN(v)?c:g?g.getText(v):v}else if(null!=u&&null!=u)for(m=0;m<a;m++)v=(r=n[m])[f],r[f]=null==v||null==v?u:v}for(var b=0,w=n.length;b<w;b++)delete n[b]._rowId},t.prototype.getOutput=function(e,t){if(e){var i=this.getObject();return i&&(i[t||"iconIndex"]=this.iconIndex,i._rowId=this._rowId,e.rowState&&(i.__rowState=this.rowState),this.$_createTreeOutputRows([i],e)),i}return null},t.prototype.getChildOutputObjects=function(e,t,i,n){var r=this.getChildObjects(t,i,n,!0,null==e?void 0:e.rowState);return r&&e&&this.$_createTreeOutputRows(r,e,i),r},t.prototype.findById=function(e){if(this._children)for(var t=0,i=this._children.length;t<i;t++){var n=this._children[t];if(n.rowId==e)return n;if(n=n.findById(e))return n}return null},t.prototype.indexOf=function(e){return this._children?this._children.indexOf(e):-1},t.prototype.insertChild=function(e,t,i){var n=this.provider;return n.undoable?n._commands.execute(new fg(n,this,e,t,i)):this._insertChild(e,t,!1,i)},t.prototype.addChild=function(e,t){return this.insertChild(this.count,e,t)},t.prototype.insertChildren=function(e,t,i){return this._insertChildren(e,t,!1,i)},t.prototype.removeChild=function(e,t){var i=this.provider,n=i.undoable,r=i._commands;return n?r.execute(new pg(i,e,t)):this._removeChild(e,!1,t,null)},t.prototype.clearChildren=function(){var e=this.provider;e&&!e._checkClientState()||this._removeChildren()},t.prototype.findChild=function(e,t){var i=this.provider;if(!i||!e||e.length<1||!t||t.length<e.length)return null;for(var n=[],r=[],o=0,s=e.length;o<s;o++){var a;(a="string"==typeof e[o]?i.getFieldIndex(e[o]):Number(e[o]))>=0&&a<i.fieldCount&&n.indexOf(a)<0&&(n.push(a),r.push(t[o]))}o=0;for(var l=n.length;o<l;o++)n[o]=i.getField(n[o]);return this.$_findChild(n,r)},t.prototype.isAncestorOf=function(e){if(e&&e!==this){for(var t=e.parent;t&&t!==this;)t=t.parent;return t===this}return!1},t.prototype.clearRowStates=function(e,t){var i=this.provider;if(i){var n=[],r=e?[]:null;this._collectStateRows(n,r);var o=n.length,s=r?r.length:0;if(0!=o||0!=s){if(t)for(var a=0,l=n.length;a<l;a++)n[a]._changeRowState(jp.NONE,!0,!1);else o&&i.changeRowStates(n,jp.NONE);s&&i.deleteRows(r)}}},t.prototype.toTreeString=function(){for(var e=this.rowId+"",t=new Array(this.level+1).join("  "),i=0;i<this.count;i++)e+="\n"+t+this.getChild(i).toTreeString();return e},t.prototype._checkFieldIndex=function(e){var t=this.provider.fieldCount;if(e<0||e>=t)throw new h_(r_.messages.fieldIndexOutOfBounds+e)},t.prototype._descendantCountChanged=function(e){this._descendantCount+=e;var t=this.parent;t&&t._descendantCountChanged(e)},t.prototype._moveChild=function(e,t){if(e!=t){if(e<0||e>=this._children.length)throw new RangeError("index is out of range: "+e);if(t<0||t>=this._children.length)throw new RangeError("newIndex is out of range: "+t);var i=this._children[e];if(e>t)for(var n=e;n>t;n--)this._children[n]=this._children[n-1];else for(n=e;n<t;n++)this._children[n]=this._children[n+1];this._children[t]=i}},t.prototype._moveChildren=function(e,t){var i=e[0];if(i!=t){if(i<0||i>=this._children.length)throw new RangeError("index is out of range: "+e[0]);if(t<0||t>=this._children.length)throw new RangeError("newIndex is out of range: "+t);for(var n=this._children,r=[],o=e.length-1;o>=0;o--)r.push(n.splice(e[o],1)[0]);for(o=0;o<r.length;o++)n.splice(t,0,r[o])}},t.prototype._changeParent=function(e,t){if(t<0||t>e._children.length)throw new RangeError("index is out of range: "+t);var i=this.parent,n=this.index;i._children.splice(n,1),i._descendantCountChanged(-1-this.descendantCount),i._detach(this),e._children.splice(t,0,this),e._descendantCountChanged(1+this.descendantCount),e._attach(this)},t.prototype._insertChild=function(e,t,i,n){var r=this.provider;if(r&&!i){if(!r._checkClientState())return!1;r.refreshFieldFormats()}if(!t)throw new Error("child is null");if(this._children=this._children||[],e<0||e>this._children.length)throw new RangeError("Insert index is invalid: "+e);return!(!i&&!this._doChildAdding(e,t)||(this._children.splice(e,0,t),this._descendantCountChanged(1+t.descendantCount),this._attach(t),n||t._changeRowState(jp.CREATED,!0,!1),this._doChildAdded(e,t),0))},t.prototype._insertChildren=function(e,t,i,n){var r=this.provider;if(r&&!i){if(!r._checkClientState())return!1;r.refreshFieldFormats()}if(this._children=this._children||[],e<0||e>this._children.length)throw new RangeError("Insert index is invalid: "+e);if(i||this._doRowsAdding(e,t)){for(var o=0,s=0;s<t.length;s++){var a=t[s];this._children.splice(e+s,0,a),this._attach(a),o+=a.descendantCount,n||a._changeRowState(jp.CREATED,!0,!1)}return this._descendantCountChanged(o),this._doRowsAdded(e,t),!0}return!1},t.prototype._addChild=function(e,t,i){return this._insertChild(this.count,e,t,i)},t.prototype.$_removeChild=function(e,t,i){return!(!i&&!this._doChildRemoving(e)||(this._children.splice(t,1),this._descendantCountChanged(-1-e.descendantCount),this._detach(e),this._doChildRemoved(e),0))},t.prototype._removeChild=function(e,t,i,n){var r=this.provider;if(!r||t||r._checkClientState()){if(e&&this._children){var o=this._children.indexOf(e),s=mg.findSave(e.rowId,n);if(!r.softDeleting||!r.checkStates)return s&&(s.run="remove"),this.$_removeChild(e,o,t);switch(e.rowState){case jp.CREATED:if(r.deleteCreated)return s&&(s.run="remove"),this.$_removeChild(e,o,t);e._changeRowState(jp.CREATE_AND_DELETED,!0,!1),s&&(s.run="state",s.changeState=jp.CREATE_AND_DELETED);break;case jp.DELETED:case jp.CREATE_AND_DELETED:s&&(s.run="state",s.changeState=e.rowState),s&&(s.run="state");break;default:e._changeRowState(jp.DELETED,!0,!1),s&&(s.run="state",s.changeState=jp.DELETED)}if(i&&e.count>0)for(var a=e.children,l=e.count;l--;)e._removeChild(a[l],t,i,s&&s.children)}return!1}},t.prototype._removeChildren=function(){this._children&&this._children.length>0&&(this._children.splice(0,this._children.length),this._descendantCountChanged(-this._descendantCount),this._doCleared())},t.prototype._setChildren=function(e){this._children&&this._children.length>0&&this._children.splice(0,this._children.length);var t,i=-this._descendantCount;if(e&&(t=e.length)>0){this._children||(this._children=[]);for(var n=0;n<t;n++){var r=e[n];this._children.push(r),i+=1+r.descendantCount,this._attach(r)}}this._descendantCountChanged(i)},t.prototype.$_findChild=function(e,t){for(var i=e.length,n=this.count,r=0;r<n;r++){for(var o=this._children[r],s=!0,a=0;a<i;a++)if(!e[a].equalValues(t[a],o.getValue(e[a].index))){s=!1;break}if(s)return o;if(o=o.$_findChild(e,t))return o}return null},t.prototype._collectStateRows=function(e,t){for(var i=this.count;i--;){var n=this.getChild(i),r=n.rowState;!t||r!=jp.DELETED&&r!=jp.CREATE_AND_DELETED?(r!=jp.NONE&&e.push(n),n._collectStateRows(e,t)):t.push(n)}},t.prototype._clearOrgValues=function(){for(var e=this.count;e--;)this.getChild(e)._clearOrgValues()},t.prototype._restoreState=function(e,t){if(e)for(var i=this.count;i--;)this.getChild(i)._restoreState(!0,t);return!1},t.prototype.$_restoreRow=function(e,t,i){if(e)for(var n=this.count;n--;)this.getChild(n).$_restoreRow(!0,t,i);return!1},t.prototype._doChildAdding=function(e,t){var i=this.provider;return!i||i._rowAdding(this,e,t)},t.prototype._doChildAdded=function(e,t){var i=this.provider;i&&i._rowAdded(t)},t.prototype._doRowsAdding=function(e,t){var i=this.provider;return!i||i._rowsAdding(this,e,t)},t.prototype._doRowsAdded=function(e,t){var i=this.provider;i&&i._rowsAdded(this,t)},t.prototype._doChildRemoving=function(e){var t=this.provider;return!t||t._rowRemoving(e)},t.prototype._doChildRemoved=function(e){var t=this.provider;t&&t._rowRemoved(e)},t.prototype._doCleared=function(){var e=this.provider;e&&e._rowCleared(this)},t}(Yp),gg=function(e){function t(t){var i=e.call(this,t,!1)||this;return i._provider=t,i}return gd(t,e),t.prototype._doDispose=function(){this._provider=null,e.prototype._doDispose.call(this)},t.prototype.set=function(e){for(var t=[],i=0;i<e.count;i++)t.push(e.getChild(i).copy());this._setChildren(t)},Object.defineProperty(t.prototype,"provider",{get:function(){return this._provider},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowId",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.copy=function(){for(var e=new t(null),i=0,n=this.count;i<n;i++){var r=this.getChild(i).copy();e._addChild(r,!0,!0)}return e._provider=this._provider,e},t.prototype._changeRowState=function(e,t,i){return!1},t.prototype.getObject=function(){return null},t.prototype.getValue=function(e){},t.prototype.setValue=function(e,t,i){return!1},t.prototype._attach=function(e){e._parent=this},t.prototype._detach=function(e){e._parent===this&&(e._parent=null)},t.prototype.update=function(e,t){return!1},t.prototype.$_setHasChildren=function(e){},t.prototype.$_setIconIndex=function(e){},t.prototype._keepRow=function(e){},t.prototype._yieldRow=function(e,t){},t.prototype._keepStates=function(e){},t.prototype._yieldStates=function(e,t){},t}(_g),mg=function(e){function t(){var t=e.call(this)||this;return t._nextRowId=0,t._commandListeners=[],t}return gd(t,e),t.prototype._doDispose=function(){this._fireDispose(),e.prototype._doDispose.call(this)},t.prototype.editCommandStackChanged=function(e,t,i){this._fireCommandStackChanged(t,i)},t.prototype.registerCommandListener=function(e){e&&this._commandListeners.indexOf(e)<0&&this._commandListeners.push(e)},t.prototype.unregisterCommandListener=function(e){var t=this._commandListeners.indexOf(e);t>=0&&this._commandListeners.splice(t,1)},t.prototype._keepCommandStates=function(e){if(this._commandListeners.length>0)return this._commandListeners[0].getCommandStates(e)},t.prototype._yieldCommandStates=function(e,t){if(this._commandListeners.length>0)return this._commandListeners[0].setCommandStates(e,t)},t.prototype._fireDispose=function(){this.fireEvent("onTreeDataProviderDisposed")},t.findSave=function(e,t){if(t)for(var i=0,n=t;i<n.length;i++){var r=n[i];if(r.rowId===e)return r}},t}(p_),yg=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._rowFields=Bp.deepCopy(i),r._value=n,r}return gd(t,e),t.prototype._doRun=function(e){var t={};for(var i in this._rowFields){var n=e.rowById(+i)._keepRow(e);t[i]=n}return e.$_fillValue(this._rowFields,this._value),t},t.prototype._doRedo=function(e,t){e.$_fillValue(this._rowFields,this._value)},t.prototype._doUndo=function(e,t){var i=[];for(var n in this._rowFields){var r=e.rowById(+n);r._yieldRow(e,t[n]),i.push(r)}e._fireRowsUpdated(i)},t}(cg),vg=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o._rowIds=i.map(function(e){return e.rowId}),o._values=o._cloneValues(n.slice()),o}return gd(t,e),t.prototype._doRun=function(e){for(var t=[],i=this._rowIds.map(function(t){return e.rowById(t)}),n=0,r=i;n<r.length;n++){var o=r[n]._keepRow(e);t.push(o)}return e.$_updateRows(i,this._values,this._strict),t},t.prototype._doRedo=function(e,t){var i=this._rowIds.map(function(t){return e.rowById(t)});e.$_updateRows(i,this._values,this._strict)},t.prototype._doUndo=function(e,t){for(var i=[],n=this._rowIds.map(function(t){return e.rowById(t)}),r=0;r<n.length;r++){var o=n[r];t[r].state!==o.rowState&&i.push(o),o._yieldRow(e,t[r])}e._fireRowStatesChanged(i)},t}(cg),bg=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o._rowId=i.rowId,o._field=n,o._value=r instanceof Date?new Date(r):r,o}return gd(t,e),t.prototype._doRun=function(e){var t=e.rowById(this._rowId),i=t._keepRow(e);return(i.result=t.$_setValue(this._field,this._value,!1))&&(this._newState=t.rowState),i},t.prototype._doRedo=function(e,t){var i=e.rowById(this._rowId);i&&i.$_setValue(this._field,this._value,!1)},t.prototype._doUndo=function(e,t){var i=e.rowById(this._rowId);i._yieldRow(e,t),t.state!=this._newState&&e._fireRowStateChanged(i),e._valueChanged(i,this._field)},t}(cg),wg=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._rowIds=i.map(function(e){return e.rowId}),r._recursive=n,r._softDeleting=t.softDeleting,r}return gd(t,e),t.prototype._doDispose=function(){this._rowIds=null,e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var t=[],i=this._rowIds.map(function(t){return e.rowById(t)});i.sort(function(e,t){return e.index-t.index});for(var n=0,r=i;n<r.length;n++){var o=r[n],s=o._keepRow(e,!0);(!this._softDeleting||this._recursive)&&o.children&&o.children.length&&this._keepChildren(e,o,s.children=[]),t.push(s)}return e.$_removeRows(i,this._recursive,t),t},t.prototype._doRedo=function(e,t){var i=this._rowIds.map(function(t){return e.rowById(t)});e.$_removeRows(i,this._recursive,t)},t.prototype._doUndo=function(e,t){var i=e,n=[];if(t&&t.length)for(var r=0,o=t;r<o.length;r++){var s=o[r];if("state"===s.run)(a=i.rowById(s.rowId))&&a._changeRowState(s.state,!0,!1),n.push(a),s.children&&this._restoreChildren(i,a,s.children);else{var a;(a=i.createTemp())._yieldRow(i,s,!0);var l=i.rowById(s.parentId);l&&l._insertChild(s.index,a,!1,!0),s.children&&this._restoreChildren(i,a,s.children)}}i._statesChanged(n)},t}(cg),Cg=function(e){function t(t,i,n,r,o,s,a){var l=e.call(this,t)||this;return l._data=r,l._index=n,l._noState=a,l._parentId=i.rowId,l._childrenProp=o,l._iconIndex=Bp.getNumber(r[s],-1),l}return gd(t,e),t.prototype._doDispose=function(){this._data=null,e.prototype._doDispose.call(this)},t.prototype._createChildren=function(e,t,i,n){if(i&&i.length)for(var r=0;r<i.length;r++){var o=i[r],s=e.createRow(o,this._iconIndex,!1);t._addChild(s,!1,this._noState);var a=s._keepRow(e,!1);n.push(a),o[this._childrenProp]&&this._createChildren(e,s,o[this._childrenProp],a.children=[])}},t.prototype._doRun=function(e){var t,i=this._data,n=this._childrenProp,r=this._iconIndex,o=i[n],s=e.createRow(i,r,o&&o.length>0);return e.rowById(this._parentId)._insertChild(this._index,s,!1,this._noState)?((t=s._keepRow(e,!1)).index=this._index,o&&o.length&&this._createChildren(e,s,o,t.children=[]),t.result=s.rowId):t.result=-1,t},t.prototype._doRedo=function(e,t){var i=e.createTemp();i._yieldRow(e,t,!0),t.children&&t.children.length&&this._restoreChildren(e,i,t.children);var n=e.rowById(this._parentId);n&&n._insertChild(t.index,i,!1,this._noState)},t.prototype._doUndo=function(e,t){var i=e.rowById(this._parentId),n=e.rowById(t.rowId);i&&n&&i.$_removeChild(n,this._index,!1)},t}(cg),xg=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._rowId=i.rowId,r._newState=n,r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var t={},i=e.rowById(this._rowId);return t.state=i&&i._keepState(e),i&&i._changeRowState(this._newState,!0,!1),t},t.prototype._doRedo=function(e,t){e.rowById(this._rowId)._changeRowState(this._newState,!0,!1)},t.prototype._doUndo=function(e,t){var i=e.rowById(this._rowId);i._yieldStates(e,t),t.state!=this._newState&&(i._changeRowState(t.state,!0,!1),e._fireRowStateChanged(i,!0))},t}(cg),Ig=function(e){function t(t,i,n,r,o){var s=e.call(this,t)||this;return s._rows=i.slice(),s._newState=n,s._force=r,s._rowEvents=o,s}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){for(var t=[],i=0,n=this._rows;i<n.length;i++){var r=n[i],o=e.rowById(r);if(o){var s=o._keepStates(e);t.push(s)}}return e.$_setRowStates(this._rows,this._newState,this._force,this._rowEvents),t},t.prototype._doRedo=function(e,t){e.$_setRowStates(this._rows,this._newState,this._force,this._rowEvents)},t.prototype._doUndo=function(e,t){for(var i=function(e){for(var i=0,n=t;i<n.length;i++){var r=n[i];if(r.rowId===e)return r}},n=[],r=0,o=this._rows;r<o.length;r++){var s=o[r],a=e.rowById(s),l=i(s);a&&l&&a&&l&&a._changeRowState(l.state,this._rowEvents,!1)&&n.push(s)}!this._rowEvents&&n.length&&e._fireRowStatesChanged(n)},t}(cg),Eg=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._rowId=i.rowId,r._delta=n,r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var t={},i=e.rowById(this._rowId);return t.result=e.$_changeRowIndex(i,this._delta),t},t.prototype._doRedo=function(e,t){var i=e.rowById(this._rowId);i&&e.$_changeRowIndex(i,this._delta)},t.prototype._doUndo=function(e,t){var i=e.rowById(this._rowId);i&&e.$_changeRowIndex(i,-this._delta)},t}(cg),Og=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o._rowId=i.rowId,o._oldIndex=i.index,o._oldParentId=i.parent.rowId,o._parentId=n.rowId,o._index=r,o}return gd(t,e),t.getInfo=function(e,t,i){return{row:e.rowById(t),parent:e.rowById(i)}},t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var i={},n=t.getInfo(e,this._rowId,this._parentId),r=n.row,o=n.parent;return i.result=e.$_changeRowParent(r,o,this._index),i},t.prototype._doRedo=function(e,i){var n=t.getInfo(e,this._rowId,this._parentId),r=n.row,o=n.parent;e.$_changeRowParent(r,o,this._index)},t.prototype._doUndo=function(e,i){var n=t.getInfo(e,this._rowId,this._oldParentId),r=n.row,o=n.parent;e.$_changeRowParent(r,o,this._oldIndex)},t}(cg),Sg=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._rowIds=i.map(function(e){return e.rowId}),r._delta=n,r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.getRows=function(e){return this._rowIds.map(function(t){return e.rowById(t)})},t.prototype._doRun=function(e){var t={},i=this.getRows(e);return t.result=e.$_changeRowsIndex(i,this._delta),t},t.prototype._doRedo=function(e,t){var i=this.getRows(e);e.$_changeRowsIndex(i,this._delta)},t.prototype._doUndo=function(e,t){var i=this.getRows(e);e.$_changeRowsIndex(i,-this._delta)},t}(cg),kg=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._deleteRows=i,r._rowEvents=n,r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.saveTreeNode=function(e,t,i){var n;if(-1!==e.rowId){var r=e.rowState;n={state:r,rowId:e.rowId,index:e.index,parentId:e.parent.rowId,parentRemove:i,orgValues:e._orgValues&&e._orgValues.slice(),children:[]},this._deleteRows&&(Hp(r)||i)&&(n.values=e.values&&e.values.slice(),i=!0),t.push(n),t=n.children}for(var o=0,s=e.count;o<s;o++)this.saveTreeNode(e.getChild(o),t,i)},t.prototype.restoreRowStates=function(e,t,i){for(var n=0;n<t.length;n++){var r=t[n],o=e.rowById(r.rowId);if(this._deleteRows&&(Hp(r.state)||r.parentRemove)){var s=e.rowById(r.parentId);o=e.createTemp(),s&&(o._yieldRow(e,r,!0),s._insertChild(r.index,o,!1,!0))}else o&&o.rowState!==r.state&&(i.push(o),o._yieldStates(e,r));this.restoreRowStates(e,r.children,i)}},t.prototype._doRun=function(e){var t=[];return this.saveTreeNode(e.rootRow,t,!1),e.$_clearRowStates(this._deleteRows,this._rowEvents),t},t.prototype._doRedo=function(e,t){e.$_clearRowStates(this._deleteRows,this._rowEvents,!1)},t.prototype._doUndo=function(e,t){var i=[];this.restoreRowStates(e,t,i),i.length&&e._fireRowStatesChanged(i)},t}(cg),Pg=function(e){function t(t,i){var n=e.call(this,t)||this;return n._rows=i&&i.slice(),n._recursive=!!n._rows,n}return gd(t,e),t.prototype._doDispose=function(){this._rows=null,e.prototype._doDispose.call(this)},t.prototype._doRun=function(e){var t={};return e.$_restoreUpdatedRows(this._rows,t),t},t.prototype._doRedo=function(e,t){e.$_restoreUpdatedRows(this._rows,null)},t.prototype._doUndo=function(e,t){var i=t.rows;if(!(i.length<1)){for(var n=0;n<i.length;n++){var r=i[n];e.$_undoRestoreRow(r,t[r])}e._fireRefresh()}},t}(cg),Rg=function(e){function t(t,i,n){var r=e.call(this,t,n)||this;if(r._iconIndex=-1,r._hasChildren=!1,r._parent=null,r._values=null,r._orgValues=null,r._state=jp.NONE,t&&i){var o=t.fieldCount;r._values=new Array(o);for(var s=0,a=Math.min(i.length,o);s<a;s++)r._values[s]=t.getField(s).readValue(i[s])}return r}return gd(t,e),t.prototype._doDispose=function(){this._values=null,this._orgValues=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"provider",{get:function(){return this._parent&&this._parent.provider},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._parent?this._parent.indexOf(this):-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._parent?this._parent.level+1:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return this._hasChildren},set:function(e){if(e!=this._hasChildren){this._hasChildren=e;var t=this.provider;t&&t._hasChildrenChanged(this)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconIndex",{get:function(){return this._iconIndex},set:function(e){if(isNaN(e)&&(e=-1),e!=this._iconIndex){this._iconIndex=e;var t=this.provider;t&&t._iconIndexChanged(this)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowState",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this._values&&this._values.slice()},enumerable:!1,configurable:!0}),t.prototype._attach=function(e){e._parent=this},t.prototype._detach=function(e){e._parent===this&&(e._parent=null)},t.prototype._changeRowState=function(e,t,i){var n=this.provider;if(n&&e!=this._state){var r=this._state;return this._state=e,e==jp.UPDATED&&n._needOrgValues?this._orgValues=this._values.concat():r==jp.UPDATED&&this._orgValues&&(this._orgValues=null),t&&n._stateChanged(this,i),!0}return!1},t.prototype.getValue=function(e){if(this.provider){if(this._checkFieldIndex(e),this._values)return this._values[e];throw new Error("Row data is not loaded")}},t.prototype.setValue=function(e,t,i){var n=this.provider;return!!n&&(n.undoable?n._commands.execute(new bg(n,this,e,t)):this.$_setValue(e,t,i))},t.prototype.getObject=function(){var e=this.provider;if(e){for(var t=e.fieldCount,i={},n=0;n<t;n++)i[e.getOrgFieldName(n)]=this._values[n];return i}return null},t.prototype.copy=function(){var e=new t(null,null,!0);e._rowId=this._rowId,e._iconIndex=this._iconIndex,e._hasChildren=this._hasChildren,e._state=this._state,e._values=this._values?this._values.concat():null;for(var i=0,n=this.count;i<n;i++){var r=this.getChild(i).copy();e._addChild(r,!0,!0)}return e},t.prototype.update=function(e,t){var i=this.provider;return!!i&&(i.undoable?i._commands.execute(new dg(i,this,e,t)):this.$_update(i,e,t,!1))},t.prototype._keepRow=function(e,t){var i={};return i.values=this._values&&this._values.slice(),i.state=this._state,i.orgValues=this._orgValues&&this._orgValues.slice(),i.index=this.index,i.hasChildren=this.hasChildren,i.rowId=this.rowId,t&&(i.parentId=this.parent.rowId),i.outer=e._keepCommandStates(this),i},t.prototype._yieldRow=function(e,t,i){this._values=t.values&&t.values.slice(),this._state=t.state,this._orgValues=t.orgValues&&t.orgValues.slice(),i&&(this._rowId=t.rowId,this.hasChildren=t.hasChildren),e._yieldCommandStates(this,t.outer)},t.prototype._keepStates=function(e){var t={};return t.rowId=this.rowId,t.state=this.rowState,t},t.prototype._yieldStates=function(e,t){this._state=t.state,t.orgValues&&(this._orgValues=t.orgValues.slice())},t.prototype._keepState=function(){return this._state},t.prototype._yieldState=function(e){this._state=e},t.prototype.$_setValue=function(e,t,i){var n=this.provider;if(n){if(!n._checkClientState())return;if(n.refreshFieldFormats(),this._checkFieldIndex(e),this._values){if(t!=this._values[e]){var r=null,o=n.getField(e),s=n.checkStates&&(this._state==jp.NONE||!this._state);!i&&s&&n._needOrgValues&&(r=this._values.concat()),this._values[e]=o.readValue(t),n._internalCalculateValues(this._values,this.rowId),!i&&s?(n._needOrgValues&&(this._orgValues=r),this._state=jp.UPDATED,n._stateChanged(this,!1)):n._needRestore&&this.$_restoreState(n),n._valueChanged(this,e)}return!0}throw new Error("Row data is not loaded")}},t.prototype.$_update=function(e,t,i,n){if(!n){if(!e._checkClientState())return;e.refreshFieldFormats()}var r=this._values.slice();if(Bp.isArray(t))for(var o=0;o<t.length;o++)r[o]=t[o];else if(Bp.isObject(t))for(var s in t)r[this.provider.getFieldIndex(s)]=t[s];return!(!t||!n&&!e._rowUpdating(this,r,this._values.slice())||(this.$_internalUpdate(t,i,!0),e._rowUpdated(this),0))},t.prototype._clearOrgValues=function(){this._orgValues&&(this._orgValues.length=0,this._orgValues=null),e.prototype._clearOrgValues.call(this)},t.prototype._restoreState=function(t,i){var n=this.$_restoreState(this.provider);return n&&i&&i.push(this),e.prototype._restoreState.call(this,t,i),n},t.prototype.$_restoreRow=function(t,i,n){var r=!1;if(this._state===jp.UPDATED){var o=this._orgValues;if(o){var s=this._values;n&&(n[this.rowId]={values:this.values.slice(),state:this._state});for(var a=0,l=Math.min(o.length,this.provider.fieldCount);a<l;a++)s[a]=o[a];this._state=jp.NONE,i&&i.push(this),r=!0}}return e.prototype.$_restoreRow.call(this,t,i,n),r},t.prototype.$_restoreState=function(e){if(this._state==jp.UPDATED&&this._orgValues){for(var t=this._orgValues,i=this._values,n=this.provider,r=n.strictRestore,o=0,s=n.fieldCount;o<s;o++){var a=i.length>o?i[o]:void 0,l=t.length>o?t[o]:void 0;if(r){if(!n.getField(o).equalValues(a,l))return!1}else if(!n.getField(o).sameValues(a,l))return!1}return this._state=jp.NONE,!0}return!1},t.prototype.$_getUpdatedCells=function(){var e=this._orgValues,t=this._values,i=this.provider,n=i.strictRestore,r=[];if(!e||e.length<=0)return null;for(var o=0,s=i.fieldCount;o<s;o++){var a=t.length>o?t[o]:void 0,l=e.length>o?e[o]:void 0,u=i.getField(o);u.calculated||(n?u.equalValues(a,l)||r.push({fieldName:i.getOrgFieldName(o),oldValue:e[o],newValue:t[o]}):u.sameValues(a,l)||r.push({fieldName:i.getOrgFieldName(o),oldValue:e[o],newValue:t[o]}))}return r},t.prototype.$_setHasChildren=function(e){this._hasChildren=e},t.prototype.$_setIconIndex=function(e){this._iconIndex=isNaN(e)?-1:e},t.prototype.$_internalUpdate=function(e,t,i){var n=!1,r=Array.isArray(e),o=this.provider;if(o){var s=Math.min(o.fieldCount,r?e.length:o.fieldCount),a=o.checkStates&&(this._state==jp.NONE||!this._state),l=null;a&&o._needOrgValues&&(l=this._values.concat());for(var u=0;u<s;u++){var c=o.getField(u);if(r||e.hasOwnProperty(c.orgFieldName)){var h=r?e[u]:e[c.orgFieldName];t&&void 0===h||(n=!o._needRestore||n||(t?!c.equalValues(this._values[u],c.readValue(h)):!c.sameValues(this._values[u],c.readValue(h))),this._values[u]=o.getField(u).readValue(h))}}o._internalCalculateValues(this._values,this.rowId),a&&n?(l&&(this._orgValues=l),this._state=jp.UPDATED,i&&o._stateChanged(this,!1)):o._needRestore&&this.$_restoreState(o)}},t}(_g),Tg=function(e){function t(t,i){var n=e.call(this)||this;return n._countDirty=!1,n._tagLock=!1,n._points=[],n._nextPoint=0,n._rowMap=[],n._needOrgValues=!1,n._needRestore=!1,n._checkParentProc=null,n._hiddenRows=[],n.$_handler=i,t&&(n._undoable=t,n._commands=new hg(n)),n._rootRow=new gg(n),n._tags=new q_(n),n}return gd(t,e),t.prototype._doDispose=function(){this._commands=this._commands&&this._commands.dispose(),this._points=this._rowMap=this._hiddenRows=[],this._rootRow.clearChildren(),this._tags=this._tags&&this._tags.dispose(),e.prototype._doDispose.call(this),this._rootRow=null},Object.defineProperty(t.prototype,"rootRow",{get:function(){return this._rootRow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentCallback",{get:function(){return this._parentCallback},set:function(e){this._parentCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"needOrgValues",{get:function(){return this._needOrgValues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"needRestore",{get:function(){return this._needRestore},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"undoable",{get:function(){return this._undoable&&!!this._commands},set:function(e){e!=this.undoable&&(this._undoable=e,this._commands&&this._commands.flush())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"treeField",{get:function(){return this._treeField},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handler",{get:function(){return this.$_handler},enumerable:!1,configurable:!0}),t.prototype.addTag=function(e){this._tags&&this._tags.add(e)},t.prototype.removeTag=function(e){this._tags&&this._tags.remove(e)},t.prototype.setRows=function(e,t,i,n,r){if(!this._checkClientState())return-1;var o=0,s=this.getFieldIndex(t);if(this._treeField=t,this._firePrepareRemain(),s>=0){this.beginUpdate();try{this._clearRows(),this.refreshFieldFormats();var a=new sg(this,this._rootRow);a.parentCallback=this._parentCallback,o=a.load(null,e,s,i,this.getFieldIndex(n),this.getFieldIndex(r)),this._checkSum(o),this.$_prepareMap()}finally{this.endUpdate(!1),this.clearCommandStack()}}return this._tags.setRows(),this._fireRefresh(),this._fireRowCountChanged(),this.fireDataLoadComplated(),o},t.prototype.setCsvRows=function(e,t,i,n,r){if(!this._checkClientState())return-1;var o=0,s=this.getFieldIndex(t);if(this._treeField=t,this._firePrepareRemain(),s>=0){this.beginUpdate();try{this._clearRows(),this.refreshFieldFormats();var a=new ag(this,this._rootRow);a.parentCallback=this._parentCallback,o=a.load(null,e,s,i,this.getFieldIndex(n),this.getFieldIndex(r)),this._checkSum(o),this.$_prepareMap()}finally{this.endUpdate(!1),this.clearCommandStack()}}return this._tags.setRows(),this._fireRefresh(),this._fireRowCountChanged(),this.fireDataLoadComplated(),o},t.prototype.setXmlRows=function(e,t,i,n){if(!this._checkClientState())return-1;var r=0;if(e){this.beginUpdate();try{this._clearRows(),this.refreshFieldFormats(),r=new ug(this,this._rootRow).load(null,e,t,this.getFieldIndex(i),this.getFieldIndex(n)),this._checkSum(r),this.$_prepareMap()}finally{this.endUpdate(!1),this.clearCommandStack()}}return this._tags.setRows(),this._fireRefresh(),this._fireRowCountChanged(),this.fireDataLoadComplated(),r},t.prototype.setJsonRows=function(e,t,i,n){if(!this._checkClientState())return-1;if(e){this.beginUpdate();try{this._clearRows(),this.refreshFieldFormats();var r=new lg(this,this._rootRow);this._rowCount=r.load(null,e,t,this.getFieldIndex(i),this.getFieldIndex(n)),this.$_prepareMap()}finally{this.endUpdate(!1),this.clearCommandStack()}}return this._tags.setRows(),this._fireRefresh(),this._fireRowCountChanged(),this.fireDataLoadComplated(),this.rowCount},t.prototype.setJsonRows2=function(e,t,i,n,r){if(!this._checkClientState())return-1;if(e){this.beginUpdate();try{this._clearRows(),this.refreshFieldFormats();var o=new lg(this,this._rootRow);this._rowCount=o.load2(null,e,t,i,n,r),this.$_prepareMap()}finally{this.endUpdate(!1),this.clearCommandStack()}}return this._tags.setRows(),this._fireRefresh(),this._fireRowCountChanged(),this.fireDataLoadComplated(),this.rowCount},t.prototype.appendDataRows=function(e,t,i,n,r,o){if(!this._checkClientState())return-1;var s=0,a=this.getFieldIndex(i);if(a>=0){var l=new sg(this,this._rootRow);l.parentCallback=this._parentCallback,this.beginUpdate();try{this.refreshFieldFormats(),s=l.load(e,t,a,n,this.getFieldIndex(r),this.getFieldIndex(o))}finally{if(this.endUpdate(!1),s>0){var u=l.insertedRows;u&&(s=u.length)>0&&this._rowsAdded(e,u)}}}return s},t.prototype.appendCsvRows=function(e,t,i,n,r,o){if(!this._checkClientState())return-1;var s=0,a=this.getFieldIndex(i);if(a>=0){this.beginUpdate();try{this.refreshFieldFormats();var l=new ag(this,this._rootRow);l.parentCallback=this._parentCallback,s=l.load(e,t,a,n,this.getFieldIndex(r),this.getFieldIndex(o))}finally{this.endUpdate(!1)}}return this._tags.setRows(),this._fireRefresh(),this._fireRowCountChanged(),s},t.prototype.appendXmlRows=function(e,t,i,n,r){if(!this._checkClientState())return-1;var o=0;if(t){var s=new ug(this,this._rootRow);this.beginUpdate();try{this.refreshFieldFormats(),o=s.load(e,t,i,this.getFieldIndex(n),this.getFieldIndex(r))}finally{if(this.endUpdate(!1),o>0){var a=s.insertedRows;a&&(o=a.length)>0&&this._rowsAdded(e,a)}}}return this._fireRowCountChanged(),o},t.prototype.appendJsonRows=function(e,t,i,n,r){if(!this._checkClientState())return-1;var o=0;if(t){var s=new lg(this,this._rootRow);this.beginUpdate();try{this.refreshFieldFormats(),o=s.load(e,t,i,this.getFieldIndex(n),this.getFieldIndex(r))}finally{if(this.endUpdate(!1),o>0){var a=s.insertedRows;a&&(o=a.length)>0&&this._rowsAdded(e,a)}}}return this._fireRowCountChanged(),o},t.prototype.setIconIndex=function(e,t){return e.iconIndex!=t&&(e.$_setIconIndex(t),!0)},t.prototype.setHasChildren=function(e,t){return t!=e.hasChildren&&(e.$_setHasChildren(t),!0)},t.prototype.getChildCount=function(e){return(e||this._rootRow).count},t.prototype.getRows=function(e){return(e||this._rootRow).children},t.prototype.getDescendantCount=function(e){return(e||this._rootRow).descendantCount},t.prototype.getDescendants=function(e,t){t=arguments.length>1?t:0;var i=e||this._rootRow;if(t<=0)return i.descendants;if(t>i.level){var n=[];return function e(t,i,n){for(var r=0,o=t.count;r<o;r++){var s;i.push(s=t.getChild(r)),n>s.level&&e(s,i,n)}}(i,n,t),n}return null},t.prototype.getChild=function(e,t){return(e||this._rootRow).getChild(t)},t.prototype.hasData=function(e){return null!=this.rowById(e)},t.prototype.rowById=function(e){var t=this._rowMap[e];return t&&t.rowId===e||(t=this._findRowById(e))&&(this._rowMap[e]=t),t||this.rootRow.rowId!==e?t:this.rootRow},t.prototype.getDataRow=function(e){var t=this._rowMap[e];return null==t&&(t=this._findRowById(e)),null!=t?e:-1},t.prototype.rowsByIds=function(e,t){if(e){for(var i=[],n=0,r=e;n<r.length;n++){var o=r[n],s=this.rowById(o);(s||t)&&i.push(s)}return i}return null},t.prototype.createRow=function(e,t,i,n){void 0===n&&(n=!0);var r=null;if(n&&this.refreshFieldFormats(),Array.isArray(e))r=new Rg(this,e);else if(e){var o=new Array(this.fieldCount);for(var s in e){var a=this.getFieldIndex(s);a>=0&&(o[a]=e[s])}r=new Rg(this,o)}return r&&(this._internalCalculateValues(r._values,r.rowId),r._iconIndex=t,r._hasChildren=i),r},t.prototype.createTemp=function(){return new Rg(this,null,!0)},t.prototype.clearRows=function(){this._checkClientState()&&(this._clearRows(),this.clearCommandStack(),this._eventLock<=0&&(this._fireRefresh(),this._fireRowCountChanged(),this.fireDataLoadComplated()))},t.prototype.$_removeRows=function(e,t,i){if(this.softDeleting&&this.checkStates){for(var n=[],r=e.length-1;r>=0;r--){var o=e[r],s=mg.findSave(o.rowId,i),a=!1;switch(o.rowState){case jp.CREATED:this.deleteCreated||(a=o._changeRowState(jp.CREATE_AND_DELETED,!1,!1),s&&(s.changeState=jp.CREATE_AND_DELETED,s.run="state"),e.splice(r,1));break;case jp.DELETED:case jp.CREATE_AND_DELETED:e.splice(r,1),s&&(s.run="state");break;default:a=o._changeRowState(jp.DELETED,!0,!1),e.splice(r,1),s&&(s.run="state",s.changeState=jp.DELETED)}if(a&&n.push(o),t&&o.count>0)for(var l=o.count;l--;)o._removeChild(o.children[l],!1,t,s&&s.children)}n.length>0&&this._fireRowStatesChanged(n)}return this.deleteRows(e),!0},t.prototype.removeRows=function(e,t){for(var i=[],n=e.length;n--;){var r=this.rowById(e[n]);r&&i.push(r)}function o(e,t){for(var n=t;n>=0;n--)if(i[n].isAncestorOf(e))return!1;return!0}if(this._checkClientState()&&i&&!(i.length<1)){for(i.sort(function(e,t){return e.level-t.level}),n=i.length;n--;)i[n].level>1&&!o(i[n],n-1)&&i.splice(n,1);return!(i.length<1||!this._rowsRemoving(i))&&(this.undoable?void this._commands.execute(new wg(this,i,t)):this.$_removeRows(i,t,null))}},t.prototype.$_changeRowIndex=function(e,t){if(0==t)return!1;if(!this._checkClientState())return!1;var i=e.parent,n=i.children.length,r=e.index,o=Math.min(Math.max(r+t,0),n-1);return 0!=(t=o-r)&&!!this._fireRowSiblingMoving(e,t)&&(i._moveChild(r,o),this._fireRowSiblingMoved(e,t),!0)},t.prototype.changeRowIndex=function(e,t){return this.undoable?this._commands.execute(new Eg(this,e,t)):this.$_changeRowIndex(e,t)},t.prototype.$_changeRowsIndex=function(e,t){if(0==t)return!1;if(!this._checkClientState())return!1;var i=e[0].parent,n=i.children.length,r=e[0].index,o=Math.min(Math.max(r+t,0),n-1);if(0==(t=o-r))return!1;for(var s=[],a=0,l=e;a<l.length;a++){var u=l[a];s.push(u.index)}return!!this._fireRowsSiblingMoving(e,t)&&(i._moveChildren(s,o),this._fireRowsSiblingMoved(e,t),!0)},t.prototype.changeRowsIndex=function(e,t){return this.undoable?this._commands.execute(new Sg(this,e,t)):this.$_changeRowsIndex(e,t)},t.prototype.$_changeRowParent=function(e,t,i){if(e===t)throw new Error("Parent must not be self.");if(e.isAncestorOf(t))throw new Error("Can`t move to child of a descendant.");var n=e.parent;if(n===t&&i==e.index)return!1;if(!this._checkClientState())return!1;t._children||(t._children=[]);var r=t._children.length;return i=Math.min(Math.max(i,0),r),!!this._fireRowParentChanging(e,t,i)&&(e._changeParent(t,i),t instanceof gg||this.setHasChildren(t,!0),n instanceof gg||0!=n.count||this.setHasChildren(n,!1),this._fireRowParentChanged(e,t,i),!0)},t.prototype.changeRowParent=function(e,t,i){return this.undoable?this._commands.execute(new Og(this,e,t,i)):this.$_changeRowParent(e,t,i)},t.prototype.moveRows=function(e,t){return this.changeRowsIndex(e,t.index-e[0].index)},t.prototype.toTreeString=function(){return this._rootRow.toTreeString()},t.prototype.beginUpdate=function(){this._checkClientState(),this._eventLock++},t.prototype.endUpdate=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this._checkClientState(),this._eventLock=Math.max(0,this._eventLock-1),0==this._eventLock&&(e&&(this._resetLock>0?this._fireReset(t):this._fireRefresh(),this._countDirty&&this._fireRowCountChanged()),this._resetLock=0,this._countDirty=!1)},t.prototype.$_extractTreeRowIds=function(e){if(e){for(var t=e.length,i=new Array(t),n=0;n<t;n++)i[n]=e[n].rowId;return i}return null},t.prototype.$_searchDataRow=function(e,t,i,n,r,o){var s=e.length;if(s<1)return-1;var a=Math.min(t.length,i.length);if(a<1)return-1;for(var l=n.allFields,u=n.caseSensitive,c=n.partialMatch,h=null,d=[],p=n.compareCallback||Bp.compareTextValue,f=n.reverse,_=0;_<a;_++)d[_]=this.getField(t[_]).dataType;r=Math.max(0,r),o=Math.min(s-1,o);for(var g=r;f?g>=o:g<=o;f?g--:g++){var m=!0;if(m)for(_=0;_<a;_++){var y=this.rowById(e[g]).getValue(t[_]),v=this.getOrgFieldName(t[_]);switch(d[_]){case vd.DATETIME:case vd.DATE:if(i[_]instanceof Date)m=p.call(this.$_handler,i[_],y,u,c,e[g],v);else{if(!h){var b=/[.]/.test(i[_])?"yyyy.MM.dd":/[/]/.test(i[_])?"yyyy/MM/dd":/[-]/.test(i[_])?"yyyy-MM-dd":"yyyyMMdd";h=new i_(b)}m=p.call(this.$_handler,i[_],y?h.getText(y):y,u,c,e[g],v)}break;default:m=p.call(this.$_handler,i[_],y,u,c,e[g],v)}if(m&&!l)return e[g];if(!m&&l)break}if(m)return e[g]}return-1},t.prototype.searchDataRow=function(e,t){var i;if(void 0===t&&(t=null),null!=t){var n=this.rowById(t);if(!n)return-1;i=this.$_extractTreeRowIds(n.descendants)}else i=this.$_extractTreeRowIds(this._rootRow.descendants);if(!Array.isArray(i)||i.length<=0)return-1;e instanceof b_||(e.reverse&&!e.hasOwnProperty("startIndex")&&(e.startIndex=i.length-1),e=new b_(e));var r=e.reverse,o=i.length,s=Math.max(0,i.indexOf(e.startIndex)),a=e.fields,l=e.values,u=-1;if(a&&a.length>0&&l&&l.length>0){for(var c=a.length,h=[],d=0;d<c;d++){var p=a[d];if(Bp.isNumber(p))h.push(p);else{var f=this.getFieldIndex(a[d]);f>=0&&h.push(f)}}h.length>0&&(u=(r?s>0:s<o)?this.$_searchDataRow(i,h,l,e,s,r?0:o-1):-1)<0&&e.wrap&&(r?s<o-1:s>0)&&(u=this.$_searchDataRow(i,h,l,e,r?o-1:0,r?s+1:s-1))}return u},t.prototype.$_searchData=function(e,t,i,n,r,o,s){var a=this.rowCount;if(a<1)return null;for(var l=n&&n.caseSensitive,u=n&&n.partialMatch,c=this.fieldCount,h=t.length,d=null,p=[],f=n.reverse,_=n.compareCallback||Bp.compareTextValue,g=0;g<c;g++)p[g]=this.getField(g).dataType;r=Math.max(0,r),o=Math.min(a-1,o),s=Math.max(0,s),n.reverse?s<0&&(r--,s=t.length-1):s>=t.length&&(r++,s=0);for(var m=r;f?m>=o:m<=o;f?m--:m++)for(g=f?m<r?h-1:s:m>r?0:s;f?g>=0:g<h;f?g--:g++){var y=!1,v=t[g],b=this.getOrgFieldName(t[g]);if(v>=0&&v<c){var w=this.rowById(e[m]).getValue(v);switch(p[v]){case vd.DATETIME:case vd.DATE:if(i instanceof Date)y=_.call(this.$_handler,i,w,l,u,e[m],b);else{if(!d){var C=/[.]/.test(i)?"yyyy.MM.dd":/[/]/.test(i)?"yyyy/MM/dd":/[-]/.test(i)?"yyyy-MM-dd":"yyyyMMdd";d=new i_(C)}y=_.call(this.$_handler,i,w?d.getText(w):w,l,u,e[m],b)}break;default:y=_.call(this.$_handler,i,w,l,u,e[m],b)}if(y)return{dataRow:e[m],fieldIndex:v,searchFieldIndex:g,fieldName:b}}}return null},t.prototype.searchData=function(e,t){var i,n=this;if(void 0===t&&(t=-1),t>=0){var r=this.rowById(t);if(!r)return null;i=this.$_extractTreeRowIds(r.descendants)}else i=this.$_extractTreeRowIds(this._rootRow.descendants);if(!Array.isArray(i)||i.length<=0)return null;var o=i.length,s=null,a=Bp.makeArray(e.fields)||this.getOrgFieldNames();a&&a.length||(a=this.getOrgFieldNames());var l=[];a.forEach(function(e){return l.push(n.getFieldIndex(e))}),e instanceof w_||(e.reverse&&(e.hasOwnProperty("startIndex")||(e.startIndex=o-1),e.hasOwnProperty("startFieldIndex")||(e.startFieldIndex=l.length-1)),e=new w_(e));var u=e.reverse,c=l.length,h=e.value,d=i.indexOf(e.startIndex)<0?u?o-1:0:i.indexOf(e.startIndex),p=u?0:o-1,f=Math.max(0,Math.min(c-1,e.startFieldIndex)),_=u?d>=0&&f>0:d<o&&f<c,g=u?d<o-1||f<c-1:d>0||f>0;return null!=h&&l.length>0&&!(s=_?this.$_searchData(i,l,h,e,d,p,f):null)&&e.wrap&&g&&(s=this.$_searchData(i,l,h,e,u?o-1:0,d-1,u?f:0)),s},t.prototype.$_hideDataRows=function(e,t){if(null!=e){for(var i=Bp.isArray(e)?e:[e],n=this._hiddenRows.length,r=[],o=0,s=i.length;o<s;o++){var a=i[o];if(null!=this._findRowById(a))if(r.push(a),t)this._hiddenRows.indexOf(a)<0&&this._hiddenRows.push(a);else{var l=this._hiddenRows.indexOf(a);l>=0&&this._hiddenRows.splice(l,1)}}this._hiddenRows.length!==n&&this._fireRowsHiddenChanged(r,t)}},t.prototype.hideRows=function(e){this.$_hideDataRows(e,!0)},t.prototype.showRows=function(e){this.$_hideDataRows(e,!1)},t.prototype.clearHiddenRows=function(){if(this._hiddenRows.length>0){var e=this._hiddenRows.concat();this._hiddenRows=[],this._fireRowsHiddenChanged(e,!1)}},t.prototype.getHiddenRows=function(){var e=this._hiddenRows.concat();return e.sort(function(e,t){return e-t}),e},t.prototype.isHiddenRow=function(e){return!!this.rowById(e)&&this._hiddenRows.indexOf(e)>=0},Object.defineProperty(t.prototype,"hiddenCount",{get:function(){return this._hiddenRows.length},enumerable:!1,configurable:!0}),t.prototype.summarize=function(e,t){if(null==e)return!1;e.clear();var i=this.rowCount;if(i<1)return!1;if(e.count=i,e.sum=0,e.min=null,e.max=null,e.dataCount=0,this.$_summarizeChildren(this._rootRow,e),e.avg=e.sum/e.count,e.dataAvg=0===e.dataCount?NaN:e.sum/e.dataCount,t){var n=this.$_summarizeVars(this._rootRow,e);e.varsp=n/e.count,e.vars=n/(e.count-1)}return!0},t.prototype.summarizeRange=function(e,t,i){if(null==e||null==t)return!1;e.clear();var n=t.length;if(n<1)return!1;for(var r=0,o=e.field,s=this.getField(o).dataType===vd.NUMBER,a=null,l=null,u=null,c=0;c<n;)null==(f=t[c++].getValue(o))||s&&(!s||isNaN(f))||(s&&(a=r?a+f:f),(s||""!=f)&&r++,(null==l||f<l)&&(l=f),(null==u||f>u)&&(u=f));if(e.count=n,r>0&&(a=null!=a?a:s?NaN:null,l=null!=l?l:s?NaN:null,u=null!=u?u:s?NaN:null,e.sum=a,e.min=l,e.max=u,e.avg=a/n,e.dataCount=r,e.dataAvg=0===e.dataCount?NaN:e.sum/e.dataCount,i))if(n>1){for(var h=0,d=e.avg,p=0;p<n;p++){var f=t[p].getValue(o);isNaN(f)||(h+=Math.pow(f-d,2))}e.varsp=h/n,e.vars=h/(n-1)}else e.varsp=0,e.vars=0;return!0},Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._rootRow.descendantCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canUndo",{get:function(){return this._commands&&this._commands.canUndo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){return this._commands&&this._commands.canRedo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"undoing",{get:function(){return this._commands&&this._commands.undoing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redoing",{get:function(){return this._commands&&this._commands.redoing},enumerable:!1,configurable:!0}),t.prototype.getRow=function(e){return this.rowById(e).values},t.prototype.deleteRows=function(e){if(this._checkClientState()&&e&&e.length>0){var t=this._softDeleting;this.beginUpdate();try{this._softDeleting=!1,this._tagLock=!0;try{for(var i=e.length-1;i>=0;i--){var n=e[i],r=n&&n.parent;r&&r._removeChild(n,!0,!1,null)}}finally{this._tagLock=!1}}finally{this._softDeleting=t,this.endUpdate(!1)}this._rowsRemoved(e)}},t.prototype.equalValues=function(e,t,i){if(t!==i){var n=this._fields[e],r=t.getValue(e),o=i.getValue(e);return n.equalValues(r,o)}return!0},t.prototype.sameValues=function(e,t,i,n){if(t!==i){var r=this._fields[e],o=t.getValue(e),s=i.getValue(e);return n?String(o).toLowerCase()==String(s).toLowerCase():r.sameValues(o,s)}return!0},t.prototype.equalTexts=function(e,t,i){return this.sameValues(e,t,i,!0)},t.prototype.compareValues=function(e,t,i,n,r){if(t!==i){var o=t.getValue(e),s=i.getValue(e);return-1===n&&(o=""==o?null:o,s=""==s?null:s),null==o?null==s?0:-1*n:null==s?1*n:(o=r?String(o).toLowerCase():o)>(s=r?String(s).toLowerCase():s)?1:o<s?-1:0}return 0},t.prototype.compareTexts=function(e,t,i,n){return this.compareValues(e,t,i,n,!0)},t.prototype.compareNumbers=function(e,t,i,n){if(t!==i){var r=t.getValue(e),o=i.getValue(e);return isNaN(r)?isNaN(o)?0:-1*n:isNaN(o)?1*n:r>o?1:r<o?-1:0}return 0},t.prototype.compareBools=function(e,t,i,n){if(t!==i){var r=t.getValue(e),o=i.getValue(e);return r&&!o?1:!r&&o?-1:0}return 0},t.prototype.compareObjects=function(e,t,i,n){var r=t.values,o=i.values;if(r===o)return 0;var s=r?r[e]:null,a=o?o[e]:null;return s?a?this.getField(e).$_compareObject(s,a,t.rowId,i.rowId):1*n:a?-1*n:0},t.prototype.getDistinctValues=function(e,t,i){if(void 0===t&&(t=-1),void 0===i&&(i=bd.ASCENDING),this._checkFieldIndex(e),t<0&&(t=this.getDescendantCount(this._rootRow)),t>0){for(var n=this.getDescendants(this._rootRow,0),r=this.getField(e).dataType,o=[],s=void 0,a=0,l=n.length;a<l;a++)switch(s=n[a].values[e],r){case vd.NUMBER:null!=s&&isNaN(s)||o.push(s);break;case vd.DATE:case vd.DATETIME:o.push(s?s.getTime():s);break;case vd.OBJECT:default:o.push(s)}return o=p_.getUniqueValues(o,r),i!==bd.NONE&&(o=Bp.included(r,vd.DATETIME,vd.DATE)?o.sort(function(e,t){return e-t}):o.sort(),i===bd.DESCENDING&&(o=o.reverse())),o.slice(0,t)}return null},t.prototype._doFieldsReset=function(){this._fireReset(!0)},t.prototype.refreshClients=function(){this._fireRefreshClient()},t.prototype.savePoint=function(e){if(void 0===e&&(e=!0),this._checkClientState()){if(this.fieldCount>0&&this._rootRow.count>0){var t=this._rootRow.copy(),i=this._nextPoint++;return e||t.clearRowStates(!1,!1),this._points.push({id:i,nextRowId:this._nextRowId,data:t}),i}return-1}},t.prototype.rollback=function(e){if(void 0===e&&(e=0),this._checkClientState())for(var t=this._points.length-1;t>=0;t--){var i=this._points[t];if(i.id==e){this.$_removeSavePoints(t+1),this._rowMap=[],this._rootRow.set(i.data),this._nextRowId=i.nextRowId,this.$_prepareMap(),this._fireRefresh();break}}},t.prototype.$_removeSavePoints=function(e){for(var t=this._points,i=t.length-1;i>=e;i--)t[i].data=null,t.pop()},t.prototype.clearSavePoints=function(){this.$_removeSavePoints(0)},t.prototype.getSavePoints=function(){for(var e=[],t=0,i=this._points.length;t<i;t++)e.push(this._points[t].id);return e},t.prototype._doCheckStatesChanged=function(){this.$_resetOrgValues()},t.prototype._doRestoreModeChanged=function(){this.$_resetOrgValues()},t.prototype._hasChildrenChanged=function(e){this._fireHasChildrenChanged(e)},t.prototype._iconIndexChanged=function(e){this._fireIconIndexChanged(e)},t.prototype._stateChanged=function(e,t){this._fireRowStateChanged(e,t)},t.prototype._statesChanged=function(e){this._fireRowStatesChanged(e)},t.prototype._valueChanged=function(e,t){this._fireValueChanged(e,t)},t.prototype._rowAdding=function(e,t,i){return this._fireRowAdding(e,t,i)},t.prototype._rowAdded=function(e){this._tagLock||this._tags.addRow(e),this._eventLock<=0&&(this._fireRowAdded(e),this._fireRowCountChanged())},t.prototype._rowsAdding=function(e,t,i){return this._fireRowsAdding(e,t,i)},t.prototype._rowsAdded=function(e,t){this._tagLock||this._tags.addRows(t),this._eventLock<=0&&(this._fireRowsAdded(e,t),this._fireRowCountChanged())},t.prototype._rowRemoving=function(e){return this._fireRowRemoving(e)},t.prototype._rowRemoved=function(e){this._tagLock||this._tags.removeRow(e),this._eventLock<=0&&(this._fireRowRemoved(e),this._fireRowCountChanged()),this.$_removeMap(e)},t.prototype._rowsRemoving=function(e){return this._fireRowsRemoving(e)},t.prototype._rowsRemoved=function(e){this._tagLock||this._tags.removeRows(e),this._eventLock<=0&&(this._fireRowsRemoved(e),this._fireRowCountChanged()),this.$_removeMap(e)},t.prototype._rowCleared=function(e){if(e){var t=e.children;this._tags.removeRows(t),this._eventLock<=0&&(this._fireRowsRemoved(t),this._fireRowCountChanged())}},t.prototype._rowUpdating=function(e,t,i){return this._fireRowUpdating(e,t,i)},t.prototype._rowUpdated=function(e){this._tags.updateRow(e),this._eventLock<=0&&this._fireRowUpdated(e)},t.prototype._rowsUpdating=function(e){return this._fireRowsUpdating(e)},t.prototype._rowsUpdated=function(e){this._tags.updateRows(e),this._eventLock<=0&&this._fireRowsUpdated(e)},t.prototype.$_internalInsertField=function(t,i){return t=e.prototype.$_internalInsertField.call(this,t,i),function e(t,i){if(t.children&&t.children.length>0)for(var n=0,r=t.children;n<r.length;n++)e(r[n],i);t._values&&t._values.splice(i,0,void 0),t._orgValues&&t._orgValues.splice(i,0,void 0)}(this._rootRow,t),t},t.prototype.$_internalRemoveField=function(t){return function e(t,i){if(t.children&&t.children.length>0)for(var n=0,r=t.children;n<r.length;n++)e(r[n],i);t._values&&t._values.splice(i,1),t._orgValues&&t._orgValues.splice(i,1)}(this._rootRow,t.index),e.prototype.$_internalRemoveField.call(this,t)},t.prototype.getRowId=function(e){return e},t.prototype.getValue=function(e,t){var i=this.rowById(e);if(i)return i.getValue(t)},t.prototype.setValue=function(e,t,i){var n=this.rowById(e);if(n)return n.setValue(t,i,!1)},t.prototype.getRowObject=function(e){var t=this.rowById(e),i=this.fieldCount,n={},r=t._values;if(r)for(var o=0;o<i;o++)n[this.getOrgFieldName(o)]=r[o];return n},t.prototype.getRowState=function(e){var t=this.rowById(e);return t?t.rowState:jp.NONE},t.prototype.setRowState=function(e,t,i){var n=this.rowById(e);if(n&&(this.checkStates||i)){var r=n.rowState;if(t!=r){if(this._undoable)return this._commands.execute(new xg(this,n,t));n._changeRowState(t,!0,!!Hp(r)||void 0)}}},t.prototype.changeRowStates=function(e,t){for(var i=e.length,n=[],r=0;r<i;r++){var o=e[r];o._changeRowState(t,!1,!1)&&n.push(o)}n.length>0&&this._fireRowStatesChanged(n)},t.prototype.$_clearRowStates=function(e,t){this._checkClientState()&&this._rootRow.clearRowStates(e,t)},t.prototype.clearRowStates=function(e,t){this._undoable?this._commands.execute(new kg(this,e,t)):this.$_clearRowStates(e,t)},t.prototype.$_collectStateRows=function(e,t,i){for(var n=0,r=e.count;n<r;n++){var o=e.getChild(n);o.rowState==t&&i.push(o.rowId),this.$_collectStateRows(o,t,i)}},t.prototype.getStateRows=function(e){var t=[];return this.$_collectStateRows(this._rootRow,e,t),t},t.prototype.$_collectAllStateRows=function(e,t){for(var i=0,n=e.count;i<n;i++){var r=e.getChild(i);switch(r.rowState){case jp.CREATED:case jp.UPDATED:case jp.DELETED:case jp.CREATE_AND_DELETED:t[r.rowState].push(r.rowId)}this.$_collectAllStateRows(r,t)}},t.prototype.getAllStateRows=function(){var e={};return e[jp.CREATED]=[],e[jp.UPDATED]=[],e[jp.DELETED]=[],e[jp.CREATE_AND_DELETED]=[],this.$_collectAllStateRows(this._rootRow,e),e},t.prototype.$_setRowStates=function(e,t,i,n){var r=[];if(this.checkStates||i)for(var o=0,s=e.length;o<s;o++){var a=this.rowById(e[o]);a&&a._changeRowState(t,n,!1)&&r.push(a)}!n&&r.length>0&&this._fireRowStatesChanged(r)},t.prototype.setRowStates=function(e,t,i,n){this._checkClientState()&&(this.undoable?this._commands.execute(new Ig(this,e,t,i,n)):this.$_setRowStates(e,t,i,n))},t.prototype.$_getRowStateCount=function(e,t){for(var i=0,n=0,r=e.count;n<r;n++){var o=e.getChild(n);t.indexOf(o.rowState)>=0&&i++,i+=this.$_getRowStateCount(o,t)}return i},t.prototype.getRowStateCount=function(e){return this.$_getRowStateCount(this._rootRow,e)},t.prototype.restoreUpdatedStates=function(e){this.restoreUpdatedRows(e)},t.prototype.restoreUpdatedRows=function(e){this.undoable?this._commands.execute(new Pg(this,e)):this.$_restoreUpdatedRows(e,null,!1)},t.prototype.$_restoreUpdatedRows=function(e,t,i){if(this._checkClientState()){var n=[];if(null==e)this._rootRow.$_restoreRow(!0,n,t);else for(var r=e.length;r--;){var o=this.rowById(e[r]);o&&o.$_restoreRow(!1,n,t)}t&&(t.rows=n.map(function(e){return e.rowId})),1==n.length?this._fireRowStateChanged(n[0],!1):n.length>1&&this._fireRowStatesChanged(n)}},t.prototype.$_undoRestoreRow=function(e,t){var i=this.rowById(e);if(t){for(var n=0,r=Math.min(i.values.length,t.values.length);n<r;n++)i._values[n]=t.values[n];i._state=t.state}},t.prototype._reCalculateFields=function(e){var t=this;this.getDescendants(this._rootRow,-1).forEach(function(i){t._internalCalculateValues(i._values,i.rowId,e)})},t.prototype.getUpdatedCells=function(e){var t=this.restoreMode;if(t!=sf.AUTO&&t!=sf.EXPLICIT)return null;if(null==e)e=this.getStateRows(jp.UPDATED);else if(!Array.isArray(e)){if("number"!=typeof e)return null;e=[e]}if(!Array.isArray(e))return null;for(var i=[],n=0,r=e.length;n<r;n++){var o=this.rowById(e[n]);if(o){var s=o.$_getUpdatedCells();s&&s.length>0&&i.push({__rowId:o.rowId,updatedCells:s})}}return i},t.prototype.canUpdateRow=function(e){return!0},t.prototype.canInsertRow=function(e){return!0},t.prototype.canDeleteRow=function(e){return!0},t.prototype.isDataChanged=function(e,t){if(e<0)return!1;var i=this.rowById(e);!i&&Bp.isDebugging();var n=i._orgValues;if(i.rowState!==jp.UPDATED||!n)return!1;if(n){var r=n[t],o=i._values[t],s=this._fields[t];return s&&!s.sameValues(r,o)}return!1},t.prototype.$_createFrom=function(e,t){var i=e.getObject();t&&(i=this._convertValues(i,t));for(var n=this.objectToRow(i),r=new Rg(this,n),o=0;o<e.count;o++){var s=this.$_createFrom(e.getChild(o),t);r.addChild(s,!1)}return r},t.prototype.$_insertRowsFrom=function(e,t,i,n){for(var r=[],o=0,s=e.rowsByIds(i,!1);o<s.length;o++){var a=s[o];r.push(this.$_createFrom(a,t))}var l=n>=0?this.rowById(n):null,u=l?l.parent:this.rootRow;if(n>=0){var c=u.indexOf(l);u.insertChildren(c,r,!1)}else u.insertChildren(u.count,r,!1)},t.prototype.$_insertChildNode=function(e,t,i,n,r,o){var s=Bp.getNumber(i[r],-1),a=i[n],l=this.createRow(i,s,a&&a.length>0);if(t>=0?e._insertChild(t,l,!1,o):e._addChild(l,!1,o),a)for(var u=0;u<a.length;u++)this.$_insertChildNode(l,-1,a[u],n,r,o);return l?l.rowId:-1},t.prototype.insertChildNode=function(e,t,i,n,r,o){return this.undoable?this._commands.execute(new Cg(this,e,t,i,n,r,o)):this.$_insertChildNode(e,t,i,n,r,o)},t.prototype.insertRowsFrom=function(e,t,i,n){this.$_insertRowsFrom(e,t,i,n)},t.prototype.appendRowsFrom=function(e,t,i){this.$_insertRowsFrom(e,t,i,-1)},t.prototype.fillValue=function(e,t){Object.keys(e).length&&(this.undoable?this._commands.execute(new yg(this,e,t)):this.$_fillValue(e,t))},t.prototype.updateRows=function(e,t,i){if(e&&0!=e.length){for(var n=[],r=0;r<e.length;r++){var o=this.rowById(e[r]);o?n.push(o):t.splice(r,1)}this.undoable?this._commands.execute(new vg(this,n,t,i)):this.$_updateRows(n,t,i)}},t.prototype._findRowById=function(e){return this._rootRow.findById(e)},t.prototype._checkSum=function(e){if(e!=this.rowCount)throw new Error("Invalid row count: "+e+" <> "+this.rowCount)},t.prototype._clearRows=function(){this._rootRow._removeChildren(),this._rowMap=[],this._rootRow&&this._rootRow.descendantCount>0||(this._nextRowId=1),this._tags.clearRows(),this._checkSum(0)},t.prototype.$_prepareMap=function(){var e=this;!function t(i){var n=i.children;n&&n.forEach(function(i){e._rowMap[i.rowId]=i,t(i)})}(this._rootRow)},t.prototype.$_removeMap=function(e){var t=this;(e=Bp.makeArray(e,!0)).forEach(function(e){t._rowMap[e.rowId]=void 0,t.$_removeMap(e.children),e.dispose()})},t.prototype.$_fillValue=function(e,t){if(this._checkClientState()){var i=Object.keys(e);if(i&&i.length){this.refreshFieldFormats();var n=[],r=[];for(var o in e){var s=this.rowById(+o);r.push(s),s.rowState==jp.NONE&&n.push(s);for(var a=s.values,l=e[o],u=0;u<l.length;u++)a[l[u]]=t;s.$_internalUpdate(a,!1,!1)}n.length>0&&this._fireRowStatesChanged(n),this._tags.updateRows(r),this._fireRowsUpdated(r)}}},t.prototype.$_updateRows=function(e,t,i){if(this._checkClientState()&&e&&t){var n=Math.min(e.length,t.length);if(!(n<1)){this.refreshFieldFormats();for(var r=[],o=0;o<n;o++){var s=e[o];s.rowState==jp.NONE&&r.push(s),s.$_internalUpdate(t[o],i,!1)}r.length>0&&this._fireRowStatesChanged(r),this._tags.updateRows(e),this._fireRowsUpdated(e)}}},t.prototype.findRow=function(e,t){return e&&e.length>0&&t&&t.length>=e.length?this._rootRow.findChild(e,t):null},t.prototype.$_resetOrgValues=function(){this._needOrgValues=this.checkStates&&this.restoreMode!=sf.NONE,this._needRestore=this._needOrgValues&&this.restoreMode==sf.AUTO,this._rootRow._clearOrgValues()},t.prototype.$_summarizeChildren=function(e,t){for(var i=t.field,n=e.count,r=this.getField(t.field).dataType===vd.NUMBER,o=0;o<n;o++){var s=e.getChild(o),a=s.getValue(i);null==a||r&&(!r||isNaN(a))||(r&&(t.sum=t.dataCount?t.sum+a:a),(r||""!=a)&&t.dataCount++,(null==t.min||a<t.min)&&(t.min=a),(null==t.max||a>t.max)&&(t.max=a)),this.$_summarizeChildren(s,t)}},t.prototype.$_summarizeVars=function(e,t){for(var i=t.field,n=t.avg,r=e.count,o=0,s=0;s<r;s++){var a=e.getChild(s),l=a.getValue(i);isNaN(l)||(o+=Math.pow(l-n,2)),o+=this.$_summarizeVars(a,t)}return o},t.prototype._fireDisposed=function(){this._eventLock<=0&&this.fireEvent("onTreeDataProviderDisposed")},t.prototype._fireReset=function(e){this._eventLock<=0?this.fireEvent("onTreeDataProviderReset",e):this._resetLock++},t.prototype._fireRefresh=function(){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRefresh")},t.prototype._fireRefreshClient=function(){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRefreshClient")},t.prototype._firePrepareRemain=function(){this._eventLock<=0&&this.fireEvent("onTreeDataProviderPrepareRemain")},t.prototype._fireCleared=function(){this._eventLock<=0&&this.fireEvent("onTreeDataProviderCleared")},t.prototype._fireRowCountChanged=function(){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowCountChanged",this.rowCount)},t.prototype._fireRowAdding=function(e,t,i){return!(this._eventLock<=0)||this.fireConfirmEvent("onTreeDataProviderRowAdding",e,t,i)},t.prototype._fireRowAdded=function(e){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowAdded",e)},t.prototype._fireRowsAdding=function(e,t,i){return!(this._eventLock<=0)||this.fireConfirmEvent("onTreeDataProviderRowsAdding",e,t,i)},t.prototype._fireRowsAdded=function(e,t){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowsAdded",e,t)},t.prototype._fireRowRemoving=function(e){return!(this._eventLock<=0)||this.fireConfirmEvent("onTreeDataProviderRowRemoving",e)},t.prototype._fireRowRemoved=function(e){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowRemoved",e)},t.prototype._fireRowsRemoving=function(e){return!(this._eventLock<=0)||this.fireConfirmEvent("onTreeDataProviderRowsRemoving",e)},t.prototype._fireRowsRemoved=function(e){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowsRemoved",e)},t.prototype._fireRowUpdating=function(e,t,i){return!(this._eventLock<=0)||this.fireConfirmEvent("onTreeDataProviderRowUpdating",e,t,i)},t.prototype._fireRowUpdated=function(e){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowUpdated",e)},t.prototype._fireRowsUpdating=function(e){return!(this._eventLock<=0)||this.fireConfirmEvent("onTreeDataProviderRowsUpdating",e)},t.prototype._fireRowsUpdated=function(e){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowsUpdated",e)},t.prototype._fireValueChanging=function(e,t,i){return!(this._eventLock<=0)||this.fireConfirmEvent("onTreeDataProviderValueChanging",e,t,i)},t.prototype._fireValueChanged=function(e,t){this._eventLock<=0&&this.fireEvent("onTreeDataProviderValueChanged",e,t)},t.prototype._fireIconIndexChanged=function(e){this._eventLock<=0&&this.fireEvent("onTreeDataProviderIconIndexChanged",e)},t.prototype._fireHasChildrenChanged=function(e){this._eventLock<=0&&this.fireEvent("onTreeDataProviderHasChildrenChanged",e)},t.prototype._fireRowStateChanged=function(e,t){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowStateChanged",e,t)},t.prototype._fireRowStatesChanged=function(e){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowStatesChanged",e)},t.prototype._fireRowSiblingMoving=function(e,t){return!(this._eventLock<=0)||this.fireConfirmEvent("onTreeDataProviderRowSiblingMoving",e,t)},t.prototype._fireRowSiblingMoved=function(e,t){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowSiblingMoved",e,t)},t.prototype._fireRowsSiblingMoving=function(e,t){return!(this._eventLock<=0)||this.fireConfirmEvent("onTreeDataProviderRowsSiblingMoving",e,t)},t.prototype._fireRowsSiblingMoved=function(e,t){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowsSiblingMoved",e,t)},t.prototype._fireRowParentChanging=function(e,t,i){return!(this._eventLock<=0)||this.fireConfirmEvent("onTreeDataProviderRowParentChanging",e,t,i)},t.prototype._fireRowParentChanged=function(e,t,i){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowParentChanged",e,t,i)},t.prototype._fireRowsParentChanging=function(e,t,i){return!(this._eventLock<=0)||this.fireConfirmEvent("onTreeDataProviderRowsParentChanging",e,t,i)},t.prototype._fireRowsParentChanged=function(e,t,i){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowsParentChanged",e,t,i)},t.prototype._fireRowsHiddenChanged=function(e,t){this._eventLock<=0&&this.fireEvent("onTreeDataProviderRowsHideChanged",e,t)},t.prototype.fireDataLoadComplated=function(){this._eventLock<=0&&this.fireEvent("onTreeDataProviderDataLoadComplated")},t.prototype.undo=function(){this.canUndo&&this._commands.undo()},t.prototype.redo=function(){this.canRedo&&this._commands.redo(!0)},t.prototype.clearCommandStack=function(){this._commands&&this._commands.flush()},t}(mg),Dg=function(e){function t(t){var i=e.call(this)||this;return i._ds=t,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.load=function(e,t,i){var n=new ig(i);if(this.$_checkEmpty(t,n))return 0;switch(this.$_prepareLoad(n),e=e&&e.toLowerCase()){case"json":return this.$_loadJson(t,n);case"xml":return this.$_loadXml(t,n);case"csv":return this.$_loadCsv(t,n)}return 0},t.prototype.$_loadJson=function(e,t){if("string"==typeof e&&(e=JSON.parse(e)),e){var i=t.childrenField,n=t.iconField;if(t.fillMode==Z_.APPEND){var r=this._ds.rowById(t.parentId);return this._ds.appendJsonRows(r,e,t.rows,i,n)}return this._ds.setJsonRows(e,t.rows,i,n)}return 0},t.prototype.$_loadXml=function(e,t){if("string"==typeof e&&(e=K_.parseXml(e)),e&&e.documentElement){var i=t.childrenField,n=t.iconField;if(t.fillMode==Z_.APPEND){var r=this._ds.rowById(t.parentId);return this._ds.appendXmlRows(r,e,t.rows,i,n)}return this._ds.setXmlRows(e,t.rows,i,n)}return 0},t.prototype.$_loadCsv=function(e,t){var i=t.start,n=t.count,r=t.quoted,o=t.delimiter,s=N_.csvToArray(this._ds,e,i,n,r,o);if(s&&(n=s.length)>0){var a=t.treeField,l=t.childrenField,u=t.iconField,c=t.needSorting;if(t.fillMode==Z_.APPEND){var h=this._ds.rowById(t.parentId);this._ds.appendDataRows(h,s,a,c,l,u)}else this._ds.setRows(s,a,c,l,u);return s.length}return 0},t.prototype.$_fillEmpty=function(e){e.fillMode===Z_.SET&&this._ds.setRows(null,null,!1,null,null)},t.prototype.$_checkEmpty=function(e,t){return!e&&(this.$_fillEmpty(t),!0)},t.prototype.$_prepareLoad=function(e){},t}(Yp);!function(e){e.EXCEL="excel",e.CSV="csv"}(Q_||(Q_={})),function(e){e.LOCAL="local",e.REMOTE="remote",e.STREAM="stream"}(eg||(eg={})),function(e){e.DEFLATE="DEFLATE",e.STORE="STORE"}(tg||(tg={}));var Mg,Lg=function(e){function t(t){var i=e.call(this,t)||this;return i.datetimeCallback=null,i.numberCallback=null,i.booleanCallback=null,i.objectCallback=null,i.textCallback=null,i.start=0,i.count=-1,i.replaceCrText=null,i.replaceLfText=null,i.seperator=null,i.assignFrom(t),i.extend(t),i}return gd(t,e),Object.defineProperty(t.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(e){e!=this._datetimeFormat&&(this._datetimeFormat=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(e){e!=this._booleanFormat&&(this._booleanFormat=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){e!=this._numberFormat&&(this._numberFormat=e)},enumerable:!1,configurable:!0}),t}(function(e){function t(t){var i=e.call(this)||this;return i._type=Q_.EXCEL,i._target=eg.LOCAL,i.url=void 0,i.done=null,i.showProgress=!1,i.prepareProgress=10,i.progressCallback=null,i.params=null,i.compression=tg.DEFLATE,i.streamFiles=!0,i.compressionLevel=6,i.coreProperties=void 0,i.assignFrom(t),i.extend(t),i}return gd(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){e&&Bp.valueIn(e,Q_)&&(this._type=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(e){e&&Bp.valueIn(e,eg)&&(this._target=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zip",{get:function(){return this._zip},set:function(e){this._zip=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressMessage",{get:function(){return this._progressMessage||r_.messages.exportProgressMessage},set:function(e){this._progressMessage=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileName",{get:function(){if(this._fileName){if(this._fileName.indexOf(".")<0){var e=this.type===Q_.CSV?".csv":".xlsx";return this._fileName+e}return this._fileName}return this.type===Q_.CSV?"realgrid.csv":"realgrid.xlsx"},set:function(e){e!=this._fileName&&(this._fileName=e?e.trim():null)},enumerable:!1,configurable:!0}),t}(Yp)),Ag=function(){function e(){}return e.prototype.dispose=function(){return null},e.prototype.saveLocal=function(e,t,i){var n=Np(i),r=t instanceof Blob?t:new Blob([t],{type:"text/csv charset=UTF-8"});if(n.navigator.msSaveOrOpenBlob)n.navigator.msSaveOrOpenBlob(r,e);else if(n.navigator.msSaveOrOpenBlob)n.navigator.msSaveOrOpenBlob(r,e);else{var o=i.createElement("a");i.body.appendChild(o);var s=window.URL.createObjectURL(r);o.href=s,o.download=e,o.click(),setTimeout(function(){i.body.removeChild(o)},100)}},e.prototype.saveServer=function(e,t,i,n,r){var o='<form name="tempForm" action="'+i+'" method="post">';if(o+='<input type="hidden" name="fileName" value = "'+e+'"/>',o+='<input type="hidden" name="data" value = "'+t+'"/>',o+='<input id="submitBtn" type="submit"/>',r)for(var s in r)o+='<input type="hidden" name="'+s+'" value = "'+r[s]+'"/>';o+="</form>";var a=n.createElement("div");a.innerHTML=o,n.body.appendChild(a),n.getElementById("submitBtn").click(),setTimeout(function(){n.body.removeChild(a)},100)},e}(),Fg=function(e){function t(t){var i=e.call(this,t)||this;return i.exportFields=null,i.hideFields=null,i.includeFieldNames=!1,i.extend(t),i}return gd(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return Q_.CSV},enumerable:!1,configurable:!0}),t}(Lg),$g=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype.dispose=function(){return e.prototype.dispose.call(this),null},t.prototype.export=function(e,t){this._dataSource=e,this._exportOptions=t instanceof Fg?t:new Fg(t),this._exportFields=this.$_prepareFields(e,t.exportFields,t.hideFields),this._rows=[],e instanceof Tg?this.$_buildTreeBook(function(){this.save()}):e instanceof Y_&&this.$_buildBook(function(){this.save()})},t.prototype.$_prepareFields=function(e,t,i){var n=e.getFields();return t?t.map(function(t){return e.fieldByName(t)}).filter(function(e){return e}):i?n.filter(function(e){return i.indexOf(e.orgFieldName)<0}):n},t.prototype.addQuatation=function(e,t){return Bp.addQuatation(e,t===vd.TEXT,this._exportOptions.replaceLfText,this._exportOptions.replaceCrText)},t.prototype.$_buildFieldName=function(){return this._exportFields.map(function(e){return e.orgFieldName}).join(this._exportOptions.seperator||",")},t.prototype.$_buildBook=function(e){var t=this._exportOptions,i=this._dataSource.rowCount,n=Math.max(0,t.start),r=-1==t.count?i:Math.min(Math.max(t.count,0),i),o=Math.min(i,n+r);t.includeFieldNames&&this._rows.push(this.$_buildFieldName());for(var s=n;s<o;s++)this._rows.push(this.$_buildItem(s));if(t.target===eg.STREAM){var a=this._rows.join("\n");t.done&&"function"==typeof t.done&&t.done(a)}else t.done&&"function"==typeof t.done&&t.done(),e.call(this)},t.prototype.$_buildTreeBook=function(e){for(var t=this._exportOptions,i=this._dataSource.getDescendants(null,0),n=0;n<i.length;n++)this._rows.push(this.$_buildItem(i[n]));if(t.target===eg.STREAM){var r=this._rows.join("\n");t.done&&"function"==typeof t.done&&t.done(r)}else t.done&&"function"==typeof t.done&&t.done(),e.call(this)},t.prototype.$_buildItem=function(e){var t,i,n,r=this._dataSource,o=this._exportFields;r instanceof Tg?(i=e?e.values:[],n=e.rowId):(i=r.getRow(e),n=e);for(var s,a,l=[],u=o.length,c=this._exportOptions,h=c.seperator,d=0;d<u;d++){if(a=void 0,t=o[d])switch(s=i[t.index],t.dataType){case vd.NUMBER:a=isNaN(s)||null==s?"":c.numberCallback?null!=(a=c.numberCallback(n,t.orgFieldName,s,r.$_handler))?String(a):a:c.numberFormat?a_.getFormatter(c.numberFormat).getText(s):String(s);break;case vd.BOOLEAN:null!=s&&(c.booleanCallback?s=null!=(s=c.booleanCallback(n,t.orgFieldName,s,r.$_handler))?String(s):s:c.booleanFormat&&(s=n_.getFormatter(c.booleanFormat).formatValue(s)),a=String(s));break;case vd.DATE:case vd.DATETIME:s&&(a=c.datetimeCallback?(s=c.datetimeCallback(n,t.orgFieldName,s,r.$_handler))instanceof Date?i_.Default.getText(s):s:c.datetimeFormat?i_.getFormatter(c.datetimeFormat).getText(s):i_.Default.getText(s));break;case vd.OBJECT:s&&(a="object"==typeof(s=c.objectCallback?c.objectCallback(n,t.orgFieldName,s,r.$_handler):s)?JSON.stringify(s):String(s));break;default:a=null!=(s=c.textCallback?c.textCallback(n,t.orgFieldName,s,r.$_handler):s)?String(s):""}l[l.length]=this.addQuatation(a,t&&t.dataType)}return l.join(h||",")},t.prototype.save=function(){var e=this._exportOptions,t=e.fileName,i="\ufeff"+this._rows.join("\n");e.target==eg.LOCAL?this.saveLocal(t,i,document):this.saveServer(t,Vp.encode(i),e.url,document,e.params)},t}(Ag),Ng=function(){function e(){}return e.getFieldIndex=function(e,t){return"string"==typeof t?e.getFieldIndex(t):t},e.fillData=function(e,t,i,n){var r=new ng(e);try{r.load(t,i,n)}finally{r.dispose()}},e.fillTreeData=function(e,t,i,n){var r=new Dg(e);try{r.load(t,i,n)}finally{r.dispose()}},e.extractTreeRows=function(e){if(e){for(var t=e.length,i=new Array(t),n=0;n<t;n++)i[n]=e[n].rowId;return i}return null},e}(),jg=function(){},Bg=function(){function e(e){this._dp=this._createProvider(e),this._listener=this._createListener(this._dp)}return e.prototype.dispose=function(){return this._dp.dispose(),this._dp=null},Object.defineProperty(e.prototype,"subTypeEnabled",{get:function(){return this._dp.subTypeEnabled},set:function(e){this._dp.subTypeEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"undoable",{get:function(){return this._dp.undoable},set:function(e){this._dp.undoable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"insertable",{get:function(){return this._dp.insertable},set:function(e){this._dp.insertable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updatable",{get:function(){return this._dp.updatable},set:function(e){this._dp.updatable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deletable",{get:function(){return this._dp.deletable},set:function(e){this._dp.deletable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"softDeleting",{get:function(){return this._dp.softDeleting},set:function(e){this._dp.softDeleting=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deleteCreated",{get:function(){return this._dp.deleteCreated},set:function(e){this._dp.deleteCreated=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checkStates",{get:function(){return this._dp.checkStates},set:function(e){this._dp.checkStates=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restoreMode",{get:function(){return this._dp.restoreMode},set:function(e){this._dp.restoreMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strictRestore",{get:function(){return this._dp.strictRestore},set:function(e){this._dp.strictRestore=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"booleanFormat",{get:function(){return this._dp.booleanFormat},set:function(e){this._dp.booleanFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"datetimeFormat",{get:function(){return this._dp.datetimeFormat},set:function(e){this._dp.datetimeFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseYear",{get:function(){return this._dp.baseYear},set:function(e){this._dp.baseYear=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amText",{get:function(){return this._dp.amText},set:function(e){this._dp.amText=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pmText",{get:function(){return this._dp.pmText},set:function(e){this._dp.pmText=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commitBeforeDataEdit",{get:function(){return this._dp.commitBeforeDataEdit},set:function(e){this._dp.commitBeforeDataEdit=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valuesCallback",{get:function(){return this._dp.valuesCallback},set:function(e){this._dp.valuesCallback=e},enumerable:!1,configurable:!0}),e.prototype.getOptions=function(){var e=this._dp;return{subTypeEnabled:e.subTypeEnabled,undoable:e.undoable,insertable:e.insertable,updatable:e.updatable,deletable:e.deletable,softDeleting:e.softDeleting,deleteCreated:e.deleteCreated,checkStates:e.checkStates,restoreMode:e.restoreMode.toString(),strictRestore:e.strictRestore,booleanFormat:e.booleanFormat,datetimeFormat:e.datetimeFormat,baseYear:e.baseYear,amText:e.amText,pmText:e.pmText,commitBeforeDataEdit:e.commitBeforeDataEdit}},e.prototype.setOptions=function(e){this._dp.assignFrom(e)},e.prototype.beginUpdate=function(){this._dp.beginUpdate()},e.prototype.endUpdate=function(e){void 0===e&&(e=!0),this._dp.endUpdate(e)},e.prototype.getFields=function(){return this._dp.getFields()},e.prototype.setFields=function(e){Bp.isArray(e)&&this._dp.setFields(e)},e.prototype.addField=function(e,t,i){return this._dp.addField(e,t,i)},e.prototype.removeField=function(e,t){void 0===t&&(t=!0),this._dp.removeField(e,t)},e.prototype.getFieldCount=function(){return this._dp.fieldCount},e.prototype.fieldByName=function(e){return this._dp.fieldByName(e)},e.prototype.getFieldNames=function(){return this._dp.getFieldNames()},e.prototype.getOrgFieldNames=function(){return this._dp.getOrgFieldNames()},e.prototype.getFieldName=function(e){return this._dp.getFieldName(e)},e.prototype.getOrgFieldName=function(e){return this._dp.getOrgFieldName(e)},e.prototype.getFieldIndex=function(e){return this._dp.getFieldIndex(e)},e.prototype.hasData=function(e){return this._dp.hasData(e)},e.prototype.getValues=function(e){return this._dp.getRow(e)},e.prototype.checkRowStates=function(e){this._dp.checkStates=e},e.prototype.getRowState=function(e){return this._dp.getRowState(e)},e.prototype.getStateRows=function(e){return void 0===e&&(e=jp.NONE),this._dp.getStateRows(e)},e.prototype.getAllStateRows=function(){return this._dp.getAllStateRows()},e.prototype.clearRowStates=function(e,t){void 0===t&&(t=!1),this._dp.clearRowStates(e,t)},e.prototype.setRowState=function(e,t,i){void 0===t&&(t=jp.NONE),void 0===i&&(i=!1),this._dp.setRowState(e,t,i)},e.prototype.setRowStates=function(e,t,i,n){void 0===t&&(t=jp.NONE),void 0===i&&(i=!1),void 0===n&&(n=!1),this._dp.setRowStates(e,t,i,n)},e.prototype.getRowStateCount=function(e){if(!e)return 0;var t=[];if("*"==e||"all"==e)t.push(jp.CREATED,jp.UPDATED,jp.DELETED,jp.CREATE_AND_DELETED);else for(var i=Array.isArray(e)?e:[e],n=0,r=i.length;n<r;n++)t.push(i[n]);return t.length>0?this._dp.getRowStateCount(t):void 0},e.prototype.restoreUpdatedStates=function(e){return this._dp.restoreUpdatedStates(e)},e.prototype.restoreUpdatedRows=function(e){return this._dp.restoreUpdatedRows(Bp.makeArray(e))},e.prototype.getUpdatedCells=function(e){return this._dp.getUpdatedCells(e)},e.prototype.getDistinctValues=function(e,t,i){void 0===t&&(t=-1),void 0===i&&(i=bd.ASCENDING);var n=i||bd.ASCENDING,r="string"==typeof e?this._dp.getFieldIndex(e):e;return this._dp.getDistinctValues(r,t,n)},e.prototype.savePoint=function(e){return void 0===e&&(e=!0),this._dp.savePoint(e)},e.prototype.rollback=function(e){void 0===e&&(e=0),this._dp.rollback(e)},e.prototype.clearSavePoints=function(){this._dp.clearSavePoints()},e.prototype.getSavePoints=function(){return this._dp.getSavePoints()},e.prototype.setDataComparer=function(e,t){var i="string"==typeof e?this._dp.getFieldIndex(e):e;this._dp.setDataComparer(i,t)},e.prototype.exportToCsv=function(e){(new $g).export(this._dp,e)},e.prototype.destroy=function(){return this.dispose()},e.prototype.undo=function(){this._dp.undo()},e.prototype.redo=function(){this._dp.redo()},e.prototype.clearCommandStack=function(){this._dp.clearCommandStack()},e.prototype.getDataRowId=function(e){return this._dp.getRowId(e)},e.prototype.getProvider=function(){return this._dp},e}(),Vg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onRowCountChanged=null,t.onRowUpdating=null,t.onRowUpdated=null,t.onRowsUpdated=null,t.onRowListUpdated=null,t.onRowInserting=null,t.onRowInserted=null,t.onRowsInserted=null,t.onRowDeleting=null,t.onRowDeleted=null,t.onRowsDeleted=null,t.onRowMoving=null,t.onRowMoved=null,t.onRowsMoving=null,t.onRowsMoved=null,t.onRowListMoving=null,t.onRowListMoved=null,t.onValueChanged=null,t.onDataChanged=null,t.onRowStateChanged=null,t.onRowStatesChanged=null,t.onRowStatesCleared=null,t.onRestoreRows=null,t}return gd(t,e),Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._dp.rowCount},set:function(e){this._dp.setRowCount(e)},enumerable:!1,configurable:!0}),t.prototype.getRowCount=function(){return this._dp.rowCount},t.prototype.setRowCount=function(e,t,i,n){return void 0===t&&(t=!1),void 0===i&&(i=null),void 0===n&&(n=jp.NONE),this._dp.setRowCount(e,t,i,n)},t.prototype.setFilterMode=function(e){void 0===e&&(e="and"),this._dp.setFilterMode(e)},t.prototype.setFilters=function(e,t){void 0===t&&(t="and"),this._dp.setFilters(e,t)},t.prototype.fillJsonData=function(e,t){var i=t instanceof ig?t:new ig(t);Ng.fillData(this._dp,"json",e,i)},t.prototype.fillXmlData=function(e,t){var i=t instanceof ig?t:new ig(t);Ng.fillData(this._dp,"xml",e,i)},t.prototype.fillCsvData=function(e,t){var i=t instanceof ig?t:new ig(t);Ng.fillData(this._dp,"csv",e,i)},t.prototype.setRows=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=-1),this._dp.setRows(e,t,i)},t.prototype.addRows=function(e,t,i,n){void 0===t&&(t=0),void 0===i&&(i=-1),void 0===n&&(n=!1),this._dp.appendRows(e,t,i,n)},t.prototype.insertRows=function(e,t,i,n,r){void 0===i&&(i=0),void 0===n&&(n=-1),void 0===r&&(r=!1),this._dp.insertRows(e,t,i,n,r)},t.prototype.updateRows=function(e,t,i,n,r,o){void 0===i&&(i=0),void 0===n&&(n=-1),void 0===r&&(r=!1),void 0===o&&(o=!1),this._dp.updateRows(e,t,i,n,r,o)},t.prototype.updateRowsByDataRow=function(e,t,i){this._dp.updateRows2(e,t,i)},t.prototype.clearRows=function(){this._dp.clearRows()},t.prototype.updateRow=function(e,t,i){void 0===i&&(i=!1),this._dp.updateRow(e,t,i)},t.prototype.hideRows=function(e){this._dp.hideRows(e)},t.prototype.showHiddenRows=function(e){this._dp.showRows(e)},t.prototype.getHiddenRows=function(){return this._dp.getHiddenRows()},t.prototype.isHiddenRow=function(e){return this._dp.isHiddenRow(e)},t.prototype.resetHiddenRows=function(){this._dp.clearHiddenRows()},t.prototype.addRow=function(e){return this._dp.appendRow(e)},t.prototype.insertRow=function(e,t){return this._dp.insertRow(e,t)},t.prototype.removeRow=function(e){this._dp.removeRow(e)},t.prototype.removeRows=function(e,t){void 0===t&&(t=!1),this._dp.removeRows(e,t)},t.prototype.moveRow=function(e,t){this._dp.moveRow(e,t)},t.prototype.moveRows=function(e,t,i){this._dp.moveRows(e,t,i)},t.prototype.getValue=function(e,t){var i=Ng.getFieldIndex(this._dp,t);return this._dp.getValue(e,i)},t.prototype.setValue=function(e,t,i){var n=Ng.getFieldIndex(this._dp,t);this._dp.setValue(e,n,i)},t.prototype.getRows=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=-1),this._dp.getRows(e,t)},t.prototype.getJsonRow=function(e,t){return this._dp.getRowObject(e,t)},t.prototype.getJsonRows=function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=-1),void 0===i&&(i=!1),this._dp.getRowObjects(e,t,i)},t.prototype.getOutputRow=function(e,t){return this._dp.getOutputObject(e,t)},t.prototype.getOutputRows=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=-1),this._dp.getOutputObjects(e,t,i)},t.prototype.getFieldValues=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=-1);var n=Ng.getFieldIndex(this._dp,e);return this._dp.getFieldValues(n,t,i)},t.prototype.searchDataRow=function(e){return e?this._dp.searchDataRow(e):-1},t.prototype.searchData=function(e){return e?this._dp.searchData(e):null},t.prototype._createProvider=function(e){return new Y_(e,this)},t.prototype._createListener=function(e){return new Ug(this,e)},t}(Bg),Hg=function(e){function t(t){void 0===t&&(t=!1);var i=e.call(this,t)||this;return i.onRowCountChanged=null,i.onRowAdding=null,i.onRowAdded=null,i.onRowsAdded=null,i.onRowDeleting=null,i.onRowDeleted=null,i.onRowsDeleted=null,i.onRowUpdating=null,i.onRowUpdated=null,i.onRowsUpdating=null,i.onRowsUpdated=null,i.onValueChanged=null,i.onDataChanged=null,i.onRowStateChanged=null,i.onRowStatesChanged=null,i.onRowSiblingMoving=null,i.onRowSiblingMoved=null,i.onRowsSiblingMoving=null,i.onRowsSiblingMoved=null,i.onRowParentChanging=null,i.onRowParentChanged=null,i}return gd(t,e),t.prototype.getRowCount=function(){return this._dp.rowCount},t.prototype.setRows=function(e,t,i,n,r){void 0===i&&(i=!1),this._dp.setRows(e,t,i,n,r)},t.prototype.setCsvRows=function(e,t,i,n,r){this._dp.setCsvRows(e,t,i,n,r)},t.prototype.setXmlRows=function(e,t,i,n){this._dp.setXmlRows(e,t,i,n)},t.prototype.setObjectRows=function(e,t,i,n){this._dp.setJsonRows(e,t,i,n)},t.prototype.setNestedRows=function(e,t,i,n,r){this._dp.setJsonRows2(e,t,i,n,r)},t.prototype.fillJsonData=function(e,t){var i=new ig(t);try{Ng.fillTreeData(this._dp,"json",e,i)}finally{i.dispose(),i=null}},t.prototype.fillXmlData=function(e,t){var i=new ig(t);try{Ng.fillTreeData(this._dp,"xml",e,i)}finally{i.dispose(),i=null}},t.prototype.fillCsvData=function(e,t){var i=new ig(t);try{Ng.fillTreeData(this._dp,"csv",e,i)}finally{i.dispose(),i=null}},t.prototype.getIconIndex=function(e){return this._dp.rowById(e).iconIndex},t.prototype.setIconIndex=function(e,t){this._dp.rowById(e).iconIndex=t},t.prototype.getParent=function(e){var t=this._dp.rowById(e);return t&&t.parent?t.parent.rowId:-1},t.prototype.getLevel=function(e){return this._dp.rowById(e).level},t.prototype.getChildCount=function(e){var t=this._dp;if(null==e||-1==e)return t.getChildCount(null);var i=t.rowById(e);return i&&i.children?i.children.length:0},t.prototype.getChildren=function(e){var t,i=this._dp;return t=null==e||-1==e?i.getRows(null):i.rowById(e).children,Ng.extractTreeRows(t)},t.prototype.getDescendantCount=function(e){var t=this._dp;return null==e||-1==e?t.getDescendantCount(null):t.rowById(e).descendantCount},t.prototype.getDescendants=function(e,t){void 0===t&&(t=-1);var i=null,n=this._dp;null!=e&&-1!=e&&(i=n.rowById(e));var r=n.getDescendants(i,t);return Ng.extractTreeRows(r)},t.prototype.getAncestors=function(e){var t=this._dp.rowById(e);return t&&t.ancestors?Ng.extractTreeRows(t.ancestors):null},t.prototype.getJsonRow=function(e,t,i,n,r,o){void 0===n&&(n="rows"),void 0===r&&(r="iconIndex"),void 0===o&&(o=-1);var s=this._dp,a=null==e||e<0?s.rootRow:s.rowById(e);if(a){var l=a.getObject()||{};return t&&(l.__rowState=a.rowState),i&&0!==o&&(l[n]=a.getChildObjects(i,n,r,!1,t,o-1)),l}return null},t.prototype.getJsonRows=function(e,t,i,n,r){void 0===t&&(t=!1),void 0===i&&(i="rows"),void 0===n&&(n="iconIndex");var o=this._dp,s=null==e||e<=-1?o.rootRow:o.rowById(e);return s?s.getChildObjects(t,i,n,!0,r):null},t.prototype.getOutputRow=function(e,t,i){void 0===i&&(i="iconIndex");var n,r=new l_(e);try{var o=this._dp,s=null==t||t<0?o.rootRow:o.rowById(t);n=s?s.getOutput(r,i):null}finally{r.dispose()}return n},t.prototype.getOutputRows=function(e,t,i,n,r){void 0===i&&(i=!1),void 0===n&&(n="rows"),void 0===r&&(r="iconIndex");var o,s=new l_(e);try{var a=this._dp,l=null==t||t<=-1?a.rootRow:a.rowById(t);o=l?l.getChildOutputObjects(s,i,n,r):null}finally{s.dispose()}return o},t.prototype.addChildRow=function(e,t,i,n){void 0===i&&(i=-1),void 0===n&&(n=!1);var r=this._dp,o=r.rowById(e)||r.rootRow,s=r.createRow(t,i,n);return o.addChild(s,!1)?s.rowId:-1},t.prototype.insertChildRow=function(e,t,i,n,r){void 0===n&&(n=-1),void 0===r&&(r=!1);var o=this._dp,s=o.rowById(e)||o.rootRow,a=o.createRow(i,n,r);return s.insertChild(t,a,!1)?a.rowId:-1},t.prototype.insertChildNode=function(e,t,i,n,r,o){void 0===n&&(n="rows"),void 0===r&&(r="iconField"),void 0===o&&(o=!1);var s=this._dp,a=null==e||e<0?s.rootRow:s.rowById(e);if(a)return s.insertChildNode(a,t,i,n,r,o)},t.prototype.updateRow=function(e,t,i){var n=this._dp.rowById(e);return!!n&&n.update(t,i)},t.prototype.updateRows=function(e,t,i){this._dp.updateRows(e,t,i)},t.prototype.removeRow=function(e,t){var i=this._dp.rowById(e);return!(!i||!i.parent)&&i.parent.removeChild(i,t)},t.prototype.removeRows=function(e,t){return!!(e&&e.length>0)&&this._dp.removeRows(e,t)},t.prototype.clearRows=function(){this._dp.clearRows()},t.prototype.hideRows=function(e){this._dp.hideRows(e)},t.prototype.showHiddenRows=function(e){this._dp.showRows(e)},t.prototype.getHiddenRows=function(){return this._dp.getHiddenRows()},t.prototype.isHiddenRow=function(e){return this._dp.isHiddenRow(e)},t.prototype.resetHiddenRows=function(){this._dp.clearHiddenRows()},t.prototype.getValue=function(e,t){var i=this._dp,n=i.rowById(e),r=Ng.getFieldIndex(i,t);return n?n.getValue(r):null},t.prototype.setValue=function(e,t,i){var n=this._dp,r=n.rowById(e),o=Ng.getFieldIndex(n,t);r&&r.setValue(o,i,!1)},t.prototype.moveRowSibling=function(e,t){var i=this._dp,n=i.rowById(e);return!!n&&i.changeRowIndex(n,t)},t.prototype.changeRowParent=function(e,t,i){var n=this._dp,r=n.rowById(e),o=t<0?n.rootRow:n.rowById(t);return!(!r||!o)&&n.changeRowParent(r,o,i)},t.prototype.searchDataRow=function(e){return e?this._dp.searchDataRow(e,e.parentId):-1},t.prototype.searchData=function(e){return e?this._dp.searchData(e,e.parentId):null},t.prototype._createProvider=function(e){return new Tg(e,this)},t.prototype._createListener=function(e){return new Wg(this,e)},t}(Bg),Ug=function(e){function t(t,i){var n=e.call(this)||this;return n._del=t,n._provider=i,n._provider.addListener(n),n}return gd(t,e),t.prototype.dispose=function(){return this._del=null,this._provider.removeListener(this),this._provider=null},t.prototype.onDataProviderRowCountChanged=function(e){this._del.onRowCountChanged?this._del.onRowCountChanged(this._del,e.rowCount):Bp.log("onRowCountChanged: "+e.rowCount)},t.prototype.onDataProviderRowUpdating=function(e,t,i,n){return this._del.onRowUpdating?this._del.onRowUpdating(this._del,t,n,i):(Bp.log("onRowUpdating: "+t),!0)},t.prototype.onDataProviderRowUpdated=function(e,t){this._del.onRowUpdated?this._del.onRowUpdated(this._del,t):Bp.log("onRowUpdated: "+t)},t.prototype.onDataProviderRowsUpdated=function(e,t,i){this._del.onRowsUpdated?this._del.onRowsUpdated(this._del,t,i):Bp.log("onRowsUpdated: "+t+", "+i)},t.prototype.onDataProviderRowListUpdated=function(e,t){this._del.onRowListUpdated?this._del.onRowListUpdated(this._del,t):Bp.log("onRowListUpdated: "+t)},t.prototype.onDataProviderRowInserting=function(e,t,i){return this._del.onRowInserting?this._del.onRowInserting(this._del,t,i):(Bp.log("onRowInserting: "+t),!0)},t.prototype.onDataProviderRowInserted=function(e,t){this._del.onRowInserted?this._del.onRowInserted(this._del,t):Bp.log("onRowInserted: "+t)},t.prototype.onDataProviderRowsInserted=function(e,t,i){this._del.onRowsInserted?this._del.onRowsInserted(this._del,t,i):Bp.log("onRowsInserted: "+t+", "+i)},t.prototype.onDataProviderRowRemoving=function(e,t){return this._del.onRowDeleting?this._del.onRowDeleting(this._del,t):(Bp.log("onRowDeleting: "+t),!0)},t.prototype.onDataProviderRowRemoved=function(e,t){this._del.onRowDeleted?this._del.onRowDeleted(this._del,t):Bp.log("onRowDeleted: "+t)},t.prototype.onDataProviderRowsRemoving=function(e,t){return!0},t.prototype.onDataProviderRowsRemoved=function(e,t){this._del.onRowsDeleted?this._del.onRowsDeleted(this._del,t):Bp.log("onRowsDeleted: ",t)},t.prototype.onDataProviderRowMoving=function(e,t,i){return this._del.onRowMoving?this._del.onRowMoving(this._del,t,i):(Bp.log("onRowMoving: "+t+", "+i),!0)},t.prototype.onDataProviderRowMoved=function(e,t,i){this._del.onRowMoved?this._del.onRowMoved(this._del,t,i):Bp.log("onRowMoved: "+t+", "+i)},t.prototype.onDataProviderRowsMoving=function(e,t,i,n){return this._del.onRowsMoving?this._del.onRowsMoving(this._del,t,i,n):(Bp.log("onRowsMoving: "+t+", "+i+", "+n),!0)},t.prototype.onDataProviderRowsMoved=function(e,t,i,n){this._del.onRowsMoved?this._del.onRowsMoved(this._del,t,i,n):Bp.log("onRowsMoved: "+t+", "+i+", "+n)},t.prototype.onDataProviderRowListMoving=function(e,t,i){return this._del.onRowListMoving?this._del.onRowListMoving(this._del,t,i):(Bp.log("onRowListMoving: ",t,", ",i),!0)},t.prototype.onDataProviderRowListMoved=function(e,t,i){this._del.onRowListMoved?this._del.onRowListMoved(this._del,t,i):Bp.log("onRowListMoved: ",t,i)},t.prototype.onDataProviderValueChanged=function(e,t,i){this._del.onValueChanged?this._del.onValueChanged(this._del,t,i):Bp.log("onValueChanged:"+t+", "+i)},t.prototype.onDataProviderDataChanged=function(e){this._del.onDataChanged?this._del.onDataChanged(this._del):Bp.log("onDataChanged")},t.prototype.onDataProviderStateChanged=function(e,t){this._del.onRowStateChanged?this._del.onRowStateChanged(this._del,t):Bp.log("onRowStateChanged: "+t)},t.prototype.onDataProviderStatesChanged=function(e,t){this._del.onRowStatesChanged?this._del.onRowStatesChanged(this._del,t):Bp.log("onRowStatesChanged",t)},t.prototype.onDataProviderStatesCleared=function(e){this._del.onRowStatesCleared?this._del.onRowStatesCleared(this._del):Bp.log("onRowStatesCleared")},t.prototype.onDataProviderRestoreRows=function(e,t){this._del.onRestoreRows?this._del.onRestoreRows(this._del,t):Bp.log("onRestoreRows",t)},t}(jg),Wg=function(e){function t(t,i){var n=e.call(this)||this;return n._del=t,n._provider=i,n._provider.addListener(n),n}return gd(t,e),t.prototype.dispose=function(){return this._del=null,this._provider.removeListener(this),this._provider=null},t.prototype.onTreeDataProviderRowCountChanged=function(e){this._del.onRowCountChanged?this._del.onRowCountChanged(this._del,e.rowCount):Bp.log("onRowCountChanged: "+e.rowCount)},t.prototype.onTreeDataProviderRowAdding=function(e,t,i,n){return this._del.onRowAdding?this._del.onRowAdding(this._del,t.rowId,i,n._values):(Bp.log("onRowAdding: "+t.rowId+", "+i,n._values),!0)},t.prototype.onTreeDataProviderRowAdded=function(e,t){this._del.onRowAdded?this._del.onRowAdded(this._del,t.rowId):Bp.log("onRowAdded: "+t.rowId)},t.prototype.onTreeDataProviderRowsAdded=function(e,t,i){var n=Ng.extractTreeRows(i);this._del.onRowsAdded?this._del.onRowsAdded(this._del,t.rowId,n):Bp.log("onRowsAdded: "+t.rowId,n)},t.prototype.onTreeDataProviderRowRemoving=function(e,t){return this._del.onRowDeleting?this._del.onRowDeleting(this._del,t.rowId):(Bp.log("onRowDeleting: "+t.rowId),!0)},t.prototype.onTreeDataProviderRowRemoved=function(e,t){this._del.onRowDeleted?this._del.onRowDeleted(this._del,t.rowId):Bp.log("onRowDeleted: "+t.rowId)},t.prototype.onTreeDataProviderRowsRemoved=function(e,t){var i=Ng.extractTreeRows(t);this._del.onRowsDeleted?this._del.onRowsDeleted(this._del,i):Bp.log("onRowsDeleted: ",i)},t.prototype.onTreeDataProviderRowUpdating=function(e,t,i,n){return this._del.onRowUpdating?this._del.onRowUpdating(this._del,t.rowId,n,i):(Bp.log("onRowUpdating:"+t.rowId),!0)},t.prototype.onTreeDataProviderRowUpdated=function(e,t){this._del.onRowUpdated?this._del.onRowUpdated(this._del,t.rowId):Bp.log("onRowUpdated: "+t.rowId)},t.prototype.onTreeDataProviderRowsUpdating=function(e,t){return this._del.onRowsUpdating?this._del.onRowsUpdating(this._del,_g.getRowIds(t)):(Bp.log("onRowUpdating:"+t.length),!0)},t.prototype.onTreeDataProviderRowsUpdated=function(e,t){this._del.onRowsUpdated?this._del.onRowsUpdated(this._del,_g.getRowIds(t)):Bp.log("onRowsUpdated: "+t.length)},t.prototype.onTreeDataProviderValueChanged=function(e,t,i){this._del.onValueChanged?this._del.onValueChanged(this._del,t.rowId,i):Bp.log("onValueChanged: "+t.rowId+", "+i)},t.prototype.onTreeDataProviderRowStateChanged=function(e,t){this._del.onRowStateChanged?this._del.onRowStateChanged(this._del,t.rowId):Bp.log("onRowStateChanged: "+t.rowId)},t.prototype.onTreeDataProviderRowStatesChanged=function(e,t){var i=Ng.extractTreeRows(t);this._del.onRowStatesChanged?this._del.onRowStatesChanged(this._del,i):Bp.log("onRowStatesChanged: ",i)},t.prototype.onTreeDataProviderRowSiblingMoving=function(e,t,i){return this._del.onRowSiblingMoving?this._del.onRowSiblingMoving(this._del,t.rowId,i):(Bp.log("onRowSiblingMoveing: "+t.rowId+", "+i),!0)},t.prototype.onTreeDataProviderRowSiblingMoved=function(e,t,i){this._del.onRowSiblingMoved?this._del.onRowSiblingMoved(this._del,t.rowId,i):Bp.log("onSiblingMoved: "+t.rowId+", "+i)},t.prototype.onTreeDataProviderRowsSiblingMoving=function(e,t,i){return this._del.onRowsSiblingMoving?this._del.onRowsSiblingMoving(this._del,_g.getRowIds(t),i):(Bp.log("onRowSiblingMoveing: ",t,i),!0)},t.prototype.onTreeDataProviderRowsSiblingMoved=function(e,t,i){this._del.onRowsSiblingMoved?this._del.onRowsSiblingMoved(this._del,_g.getRowIds(t),i):Bp.log("onSiblingMoved: ",t,i)},t.prototype.onTreeDataProviderRowParentChanging=function(e,t,i,n){if(this._del.onRowParentChanging)return this._del.onRowParentChanging(this._del,t.rowId,i.rowId,n);Bp.log("onRowParentChanging: "+t.rowId+", "+i.rowId+", "+n)},t.prototype.onTreeDataProviderRowParentChanged=function(e,t,i,n){this._del.onRowParentChanged?this._del.onRowParentChanged(this._del,t.rowId,i.rowId,n):Bp.log("onRowParentChanged: "+t.rowId+", "+i.rowId+", "+n)},t}(jg),Gg=function(){function e(e){this.field=e,this.count=0,this.sum=NaN,this.max=NaN,this.min=NaN,this.avg=NaN,this.vars=NaN,this.varsp=NaN,this.dataCount=0,this.dataAvg=NaN}return e.prototype.clear=function(){this.count=this.dataCount=0,this.sum=this.dataAvg=this.max=this.min=this.avg=this.vars=this.varsp=NaN},e}(),zg=65536,Yg=131072,qg=196608,Kg=4294705152;!function(e){e.NORMAL="normal",e.FOCUSED="focused",e.UPDATING="updating",e.INSERTING="inserting",e.APPENDING="appending",e.DUMMY="dummy"}(Mg||(Mg={}));var Xg=function(e){return e==Mg.UPDATING||e==Mg.INSERTING||e==Mg.APPENDING},Zg=function(e){return e==Mg.INSERTING||e==Mg.APPENDING},Jg=function(e,t){return e==Mg.INSERTING||e==Mg.APPENDING||t==jp.CREATED},Qg=function(){function e(){}return e.prototype.clear=function(){return this.styleName=this.readOnly=this.editable=this.style=void 0,this},e.prototype.assign=function(e){"string"==typeof e?this.styleName=e:(null!=e.readOnly&&(this.readOnly=e.readOnly),null!=e.editable&&(this.editable=e.editable),null!=e.styleName&&(this.styleName=e.styleName.trim()),null!=e.style&&(this.style=e.style),null!=e.exportStyleName&&(this.exportStyleName=e.exportStyleName))},e}(),em=function(){function e(){this._id=e.$$_grid_item_id++,this._index=-1}return e.prototype.dispose=function(){this._parent=null},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemIndex",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentIndex",{get:function(){return this._parent?this._parent._index:-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this._parent;e&&e.level>1;)e=e._parent;return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childIndex",{get:function(){return this._parent?this._parent.indexOf(this):-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._parent?this._parent.level+1:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isData",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDataRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._parent&&this._index>=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayLevel",{get:function(){return this.level},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"provider",{get:function(){return this._parent&&this._parent.provider},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._parent&&this._parent.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataRow",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataId",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataRowId",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rowState",{get:function(){var e=this.dataRow;if(e>=0){var t=this.dataSource;return t?t.getRowState(e):jp.NONE}return jp.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemState",{get:function(){return Mg.NORMAL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"indeterminate",{get:function(){return!!(2&this._getExtents())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){var e=!!(1&this._getExtents());return this.provider.getItemChecked(this,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checkable",{get:function(){return!(4&this._getExtents())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resizable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"merged",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var e=this._getExtents();return e&qg?(e&Kg)>>>18:NaN},enumerable:!1,configurable:!0}),e.prototype.$_setHeight=function(e,t){var i=this._getExtents();if(e=Math.round(e),isNaN(e)){if(i&qg)return this._setExtents(-196609&i),!0}else{if(e!=(i&Kg)>>>18)return e=Math.max(0,Math.min(53247,e))<<18,i=t?-196609&i|Yg:-196609&i|zg,this._setExtents(262143&i|e),!0;if(t){if(0==(i&Yg))return i=-196609&i|Yg,this._setExtents(i),!0}else if(0==(i&zg))return i=-196609&i|zg,this._setExtents(i),!0}},e.prototype.$_clearHeight=function(e){e?this._setExtents(-196609&this._getExtents()):this._setExtents(-65537&this._getExtents()),this.heights=null,0==this.index&&Bp.log("HEIGHT",this.height)},Object.defineProperty(e.prototype,"heights",{get:function(){return this._heights},set:function(e){this._heights=e},enumerable:!1,configurable:!0}),e.prototype.getShadowRow=function(){return this.dataRow},e.prototype.getHeight=function(e){return this._heights[e]},e.prototype.setChecked=function(e,t){var i=this.provider;i&&i.checkItem(this,e,void 0,t)},e.prototype.setCheckable=function(e){var t=this.provider;t&&t.setCheckable(this,e)},e.prototype.getAncestor=function(e){if(e<this.level){for(var t=this._parent;t.level>e;)t=t._parent;return t}return this instanceof im?this:null},e.prototype.getVisibleAncestor=function(){var e=this._parent;do{if(e.visible)return e;e=e._parent}while(e)},e.prototype.getAncestors=function(){var e=null,t=this._parent;if(t){e=[];do{e.push(t),t=t._parent}while(t)}return e},e.prototype.isDescendantOf=function(e){if(e){for(var t=this._parent;t&&t!=e;)t=t._parent;return t===e}return!1},e.prototype.getData=function(e){var t=this.dataSource;e=t.getFieldIndex(e);var i=this.getShadowRow();return t&&i>=0?t.getValue(i,e):void 0},e.prototype.setData=function(e,t){var i=this.dataSource;e=i.getFieldIndex(e),i&&i.setValue(this.dataRow,e,t)},e.prototype.getRowData=function(){var e=this.dataRow;if(e>=0){var t=this.dataSource;if(t)return t.getRow(e)}return null},e.prototype.getRowObject=function(){var e=this.dataRow;if(e>=0){var t=this.dataSource;if(t)return t.getRowObject(e)}return null},e.prototype.isChanged=function(e){var t=this.dataSource;return t?t.isDataChanged(this.dataRow,e):void 0},e.prototype.canEdit=function(){return!1},e.prototype._setIndex=function(e){this._index=e},e.prototype._setChecked=function(e){this.provider.setItemChecked(this,e)||(null===e?(this._setExtents(2|this._getExtents()),this._setExtents(-2&this._getExtents())):(this._setExtents(e?1|this._getExtents():-2&this._getExtents()),this._setExtents(-3&this._getExtents())))},e.prototype._setCheckable=function(e){this._setExtents(e?-5&this._getExtents():4|this._getExtents())},e.PARENT="_parent",e.$$_grid_item_id=0,e}(),tm=function(e){function t(t){var i=e.call(this)||this;return i._displayLevel=-1,i._extents=0,i._dataRow=t,i}return gd(t,e),Object.defineProperty(t.prototype,"dataRowId",{get:function(){return this._dataRowId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this._editable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this._readOnly},enumerable:!1,configurable:!0}),t.prototype.setEditable=function(e,t){this._editable=e,this._readOnly=t},t.prototype._getExtents=function(){return this._extents},t.prototype._setExtents=function(e){this._extents=e},Object.defineProperty(t.prototype,"isData",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDataRow",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRow",{get:function(){return this._dataRow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataId",{get:function(){return this.dataSource.getRowId(this._dataRow)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLeaf",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayLevel",{get:function(){return this._displayLevel>=0?this._displayLevel:this.level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return Jd.ROW},enumerable:!1,configurable:!0}),t.prototype.canEdit=function(){return!0},t.prototype.getShadowRow=function(){return this._dataRow},t.prototype.$_setDisplayLevel=function(e){this._displayLevel=e},t}(em),im=function(e){function t(){var t=e.call(this)||this;return t._children=[],t._expanded=!1,t._descendantCount=0,t._summaries=null,t._rows=null,t}return gd(t,e),t.prototype.dispose=function(){this._children=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"expanded",{get:function(){return this._expanded},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapsed",{get:function(){return!this.expanded},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._children.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allFooterCount",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return!this._rows&&this.$_collectRows(this,this._rows=[]),this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._children.length>0?this._children[0]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var e=this._children.length;return e>0?this._children[e-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstItem",{get:function(){if(this._children.length>0){var e=this._children[0];return e instanceof t?e.firstItem:e}return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstDataItem",{get:function(){if(this._children.length>0)for(var e=0,i=this._children.length;e<i;e++){if(this._children[e]instanceof t)return this._children[e].firstDataItem;if(this._children[e]instanceof tm)return this._children[e]}return null},enumerable:!1,configurable:!0}),t.prototype.getFirstVisibleItem=function(e){return this},t.prototype.getLastItem=function(e){var i;if(this._children.length>0){for(var n=this._children.length;n&&(i=this._children[n-1],e&&i instanceof rm);n--);return i instanceof t?i.getLastItem(e):i}return null},Object.defineProperty(t.prototype,"lastDataItem",{get:function(){var e=this._children.length;if(e>0)for(;e>0;e--){var i=this._children[e-1];if(i instanceof t)return i.lastDataItem;if(i instanceof tm)return i}return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"descendantCount",{get:function(){return this._descendantCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandable",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapsable",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getItem=function(e){if(e<0||e>=this._children.length)throw new RangeError("index is invalid: "+e);return this._children[e]},t.prototype.getRows=function(){var e=[];return this.$_collectRows(this,e),e},t.prototype.getFooterIndex=function(e){return 0},t.prototype.itemOfRow=function(e){for(var t=this._children.length;t--;)if(this._children[t].dataRow==e)return this._children[t];return null},t.prototype.indexOf=function(e){return this._children.indexOf(e)},t.prototype.isDescendant=function(e){if(e&&e!==this){for(var t=e._parent;t&&t!==this;)t=t._parent;return t===this}return!1},t.prototype.getDescendants=function(e){if((!e||this._expanded)&&this._children&&this._children.length>0){var i=[];return function i(n,r){for(var o=n.count,s=0;s<o;s++){var a=n.getItem(s);r.push(a),a instanceof t&&(!e||a.expanded)&&i(a,r)}}(this,i),i}return null},t.prototype.clear=function(){this._summaries=null,this._children.length=0,this._descendantCount=0},t.prototype.insert=function(e,t){this._addChild(t,e)},t.prototype.add=function(e){this._addChild(e,-1)},t.prototype.addAll=function(e){var t=this,i=e.map(function(e){return e[em.PARENT]=t,e});this._children=this._children.concat(i)},t.prototype.remove=function(e){var t=this.indexOf(e);t>=0&&(this._children.splice(t,1),e instanceof em&&(e[em.PARENT]=null))},t.prototype.setItem=function(e,t){if(e&&t&&e!==t){var i=this._removeChild(e);this._insertChild(i,t),t._index=e.index}},t.prototype.setExpanded=function(e,t,i){(e!=this._expanded||i)&&(e?this.provider.expand(this,t,i,0):this.provider.collapse(this,t,i))},t.prototype.getNumber=function(e){var t=this.$_getSummary(e);return t instanceof Gg?t.count:t?t.length:this._descendantCount},t.prototype.getDataCount=function(e){var t=this.$_getSummary(e);if(t instanceof Gg)return t.dataCount;if(t){var i=this.dataSource,n=t.length,r=0;if(n>0){for(var o=0;o<n;o++){var s=i.getValue(t[o],e);null!=s&&""!==s&&r++}return r}}return 0},t.prototype.getDataAvg=function(e){var t=this.$_getSummary(e);if(t instanceof Gg)return t.dataAvg;if(t){for(var i=this.dataSource,n=t.length,r=0,o=0,s=0;s<n;s++){var a=i.getValue(t[s],e);isNaN(a)||(r+=a,o++)}return o>0&&!isNaN(r)?r/o:NaN}return NaN},t.prototype.getSum=function(e){var t=this.$_getSummary(e);if(t instanceof Gg)return t.sum;if(t){for(var i=this.dataSource,n=t.length,r=void 0,o=0;o<n;o++){var s=i.getValue(t[o],e);isNaN(s)||(r=(isNaN(r)?0:r)+s)}return r}return NaN},t.prototype.getMax=function(e){var t=this.$_getSummary(e),i=this.dataSource,n=i.getField(e).dataType===vd.NUMBER;if(t instanceof Gg)return t.max;if(t){for(var r=t.length,o=void 0,s=0,a=null;s<r;)null!=(o=i.getValue(t[s++],e))&&(!n||!isNaN(o))&&(a=null==a||o>a?o:a);return a}return n?NaN:null},t.prototype.getMin=function(e){var t=this.$_getSummary(e),i=this.dataSource,n=i.getField(e).dataType===vd.NUMBER;if(t instanceof Gg)return t.min;if(t){for(var r=t.length,o=void 0,s=0,a=null;s<r;)null!=(o=i.getValue(t[s++],e))&&(!n||!isNaN(o))&&(a=null==a||o<a?o:a);return a}return n?NaN:null},t.prototype.getAvg=function(e){var t=this.$_getSummary(e);if(t instanceof Gg)return t.avg;if(t){var i=this.getSum(e);if(!isNaN(i))return i/t.length}return NaN},t.prototype.getVar=function(e,t){void 0===t&&(t=0);var i=this.$_getSummary(e);if(i instanceof Gg)return 0===t?i.varsp:i.vars;if(i&&this.provider.summaryMode==Fd.STATISTICAL){var n=this.dataSource,r=i.length;if(r>1){for(var o=0,s=0;s<r;s++)o+=n.getValue(i[s],e);var a=o/r;for(o=0,s=0;s<r;s++)o+=Math.pow(n.getValue(i[s],e)-a,2);return o/(r-t)}if(1==r)return 0}return NaN},t.prototype.getStdev=function(e,t){void 0===t&&(t=0);var i=this.$_getSummary(e);if(i instanceof Gg)return 0==t?Math.sqrt(i.varsp):Math.sqrt(i.vars);if(i&&this.provider.summaryMode==Fd.STATISTICAL){var n=this.dataSource,r=i.length;if("string"==typeof e&&(e=n.getFieldIndex(e)),r>1){for(var o=0,s=0;s<r;s++)o+=n.getValue(i[s],e);var a=o/r;for(o=0,s=0;s<r;s++)o+=Math.pow(n.getValue(i[s],e)-a,2);return Math.sqrt(o/(r-t))}if(1==r)return 0}return NaN},t.prototype.getStdevp=function(e){return this.getStdev(e,1)},Object.defineProperty(t.prototype,"isLeaf",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype._setExpanded=function(e){this._expanded=e},t.prototype._incDescendants=function(e){void 0===e&&(e=1),this._descendantCount+=e},t.prototype._insertChild=function(e,t){this._children.splice(e,0,t),t instanceof em&&(t[em.PARENT]=this)},t.prototype._addChild=function(e,t){e&&this.indexOf(e)<0&&(t<0?this._children.push(e):this._children.splice(t,0,e),e[em.PARENT]=this)},t.prototype._addChildren=function(e){var t;if(e&&(t=e.length)>0)for(var i=0;i<t;i++){var n=e[i];n&&this.indexOf(n)<0&&(n[em.PARENT]=this,this._children.push(n))}},t.prototype._removeChild=function(e){var t=this.indexOf(e);return t>=0&&(this._children.splice(t,1),e instanceof em&&(e[em.PARENT]=null)),t},t.prototype._exchangeItems=function(e,t){if(e<0||e>=this._children.length)throw new RangeError("index1 is out of range: "+e);if(t<0||t>=this._children.length)throw new RangeError("index2 is out of range: "+t);if(e!==t){var i=this._children[e];this._children[e]=this._children[t],this._children[t]=i}},t.prototype._moveChild=function(e,t){var i=this._children.length;if(e<0||e>=i)throw new RangeError("index is out of range: "+e);var n=Math.min(Math.max(e+t,0),i-1),r=this._children[e];if(t<0)for(var o=e;o>n;o--)this._children[o]=this._children[o-1];else for(o=e;o<n;o++)this._children[o]=this._children[o+1];this._children[n]=r},t.prototype.$_collectRows=function(e,i){for(var n=e.count,r=0;r<n;r++){var o=e.getItem(r);o instanceof t?this.$_collectRows(o,i):o.isDataRow&&i.push(o.dataRow)}},t.prototype.$_getSummary=function(e){var t=this.dataSource;if(!(t instanceof v_))return null;null==this._summaries&&(this._summaries={}),"string"==typeof e&&(e=t.getFieldIndex(e));var i=this._summaries?this._summaries[e]:null;return i||t.canSummarize(e)&&(i=this.$_summarize(e,t))&&(this._summaries[e]=i),i},t.prototype.$_summarize=function(e,t){var i=this.provider.summaryMode;if(i!=Fd.NONE){if(null==this._rows&&(this._rows=[],this.$_collectRows(this,this._rows)),this._rows.length>3&&t.canSummarize(e)){var n=new Gg(e);return t.summarizeRange(n,this._rows,i==Fd.STATISTICAL),n}return this._rows}return null},t.prototype._saveExpanded=function(){this._setExtents(this.expanded?16|this._getExtents():-17&this._getExtents())},t.prototype._restoreExpanded=function(e){if(void 0===e&&(e=!1),this._setExpanded(!!(16&this._getExtents())),e)for(var i=this.count-1;i>=0;i--){var n=this.getItem(i);n instanceof t&&n._restoreExpanded(!0)}},t}(em),nm=function(e){function t(t){var i=e.call(this)||this;return i._footers=0,i._extents=0,i._allFooters=[],i._groupField=t,i}return gd(t,e),t.prototype.dispose=function(){this._allFooters=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"groupField",{get:function(){return this._groupField},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupValue",{get:function(){return this._groupValue},set:function(e){this._groupValue=e},enumerable:!1,configurable:!0}),t.prototype._getExtents=function(){return this._extents},t.prototype._setExtents=function(e){this._extents=e},Object.defineProperty(t.prototype,"footer",{get:function(){return this._footer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return Jd.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerCount",{get:function(){return this._footers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allFooterCount",{get:function(){return this._allFooters.length},enumerable:!1,configurable:!0}),t.prototype.getHiddenFooterCount=function(){for(var e=0,t=0;t<this.children.length;t++)this.children[t].hiddenFooter&&e++;return e},t.prototype.getFooter=function(e){return e=this.indexOf(this._footer)+e,this._children[e]},t.prototype.getFooterIndex=function(e){return e.$_footerIndex},t.prototype.isFooter=function(e){if(e===this._footer)return!0;if(this._footers>1)for(var t=this._children,i=t.length-1;i>=0;i--){if(t[i]===e)return!0;if(t[i]===this._footer)break}return!1},t.prototype._addChild=function(t,i){t instanceof rm?(this._allFooters.push(t),t[em.PARENT]=this,t.hiddenFooter||(e.prototype._addChild.call(this,t,i),this._footer=this._footer||t,this._footers++)):e.prototype._addChild.call(this,t,i)},t.prototype.getFirstVisibleItem=function(e){if(this.visible)return this;for(var t=0,i=this.children.length;t<i;t++){var n=this.children[t];if(e&&this.footer&&this.footer.visible)return this.footer;if(n instanceof im){var r=n.getFirstVisibleItem(e);if(r)return r}else if(n.visible)return n}return null},t}(im),rm=function(e){function t(){var t=e.call(this)||this;return t.$_footerIndex=0,t._hiddenFooter=!1,t._extents=0,t}return gd(t,e),Object.defineProperty(t.prototype,"footerIndex",{get:function(){return this.$_footerIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vindex",{get:function(){return this.$_vindex>-1?this.$_vindex:this.$_footerIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hiddenFooter",{get:function(){return this._hiddenFooter},set:function(e){this._hiddenFooter=e},enumerable:!1,configurable:!0}),t.prototype._getExtents=function(){return this._extents},t.prototype._setExtents=function(e){this._extents=e},Object.defineProperty(t.prototype,"isLeaf",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isData",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayLevel",{get:function(){return this.level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return Jd.FOOTER},enumerable:!1,configurable:!0}),t}(em),om=function(e){function t(t){var i=e.call(this,-1)||this;return i._provider=t,i}return gd(t,e),Object.defineProperty(t.prototype,"provider",{get:function(){return this._provider},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLeaf",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._provider.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapsable",{get:function(){return!1},enumerable:!1,configurable:!0}),t}(nm),sm=function(e){function t(t){var i=e.call(this)||this;return i._hideDeleted=!1,i._eventLock=0,i._rowHeighted=!1,i._explicitHeighted=!1,i._indexing=t,i._rootItem=i._createRootItem(),i}return gd(t,e),t.prototype._doDispose=function(){return this._rootItem.dispose(),null},Object.defineProperty(t.prototype,"hideDeleted",{get:function(){return this._hideDeleted},set:function(e){e!=this._hideDeleted&&(this._hideDeleted=e,this._hideDeletedChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summaryMode",{get:function(){return Fd.AGGREGATE},set:function(e){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortMode",{get:function(){return xd.AUTO},set:function(e){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedCount",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxItemCount",{get:function(){return 0},set:function(e){},enumerable:!1,configurable:!0}),t.prototype.isFiltered=function(e){return!1},t.prototype.getMovable=function(e){return!1},t.prototype.setFixed=function(e,t,i,n){},t.prototype.attachItem=function(e){e._parent=this._rootItem},t.prototype.getItemsByIndices=function(e){var t=[];if(e)for(var i=0,n=e.length;i<n;i++){var r=this.getItem(e[i]);r&&t.push(r)}return t},t.prototype.getIndexOfRow=function(e,t){var i=this.getItemOfRow(e,t);return i?i.index:-1},t.prototype.getIndicesOfRows=function(e,t){var i=[],n=e?e.length:0;if(n)for(var r=0;r<n;r++){var o=this.getItemOfRow(e[r],t);i.push(o?o.index:-1)}return i},t.prototype.getItemsByRows=function(e,t){void 0===t&&(t=!1);for(var i=[],n=e?e.length:0,r=0;r<n;r++){var o=this.getItemOfRow(e[r],t);o&&i.push(o)}return i},t.prototype.exchange=function(e,t){},t.prototype.moveItem=function(e,t){},t.prototype.setCheckable=function(e,t){e&&t!=e.checkable&&(e._setCheckable(t),this._fireCheckableChanged(e))},t.prototype.setGroupCheckable=function(e,t){},t.prototype.setSortingOptions=function(e){},t.prototype.setInditerminateItem=function(e,t){var i=e.indeterminate;e&&t!=i&&(this._setIndeterminated(e,t),this._fireRefreshClient())},t.prototype.checkItem=function(e,t,i,n){if(e){var r=e.checked,o=e.indeterminate;i?(this._clearChecked(),t&&this._setChecked(e,!0),t!=r&&n&&this._fireItemChecked(e),this._fireRefreshClient()):(t!=r||o)&&(this._setChecked(e,t),n?this._fireItemChecked(e):this._fireRefreshClient()),this._fireItemCheckChanged([e],t)}},t.prototype.checkItems=function(e,t,i){if(e&&e.length>0){for(var n=0,r=e.length;n<r;n++){var o=e[n];o instanceof em&&this._setChecked(o,t)}i?1===e.length?this._fireItemChecked(e[0]):this._fireItemsChecked(e,t):this._fireRefreshClient()}this._fireItemCheckChanged(e,t)},t.prototype.checkAll=function(e,t,i,n,r){var o=this.itemCount;if(i)for(var s=0;s<o;s++){var a=this.getItem(s);a.checkable&&this._setChecked(a,e)}else for(s=0;s<o;s++)this._setChecked(this.getItem(s),e);n?this._fireItemAllChecked(e):this._fireRefreshClient(),this._fireItemCheckChanged(null,e)},t.prototype._setCheckItem=function(e,t){e._setChecked(t)},t.prototype._clearDisplayLevels=function(){},t.prototype.canUpdate=function(e,t){if(e){var i=this.dataSource;if(!i)return!1;var n=e.dataRow;if(!i.canUpdateField(n,t))return!1;var r=e.itemState,o=Zg(r)||r===Mg.DUMMY;return(n>=0||o)&&(o||i.canUpdateRow(n))}return!1},t.prototype.canAppend=function(){var e=this.dataSource;return e&&e.canAppendRow()},t.prototype.canInsert=function(e){if(e){var t=e.dataRow,i=this.dataSource;return i&&i.canInsertRow(t)}return!1},t.prototype.canDelete=function(e){if(e){var t=e.dataRow,i=this.dataSource;return t>=0&&i&&i.canDeleteRow(t)}return!1},t.prototype.appendDummy=function(){},t.prototype.cancelDummy=function(){},t.prototype.findItem=function(e,t,i,n,r){return-1},t.prototype.findCell=function(e,t,i,n,r,o){return null},t.prototype.getNumber=function(e){return NaN},t.prototype.getSum=function(e){return NaN},t.prototype.getMax=function(e){return NaN},t.prototype.getMin=function(e){return NaN},t.prototype.getAvg=function(e){return NaN},t.prototype.getVar=function(e){return NaN},t.prototype.getVarp=function(e){return NaN},t.prototype.getStdev=function(e){return NaN},t.prototype.getStdevp=function(e){return NaN},t.prototype.getDataCount=function(e){return NaN},t.prototype.getDataAvg=function(e){return NaN},Object.defineProperty(t.prototype,"isIndexing",{get:function(){return this._indexing},enumerable:!1,configurable:!0}),t.prototype.setRowHeight=function(e,t,i){e.$_setHeight(t,i)&&(isNaN(t)||(i?this._explicitHeighted=!0:this._rowHeighted=!0))},t.prototype.clearRowHeights=function(e){if(e||this._rowHeighted){for(var t=!1,i=this.itemCount-1;i>=0;i--){var n=this.getItem(i);isNaN(n.height)&&!n.heights||(n.$_clearHeight(e),n.heights=null,t=!0)}return this._rowHeighted=!1,e&&(this._explicitHeighted=!1),t}},t.prototype.isRowHeighted=function(e){return void 0===e&&(e=!0),this._rowHeighted||e&&this._explicitHeighted},t.prototype.setCheckFieldIndex=function(e){this._checkFieldIndex=e},t.prototype.getItemChecked=function(e,t){return this._checkFieldIndex>-1?this.dataSource.getField(this._checkFieldIndex).readBooleanValue(e.getData(this._checkFieldIndex)):t},t.prototype.setItemChecked=function(e,t){if(this._checkFieldIndex>-1){var i=this.dataSource.getField(this._checkFieldIndex),n=i.readBooleanValue(e.getData(this._checkFieldIndex));return!!n!=t&&(n=(i._boolParser||i._ownerBoolParser).toText(t),e.setData(this._checkFieldIndex,n)),!0}return!1},Object.defineProperty(t.prototype,"rootItem",{get:function(){return this._rootItem},enumerable:!1,configurable:!0}),t.prototype._createRootItem=function(){return new om(this)},t.prototype._hideDeletedChanged=function(){},t.prototype.$_canFire=function(){return this._eventLock<=0},t.prototype._setChecked=function(e,t){e._setChecked(t)},t.prototype._setIndeterminated=function(e,t){e._setChecked(!!t&&null)},t.prototype._clearChecked=function(){for(var e=0,t=this.itemCount;e<t;e++)this._setChecked(this.getItem(e),!1)},t.prototype._resetItemIndicies=function(e){if(this._indexing)for(var t=e,i=this.itemCount;t<i;t++)this.getItem(t)._index=t},t.prototype._setExpanded=function(e,t){e._setExpanded(t)},t.prototype._resetItemIndex=function(e){var t=this.getItem(e);t&&(t._index=e)},t.prototype._incDescendents=function(e,t){e._descendantCount+=t,e.parent&&this._incDescendents(e.parent,t)},t.prototype._copyExtents=function(e,t){e instanceof em&&t instanceof em&&t._setExtents(e._getExtents())},t.prototype._fireReset=function(e){this._eventLock<=0&&this.fireEvent("onItemProviderReset",e)},t.prototype._fireRefresh=function(e){this._eventLock<=0&&this.fireEvent("onItemProviderRefresh",e)},t.prototype._fireRefreshClient=function(){this._eventLock<=0&&this.fireEvent("onItemProviderRefreshClient")},t.prototype._fireItemInserted=function(e){this._eventLock<=0&&this.fireEvent("onItemProviderItemInserted",e)},t.prototype._fireItemDeleted=function(e){this._eventLock<=0&&this.fireEvent("onItemProviderItemDeleted",e)},t.prototype._fireItemUpdated=function(e){this._eventLock<=0&&this.fireEvent("onItemProviderItemUpdated",e)},t.prototype._fireCheckableChanged=function(e){this._eventLock<=0&&this.fireEvent("onItemProviderCheckableChanged",e)},t.prototype._fireItemChecked=function(e){this._eventLock<=0&&this.fireEvent("onItemProviderItemChecked",e)},t.prototype._fireItemsChecked=function(e,t){this._eventLock<=0&&this.fireEvent("onItemProviderItemsChecked",e,t)},t.prototype._fireItemAllChecked=function(e){this._eventLock<=0&&this.fireEvent("onItemProviderItemAllChecked",e)},t.prototype._fireItemCheckChanged=function(e,t){this.fireEvent("onItemProviderItemCheckChanged",e,t)},t.prototype._fireRowStateChanged=function(e){this._eventLock<=0&&this.fireEvent("onItemProviderRowStateChanged",e)},t.prototype._fireRowStatesChanged=function(e){this._eventLock<=0&&this.fireEvent("onItemProviderRowStatesChanged",e)},t.prototype._fireRowStatesCleared=function(){this._eventLock<=0&&this.fireEvent("onItemProviderRowStatesCleared")},t.prototype._fireSort=function(e,t,i){this._eventLock<=0&&this.fireEvent("onItemProviderSort",e,t,i)},t.prototype._fireSorted=function(){this._eventLock<=0&&this.fireEvent("onItemProviderSorted")},t.prototype._fireFiltered=function(e,t,i){this._eventLock<=0&&this.fireEvent("onItemProviderFiltered",e,t,i)},t.prototype._fireCommandStackChanged=function(e,t){this._eventLock<=0&&this.fireEvent("onItemProviderCommandStackChanged",e,t)},t.prototype._fireDataLoadComplated=function(){this._eventLock<=0&&this.fireEvent("onItemProviderDataLoadComplated")},t.prototype._fireOuterSort=function(e,t,i){return this.fireObjectEvent("onItemProviderOuterSort",e,t,i)},t.prototype.canGrouping=function(e){return!1},t}(Vf),am=function(e){function t(t,i){var n=e.call(this,i)||this;return n._initialize(),n.source=t,n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"source",{get:function(){return this._source},set:function(e){e!=this._source&&(this._source&&this._source.removeListener(this),this._clearItems(),this._source=e,this._source&&(this._populateItems(),this._source.addListener(this)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._source&&this._source.dataSource},set:function(e){this._source&&(this._source.dataSource=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._source?this._source.rowCount:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedCount",{get:function(){return this._source?this._source.fixedCount:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxItemCount",{get:function(){return this._source?this._source.maxItemCount:0},set:function(e){this._source&&(this._source.maxItemCount=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sorted",{get:function(){return this._source&&this._source.sorted},enumerable:!1,configurable:!0}),t.prototype.setFixed=function(e,t,i,n){this._source&&this._source.setFixed(e,t,i,n)},t.prototype.getIndexOfRow=function(e){return this._source?this._source.getIndexOfRow(e,!1):-1},t.prototype.getItemOfRow=function(e,t){return this._source?this._source.getItemOfRow(e,t):null},t.prototype._refreshItems=function(){this._source&&this._source._refreshItems()},t.prototype._clearDisplayLevels=function(){this._source&&this._source._clearDisplayLevels()},t.prototype._initialize=function(){},t.prototype._clearItems=function(){},t.prototype._populateItems=function(){this._resetItemIndicies(0)},t.prototype.onItemProviderReset=function(e,t){this._populateItems(),this._fireReset(t)},t.prototype.onItemProviderRefresh=function(e,t){this._populateItems(),this._fireRefresh(t)},t.prototype.onItemProviderRefreshClient=function(e){this._fireRefreshClient()},t.prototype.onItemProviderItemInserted=function(e,t){this._resetItemIndicies(0),this._fireItemInserted(t)},t.prototype.onItemProviderItemDeleted=function(e,t){this._resetItemIndicies(0),this._fireItemDeleted(t)},t.prototype.onItemProviderItemUpdated=function(e,t){this._resetItemIndicies(0),this._fireItemUpdated(t)},t.prototype.onItemProviderCheckableChanged=function(e,t){this._fireCheckableChanged(t)},t.prototype.onItemProviderItemChecked=function(e,t){this._fireItemChecked(t)},t.prototype.onItemProviderItemsChecked=function(e,t,i){this._fireItemsChecked(t,i)},t.prototype.onItemProviderItemAllChecked=function(e,t){this._fireItemAllChecked(t)},t.prototype.onItemProviderItemCheckChanged=function(e,t,i){this._fireItemCheckChanged(t,i)},t.prototype.onItemProviderRowStateChanged=function(e,t){this._fireRowStateChanged(t)},t.prototype.onItemProviderRowStatesChanged=function(e,t){this._fireRowStatesChanged(t)},t.prototype.onItemProviderRowStatesCleared=function(e){this._fireRowStatesCleared()},t.prototype.onItemProviderFiltered=function(e,t,i,n){this._fireFiltered(t,i,n)},t.prototype.onItemProviderSort=function(e,t,i){this._fireSort(t,i,null)},t.prototype.onItemProviderSorted=function(e){this._fireSorted()},t.prototype.onItemProviderOuterSort=function(e,t,i,n){return this._fireOuterSort(t,i,n)},t.prototype.onItemProviderCommandStackChanged=function(e,t,i){this._fireCommandStackChanged(t,i)},t.prototype.onItemProviderDataLoadComplated=function(e){this._fireDataLoadComplated()},t}(sm),lm=function(e){function t(t,i,n,r,o){var s=e.call(this,r)||this;return s._started=!1,s._checkDiff=!1,s._strictDiff=!1,s._target=i,t.attachItem(s),s._setIndex(n),s._state=o,s.$_setDisplayLevel(i?i.displayLevel:0),s}return gd(t,e),Object.defineProperty(t.prototype,"values",{get:function(){},set:function(e){},enumerable:!1,configurable:!0}),t.prototype.beginEdit=function(e,t){this.$_clearHeight(!0)},t.prototype.setValue=function(e,t){},Object.defineProperty(t.prototype,"resizable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemState",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getData=function(e){return null},t.prototype.setData=function(e,t){},t.prototype.getRowData=function(){return null},t.prototype.getRowObject=function(){return null},t.prototype._clearDisplayLevels=function(){},t}(tm),um=function(e){function t(t,i,n,r,o){var s=e.call(this,r)||this;return s._values=[],s._changeValues=[],s._started=!1,s._checkDiff=!1,s._strictDiff=!1,s._invalidFields=[],s._target=i,t.attachItem(s),s._setIndex(n),s._state=o,s.$_setDisplayLevel(i?i.displayLevel:0),s._invalidFields=[],s}return gd(t,e),Object.defineProperty(t.prototype,"values",{get:function(){return this._values.concat()},set:function(e){var t=this.provider,i=this.dataSource,n=i.fieldCount;if(e instanceof Array){n=Math.min(n,e.length);for(var r=0;r<n;r++){var o=i.getField(r),s=this._values[r],a=o.readValue(e[r]);this._values[r]=a,this._started&&!o.equalValues(s,a)&&t._editItemCellUpdated(this,r,s,a)}}else if(e)for(r=0;r<n;r++){var l=i.getOrgFieldName(r);e.hasOwnProperty(l)&&(o=i.getField(r),s=this._values[r],a=o.readValue(e[l]),this._values[r]=a,this._started&&!o.equalValues(s,a)&&t._editItemCellUpdated(this,r,s,a))}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"invalidFields",{get:function(){return this._invalidFields},enumerable:!1,configurable:!0}),t.prototype.beginEdit=function(e,t){Zg(this._state)&&this.$_clearHeight(!0),this._started=!0,this._checkDiff=e,this._strictDiff=t},t.prototype.setValue=function(e,t){var i=this.dataSource;if(e<0&&e>=i.fieldCount)throw new h_(r_.messages.fieldIndexOutOfBounds+e);var n=i.getField(e),r=this._values[e];t=n.readValue(t),this._values[e]=t,this._started&&!n.equalValues(r,t)&&this.provider._editItemCellUpdated(this,e,r,t),this.$_clearHeight(!1)},Object.defineProperty(t.prototype,"resizable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemState",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._target?this._target.level:1},enumerable:!1,configurable:!0}),t.prototype.getData=function(e){if((e=this.dataSource.getFieldIndex(e))<0&&e>=this.dataSource.fieldCount)throw new RangeError("field index is out of bounds: "+e);return this._values[e]},t.prototype.setData=function(e,t){var i=this.dataSource;if(e<0&&e>=i.fieldCount)throw new RangeError("field index is out of bounds: "+e);var n=i.getField(e),r=this._values[e],o=!this._checkDiff;t=n.readValue(t),o||(o=this._strictDiff?!n.equalValues(r,t):!n.sameValues(r,t)),o&&(this._values[e]=t,this._changeValues[e]=!0,this.provider._editItemCellUpdated(this,e,r,t),this.provider._editItemCellEdited(this,e)),this.$_clearHeight(!1)},t.prototype.getRowData=function(){return this._values.concat()},t.prototype.getRowObject=function(){var e=this.dataSource;if(e){for(var t={},i=0,n=e.fieldCount;i<n;i++)t[e.getOrgFieldName(i)]=this._values[i];return t}return null},t.prototype.isEdited=function(e){return this._changeValues[e]},t.prototype._setChecked=function(e){this.provider.setItemChecked(this,e)||this._setExtents(e?1|this._getExtents():-2&this._getExtents())},t.prototype._clearDisplayLevels=function(){},t}(tm),cm=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._checkDiff=!1,n._checkCellDiff=!1,n._strictDiff=!1,n._undoable=!1,n._cancelWhenLastUndo=!1,n._orgItem=null,n._editingItem=null,n._dummyEditItem=null,n._editingState=Mg.NORMAL,n._insertMode=0,n._modified=!1,n._commiting=!1,n._saveDs=null,n._commands=new x_(n),t&&(n._saveDs=t.dataSource)&&n._saveDs.registerClient(n),n}return gd(t,e),t.prototype._doDispose=function(){this._saveDs=null,e.prototype._doDispose.call(this)},t.prototype.isDataEditing=function(){return this.isEditing()},t.prototype.cancelDataEditing=function(){this.isEditing()&&this.fireCancelRequest()},t.prototype.commitDataEditing=function(){this.isEditing()&&this.fireCommitRequest()},t.prototype.editCommandStackChanged=function(e,t,i){var n=this._saveDs;n?this._fireCommandStackChanged(t||n.canUndo,i||n.canRedo):this._fireCommandStackChanged(t,i)},Object.defineProperty(t.prototype,"isCheckDiff",{get:function(){return this._checkDiff},set:function(e){this._checkDiff=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCheckCellDiff",{get:function(){return this._checkCellDiff},set:function(e){this._checkCellDiff=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStrictDiff",{get:function(){return this._strictDiff},set:function(e){this._strictDiff=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editingItem",{get:function(){return this._commiting||this.isEditing()?this._editingItem:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._editingState==Mg.UPDATING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInserting",{get:function(){return this._editingState==Mg.INSERTING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAppending",{get:function(){return this._editingState==Mg.APPENDING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"undoable",{get:function(){return this._undoable&&this._saveDs&&this._saveDs.undoable},set:function(e){e!=this._undoable&&(this._undoable=e,this._commands.flush(),this._saveDs.undoable=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cancelWhenLastUndo",{get:function(){return this._cancelWhenLastUndo},set:function(e){this._cancelWhenLastUndo=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canUndo",{get:function(){return this._commands.canUndo||this._saveDs&&this._saveDs.canUndo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){return this._commands.canRedo||this._saveDs&&this._saveDs.canRedo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"undoing",{get:function(){return this._commands.undoing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redoing",{get:function(){return this._commands.redoing},enumerable:!1,configurable:!0}),t.prototype.isEditing=function(e){return Xg(this._editingState)&&(!e||e===this._editingItem)},t.prototype.isEdited=function(e){return Xg(this._editingState)&&(!e||e===this._editingItem)&&this._modified},t.prototype.setDiffs=function(e,t,i){this._checkDiff=e,this._checkCellDiff=t,this._strictDiff=i},t.prototype.edit=function(e){if(this.isEditing())return!0;if(e)try{return this._beginUpdate(e),!0}catch(t){throw this.cancel(),t}return!1},t.prototype.editData=function(e,t,i){var n;if(e&&(n=this.dataSource)&&t>=0&&t<n.fieldCount){if(!this.isEditing())try{return this._beginUpdate(e),!0}catch(r){throw this.cancel(),r}this._editingItem.setData(t,i)}return!1},t.prototype.appendDummy=function(){if(!this.isEditing())try{this._beginAppendDummy()}catch(e){this.cancelDummy()}},t.prototype.append=function(e){if(!this.isEditing())try{return this._beginAppend(e)}catch(t){throw this.cancel(),t}return-1},t.prototype.insert=function(e,t,i,n){if(!this.isEditing())try{return this._beginInsert(e,t,i,n)}catch(r){throw this.cancel(),r}return-1},t.prototype.cancelDummy=function(){this._dummyEditItem&&this._cancelDummyEdit()},t.prototype.cancel=function(){this.isEditing()&&this._cancelEdit()},t.prototype.commit=function(e){if(this.isEditing()){this._commiting=!0;try{var t=this.dataSource;if(t){if(this._editingState==Mg.UPDATING&&this.isCheckDiff){for(var i=this._editingItem.values,n=i.length,r=this.isStrictDiff,o=!1,s=0;s<n;s++)if(r){if(!t.getField(s).equalValues(this._orgItem.getData(s),i[s])){o=!0;break}}else if(!t.getField(s).sameValues(this._orgItem.getData(s),i[s])){o=!0;break}if(!o)return this._cancelEdit(),!0}return this._commitEdit(e)}}finally{this._commiting=!1}}return!0},t.prototype.execute=function(e){e&&(this.undoable?this._commands.execute(e):e.execute())},t.prototype.undo=function(){this.isEditing()?(this._commands.undo(),!this._commands.canUndo&&this._cancelWhenLastUndo&&this.cancel()):this._saveDs&&this._saveDs.undo()},t.prototype.redo=function(){this.isEditing()?this._commands.redo():this._saveDs&&this._saveDs.redo()},t.prototype.clearCommandStack=function(e){void 0===e&&(e=!0),this._commands.flush(),e&&this._saveDs&&this._saveDs.clearCommandStack()},t.prototype.revert=function(e){},t.prototype.revertAll=function(e){},t.prototype._checkEditing=function(){if(!this.isEditing())throw new Error("itemProvider is not editing")},t.prototype._checkNotEditing=function(){if(this.isEditing())throw new Error("itemProvider is already editing")},t.prototype._beginUpdate=function(e){if(!e)throw new Error("item is null");this._checkNotEditing(),this._modified=!1,this._editingItem=this._doBeginUpdate(e),this._editingItem.beginEdit(this.isCheckCellDiff,this.isStrictDiff),this._editingItem&&(this._orgItem=e,this._editingState=Mg.UPDATING,this._commands.flush(),this.fireUpdateStarted(this._editingItem))},t.prototype._doBeginUpdate=function(e){return null},t.prototype._beginAppendDummy=function(){this._dummyEditItem=this._doBeginAppendDummy()},t.prototype._doBeginAppendDummy=function(){return null},t.prototype._beginAppend=function(e){return this._checkNotEditing(),this._modified=!1,this._editingItem=this._doBeginAppend(e),this._editingItem.beginEdit(this.isCheckCellDiff,this.isStrictDiff),this._editingItem?(this._editingState=Mg.APPENDING,this._commands.flush(),this.fireAppendStarted(this._editingItem),this._editingItem.index):-1},t.prototype._doBeginAppend=function(e){return null},t.prototype._beginInsert=function(e,t,i,n){return void 0===i&&(i=!1),void 0===n&&(n=!1),this._checkNotEditing(),this._modified=!1,this._editingItem=this._doBeginInsert(e,t,i,n),this._editingItem.beginEdit(this.isCheckCellDiff,this.isStrictDiff),this._editingItem?(this._editingState=Mg.INSERTING,this._resetItemIndicies(0),this._commands.flush(),this.fireInsertStarted(this._editingItem),this._editingItem.index):-1},t.prototype._doBeginInsert=function(e,t,i,n){return null},t.prototype._updateEditingRow=function(e){return!1},t.prototype._insertEditingRow=function(e){return!1},t.prototype._cancelDummyEdit=function(){this._dummyEditItem=null,this._doCancelDummyEdit()},t.prototype._cancelEdit=function(){this._checkEditing();var e=this._editingState;try{this._editingState=Mg.NORMAL,this._doCancelEdit(e,this._orgItem)}catch(t){throw this._editingState=e,t}this._modified=!1,this._commands.flush(),this.fireCanceled()},t.prototype._doCancelDummyEdit=function(){},t.prototype._doCancelEdit=function(e,t){e==Mg.INSERTING&&this._resetItemIndicies(0)},t.prototype._commitEdit=function(e){if(this._checkEditing(),!this.dataSource)throw new Error("data provier is null");try{this.fireItemCommitting(this._editingItem)}catch(n){alert(n.message)}var t=this._editingState,i=!1;if(this.isUpdating)try{this._editingState=Mg.NORMAL,i=this._doCompleteUpdate(this._orgItem,e)}catch(n){throw this._editingState=t,n}else try{this._editingState=Mg.NORMAL,i=this._doCompleteInsert(t==Mg.APPENDING)}catch(n){throw this._editingState=t,n}return i?(this._modified=!1,this._doCommitEdit(t,this._orgItem),this._commands.flush(),this.fireCommitted(this._editingItem)):this._editingState=t,i},t.prototype._doCommitEdit=function(e,t){return!1},t.prototype._editItemCellEdited=function(e,t){e&&this.isEditing(e)&&(this._modified=!0,this.fireItemCellEdited(e,t))},t.prototype._editItemCellUpdated=function(e,t,i,n){this.isEditing(e)&&(this._modified=!0,this.fireItemCellUpdated(e,t,i,n))},t.prototype.$_editingItem=function(){return this._editingItem},t.prototype.$_dummyItem=function(){return this._dummyEditItem},t.prototype.fireUpdateStarted=function(e){this.$_canFire()&&this.fireEvent(t.UPDATE_STARTED,e)},t.prototype.fireAppendStarted=function(e){this.$_canFire()&&this.fireEvent(t.APPEND_STARTED,e)},t.prototype.fireInsertStarted=function(e){this.$_canFire()&&this.fireEvent(t.INSERT_STARTED,e)},t.prototype.fireItemCellEdited=function(e,i){this.$_canFire()&&this.fireEvent(t.CELL_EDITED,e,i)},t.prototype.fireItemCellUpdated=function(e,i,n,r){this.$_canFire()&&this.fireEvent(t.CELL_UPDATED,e,i,n,r)},t.prototype.fireItemCommitting=function(e){this.$_canFire()&&this.fireEvent(t.COMMITTING,e)},t.prototype.fireCommitted=function(e){this.$_canFire()&&this.fireEvent(t.COMMITTED,e)},t.prototype.fireCanceled=function(){this.$_canFire()&&this.fireEvent(t.CANCELED)},t.prototype.fireCommitRequest=function(){this.$_canFire()&&this.fireEvent(t.COMMIT_REQUEST)},t.prototype.fireCancelRequest=function(){this.$_canFire()&&this.fireEvent(t.CANCEL_REQUEST)},t.prototype.onItemProviderReset=function(t,i){e.prototype.onItemProviderReset.call(this,t,i);var n=this.dataSource;n!=this._saveDs&&(this._saveDs&&!this._saveDs.disposing&&this._saveDs.unregisterClient(this),this._saveDs=n,this._saveDs&&this._saveDs.registerClient(this))},t.prototype.onItemProviderRefresh=function(t,i){e.prototype.onItemProviderRefresh.call(this,t,i)},t.prototype.onItemProviderRefreshClient=function(t){e.prototype.onItemProviderRefreshClient.call(this,t)},t.prototype.onItemProviderItemInserted=function(t,i){e.prototype.onItemProviderItemInserted.call(this,t,i)},t.prototype.onItemProviderItemDeleted=function(t,i){e.prototype.onItemProviderItemDeleted.call(this,t,i)},t.prototype.onItemProviderItemUpdated=function(t,i){e.prototype.onItemProviderItemUpdated.call(this,t,i)},t.prototype.onItemProviderCommandStackChanged=function(e,t,i){var n=this._commands;this._fireCommandStackChanged(t||n.canUndo,i||n.canRedo)},t.UPDATE_STARTED="onItemEditUpdateStarted",t.APPEND_STARTED="onItemEditAppendStarted",t.INSERT_STARTED="onItemEditInsertStarted",t.CELL_EDITED="onItemEditCellEdited",t.CELL_UPDATED="onItemEditCellUpdated",t.COMMITTING="onItemEditCommitting",t.COMMITTED="onItemEditCommitted",t.CANCELED="onItemEditCanceled",t.COMMIT_REQUEST="onItemEditCommitRequest",t.CANCEL_REQUEST="onItemEditCancelRequest",t}(am),hm=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._insertRow=-1,n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"itemCount",{get:function(){var e=this.source.itemCount;return(e+=this.isInserting||this.isAppending?1:0)+(this.$_dummyItem()?1:0)},enumerable:!1,configurable:!0}),t.prototype.getItem=function(e,t){var i=this.source;if(t)return i.getItem(e,t);var n,r=this.$_editingItem(),o=this.$_dummyItem();return this.isEditing()&&r.index==e?r:(this.isInserting?n=e>r.index?i.getItem(e-1):i.getItem(e):e<i.itemCount&&(n=i.getItem(e)),n||(o&&e==this.itemCount-1?o:null))},t.prototype.getItems=function(e,t){return this.source.getItems(e,t)},t.prototype._doBeginUpdate=function(e){return this._createEditItem(e,Mg.UPDATING,null,!1,!1)},t.prototype._doBeginAppendDummy=function(){return this.$_dummyItem()||this._createDummyEditItem()},t.prototype._doBeginAppend=function(e){return this._createEditItem(null,Mg.APPENDING,e,!1,!1)},t.prototype._doBeginInsert=function(e,t,i,n){return this._createEditItem(e,Mg.INSERTING,t,i,n)},t.prototype._doCompleteUpdate=function(e,t){var i=this.dataSource;if(i instanceof v_){var n=this.$_editingItem();return this._copyExtents(n,e),t||i.updateRow(n.dataRow,n.values,!1)}return!1},t.prototype._doCompleteInsert=function(e){var t=this.dataSource,i=!1;if(t){var n=this.$_editingItem(),r=e?t.rowCount:Math.max(0,this._insertRow),o=n.values;if(i=t.insertRow(r,o,n._index2)){var s=this.getItemOfRow(r,!0);n._dataRow=r,s&&(n._setCheckable(s.checkable),this._copyExtents(n,s),n.heights&&(s.heights=n.heights.slice())),s.index>=0&&null!=n._index2&&this.moveItem(s,n._index2)}}return i},t.prototype.remove=function(e,t){var i=this.dataSource;if(e&&!this.isEditing(e)&&i){var n=e.dataRow;n>=0&&i.removeRow(n,t)}},t.prototype.revert=function(e){if(e instanceof em||(e=this.getItem(e)),e){var t=this.dataSource;if(t){var i=e.dataRow,n=t.getRowState(i);n==jp.DELETED?t.setRowState(i,jp.NONE,!1):n==jp.CREATE_AND_DELETED&&t.setRowState(i,jp.CREATED,!1)}}},t.prototype.revertAll=function(e){if(e&&0!=e.length){var t=this.dataSource;if(t)for(var i=e.length;i--;){var n=this.getItem(e[i]);if(n){var r=n.dataRow,o=t.getRowState(r);o==jp.DELETED?t.setRowState(r,jp.NONE,!1):o==jp.CREATE_AND_DELETED&&t.setRowState(r,jp.CREATED,!1)}}}},t.prototype.getRemovableRows=function(e){if(!e||0==e.length)return null;for(var t=[],i=0,n=e.length;i<n;i++){var r=this.getItem(e[i]).dataRow;r>=0&&t.push(r)}return t},t.prototype.removeRows=function(e,t){e&&(e.length>1?this.dataSource.removeRows(e,!1,t):this.dataSource.removeRow(e[0],t))},t.prototype.updateRows2=function(e){this.dataSource.updateRows2(e,!1,!1)},t.prototype._createDummyEditItem=function(){return new lm(this,null,this.itemCount,-1,Mg.DUMMY)},t.prototype._createEditItem=function(e,t,i,n,r){var o=this.dataSource;if(!o)return null;var s=null,a=o.fieldCount;switch(t){case Mg.UPDATING:s=new um(this,e,e.index,e.dataRow,t);for(var l=0;l<a;l++)s.setValue(l,e.getData(l));this._copyExtents(e,s),e.heights&&(s._heights=e.heights.slice());break;case Mg.INSERTING:case Mg.APPENDING:var u=this._rs,c=t==Mg.INSERTING&&e?n?e.index+1:e.index:this.itemCount;if(s=new um(this,e,c,-1,t),t==Mg.INSERTING){var h=e.dataRow,d=e;if(h<=-1){for(var p=this.source._visibleItems;(d=p.getNext(d))&&!(d instanceof tm););this._insertRow=d?d.dataRow:o.rowCount}else this._insertRow=n?Math.min(o.rowCount,h+1):h;if(e instanceof tm&&n&&u){var f=u._pubItems.indexOf(d);f++>=0&&f<=u._pubItems.length&&(s._index2=f)}}if(i)for(l=0;l<a;l++)i.length>l&&s.setValue(l,i[l])}return s},t}(cm);!function(e){gd(function(t,i){var n=e.call(this,t)||this;return n.message=t,n.tokenPos=i,n},e)}(Error);var dm,pm=function(){function e(e){this.literal=e}return e.prototype.evaluate=function(e){return this.literal},e}(),fm=function(){function e(e,t){void 0===t&&(t=-1),this.ident=e,this.idKey=t}return e.prototype.evaluate=function(e){return this.idKey<0&&(this.idKey=e.isIdentifier(this.ident)),e.evaluateIdentifier(this.idKey)},e}(),_m=function(){function e(e,t,i){void 0===t&&(t=-1),void 0===i&&(i=!1),this.ident=e,this.idKey=t,this.capital=i}return e.prototype.evaluate=function(e){var t=this.ident,i=t.indexOf("["),n=t.indexOf("]");if(i<n){var r=t.substr(0,i).trim(),o=t.substring(i+1,n).replace(/['|"]/g,"").trim();return this.idKey<0&&(this.idKey=e.isIdentifier(r)),e.evaluateIndexerS(this.idKey,o,this.capital)}},e}(),gm=function(){function e(e,t){void 0===t&&(t=!1),this._silentError=!1,this._tokens=[],this._source=e,this._silentError=t,e&&this._parse(e)}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(e){e!=this._source&&(this._source=e,this._parse(e))},enumerable:!1,configurable:!0}),e.prototype.evaluate=function(e){try{for(var t=this._tokens,i="",n=0,r=t.length;n<r;n++)i+=t[n].evaluate(e)||"";return i}catch(o){if(!this._silentError)throw new o}return null},e.prototype._parse=function(e){if(this._tokens=[],e)for(var t,i=e.length,n=0;n<i;){var r=e.indexOf("${",n);if(r>=0){var o=e.indexOf("}",r+2);if(o>=0){if(r>n){var s=e.substring(n,r);t=new pm(s),this._tokens.push(t)}if(u=e.substring(r+2,o).trim()){var a,l=void 0;t=(a=u.indexOf("["))&&(l=u.indexOf("]"))&&a<l?new _m(u):new fm(u),this._tokens.push(t)}n=o+1}else r=-1}if(r<0){var u=e.substr(n,i);t=new pm(u),this._tokens.push(t);break}}},e}();!function(e){e.ACTIVE="active",e.UNACTIVE="unactive",e.INDETERMINATE="indeterminate"}(dm||(dm={}));var mm,ym=function(e){function t(t){var i=e.call(this)||this;return i._active=!1,i._visible=!0,i._level=0,i._category=null,i.criteria=t,i}return gd(t,e),t.prototype._doDispose=function(){this._criteria=null,this._category=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"criteria",{get:function(){return this._criteria},set:function(e){this._criteria=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"callback",{get:function(){return this._callback},set:function(e){this._callback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this._description},set:function(e){this._description=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(e){e!=this._active&&(this._active=e,this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e,this.changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tag",{get:function(){return this._tag},set:function(e){this._tag=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"category",{get:function(){return this._category},set:function(e){this._category=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterValue",{get:function(){return this._filterValue},set:function(e){this._filterValue=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._text||this._name},t.prototype.changed=function(){this.fireEvent(t.CHANGED)},t.CHANGED="onColumnFilterChanged",t}(Vf),vm=function(e){function t(){var t=e.call(this,null)||this;return t._childs=[],t}return gd(t,e),Object.defineProperty(t.prototype,"active",{get:function(){for(var e=this._childs.length;e--;)if(!this._childs[e].active)return!1;return!0},set:function(e){for(var t=this._childs.length;t--;)this._childs[t].active=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._childs.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeState",{get:function(){for(var e=void 0,t=0,i=this._childs.length;t<i;t++){if(null!=e&&this._childs[t].active!=e)return dm.INDETERMINATE;e=this._childs[t].active}return e?dm.ACTIVE:dm.UNACTIVE},enumerable:!1,configurable:!0}),t.prototype._doDispose=function(){this.clear(),e.prototype._doDispose.call(this)},t.prototype.clear=function(){this._childs=[]},t.prototype.addChild=function(e){e.level=this.level+1,e.category=this,this._childs.push(e)},t.prototype.getChild=function(e){return this._childs[e]},t}(ym),bm=function(){function e(e){this._model=e,this.parse()}return e.prototype._doDispose=function(){this._exprNode=null,this._model=null},Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),e.prototype.prepare=function(e,t){e.setDataSource(t)},e.prototype.select=function(e,t,i){var n,r=this._model,o=r.callback;return o&&(n=o.call(this,e._ds.handler,t.dataRow,t.level,i,r,t.getData(i))),"boolean"==typeof n?n:!this._exprNode||(e.setData(t,i,r),this._exprNode.evaluate(e))},e.prototype.parse=function(){this._model.criteria?this._exprNode=$f.Default.parse(this._model.criteria,null):this._exprNode=null},e}(),wm=function(e){function t(t){var i=e.call(this)||this;return i._items=[],i._names={},i._updating=!1,i._nextId=1,i._owner=t,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"count",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeCount",{get:function(){for(var e=0,t=0,i=this._items;t<i.length;t++)i[t].active&&e++;return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){for(var e=0,t=this._items;e<t.length;e++)if(t[e].visible)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.getOwner=function(){return this._owner},t.prototype.getItem=function(e){return this._items[e]},t.prototype.indexOf=function(e){for(var t=this._items.length-1;t>=0;t--)if(this._items[t].name==e)return t;return-1},t.prototype.getActiveItems=function(e){for(var t=[],i=this._items.length-1;i>=0;i--)this._items[i].active==e&&t.push(this._items[i]);return t},t.prototype.assignFrom=function(e){if(e!==this){var t=this.activeCount;if(this.clear(!1),e)for(var i=e instanceof Array?e:[e],n=i.length,r=0;r<n;r++)if((e=i[r])&&e.name){this.$_checkName(e.name);var o=new ym(null);o.assignFrom(e),this._items.push(o),this._names[e.name]=o,o.addListener(this)}this.changed(null,!1,!(t||this.activeCount))}},t.prototype.clear=function(e){void 0===e&&(e=!0);var t=this._items.length,i=this.activeCount;if(t>0){for(var n=0;n<t;n++)this._items[n].removeListener(this);return this._items.length=0,this._names={},i&&e&&this.changed(null),!0}return!1},t.prototype.add=function(e,t){void 0===t&&(t=!0);var i=Bp.cast(e,ym);i?this._items.indexOf(i)<0&&i.name&&this.$_checkName(i.name):e&&e.name&&(this.$_checkName(e.name),(i=new ym(null)).assignFrom(e)),i&&(this._items.push(i),i._owner=this,this._names[i.name]=i,i.addListener(this),this.changed(null,!1,!(i.active&&t)))},t.prototype.addAll=function(e,t,i){if(void 0===i&&(i=!0),e instanceof Array||!e||(e=[e]),(e=Bp.makeArray(e,!0)).length>0){for(var n=0,r=e.length,o=0;o<r;o++){var s=Bp.cast(e[o],ym);if(s?this._items.indexOf(s)<0&&s.name&&(t||this.$_checkName(s.name)):e[o]&&e[o].name&&(t||this.$_checkName(e[o].name),(s=new ym(null)).assignFrom(e[o])),s){var a=this.indexOf(s.name);a>=0?(this._items[a]&&this._items[a].removeListener(this),this._items[a]=s):this._items.push(s),s.addListener(this),this._names[s.name]=s,s.active&&n++}}this.changed(null,!1,!(n>0&&i))}},t.prototype.removeItems=function(e){if(e){for(var t=0,i=e.length-1;i>=0;i--){var n=this.indexOf(e[i]);if(n>=0){var r=this._items[n];this._items.splice(n,1),delete this._names[r.name],r.removeListener(this),r.active&&t++}}this.changed(null,!1,!t)}},t.prototype.$_activateItems=function(e,t,i,n,r){var o=n;this._updating=!0;try{e.forEach(function(e){e.active!=t&&(e._active=t,o=!0)})}finally{this._updating=!1}i&&o&&this.changed(null,r)},t.prototype.activateItems=function(e,t,i){var n=this;if(void 0===i&&(i=!0),e){var r=e.filter(function(e){return e&&n._names[e]}).map(function(e){return n._names[e]});this.$_activateItems(r,t,i)}},t.prototype.activateAll=function(e,t,i,n){this.$_activateItems(this._items,e,t,i,n)},t.prototype.$_hideFilters=function(e,t){e.forEach(function(e){e&&(e.visible=!t)})},t.prototype.hideFilters=function(e,t){var i=this;e&&this.$_hideFilters(e.filter(function(e){return i._names[e]}).map(function(e){return i._names[e]}),t)},t.prototype.hideAllFilters=function(e){this.$_hideFilters(this._items,e)},t.prototype.$_toggleItems=function(e){var t=!1;this._updating=!0;try{e.forEach(function(e){e._active=!e.active,t=!0})}finally{this._updating=!1}t&&this.changed(null)},t.prototype.toggleItems=function(e){var t=this;e&&this.$_toggleItems(e.filter(function(e){return t._names[e]}).map(function(e){return t._names[e]}))},t.prototype.toggleAll=function(){this.$_toggleItems(this._items)},t.prototype.changed=function(e,t,i){this._updating||this.fireEvent(ym.CHANGED,e,t,i)},t.prototype.$_checkName=function(e){if(this._names.hasOwnProperty(e))throw new Error("Column filter already existes: "+e)},t.prototype.onColumnFilterChanged=function(e){this.changed(e)},t}(Vf),Cm=function(e){function t(){var t=e.call(this)||this;return t._field=-1,t._fieldCount=0,t}return gd(t,e),t.prototype._doDispose=function(){this._item=this._ds=null,e.prototype._doDispose.call(this)},t.prototype.setDataSource=function(e){this._ds=e,this._fieldCount=this._ds?this._ds.fieldCount:0},t.prototype.setData=function(e,t,i){this._item=e,this._field=t,this._model=i},t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.$_getLookupText=function(e){var t=e._owner._owner;if(t.lookupDisplay){var i=t.lookupSource;if(i){for(var n=t.lookupKeyFieldIds,r=n.length,o=[],s=0;s<r;s++)o.push(this._item.getData(n[s]));return i.lookup(o,t.valueSeparator)}var a=t.labelFieldIndex;return a>=0?this._item.getData(a):t.getLookupLabel(this._item.getData(t.fieldName),!1)}return""},t.prototype.evaluateIdentifier=function(e){switch(e){case t.ID_VALUE:return this._item.getData(this._field);case t.ID_TEXT:return this.$_getLookupText(this._model);case t.ID_STATE:switch(this._item.rowState){case jp.CREATED:return"c";case jp.UPDATED:return"u";case jp.DELETED:return"d";case jp.CREATE_AND_DELETED:return"x"}return;case t.ID_CHANGED_CELL:var i=this._item.dataRow,n=this._field;return n>=0&&this._item.rowState==jp.UPDATED&&this._ds.isDataChanged(i,n);case t.ID_FIELD:return this._field}throw new Kp("Invalid identifier key: "+e)},t.prototype.evaluateIndexerI=function(e,i){if(this._item){if(e==t.ID_VALUE||e==t.ID_VALUES){if(i<0||i>=this._fieldCount)throw new Kp("Data field index out of bounds:"+i);return this._item.getData(i)}throw new Kp("Invalid identifier indexer: "+e)}},t.prototype.evaluateIndexerS=function(e,i,n){if(e!=t.ID_VALUE&&e!=t.ID_VALUES)throw new Kp("Invalid identifier indexer: "+e);if(this._ds){var r=n?this._ds.getFieldIndexC(i):this._ds.getFieldIndex(i);if(r<0||r>=this._fieldCount)throw new Kp("Data field is not exists:"+i);return this._item.getData(r)}},t.ID_VALUE=0,t.ID_FIELD=1,t.ID_VALUES=2,t.ID_STATE=3,t.ID_CHANGED_CELL=4,t.ID_TEXT=5,t.IDENTS={value:t.ID_VALUE,field:t.ID_FIELD,values:t.ID_VALUES,state:t.ID_STATE,changedcell:t.ID_CHANGED_CELL,text:t.ID_TEXT},t}(nf),xm=function(e){function t(t){var i=e.call(this)||this;return i._dirty=!1,i._grid=t,i}return gd(t,e),t.prototype._doDispose=function(){this._grid=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"owner",{get:function(){return this._grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},set:function(e){e!==this._dirty&&(this._dirty=e,this.invalidate())},enumerable:!1,configurable:!0}),t.prototype.clean=function(){this._dirty&&(this._dirty=!1)},t.prototype.invalidate=function(){this._grid&&this._grid.invalidate()},t.prototype.refreshOwner=function(){this._grid&&this._grid.refreshView()},t.prototype._changed=function(){this._doChanged(),this._dirty||(this._dirty=!0,this.refreshOwner())},t.prototype._doChanged=function(){},t}(Vf),Im=function(e){function t(t){var i=e.call(this,t)||this;return i._visible=!0,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){e!=this._visible&&(this._visible=e,this._visibleChanged())},enumerable:!1,configurable:!0}),t.prototype._doChanged=function(){this._grid&&this._grid._visualObjectChanged(this)},t.prototype._visibleChanged=function(){this._changed()},t}(xm),Em=function(e){function t(){var t=e.call(this)||this;return t._item=null,t._group=null,t._dataSource=null,t._fieldCount=0,t}return gd(t,e),t.prototype._doDispose=function(){this._item=null,this._group=null,this._dataSource=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"index",{get:function(){return this._item.index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!1,configurable:!0}),t.prototype.setDataSource=function(e){this._dataSource=e,this._fieldCount=e?e.fieldCount:0},t.prototype.setItem=function(e){this._item=e,this._group=Bp.cast(e,im)},t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){switch(e){case t.ID_ROW:return this._item.index;case t.ID_DATAROW:return this._item.dataRow;case t.ID_CHECKED:return this._item.checked;case t.ID_STATE:switch(this._item.rowState){case jp.CREATED:return"c";case jp.UPDATED:return"u";case jp.DELETED:return"d";case jp.CREATE_AND_DELETED:return"x"}return;case t.ID_COUNT:return this._group?this._group.count:0;case t.ID_DCOUNT:return this._group?this._group.descendantCount:0}throw new Kp("Invalid identifier key: "+e)},t.prototype.evaluateIndexerI=function(e,i){if(this._item){if(e==t.ID_VALUE||e==t.ID_VALUES){if(i<0||i>=this._fieldCount)throw new Kp("Data field index out of bounds:"+i);return this._item.getData(i)}throw new Kp("Invalid identifier indexer: "+e)}},t.prototype.evaluateIndexerS=function(e,i,n){if(e!=t.ID_VALUE&&e!=t.ID_VALUES)throw new Kp("Invalid identifier indexer: "+e);if(this._dataSource){var r=n?this._dataSource.getFieldIndexC(i):this._dataSource.getFieldIndex(i);if(r<0||r>=this._fieldCount)throw new Kp("Data field is not exists:"+i);return this._item.getData(r)}},t.ID_ROW=0,t.ID_DATAROW=1,t.ID_CHECKED=2,t.ID_VALUE=3,t.ID_VALUES=4,t.ID_STATE=5,t.ID_COUNT=6,t.ID_DCOUNT=7,t.IDENTS={row:t.ID_ROW,datarow:t.ID_DATAROW,checked:t.ID_CHECKED,value:t.ID_VALUE,values:t.ID_VALUES,state:t.ID_STATE,count:t.ID_COUNT,dcount:t.ID_DCOUNT},t}(nf),Om=function(e){function t(){var t=e.call(this)||this;return t._fieldCount=0,t}return gd(t,e),t.prototype._doDispose=function(){this._cell=null,this._item=null,this._ds=null,this._grid=null,e.prototype._doDispose.call(this)},t.prototype.setDataArguments=function(e,t,i){this._ds=e,this._fieldCount=e?e.fieldCount:0,this._cell=t,this._item=i,this._grid=t&&t.index.column.grid},t.prototype.setItem=function(e){this._item=e},t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){var i;switch(e){case t.ID_VALUE:return this._item.getData(this._cell.index.dataField);case t.ID_BASE:return(i=this._cell.index.dataColumn.baseIndex)>=0?this._item.getData(i):void 0;case t.ID_PREV_VALUES:var n=this._cell.index.column,r=this._grid.getDataColumns();i=r.indexOf(n);var o=[];if(r.length||i<0)return;for(var s=0,a=Math.min(i,r.length);s<a;s++)o.push(this._item.getData(r[s].dataIndex));return o.join("`")}throw new Kp("Invalid identifier key: "+e)},t.prototype.evaluateIndexerI=function(e,i){if(this._item){if(e==t.ID_VALUE||e==t.ID_VALUES){if(i<0||i>=this._fieldCount)throw new Kp("Data field index out of bounds:"+i);return this._item.getData(i)}throw new Kp("Invalid identifier indexer: "+e)}},t.prototype.evaluateIndexerS=function(e,i,n){if(e!=t.ID_VALUE&&e!=t.ID_VALUES)throw new Kp("Invalid identifier indexer: "+e);if(this._ds){var r=n?this._ds.getFieldIndexC(i):this._ds.getFieldIndex(i);if(r<0||r>=this._fieldCount)throw new Kp("Data field is not exists:"+i);return this._item.getData(r)}},t.ID_VALUE=0,t.ID_VALUES=1,t.ID_BASE=2,t.ID_PREV_VALUES=3,t.IDENTS={value:t.ID_VALUE,values:t.ID_VALUES,base:t.ID_BASE,prevvalues:t.ID_PREV_VALUES},t}(nf),Sm=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype.setGrid=function(e){this._grid=e},t.prototype.setGroup=function(e){this._group=e},t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){var i,n,r=this._group;switch(e){case t.ID_GROUP_FIELD:return(i=r.dataSource.getField(r.groupField))?i.fieldName:"";case t.ID_FIELD_HEADER:return(i=r.dataSource.getField(r.groupField))?i.header:"";case t.ID_GROUP_COLUMN:return(n=this._grid?this._grid.columnByField(r.groupField):null)?n.displayText:r.dataSource.getFieldName(r.groupField);case t.ID_COLUMN_HEADER:return(n=this._grid?this._grid.columnByField(r.groupField):null)?n.header.text||n.displayText:r.dataSource.getFieldName(r.groupField);case t.ID_COLUMN_FOOTER:return(n=this._grid?this._grid.columnByField(r.groupField):null)?n.footer.text||n.displayText:r.dataSource.getFieldName(r.groupField);case t.ID_GROUP_VALUE:return r?r.groupValue:void 0;case t.ID_ROW_COUNT:return r.descendantCount}throw new Kp("Invalid identifier key: "+e)},t.prototype.evaluateIndexerI=function(e,i){switch(e){case t.ID_SUM:case t.ID_MAX:case t.ID_MIN:case t.ID_AVG:case t.ID_DATA_COUNT:case t.ID_DATA_AVG:if(isNaN(i)||i<0)return;var n=void 0;switch(e){case t.ID_SUM:n=this._group.getSum(i);break;case t.ID_MAX:n=this._group.getMax(i);break;case t.ID_MIN:n=this._group.getMin(i);break;case t.ID_AVG:n=this._group.getAvg(i);break;case t.ID_DATA_COUNT:n=this._group.getDataCount(i);break;case t.ID_DATA_AVG:n=this._group.getDataAvg(i)}return isNaN(n)?"":String(n)}throw new Kp("Invalid identifier indexer: "+e)},t.prototype.evaluateIndexerS=function(e,t,i){var n=this._group.dataSource,r=t?n?n.getFieldIndex(t):-1:this._group.groupField;return this.evaluateIndexerI(e,r)},t.ID_GROUP_FIELD=0,t.ID_FIELD_HEADER=1,t.ID_GROUP_COLUMN=2,t.ID_COLUMN_HEADER=3,t.ID_COLUMN_FOOTER=4,t.ID_GROUP_VALUE=5,t.ID_ROW_COUNT=6,t.ID_SUM=7,t.ID_MAX=8,t.ID_MIN=9,t.ID_AVG=10,t.ID_DATA_COUNT=11,t.ID_DATA_AVG=12,t.IDENTS={groupfield:t.ID_GROUP_FIELD,fieldheader:t.ID_FIELD_HEADER,groupcolumn:t.ID_GROUP_COLUMN,columnheader:t.ID_COLUMN_HEADER,columnfooter:t.ID_COLUMN_FOOTER,groupvalue:t.ID_GROUP_VALUE,rowcount:t.ID_ROW_COUNT,sum:t.ID_SUM,max:t.ID_MAX,min:t.ID_MIN,avg:t.ID_AVG,datacount:t.ID_DATA_COUNT,dataavg:t.ID_DATA_AVG},t}(nf),km=function(e){function t(t){var i=e.call(this)||this;return i._index=new Wv,i._name=t,i}return gd(t,e),t.prototype._doDispose=function(){this._index&&this._index.dispose(),this._index=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._index.item},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueColumn",{get:function(){return this._index.valueColumn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumn",{get:function(){return this._index.dataColumn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return 0},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e){this._index.assignFrom(e)},t.prototype.setIndex2=function(e,t,i){this._index._grid=e,this._index.set(t,i)},t.prototype.setLayout=function(e){this._index.layout=e},t.ERROR="<<ERROR>>",t}(Yp),Pm=function(e){function t(t,i){void 0===i&&(i=null);var n=e.call(this,i)||this;return n._model=t,n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"model",{get:function(){return this._model},set:function(e){this._model=e},enumerable:!1,configurable:!0}),t}(km),Rm=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.getBlankState=function(e){return Nd.NONE},t.prototype.isValueChanged=function(){return!1},t}(km),Tm=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t||"dataCell")||this}return gd(t,e),t.getText=function(e,i){var n=i.dataIndex>=0?e.getData(i.dataIndex):void 0;return t._getText(e,i,n)},t._getText=function(e,t,i){var n,r=t,o=function(){var t=r.labelFieldIndex;return t>=0?e.getData(t):r.getLookupLabel(i,!0)};if(r.lookupDisplay){var s=r.lookupSource;if(s){for(var a=r.lookupKeyFieldIds,l=a.length,u=[],c=0;c<l;c++)u.push(e.getData(a[c]));n=!s.exists(u)&&r.labelFieldIndex>=0?o():s.lookup(u,r.valueSeparator,r.textOfInvalid)}else n=o()}else{var h,d=void 0;n=i,r.valueType==vd.NUMBER&&null!=(h=r.nanText)&&isNaN(n)?n=h:(d=r.displayCallback)?n=d(r.grid.handler,Gv.tempItem(r.grid,e,t).proxy(),n):null!=n&&"object"==typeof n&&(n=JSON.stringify(n))}return null==n?"":String(n)},t._getDisplayText=function(e,i,n,r,o){var s,a=e.formatOptions,l=o.textFormatter||void 0===n.textFormat&&a.textFormatter,u=o.numberFormatter||void 0===n.numberFormat&&a.numberFormatter,c=o.booleanFormatter||void 0===n.booleanFormat&&a.boolFormatter,h=o.datetimeWriter||void 0===n.datetimeFormat&&a.datetimeWriter;if(null!=o.text)return o.text;if(n){switch(n.valueType){case vd.TEXT:s=r&&l?l.getText(r):t._getText(i,n,r);break;case vd.NUMBER:var d=Number(r);s=isNaN(d)||null==d?n.nanText:0==d&&null!=n.zeroText?n.zeroText:u?u.getText(d,n.displayMinusZero):t._getText(i,n,r);break;case vd.DATETIME:s=r instanceof Date&&h?h.getText(r):t._getText(i,n,r);break;case vd.BOOLEAN:s=c?c.formatValue(r):t._getText(i,n,r);break;case vd.OBJECT:var p=n.getField(),f=i.dataRow,_=n.objectKey||p.objectKey,g=n.objectCallback||p.objectCallback;if(r){var m=g&&"function"==typeof g?g(p.orgFieldName,f,r):_?r[_]:t._getText(i,n,r);switch(typeof m){case"string":s=t._getText(i,n,m);break;case"number":s=u?u.getText(m,n.displayMinusZero):String(m);break;case"boolean":s=c?c.formatValue(m):String(m);break;default:s=m instanceof Date&&h?h.getText(m):m?String(m):""}}break;default:s=t._getText(i,n,r)}if(s){var y=o.prefix;y&&(s=y+s),(y=o.suffix)&&(s+=y)}}return s},t.equalBlankRuntime=function(){return this._equalBlankRuntime||(this._equalBlankRuntime=new Om),this._equalBlankRuntime},t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.getValue=function(){var e=this.dataColumn.dataIndex;if(e>=0)return this.item.getData(e)},t.prototype.getDisplayText=function(e,i){return t._getDisplayText(e,this.index.item,this.index.dataColumn,this.getValue(),i)},Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype.getBlankState=function(e){var i=function(e,t){return e instanceof Date&&t instanceof Date?+e==+t:e==t},n=function(e){return h&&h instanceof rf?(d.setItem(e),h.evaluate(d)):e.getData(u.dataIndex)},r=function(e,t,i){var n=function(t){for(var i=t;i.level>e;)i=i.parent;return i};return n(t)===n(i)},o=function(t,o,a){if(t>=o&&t<a){var l=n(c),h=t===o?null:p.getItem(t-1),d=t===a-1?null:p.getItem(t+1);if(s=h instanceof tm&&i(l,n(h))&&(!e||r(u.groupLevel,c,h))?Nd.BODY:Nd.HEAD,!(d instanceof tm)||!i(l,n(d))||e&&!r(u.groupLevel,c,d))switch(s){case Nd.BODY:s=Nd.TAIL;break;case Nd.HEAD:s=Nd.NONE}}return s},s=Nd.NONE,a=this.index,l=a.layout,u=this.dataColumn,c=this.item,h=l.equalBlankNode||e,d=h&&t.equalBlankRuntime(),p=l.grid,f=p.fixedOptions.rowCount,_=p.layoutManager.topIndex,g=p.fixedOptions.blankRows;if(l&&(l.blanked||e)&&l.dataRoot&&c.dataRow>=0){var m=a.itemIndex;return h&&d&&d.setDataArguments(c.dataSource,this,c),s=m<f&&g?o(m,0,f):o(m,f+_,p.itemCount)}return s},t.prototype.isValueChanged=function(){var e=this.dataColumn.dataIndex;return e>=0&&this.item.isChanged(e)},t}(Rm),Dm=function(e){function t(t){return e.call(this,t||"hiddenDataCell")||this}return gd(t,e),t.prototype.setItem=function(e){this.$_item=e},Object.defineProperty(t.prototype,"item",{get:function(){return this.$_item},enumerable:!1,configurable:!0}),t}(Tm),Mm=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t||"literalCell")||this}return gd(t,e),t.getDisplayText=function(e,t,i,n,r){var o=r.prefix||"",s=r.suffix||"",a=null!=r.text?r.text:n;return a?o+a+s:""},t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"text",{get:function(){return this.index.literalColumn.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.index.column.value},enumerable:!1,configurable:!0}),t.prototype.getDisplayText=function(e,i){return t.getDisplayText(e,this.index.item,this.index.column,this.value,i)},t}(Rm),Lm=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t||"seriesCell")||this}return gd(t,e),t.getText=function(e,t){return void 0===t&&(t=","),e?e.join(t):""},t.getValue=function(e){var t=e.column;if(t instanceof wv){var i=t.fields,n=i?i.length:0;if(n>0){for(var r=e.item,o=new Array(n),s=0;s<n;s++)i[s]>=0&&(o[s]=r.getData(i[s]));return o}}return[]},t._getDisplayText=function(e,i){void 0===i&&(i=",");var n=t.getValue(e);return n?n.join(i):""},t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.getDisplayText=function(e,t){var i=this.value;return this.index.seriesColumn.actualTarget&&(i=i.reverse()),i?i.join(t):""},Object.defineProperty(t.prototype,"getText",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return t.getValue(this.index)},enumerable:!1,configurable:!0}),t}(Rm),Am=function(e){function t(){var t=e.call(this)||this;return t.minBarWidth=1,t.maxBarWidth=0,t.barWidth=0,t}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doRender=function(e,t,i){var n=this._getBarLength();if(!(n<1)){var r=this.barWidth;r<=0&&(r=Math.floor(t.width/n),r=Math.max(this.minBarWidth,r),this.maxBarWidth>0&&(r=Math.min(this.maxBarWidth,r))),n*=r,t.x+=(t.width-n)/2,t.x=Math.floor(t.x),this._drawBars(e,this.barStyle,i,t.x,t.y,r,t.height)}},t}(function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this._value){this._value=e;try{this._error=null,this._parse(e)}catch(t){this._error=t}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),t.prototype.render=function(e,t){this._doRender(e,t,!1)},t.prototype.renders=function(e,t){this._doRender(e,t,!0)},t}(Yp)),Fm=[2171426,2236706,2236961,1184291,1184546,1249826,1188371,1188626,1253906,2232851,2233106,2298386,1122866,1188146,1188401,1126946,1192226,1192481,2241041,2232626,2232881,2175506,2240786,3219761,3215906,3281186,3281441,3219986,3285266,3285521,2171171,2171681,2302241,1119011,1249571,1250081,1123091,1253651,1254161,2167571,2298131,2298641,1122611,1123121,1253681,1126691,1127201,1257761,3223841,2167601,2298161,2175251,2175761,2175281,3215651,3216161,3346721,3219731,3220241,3350801,3227921,2233361,4395281,1118756,1119266,1184036,1184801,1315106,1315361,1122836,1123346,1188116,1188881,1319186,1319441,2363921,2232596,4272401,2363666,1261841,1118786,1184066,1184321,1131026,1196306,1196561,4264466,4329746,4330001,2171201,2179361,4268321,1118531,1119041,1249601,1130771,1131281,4264211,4264721,1126721,1130801,3215681,4264241,2167826,2167316,2167346,36901138],$m=[103,104,105],Nm=[251658240,15728640,983040,61440,3840,240,15],jm=function(e){function t(){var t=e.call(this)||this;return t.quietZoneWidth=10,t}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._parse=function(e){this._weights=[];var t=e?e.length:0;if(!(t<1)){var i=this.$_detectType(e),n=$m[i],r=Fm[n],o=n;if(this._weights.push(r),2==i)for(var s=0;s<t;s+=2){var a=e.substr(s,2);n=parseInt(a),n=this.$_convert(i,n),r=Fm[n],this._weights.push(r),o+=n*(Math.floor(s/2)+1)}else for(s=0;s<t;s++)n=e.charCodeAt(s),n=this.$_convert(i,n),r=Fm[n],this._weights.push(r),o+=n*(s+1);o%=103,this._weights.push(Fm[o]),this._weights.push(Fm[106])}},t.prototype._getBarLength=function(){return this.quietZoneWidth+11*(this._weights.length-1)+13+this.quietZoneWidth},t.prototype._drawBars=function(e,t,i,n,r,o,s){n+=10*o;for(var a,l=this._weights.length-1,u=0;u<l;u++){a=this._weights[u];for(var c=0;c<6;c++){var h=(a&Nm[c+1])>>4*(5-c);h*=o,c%2==0&&(i?e.sbounds(t,n+"",r+"%",h+"",s+"%"):e.bounds(t,n,r,h,s)),n+=h}}for(a=this._weights[l],c=0;c<7;c++)h=(a&Nm[c])>>4*(6-c),h*=o,c%2==0&&(i?e.sbounds(t,n+"",r+"%",h+"",s+"%"):e.bounds(t,n,r,h,s)),n+=h},t.prototype.$_convert=function(e,t){switch(e){case 0:if(t>=0&&t<32)return t+64;if(t>=32&&t<96)return t-32;break;case 1:if(t>=32&&t<128)return t-32;break;case 2:if(t>=0&&t<=99)return t}throw new Error("Invalid code128 charactor: "+t)},t.prototype.$_detectType=function(e){return e.length%2==0&&/^\d+$/.test(e)?2:/[a-z]/.test(e)?1:0},t}(Am),Bm={0:"nnnwwnwnn",1:"wnnwnnnnw",2:"nnwwnnnnw",3:"wnwwnnnnn",4:"nnnwwnnnw",5:"wnnwwnnnn",6:"nnwwwnnnn",7:"nnnwnnwnw",8:"wnnwnnwnn",9:"nnwwnnwnn",A:"wnnnnwnnw",B:"nnwnnwnnw",C:"wnwnnwnnn",D:"nnnnwwnnw",E:"wnnnwwnnn",F:"nnwnwwnnn",G:"nnnnnwwnw",H:"wnnnnwwnn",I:"nnwnnwwnn",J:"nnnnwwwnn",K:"wnnnnnnww",L:"nnwnnnnww",M:"wnwnnnnwn",N:"nnnnwnnww",O:"wnnnwnnwn",P:"nnwnwnnwn",Q:"nnnnnnwww",R:"wnnnnnwwn",S:"nnwnnnwwn",T:"nnnnwnwwn",U:"wwnnnnnnw",V:"nwwnnnnnw",W:"wwwnnnnnn",X:"nwnnwnnnw",Y:"wwnnwnnnn",Z:"nwwnwnnnn","-":"nwnnnnwnw",".":"wwnnnnwnn"," ":"nwwnnnwnn",$:"nwnwnwnnn","/":"nwnwnnnwn","+":"nwnnnwnwn","%":"nnnwnwnwn","*":"nwnnwnwnn"},Vm=function(e){function t(){var t=e.call(this)||this;return t._wideWidth=3,t}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._parse=function(e){if(this._codes=[],e){var t=e.length;this._codes.push(Bm["*"]);for(var i=0;i<t;i++){var n=e.charAt(i),r=Bm[n];if(!r)throw new Error("Invalid Code39 character: "+n);this._codes.push(r)}this._codes.push(Bm["*"])}},t.prototype._getBarLength=function(){var e=this._codes.length;return e*(3*this._wideWidth+6)+(e-1)},t.prototype._drawBars=function(e,t,i,n,r,o,s){var a=this._codes.length;if(a>2)for(var l=0;l<a;l++){for(var u=this._codes[l],c=0;c<9;c++){var h="n"==u.charAt(c)?1:this._wideWidth;h*=o,c%2==0&&(i?e.sbounds(t,n+"",r+"%",h+"",s+"%"):e.bounds(t,n,r,h,s)),n+=h}l<a-1&&(n+=o)}},t}(Am),Hm="http://www.w3.org/2000/svg",Um=0,Wm=function(e){function t(t,i){var n=e.call(this)||this;return n._transforms=[],n._defs=t,n._element=i,n}return gd(t,e),t.prototype._doDispose=function(){this.clear(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"doc",{get:function(){return $p(this._element)||document},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t){return this._defs=e,this._element=t,this},t.prototype.clear=function(){this._defs=null,this._element=null,this._transforms=null},t.prototype.save=function(){this._transforms.push(this._trans),this._trans=""},t.prototype.restore=function(){this._trans=this._transforms.pop()},t.prototype.translate=function(e,t){this._trans+="translate("+e+","+t+")"},t.prototype.rotate=function(e){this._trans+="rotate("+180*e/Math.PI+")"},t.prototype.rotateAt=function(e,t,i){this._trans+="rotate("+180*e/Math.PI+","+t+",)"},t.prototype.scale=function(e,t){this._trans+="scale("+e+","+t+")"},t.prototype.clipRect=function(e){this.clip(e.x,e.y,e.width,e.height)},t.prototype.clip=function(e,t,i,n){var r=this.doc,o=Um++,s=r.createElementNS(Hm,"clipPath");s.setAttributeNS(null,"id","clip"+o);var a=r.createElementNS(Hm,"rect");a.x.baseVal.value=e,a.y.baseVal.value=t,a.width.baseVal.value=i,a.height.baseVal.value=n,s.appendChild(a),this._defs.appendChild(s)},t.prototype.sline=function(e,t,i,n,r){var o=this.doc.createElementNS(Hm,"line");this._element.appendChild(o),o.x1.baseVal.valueAsString=t,o.y1.baseVal.valueAsString=i,o.x2.baseVal.valueAsString=n,o.y2.baseVal.valueAsString=r,e&&o.setAttribute("class",e)},t.prototype.polygon=function(e,t){if(!(null==t||t.length<4)){var i=this.doc.createElementNS(Hm,"polygon");this._element.appendChild(i);var n=[];n.push(t[0]+","+t[1]);for(var r=2;r<t.length;r+=2)n.push(t[r]+","+t[r+1]);this._trans&&i.setAttributeNS(null,"transform",this._trans),i.setAttributeNS(null,"points",n.join(" ")),e&&i.setAttribute("class",e)}},t.prototype.bounds=function(e,t,i,n,r){var o=this.doc.createElementNS(Hm,"rect");this._element.appendChild(o),o.x.baseVal.value=t,o.y.baseVal.value=r<0?i+r:i,o.width.baseVal.value=n,o.height.baseVal.value=Math.abs(r),e&&o.setAttribute("class",e)},t.prototype.pbounds=function(e,t,i,n,r){var o=this.doc.createElementNS(Hm,"rect");this._element.appendChild(o),o.x.baseVal.valueAsString=t+"%",o.y.baseVal.valueAsString=(r<0?i+r:i)+"%",o.width.baseVal.valueAsString=n+"%",o.height.baseVal.valueAsString=Math.abs(r)+"%",e&&o.setAttribute("class",e)},t.prototype.sbounds=function(e,t,i,n,r){var o=this.doc.createElementNS(Hm,"rect");this._element.appendChild(o),o.x.baseVal.valueAsString=t,o.y.baseVal.valueAsString=i,o.width.baseVal.valueAsString=n,o.height.baseVal.valueAsString=r,e&&o.setAttribute("class",e)},t.prototype.scircle=function(e,t,i,n){var r=this.doc.createElementNS(Hm,"circle");this._element.appendChild(r),r.cx.baseVal.valueAsString=t,r.cy.baseVal.valueAsString=i,r.r.baseVal.valueAsString=n,e&&r.setAttribute("class",e)},t.prototype.ellipse=function(e,t,i,n,r){var o=this.doc.createElementNS(Hm,"ellipse"),s=n/2,a=r/2;this._element.appendChild(o),o.cx.baseVal.value=t+s,o.cy.baseVal.value=i+a,o.rx.baseVal.value=s,o.ry.baseVal.value=a,e&&o.setAttribute("class",e)},t}(Yp),Gm=function(e){function t(t){var i=e.call(this)||this,n=$p(t),r=i._element=n.createElementNS(Hm,"svg"),o=r.style,s=i._defs=n.createElementNS(Hm,"defs");return r.appendChild(s),o.background="",o.border="none",o.pointerEvents="none",t.appendChild(r),i._renderer=new Wm(i._defs),i}return gd(t,e),t.createSVG=function(e){var t=$p(e),i=t.createElementNS(Hm,"svg"),n=i.style,r=t.createElementNS(Hm,"defs");i.appendChild(r),n.background="",n.border="none",n.pointerEvents="none";var o=t.createElementNS(Hm,"g");return i.appendChild(o),e.appendChild(i),i},t.renderSVG=function(e,t,i){var n=t.lastElementChild,r=this._renderer.init(t.firstChild,n);n.textContent="",i.call(e,t,r,t.clientWidth,t.clientHeight),r.clear()},t.renderSVG2=function(e,t,i,n,r){var o=$p(t);t.childElementCount>1&&t.removeChild(t.lastElementChild);var s=o.createElementNS(Hm,"g"),a=this._renderer.init(t.firstChild,s);t.appendChild(s),i.call(e,t,a,n,r),a.clear()},t.prototype._doDispose=function(){this._renderer=this._renderer.dispose(),this._element.parentElement&&this._element.parentElement.removeChild(this._element),this._element=this._defs=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),t.prototype.render=function(e){this._clear(),e?e.call(this,this._renderer,this._element.clientWidth,this._element.clientHeight):this._doRender(this._renderer,this._element.clientWidth,this._element.clientHeight)},t.prototype._clear=function(){this._element.childElementCount>1&&this._element.removeChild(this._element.lastElementChild);var e=$p(this._element).createElementNS(Hm,"g");this._element.appendChild(e),this._renderer._element=e},t.prototype._doRender=function(e,t,i){},t._renderer=new Wm,t}(Yp),zm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.draw=function(e,t,i){this._doDraw(e,t,i)},t}(Yp),Ym={rectangle:[0,0,1,0,1,1,0,1],triangle:[.5,0,0,1,1,1],itriangle:[0,0,.5,1,1,0],diamond:[.5,0,0,.5,.5,1,1,.5],uparrow:[.5,0,0,.5,.3,.5,.3,1,.7,1,.7,.5,1,.5],downarrow:[.3,0,.3,.5,0,.5,.5,1,1,.5,.7,.5,.7,0],leftarrow:[0,.5,.5,1,.5,.7,1,.7,1,.3,.5,.3,.5,0],rightarrow:[0,.3,0,.7,.5,.7,.5,1,1,.5,.5,0,.5,.3],plus:[.3,0,.3,.3,0,.3,0,.7,.3,.7,.3,1,.7,1,.7,.7,1,.7,1,.3,.7,.3,.7,0],minus:[0,.3,0,.7,1,.7,1,.3],star:[.5,0,.6122,.3454,.9755,.3454,.6816,.559,.7938,.9045,.5,.691,.2061,.9045,.3183,.559,.02447,.3454,.3877,.3454]},qm={equal:[[0,.2,0,.4,1,.4,1,.2],[0,.6,0,.8,1,.8,1,.6]]},Km=function(e){function t(t){var i=e.call(this)||this;return i._shape=t,i}return gd(t,e),Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(e){this._shape=e?"inverted_triangle"===e?t.INVERTED_TRIANLGE:e.toLowerCase():null},enumerable:!1,configurable:!0}),t.prototype._doDraw=function(e,t,i){var n=this._shape;if(Ym.hasOwnProperty(n)){if(u=Ym[n]){for(var r=0,o=0,s=0,a=(u=u.slice()).length/2;s<a;s++)u[2*s]=r+u[2*s]*t,u[2*s+1]=o+u[2*s+1]*i;u.push(u[0],u[1]),e.polygon(null,u)}}else if(qm.hasOwnProperty(n)){var l=qm[n];if(l){var u;for(r=0,o=0,s=0,a=(u=l[0].slice()).length/2;s<a;s++)u[2*s]=r+u[2*s]*t,u[2*s+1]=o+u[2*s+1]*i;for(u.push(u[0],u[1]),e.polygon(null,u),s=0,a=(u=(u=l[1]).slice()).length/2;s<a;s++)u[2*s]=r+u[2*s]*t,u[2*s+1]=o+u[2*s+1]*i;u.push(u[0],u[1]),e.polygon(null,u)}}},t.RECTANGLE="rectangle",t.TRIANLGE="triangle",t.INVERTED_TRIANLGE="itriangle",t.DIAMOND="diamond",t.UP_ARROW="uparrow",t.DOWN_ARROW="downarrow",t.LEFT_ARROW="leftarrow",t.RIGHT_ARROW="rightarrow",t.PLUS="plus",t.MINUS="minus",t.EQUAL="equal",t.STAR="star",t}(zm),Xm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._doDraw=function(e,t,i){e.ellipse(null,0,0,t,i)},t}(zm),Zm=function(){function e(){}return e.layoutFlex=function(e,t,i,n,r,o){var s=o===Kd.CENTER,a=Bp.included(o,Kd.LEFT,Kd.LEFT_EDGE),l=Bp.included(o,Kd.RIGHT,Kd.RIGHT_EDGE),u=Bp.included(o,Kd.TOP,Kd.TOP_EDGE),c=Bp.included(o,Kd.BOTTOM,Kd.BOTTOM_EDGE),h=Bp.included(o,Kd.LEFT_EDGE,Kd.RIGHT_EDGE,Kd.TOP_EDGE,Kd.BOTTOM_EDGE),d=e.style,p=s||a||l?"row":"column";p+=l||c?"-reverse":"",d.flexDirection=p,d.justifyContent=h?"start":"center",d.alignItems="center",(d=t.style).paddingTop=u&&h?r+"px":"",d.paddingBottom=c&&h?r+"px":"",(d=i.style).display=s?"none":"",d.paddingLeft=a?n+"px":"",d.paddingRight=l?n+"px":"",d.paddingTop=u?n+"px":"",d.paddingBottom=c?n+"px":"",d.flexGrow=h?"1":""},e.clearFlex=function(e){var t=e.style;t.removeProperty("display"),t.removeProperty("flex-direction"),t.removeProperty("justify-content"),t.removeProperty("align-items"),t.removeProperty("flex-grow"),t.removeProperty("flex-wrap"),t.removeProperty("gap")},e}(),Jm=function(e){var t=e.visible?1:0,i=e.footerCount;if((t+=Math.max(e.descendantCount,e.count)-i)>1)return!0;for(var n=0;n<i;n++)if(e.getFooter(n).visible&&++t>1)return!0;return!1},Qm=function(e,t){return Jm(e)||e.footerCount>0||Ad(t)},ey=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype.getShadowRow=function(){var e=this.parent.firstDataItem;return e?e.dataRow:-1},t}(rm),ty=function(e){function t(t,i){var n=e.call(this,i)||this;return n._level=0,n._level=t,n}return gd(t,e),Object.defineProperty(t.prototype,"groupLevel",{get:function(){return this._level},enumerable:!1,configurable:!0}),t.prototype.getShadowRow=function(){var e=this.firstDataItem;return e?e.dataRow:-1},Object.defineProperty(t.prototype,"merged",{get:function(){return!0},enumerable:!1,configurable:!0}),t}(nm),iy=function(e){function t(t){var i=e.call(this)||this;return i._fixedCount=0,i._items=[],i._rowCount=NaN,i._rs=t,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"provider",{get:function(){return this._rs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedCount",{get:function(){return this._fixedCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowCount",{get:function(){if(isNaN(this._rowCount)){for(var e=this._items,t=0,i=e.length-1;i>=0;i--)e[i]instanceof tm&&t++;this._rowCount=t}return this._rowCount},enumerable:!1,configurable:!0}),t.prototype.getItem=function(e){return this._items[e]},t.prototype.clear=function(e){void 0===e&&(e=null);for(var t=this._rs,i=0,n=(e=e||this._items).length;i<n;i++){var r=e[i];r._parent=t._rootItem,r._index=-1,r instanceof nm&&r._children&&this.clear(r._children)}e.length=0,this.$_changed()},t.prototype.expand=function(e,t,i,n){return this.$_expandItem(e,t,i,n),this.$_changed(),!0},t.prototype.collapse=function(e,t){var i,n,r=this._rs,o=this._items;e._expanded=!1;var s=e.index;s>=0?(o.splice(s,1),e._index=-1):(s=this.$_firstIndex(e,r.expandedAdornments==Ed.SUMMARY,!0))<0&&(s=e.firstItem.index);var a=0;if(s>=0)for(;s+a<o.length;){var l=o[s+a];if(!l||!l.isDescendantOf(e))break;if(a++,l._index=-1,t&&(l instanceof im||l instanceof rm)){var u=l instanceof im?l:l instanceof rm&&l.parent._expanded?l.parent:null;u&&(u._expanded=!1)}}switch(o.splice(s,a),i=e.footerCount,r.collapsedAdornments){case Ed.BOTH:e._index=s,o.splice(s++,0,e);for(var c=0;c<i;c++)o.splice(s+c,0,n=e.getFooter(c)),n._index=s+c;break;case Ed.FOOTER:case Ed.SUMMARY:if(i)for(c=0;c<i;c++)o.splice(s+c,0,n=e.getFooter(c)),n._index=s+c;else for(c=0;c<e.allFooterCount;c++)o.splice(s+c,0,n=e._allFooters[c]),n._index=s+c;break;case Ed.HEADER:default:e._index=s,o.splice(s,0,e)}return this.$_changed(),!0},t.prototype.getNext=function(e){return null!=e&&e.visible&&e.index<this.count-1?this._items[e.index+1]:null},t.prototype.getPrior=function(e){return null!=e&&e.visible&&e.index>0?this._items[e.index-1]:null},t.prototype.$_changed=function(){this._rowCount=NaN},t.prototype.$_collectChildren=function(e,t,i,n,r){var o,s=this._rs,a=s.expandedAdornments,l=s.collapsedAdornments;if(n&&e&&e._setExpanded(!0),s.mergeMode){var u=void 0;if(!(e instanceof om))if(a==Ed.HEADER||a==Ed.BOTH)t.push(e);else if(a==Ed.SUMMARY)for(var c=0,h=e.footerCount;c<h;c++)u=e.getFooter(c),t.push(u);for(var d=0,p=e.count;d<p;d++)if((g=e.getItem(d))instanceof im){var f=g;if(i&&(!r||f.level<=r)||f.expanded)this.$_collectChildren(f,t,i,n,r);else{var _=f.footerCount;switch(l){case Ed.BOTH:for(t.push(f),c=0;c<_;c++)u=f.getFooter(c),t.push(u);break;case Ed.SUMMARY:case Ed.FOOTER:if(_)for(c=0;c<_;c++)u=f.getFooter(c),t.push(u);else for(c=0;c<f.allFooterCount;c++)u=f._allFooters[c],t.push(u);break;case Ed.HEADER:default:t.push(f)}}}else e.isFooter(g)||t.push(g);if(!(e instanceof om)&&e.footer&&(a==Ed.FOOTER||a==Ed.BOTH))for(d=0,p=e.footerCount;d<p;d++)t.push(e.getFooter(d))}else{if(!(e instanceof om))if(a==Ed.SUMMARY){if(u=e.footer,_=e.footerCount,u)for(c=e.indexOf(u),t.push(u),d=1;d<_;d++)u=e.getItem(c+d),t.push(u)}else Ad(a)&&t.push(e);for(d=0,p=e.count;d<p;d++){var g;if((g=e.getItem(d))instanceof im)if(f=g,u=void 0,_=void 0,i&&(!r||f.level<=r)||f.expanded)this.$_collectChildren(f,t,i,n,r);else switch(l){case Ed.HEADER:t.push(f);break;case Ed.FOOTER:case Ed.SUMMARY:if(u=f.footer){if(_=f.footerCount,t.push(u),_>1){c=f.indexOf(u);for(var m=1;m<_;m++)u=f.getItem(c+m),t.push(u)}}else for(_=f.allFooterCount,m=0;m<_;m++)u=f._allFooters[m],t.push(u);break;case Ed.NONE:break;case Ed.BOTH:default:if(t.push(f),(u=f.footer)&&(_=f.footerCount,t.push(u),_>1))for(c=f.indexOf(u),m=1;m<_;m++)u=f.getItem(c+m),t.push(u)}else g instanceof rm||t.push(g)}if(!(e instanceof om)&&((o=a)==Ed.BOTH||o==Ed.FOOTER)&&(u=e.footer)&&(_=e.footerCount,t.push(u),_>1))for(c=e.indexOf(u),d=1;d<_;d++)u=e.getItem(c+d),t.push(u)}},t.prototype.$_expandItem=function(e,t,i,n){var r;if(e instanceof om)r=this._fixedCount;else{switch(this._rs.collapsedAdornments){case Ed.BOTH:this._items.splice(r=e.index,1+e.footerCount);break;case Ed.FOOTER:case Ed.SUMMARY:var o=e.footer;o?this._items.splice(r=o.index,e.footerCount):e.allFooterCount>0&&this._items.splice(r=e._allFooters[0].index,e.allFooterCount);break;case Ed.HEADER:default:this._items.splice(r=e.index,1)}i&&(e._index=-1)}var s=[];this.$_collectChildren(e,s,t,i,n),this._items=this._items.splice(0,r).concat(s).concat(this._items)},t.prototype.$_firstIndex=function(e,t,i){var n=e.index;if(n>=0)return n;for(var r=this._items,o=0,s=r.length;o<s;o++){var a=r[o];if(e.isDescendant(a))return a.index}return-1},t.prototype.$_clearAndInit=function(e,t){if(this.clear(),e){this._fixedCount=Math.min(t,e.itemCount);for(var i=0;i<this._fixedCount;i++)this._items.push(e.getItem(i))}else this._fixedCount=0},t.prototype.$_resetIndices=function(e){void 0===e&&(e=0);for(var t=e,i=this._items.length;t<i;t++)this._items[t]._index=t},t}(Yp),ny=function(e,t){this.startIndex=e,this.endIndex=t,this.level=0,this.children=[]},ry=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._expandedAdornments=Ed.BOTH,n._collapsedAdornments=Ed.HEADER,n._indentVisible=!0,n._expandWhenGrouping=!1,n._mergeMode=!1,n._groupSorting=!0,n._grouped=!1,n._groupCheckable=!0,n._footerCheckable=!0,n}return gd(t,e),t.prototype._doDispose=function(){this._callbackOnwer=null,this._visibleItems=this._visibleItems.dispose(),e.prototype._doDispose.call(this)},t.prototype.groupfFooterCounterChanged=function(e){this.$_footerCounterChanged()},t.prototype.$_footerCounterChanged=function(){this._populateItems(),this._fireRefresh()},Object.defineProperty(t.prototype,"footerCounter",{get:function(){return this._footerCounter},set:function(e){e!=this._footerCounter&&(e&&e.setCounterAware(null),this._footerCounter=e,e&&e.setCounterAware(this),this.$_footerCounterChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandedAdornments",{get:function(){return this._expandedAdornments},set:function(e){e!=this._expandedAdornments&&(this._expandedAdornments=e,this.grouped&&(this._populateItems(),this._fireRefresh()))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapsedAdornments",{get:function(){return this._collapsedAdornments},set:function(e){e!=this._collapsedAdornments&&(this._collapsedAdornments=e,this.grouped&&(this._populateItems(),this._fireRefresh()))},enumerable:!1,configurable:!0}),t.prototype.resetAdornments=function(e,t,i){(i||t.expandedAdornments!=this._expandedAdornments||t.collapsedAdornments!=this._collapsedAdornments||t.indentVisible!=this._indentVisible)&&(this._expandedAdornments=t.expandedAdornments,this._collapsedAdornments=t.collapsedAdornments,this._callbackOnwer=e,this._footerCallback=t.createFooterCallback,this._valueForGroupCallback=t.valueForGroupCallback,this._indentVisible=t.indentVisible,this.grouped&&(this._populateItems(),this._fireRefresh()))},Object.defineProperty(t.prototype,"expandWhenGrouping",{get:function(){return this._expandWhenGrouping},set:function(e){this._expandWhenGrouping=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergeMode",{get:function(){return this._mergeMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summaryMode",{get:function(){return this._summaryMode||u_.groupSummaryMode||Fd.AGGREGATE},set:function(e){e!=this._summaryMode&&(this._summaryMode=e,this._populateItems(),this._fireRefresh())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{get:function(){return this._grouped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupCount",{get:function(){return this._groupFields?this._groupFields.length:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupSorting",{get:function(){return this._groupSorting},set:function(e){this._groupSorting!=e&&(this._groupSorting=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleRowCount",{get:function(){return this._visibleItems.rowCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indentVisible",{get:function(){return this._indentVisible},enumerable:!1,configurable:!0}),t.prototype.canGrouping=function(e){return this.fireGrouping(e)},t.prototype.groupBy=function(e){this.groupByMode(e,this._mergeMode)},t.prototype.groupByMode=function(e,t){this._mergeMode=null!=t?t:this._mergeMode,this._groupFields=e?e.concat():null,t||this._clearDisplayLevels(),this._populateItems();try{this._fireRefresh()}finally{this.fireGrouped(e)}},t.prototype.isGroupedField=function(e){if(this._groupFields)for(var t=this._groupFields.length;t--;)if(this._groupFields[t]==e)return!0;return!1},t.prototype.getGroupLevel=function(e){if(this._groupFields&&e>=0)for(var t=this._groupFields.length;t--;)if(this._groupFields[t]==e)return t+1;return 0},Object.defineProperty(t.prototype,"groupedFields",{get:function(){return this._groupFields?this._groupFields.concat():null},enumerable:!1,configurable:!0}),t.prototype.expand=function(e,t,i,n){if(e&&(!e.expanded||i)&&this.fireExpand(e)&&(e.expanded&&this._visibleItems.collapse(e,!1),this._visibleItems.expand(e,t,!0,n)))try{this._fireRefresh()}finally{this.fireExpanded(e)}},t.prototype.$_collapseChild=function(e,t,i){for(var n=!1,r=0,o=e.count;r<o;r++){var s=e.getItem(r);if(s instanceof nm){var a=Qm(s,this.collapsedAdornments);e.expanded?a?this._visibleItems.collapse(s,t)&&(this._visibleItems.$_resetIndices(0),n=!0):this.$_collapseChild(s,t,i):a&&(s._expanded=!1,this.$_collapseChild(s,t,i))}}n&&this._fireRefresh()},t.prototype.collapse=function(e,t,i,n){var r=Qm(e,this.collapsedAdornments);if(e&&e.expanded&&r){if(this.fireCollapse(e)&&this._visibleItems.collapse(e,t)){e&&t&&i&&this.$_collapseChild(e,t,i);try{this._fireRefresh()}finally{this.fireCollapsed(e,n)}}}else e&&t&&i&&this.$_collapseChild(e,t,i)},t.prototype.collapseAll=function(e){for(var t=0;t<this._rootItem.count;t++){var i=this._rootItem.getItem(t);i instanceof im&&this.collapse(i,e,!0,null)}},t.prototype.expandAll=function(e,t){for(var i=0;i<this._rootItem.count;i++){var n=this._rootItem.getItem(i);n instanceof im&&this.expand(n,e,!0,t)}},t.prototype.findItem=function(e,t,i,n,r){var o=this.dataSource;if(!o)return-1;var s=this.itemCount;if(s<1)return-1;var a=Math.min(e.length,t.length);if(a<1)return-1;var l=!i||i.allFields,u=i&&i.caseSensitive,c=i&&i.partialMatch,h=null,d=[],p=i.reverse;n=Math.max(0,n),r=Math.min(s-1,r);for(var f=0;f<a;f++)d[f]=o.getField(e[f]).dataType;var _=i.compareCallback;_="function"==typeof _?_:Bp.compareTextValue;for(var g=n;p?g>=r:g<=r;p?g--:g++){var m=this.$_getItem(g),y=m.dataRow,v=y>=0;if(v)for(f=0;f<a;f++){var b=m.getData(e[f]),w=o.getOrgFieldName(e[f]);switch(d[f]){case vd.DATETIME:case vd.DATE:if(t[f]instanceof Date)v=_.call(o.handler,t[f],b,u,c,y,w);else{if(!h){var C=/[.]/.test(t[f])?"yyyy.MM.dd":/[/]/.test(t[f])?"yyyy/MM/dd":/[-]/.test(t[f])?"yyyy-MM-dd":"yyyyMMdd";h=new i_(C)}v=_.call(o.handler,t[f],b?h.getText(b):b,u,c,y,w)}break;default:v=_.call(o.handler,t[f],b,u,c,y,w)}if(v&&!l)return g;if(!v&&l)break}if(v)return g}return-1},t.prototype.findCell=function(e,t,i,n,r,o){var s=this.dataSource;if(!s)return null;var a=this.itemCount;if(a<1)return null;var l=i.caseSensitive,u=i.partialMatch,c=s.fieldCount,h=e.length,d=i.reverse,p=null,f=[],_=i.compareCallback;_="function"==typeof _?_:Bp.compareTextValue;for(var g=0;g<c;g++)f[g]=s.getField(g).dataType;n=Math.max(0,n),r=Math.min(a-1,r),o=Math.max(d?-1:0,Math.min(o,h-1)),d?o<0&&(o=e.length-1,n--):o>=e.length&&(n++,o=0);for(var m=n;d?m>=r:m<=r;d?m--:m++){var y=this.$_getItem(m),v=y.dataRow;if(v>=0)for(g=d?m<n?h-1:o:m>n?0:o;d?g>=0:g<h;d?g--:g++){var b=e[g];if(b>=0&&b<c){var w=y.getData(b),C=s.getOrgFieldName(b),x=!1;switch(f[b]){case vd.DATETIME:case vd.DATE:if(t instanceof Date)x=_.call(s.handler,t,w,l,u,v,C);else{if(!p){var I=/[.]/.test(t)?"yyyy.MM.dd":/[/]/.test(t)?"yyyy/MM/dd":/[-]/.test(t)?"yyyy-MM-dd":"yyyyMMdd";p=new i_(I)}x=_.call(s.handler,t,w?p.getText(w):w,l,u,v,C)}break;default:x=_.call(s.handler,t,w,l,u,v,C)}if(x)return{itemIndex:m,fieldIndex:b,searchFieldIndex:g}}}}return null},t.prototype.getGroupItem=function(e){var t=function(i){for(var n=0,r=i.children.length;n<r;n++){var o=i.children[n];if(o.id===e)return o;if(o instanceof nm){var s=t(o);if(s)return s}}};return e===this._rootItem.id?this._rootItem:t(this._rootItem)},Object.defineProperty(t.prototype,"itemCount",{get:function(){return this._grouped?this._visibleItems.count:this.source.itemCount},enumerable:!1,configurable:!0}),t.prototype.getItem=function(e,t){return this.grouped&&!t?e>=0&&e<this._visibleItems.count?this._visibleItems.getItem(e):null:this.source.getItem(e,t)},t.prototype.getItems=function(e,t){if(this.grouped){for(var i=this._visibleItems,n=[],r=Math.min(i.count,e+t-1),o=e;o<r;o++){var s=i.getItem(o);n.push(s)}return n}return this.source.getItems(e,t)},t.prototype.getAllItems=function(){if(this.grouped){var e=new iy(this);return e.expand(this.rootItem,!0,!1,0),e.items}return this.source?this.source.getAllItems():null},t.prototype.getIndexOfRow=function(e){if(this.grouped){for(var t=this._visibleItems,i=0,n=t.count;i<n;i++)if(t.getItem(i).dataRow==e)return i;return-1}return this.source.getIndexOfRow(e,!1)},t.prototype.getItemOfRow=function(e,t){if(this.grouped){for(var i=this._visibleItems,n=0,r=i.count;n<r;n++){var o=i.getItem(n);if(o.dataRow==e)return o}return null}return this.source.getItemOfRow(e,t)},t.prototype._initialize=function(){e.prototype._initialize.call(this),this._visibleItems=new iy(this)},t.prototype._clearItems=function(){this._visibleItems.clear(),this.rootItem.clear()},t.prototype._populateItems=function(){this.$_populateItems(!1)},t.prototype._clearChecked=function(){this.grouped?this.$_checkChildren(this.rootItem,!1,!1,!1):e.prototype._clearChecked.call(this),this._editItem&&this._editItem._setChecked(!1)},t.prototype.$_groupCheckable=function(e,t,i){for(var n=0,r=e.count;n<r;n++){var o=e.getItem(n);o instanceof rm&&o.setCheckable(i),o instanceof im&&(o.setCheckable(t),this.$_groupCheckable(o,t,i))}},t.prototype.setGroupCheckable=function(e,t){e==this._groupCheckable&&t==this._footerCheckable||(this._groupCheckable=e,this._footerCheckable=t,this.$_groupCheckable(this.rootItem,e,t))},t.prototype.checkAll=function(t,i,n,r,o){var s=this.dataSource;if(s)if(i||!this.grouped)e.prototype.checkAll.call(this,t,i,n,r,o);else{var a=this._visibleItems.fixedCount;if(a>0)if(n)for(var l=a;l--;){var u=this.getItem(l);u.checkable&&u._setChecked(t)}else for(l=a;l--;)this.getItem(l)._setChecked(t);var c=this.source._checkFieldIndex>-1;c&&s.beginUpdate();try{this.$_checkChildren(this.rootItem,t,n,o)}finally{c&&s.endUpdate(!1)}r?this._fireItemAllChecked(t):this._fireRefreshClient(),this._fireItemCheckChanged(null,t)}},t.prototype.getItemChecked=function(e,t){return this.source.getItemChecked(e,t)},t.prototype.setItemChecked=function(e,t){return this.source.setItemChecked(e,t)},t.prototype.getFirstRow=function(){for(var e=0,t=this._visibleItems.count;e<t;e++){var i=this._visibleItems.getItem(e);if(i instanceof tm)return i}},t.prototype.getLastRow=function(){for(var e=this._visibleItems.count-1;e>=0;e--){var t=this._visibleItems.getItem(e);if(t instanceof tm)return t}},t.prototype.getPrevRow=function(e){if(e){e.visible||(e=e.getVisibleAncestor());for(var t=e.index-1;t>=0;t--)if((e=this._visibleItems.getItem(t))instanceof tm)return e}return this.getFirstRow()},t.prototype.getNextRow=function(e){if(e){e.visible||(e=e.getVisibleAncestor());for(var t=e.index+1,i=this._visibleItems.count;t<i;t++)if((e=this._visibleItems.getItem(t))instanceof tm)return e}return this.getLastRow()},t.prototype.$_saveExpand=function(e,t){if(this.dataSource)for(var i=0,n=e.count;i<n;i++){var r=e.getItem(i);if(r instanceof nm||r instanceof ty){var o=r.firstItem._dataRowId,s=this.dataSource.getDataRow(o),a=r._groupField;s>=0&&a>=0&&(t[o]={expanded:r._expanded,children:[]},this.$_saveExpand(r,t[o].children))}}},t.prototype.$_restoreExpand=function(e,t){if(this.dataSource)for(var i=0,n=e.count;i<n;i++){var r=e.getItem(i);if(r instanceof nm||r instanceof ty){var o=r.firstItem._dataRowId,s=this.dataSource.getDataRow(o),a=r._groupField;s>=0&&a>=0&&t[o]&&(r._setExpanded(t[o].expanded),this.$_restoreExpand(r,t[o].children))}}},t.prototype.$_populateItems=function(e){if(this.dataSource){var t={},i=this.source.itemCount,n=this._rootItem;if(e&&i>0&&n&&this.$_saveExpand(n,t),this._clearItems(),this.source){if(this._groupFields){for(var r=this.dataSource.fieldCount,o=this._groupFields.length-1;o>=0;o--)this._groupFields[o]>=r&&this._groupFields.splice(o,1);this._grouped=this._groupFields.length>0}else this._grouped=!1;this._grouped&&i>0&&(this.$_buildGroupItems(i),e&&this.$_restoreExpand(n,t),this.$_resetVisibleItems())}}},t.prototype.$_checkChildren=function(e,t,i,n){for(var r=0,o=e.count;r<o;r++){var s=e.getItem(r);s&&(i?(n||s.isDataRow)&&s.checkable&&s._setChecked(t):s._setChecked(t)),s instanceof im&&this.$_checkChildren(s,t,i,n)}},t.prototype.$_getItem=function(e){return this._grouped?this._visibleItems.getItem(e):this.source.getItem(e)},t.prototype.$_resetVisibleItems=function(){this._visibleItems.$_clearAndInit(this.source,this.fixedCount),this.source&&this.source.itemCount>this._visibleItems.fixedCount&&this._visibleItems.expand(this.rootItem,!1,!1,0)},t.prototype.$_buildGroupItems=function(e){if(e>this.fixedCount){var t=new ny(this.fixedCount,e-1);this.$_buildGroups(t,this.source,this._groupFields),this.$_buildItems(this.rootItem,t,this._groupFields),this.mergeMode&&(this._clearDisplayLevels(),this.$_resetDisplayLevels(this.rootItem))}},t.prototype.$_resetDisplayLevels=function(e){for(var t=0,i=e.count;t<i;t++){var n=Bp.cast(e.getItem(t),im);if(n){var r=Bp.cast(n.firstItem,tm);r&&r._displayLevel<0&&(r._displayLevel=n.level),this.$_resetDisplayLevels(n)}}},t.prototype.$_buildGroups=function(e,t,i){if(this.dataSource&&!(i.length<=e.level)){var n=e.startIndex,r=e.endIndex;if(!(r<n)){var o=e.level+1,s=i[e.level],a=this.dataSource.getField(s),l=new ny(n,n);l.level=o,e.children.push(l);var u=!this.mergeMode&&this._valueForGroupCallback,c=t.getItem(n),h=c.getData(s);h=u?u.call(this._callbackOnwer,this._callbackOnwer,c.dataRow,a.orgFieldName,h):h;for(var d=n+1;d<=r;d++){var p=(c=t.getItem(d)).getData(s);p=u?u.call(this._callbackOnwer,this._callbackOnwer,c.dataRow,a.orgFieldName,p):p,a.equalValues(p,h)||(l&&(l.endIndex=d-1,l.groupValue=h),(l=new ny(d,d)).level=o,e.children.push(l)),h=p}l&&(l.endIndex=r,l.groupValue=h),d=0;for(var f=e.children.length;d<f;d++)this.$_buildGroups(e.children[d],t,i)}}},t.prototype.$_buildItems=function(e,t,i){var n,r=this.mergeMode,o=t.children.length;if(o>0){n=t.level;for(var s=i[t.level],a=0;a<o;a++){var l=r?new ty(n,s):new nm(s);l._setExpanded(this.expandWhenGrouping),e.add(l),l._setCheckable(this._groupCheckable),l.groupValue=t.children[a].groupValue,this.$_buildItems(l,t.children[a],i)}}else{var u=t.endIndex-t.startIndex+1,c=this.source.getItems(t.startIndex,u);e.addAll(c),this._incDescendents(e,u)}if((n=e.level)>0){var h=this._callbackOnwer,d=this._footerCallback;if(this._footerCounter)for(var p=0,f=(a=0,this._footerCounter.getGroupFooterCount(e));a<f;a++){var _=!(!d||d(h,e,a));(g=r?new ey:new rm).$_footerIndex=a,g.$_vindex=_?-1:p++,g.hiddenFooter=_,e.add(g),g._setCheckable(this._groupCheckable&&this._footerCheckable)}else if(d||d(h,e,0)){var g=r?new ey:new rm;e.add(g)}}},t.prototype.$_setEditItem=function(e){this._editItem=e},t.prototype.$_setDummyEditItem=function(e){this._dummyEditItem=e},t.prototype.fireGrouping=function(e){return this.fireConfirmEvent(t.GROUPING,e)},t.prototype.fireGrouped=function(e){this.fireEvent(t.GROUPED)},t.prototype.fireExpand=function(e){return this.fireConfirmEvent(t.EXPAND,e)},t.prototype.fireExpanded=function(e){this.fireEvent(t.EXPANDED,e)},t.prototype.fireCollapse=function(e){return this.fireConfirmEvent(t.COLLAPSE,e)},t.prototype.fireCollapsed=function(e,i){this.fireEvent(t.COLLAPSED,e,i)},t.prototype.onItemProviderRefresh=function(e){this._grouped&&(this.$_populateItems(!0),this._fireRefresh())},t.GROUPING="onGroupedItemProviderGrouping",t.GROUPED="onGroupedItemProviderGrouped",t.EXPAND="onGroupedItemProviderExpand",t.EXPANDED="onGroupedItemProviderExpanded",t.COLLAPSE="onGroupedItemProviderCollapse",t.COLLAPSED="onGroupedItemProviderCollapsed",t}(am),oy=function(){this.commit=!0,this.value=void 0},sy=function(e){function t(){var t=e.call(this)||this;return t._refreshFocusChanged=!1,t._clickOnlyFocusedCell=!0,t._textProp=Bp.TextProp,t._inited=!1,t._dirty=!1,t._className="",t._itemClickable=!1,t}return gd(t,e),t.prototype._doDispose=function(){this._dom=null,this._index=null,e.prototype._doDispose.call(this)},t.prototype.clearAndDispose=function(){return this.clearContent(),this.dispose()},t.prototype.initContent=function(e,t,i){this._inited?this._index.assign(e):(this._dom=t,this._index=e.clone(),t.className=this._className=i,t&&(t[Bp.TextProp]=""),this._doInitContent(t),this._inited=!0)},t.prototype.clearContent=function(){this._inited?(this._doClearContent(this._dom),this._dom.className=this._className="",this._inited=!1):this._dom[this._textProp]=""},t.prototype.checkClassName=function(e){return e!=this._className},t.prototype.initOptions=function(){this._doInitOptions()},Object.defineProperty(t.prototype,"grid",{get:function(){return this._index&&this._index.grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return"rg-renderer"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTooltip",{get:function(){return this._showTooltip},set:function(e){this._showTooltip=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipEllipsisOnly",{get:function(){return this._tooltipEllipsisOnly},set:function(e){this._tooltipEllipsisOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabelCallback",{get:function(){return this._ariaLabelCallback},set:function(e){this._ariaLabelCallback=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refreshFocusChanged",{get:function(){return this._refreshFocusChanged},set:function(e){this._refreshFocusChanged=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickOnlyFocusedCell",{get:function(){return this._clickOnlyFocusedCell},set:function(e){this._clickOnlyFocusedCell=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemClickable",{get:function(){return this._itemClickable},enumerable:!1,configurable:!0}),t.prototype.renderCell=function(e,t,i){if(e.accessibility){var n=this._ariaLabelCallback||e.body.ariaLabelCallback,r=n&&n.call(this,e.handler,t);r?i.cell.setAttribute("aria-label",r):i.cell.removeAttribute("aria-label")}this._doRenderCell(e,t,i,i.width-i.$_errorWidth-i.$_buttonWidth-i.$_editWidth-1,i.height-1)},t.prototype.tooltip=function(e,t){},t.prototype.getTooltip=function(e,t){var i=t.grid,n=i.body,r=t.column,o=n.getCellAt(e.item,r),s=this.tooltip(o,t);return(s=s||o&&this._makeText(i,o,e))||void 0},t.prototype.canShowInnerFocus=function(){return!1},t.prototype.canEdit=function(){return!1},t.prototype.canEditClickAt=function(e){return!1},t.prototype.preventDefaultEditClick=function(e){e.preventDefault()},t.prototype.editClick=function(e,t){var i=new oy;if(this._doEditClick(e,t,i))return i},t.prototype._doEditClick=function(e,t,i){return!1},t.prototype.preventDefaultClick=function(e){e.preventDefault()},t.prototype.canClick=function(e){return!1},t.prototype.canClickSpaceKey=function(e){return!1},t.prototype.click=function(e,t,i){return this._doClick(e,t,i)},t.prototype.itemClick=function(e){this._doItemClick(e)},t.prototype._doItemClick=function(e){},t.prototype._doClick=function(e,t,i){},t.prototype.canEditKey=function(e){return!1},t.prototype.editKey=function(e,t){var i=new oy;if(this._doEditKey(e,t,i))return i},t.prototype._doEditKey=function(e,t,i){return!1},t.prototype.moveClickElement=function(e,t){},t.prototype._doInitContent=function(e){},t.prototype._doClearContent=function(e){e&&(e[this._textProp]="")},t.prototype._doRenderCell=function(e,t,i,n,r){},t.prototype._changed=function(){this._dirty=!0},t.prototype._getValue=function(e,t,i){var n=t.item.dataRow;if(n>=0){var r=e.dataSource.getFieldIndex(i);if(r>=0)return e.dataSource.getValue(n,r)}},t.prototype._makeText=function(e,t,i){var n;return t instanceof Tm?n=t.getDisplayText(e,i)||t.dataColumn.placeHolder:t instanceof Lm?n=t.getDisplayText(e,this.index.seriesColumn.valueSeparator):t instanceof Mm&&(n=t.getDisplayText(e,i)),n||""},t.prototype._clearHeight=function(){this._dom.style.height=""},t.prototype._setHeight=function(e){this._dom.style.height=e>=0?e+"px":""},t.prototype._isEmpty=function(e){return null==e||""==e||"number"==typeof e&&isNaN(e)},t.prototype._doInitOptions=function(){},t}(Yp),ay=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),t.prototype._doRenderCell=function(e,t,i,n,r){if(t instanceof Rm)if(t.index.itemIndex!==e.layoutManager.topIndex){var o=e.blankGroupData()&&e.isGroupedColumn(t.index.dataColumn);switch(t.getBlankState(o)){case Nd.BODY:case Nd.TAIL:return this.$_setText(t.dataColumn.equalBlankText);default:this.$_setText(this._makeText(e,t,i))}}else this.$_setText(this._makeText(e,t,i))},t.prototype.$_setText=function(e){this._dom[this._textProp]=e||""},t.TYPE="text",t.Default=new t,t}(sy);!function(e){e.DEFAULT="default",e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"}(mm||(mm={}));var ly,uy=function(e){function t(){var i=e.call(this)||this;return i._barStyle=t.BAR_STYLE,i._rightBarStyle=t.BAR_RIGHT_STYLE,i._topBarStyle=t.BAR_TOP_STYLE,i._bottomBarStyle=t.BAR_BOTTOM_STYLE,i._minimum=0,i._maximum=100,i._barWidth="80%",i._showLabel=!0,i._origin=mm.LEFT,i._absoluteValue=!1,i._textOffset=5,i._negativeStyle=t.BAR_NEGATIVE_STYLE,i._percentShapeWidth=80,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doInitOptions=function(){this._barStyle=t.BAR_STYLE,this._rightBarStyle=t.BAR_RIGHT_STYLE,this._topBarStyle=t.BAR_TOP_STYLE,this._bottomBarStyle=t.BAR_BOTTOM_STYLE,this._negativeStyle=t.BAR_NEGATIVE_STYLE,this._origin=mm.LEFT,this._baseValue=void 0,this._minimum=0,this._maximum=100},Object.defineProperty(t.prototype,"barStyle",{get:function(){return this._barStyle},set:function(e){this._barStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightBarStyle",{get:function(){return this._rightBarStyle},set:function(e){this._rightBarStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topBarStyle",{get:function(){return this._topBarStyle},set:function(e){this._topBarStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomBarStyle",{get:function(){return this._bottomBarStyle},set:function(e){this._bottomBarStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minimum",{get:function(){return this._minimum},set:function(e){this._minimum=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maximum",{get:function(){return this._maximum},set:function(e){this._maximum=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showLabel",{get:function(){return this._showLabel},set:function(e){this._showLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"barWidth",{get:function(){return this._barWidth},set:function(e){e!=this._barWidth&&(this._barWidth=e,"string"==typeof e&&"%"==e.charAt(e.length-1)?this._percentShapeWidth=parseFloat(e.substring(0,e.length-1)):this._percentShapeWidth=NaN)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin},set:function(e){this._origin=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteValue",{get:function(){return this._absoluteValue},set:function(e){this._absoluteValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseValue",{get:function(){return this._baseValue},set:function(e){this._baseValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textOffset",{get:function(){return this._textOffset},set:function(e){this._textOffset=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"negativeStyle",{get:function(){return this._negativeStyle},set:function(e){this._negativeStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){var t,i,n=$p(e);e[this._textProp]="",(t=this._div=n.createElement("div")).style.position="relative",e.appendChild(t);var r=(i=this._span=n.createElement("span")).style;r.display="inline-block",r.position="absolute",e.appendChild(i)},t.prototype._doRenderCell=function(e,i,n,r,o){var s,a=this._div,l=a.style,u=this._minimum,c=this._maximum,h=Bp.included(this._origin,mm.LEFT,mm.BOTTOM)?this._baseValue:NaN,d=Math.min(c,Math.max(u,i.value));switch(isNaN(h)&&this._absoluteValue&&(d=this._absoluteValue?Math.abs(i.value):i.value),isNaN(h)?(s=Math.min(1,(d-this._minimum)/(this._maximum-this._minimum)),this._middlePosition=NaN):(s=Math.min(1,(d-h)/(c-u)),this._middlePosition=(h-u)/(c-u)),isNaN(s)&&(s=0),this._origin){case mm.RIGHT:this.$_renderBar(mm.RIGHT,l,s),a.className=this.rightBarStyle||t.BAR_RIGHT_STYLE;break;case mm.TOP:this.$_renderBar(mm.TOP,l,s),a.className=this.topBarStyle||t.BAR_TOP_STYLE;break;case mm.BOTTOM:this.$_renderBar(mm.BOTTOM,l,s),a.className=!isNaN(h)&&d<h?this.negativeStyle:this.bottomBarStyle||t.BAR_BOTTOM_STYLE;break;case mm.LEFT:default:this.$_renderBar(mm.LEFT,l,s),a.className=!isNaN(h)&&d<h?this.negativeStyle:this.barStyle||t.BAR_STYLE}this.$_setText(this._showLabel?this._makeText(e,i,n):"",r,o/2,s)},t.prototype.$_renderBar=function(e,t,i){t.removeProperty("transform"),t.removeProperty("ms-transform");var n=this._middlePosition;if(e===mm.LEFT||e===mm.RIGHT)if(isNaN(n)?(t.left=e===mm.LEFT?"0px":100*(1-i)+"%",t.width=100*i+"%"):(t.left=i<0?100*(n+i)+"%":100*n+"%",t.width=100*Math.abs(i)+"%"),isNaN(this._percentShapeWidth)){var r=this._barWidth;t.top="50%",t.msTransform=t.transform="translate(0%,-50%)",t.height=r+"px"}else t.top=(100-this._percentShapeWidth)/2+"%",t.height=this._percentShapeWidth+"%";else if(isNaN(n)?(t.top=e===mm.TOP?"0px":100*(1-i)+"%",t.height=100*i+"%"):(t.top=i<0?100*n+"%":100*(n-i)+"%",t.height=100*Math.abs(i)+"%"),isNaN(this._percentShapeWidth)){var o=this._barWidth;t.left="50%",t.msTransform=t.transform="translate(-50%,0%)",t.width=o+"px"}else t.left=(100-this._percentShapeWidth)/2+"%",t.width=this._percentShapeWidth+"%"},t.prototype.$_setText=function(e,t,i,n){if(this._span[this._textProp]=e||"",e){var r=this._span.style,o=this._middlePosition,s=this._textOffset;if(r.removeProperty("right"),r.removeProperty("left"),r.removeProperty("top"),r.removeProperty("bottom"),r.transform="translate(50%, -50%)",this.origin!==mm.LEFT||isNaN(o)||0===this._textOffset)r.right="50%";else{var a=4*(2*o-1);n<0?r.left="".concat(t*o+s-a,"px"):r.right="".concat(t-t*o+s+a,"px"),r.transform="translate(0px, -50%)"}if(this.origin!==mm.BOTTOM||isNaN(o)||0===this._textOffset)r.top="50%";else{var l=i+this._textOffset+"px";n<0?r.bottom=l:r.top=l,r.transform="translate(50%, ".concat(n<0?"":"-","100%)")}}},t.TYPE="bar",t.STYLE="rg-bar-renderer",t.STYLE_NAME="rg-renderer "+t.STYLE,t.BAR_STYLE="rg-bar-renderer-bar",t.BAR_RIGHT_STYLE="rg-bar-renderer-bar-right",t.BAR_TOP_STYLE="rg-bar-renderer-bar-top",t.BAR_BOTTOM_STYLE="rg-bar-renderer-bar-bottom",t.BAR_NEGATIVE_STYLE="rg-bar-renderer-bar-negative",t}(sy),cy=function(e){function t(){var t=e.call(this)||this;return t._spaceKey=!1,t._enterKey=!1,t._itemClickable=!0,t}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"imageMap",{get:function(){return this._imageMap},set:function(e){e!==this._imageMap&&(this._imageMap=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageCallback",{get:function(){return this._imageCallback},set:function(e){e!==this._imageCallback&&(this._imageCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageField",{get:function(){return this._imageField},set:function(e){e!=this._imageField&&(this._imageField=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleField",{get:function(){return this._titleField},set:function(e){e!=this._titleField&&(this._titleField=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleCallback",{get:function(){return this._titleCallback},set:function(e){e!==this._titleCallback&&(this._titleCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this._imageHeight},set:function(e){this._imageHeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this._imageWidth},set:function(e){this._imageWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceKey",{get:function(){return this._spaceKey},set:function(e){this._spaceKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enterKey",{get:function(){return this._enterKey},set:function(e){this._enterKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){var t=this._img=$p(e).createElement("img");t.style.verticalAlign="middle",e.appendChild(t)},t.prototype._doRenderCell=function(e,t,i,n,r){var o=this._img,s=this.$_getImageUrl(e,t);if(s){o.src=s;var a=this.$_getTitle(e,t);o.alt=a||"",isNaN(this._imageHeight)?o.style.removeProperty("height"):o.style.height=this._imageHeight+"px",isNaN(this._imageWidth)?o.style.removeProperty("width"):o.style.width=this._imageWidth+"px"}else o.removeAttribute("src"),o.alt=""},t.prototype.canClick=function(e){return e.target===this._img},t.prototype._doClick=function(e,t,i){if(t.target===this._img||"keydown"===t.type)return{type:this.type,value:e.value}},t.prototype._doItemClick=function(){this._img.click()},t.prototype.canClickSpaceKey=function(e){return(this.spaceKey&&32==e.keyCode||this.enterKey&&13===e.keyCode)&&!Bp.specialKey(e)},t.prototype._doInitOptions=function(){this._imageMap=this._imageCallback=this._imageField=this._titleField=this._titleCallback=this._imageHeight=void 0,this._imageWidth=void 0},t.prototype.$_getImageUrl=function(e,t){var i="",n=this._imageCallback;return n&&(i=n.call(this,e.handler,t)),!i&&this._imageMap&&(i=this._imageMap[t.value]),!i&&this._imageField&&(i=this._getValue(e,t,this._imageField)),i||""},t.prototype.$_getTitle=function(e,t){var i="",n=this._titleCallback;return n&&(i=n.call(this,e.handler,t)),!i&&this._titleField&&(i=this._getValue(e,t,this._titleField)),i||""},t.TYPE="image",t.STYLE="rg-image-renderer",t.STYLE_NAME="rg-renderer "+t.STYLE,t}(sy),hy=function(e){function t(t,i){void 0===t&&(t=0),void 0===i&&(i=0);var n=e.call(this)||this;return n._itemGap=4,n._verticalEdgePad=2,n._textVisible=!0,n._reversed=!1,n._splitted=!1,n._imgFixed=!1,n._imgMiddle=!1,n._imgCenter=!1,n._imgHeight=16,n._imgWidth=16,n._imgLeft=0,n._imgRight=0,n._imgTop=0,n._imgBottom=0,n._spanVis=void 0,n._spanPadRight=0,n._spanPadLeft=0,n._spanCenter=!1,n._spanText="",n._imgWidth=t,n._imgHeight=i,n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"itemGap",{get:function(){return this._itemGap},set:function(e){e!=this._itemGap&&(this._itemGap=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticalEdgePad",{get:function(){return this._verticalEdgePad},set:function(e){e!=this._verticalEdgePad&&(this._verticalEdgePad=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textVisible",{get:function(){return this._textVisible},set:function(e){e!=this._textVisible&&(this._textVisible=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype._doClearContent=function(t){e.prototype._doClearContent.call(this,t),this._reset()},t.prototype._reset=function(){this._oldLocation=void 0,this._imgHeight=this._imgWidth=this._imgLeft=this._imgRight=this._imgTop=this._imgBottom=this._spanPadRight=this._spanPadLeft=NaN,this._imgFixed=this._imgMiddle=this._imgCenter=this._spanVis=this._spanCenter=this._spanText=void 0,this._dom&&(this._dom[Bp.TextProp]="")},t.prototype.$_setImgFixed=function(e,t,i){(t!=this._imgFixed||i)&&(this._imgFixed=t,e.style.position=t?"absolute":"")},t.prototype.$_setImgMiddle=function(e,t,i){(t!=this._imgMiddle||i)&&(this._imgMiddle=t,e.style.verticalAlign=t?"middle":"")},t.prototype.$_setImgCenter=function(e,t,i){(t!=this._imgCenter||i)&&(this._imgCenter=t,e.style.textAlign=t?"center":"")},t.prototype.$_setImgWidth=function(e,t,i){((t=isNaN(t)?0:t)!=this._imgWidth||i)&&(this._imgWidth=t,e.style.width=t>0?t+"px":"")},t.prototype.$_setImgHeight=function(e,t,i){((t=isNaN(t)?0:t)!=this._imgHeight||i)&&(this._imgHeight=t,e.style.height=t>0?t+"px":"")},t.prototype.$_setImgBounds=function(e,t,i,n,r,o){(t!=this._imgTop||o)&&(this._imgTop=t,e.style.top=t>0?t+"px":""),(i!=this._imgLeft||o)&&(this._imgLeft=i,e.style.left=i>0?i+"px":""),(n!=this._imgBottom||o)&&(this._imgBottom=n,e.style.bottom=n>0?n+"px":""),(r!=this._imgRight||o)&&(this._imgRight=r,e.style.right=r>0?r+"px":"")},t.prototype.$_clearImgBounds=function(e,t){(this._imgTop>0||t)&&(this._imgTop=0,e.style.top=""),(this._imgLeft>0||t)&&(this._imgLeft=0,e.style.left=""),(this._imgBottom>0||t)&&(this._imgBottom=0,e.style.bottom=""),(this._imgRight>0||t)&&(this._imgRight=0,e.style.right="")},t.prototype.$_setSpanVis=function(e){e!=this._spanVis&&(this._spanVis=e,this._span.style.display=e?"":"none",this.grid.accessibility&&(e?this._span.removeAttribute("aria-hidden"):this._span.setAttribute("aria-hidden","true")))},t.prototype.$_setSpanPadLeft=function(e){e!=this._spanPadLeft&&(this._spanPadLeft=e,this._span.style.paddingLeft=e>0?e+"px":"")},t.prototype.$_setSpanPadRight=function(e){e!=this._spanPadRight&&(this._spanPadRight=e,this._span.style.paddingRight=e>0?e+"px":"")},t.prototype.$_setSpanCenter=function(e,t){if(void 0===t&&(t=0),e!=this._spanCenter){var i=this._span.style;this._spanCenter=e,e?(i.left="50%",i.top=50+t+"%",i.transform="translate(-50%, -50%)",i.position="absolute"):(i.left="",i.top="",i.transform="",i.position="")}},t.prototype.$_setSpanText=function(e){if(e!=this._spanText){this._spanText=e;var t=this._textVisible?this._spanText:void 0;this._span[this._textProp]=t}},t.prototype.$_layoutLeft=function(e,t,i,n){this._reversed&&(e.insertBefore(t,i),this._reversed=!1),this._splitted&&(e.removeChild(this._br),this._splitted=!1),this.$_setImgFixed(t,!1,n),this.$_setImgMiddle(t,!0,n),this.$_setImgCenter(t,!1,n),this.$_clearImgBounds(t,n),this.$_setSpanVis(!0),this.$_setSpanCenter(!1),this.$_setSpanPadLeft(this._itemGap),this.$_setSpanPadRight(0)},t.prototype.$_layoutRight=function(e,t,i,n){this._reversed||(e.insertBefore(i,t),this._reversed=!0),this._splitted&&(e.removeChild(this._br),this._splitted=!1),this.$_setImgFixed(t,!1,n),this.$_setImgMiddle(t,!0,n),this.$_setImgCenter(t,!1,n),this.$_clearImgBounds(t,n),this.$_setSpanVis(!0),this.$_setSpanCenter(!1),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(4)},t.prototype.$_layoutTop=function(e,t,i,n){this._reversed&&(e.insertBefore(t,i),this._reversed=!1),this._splitted||(e.insertBefore(this._br,i),this._splitted=!0),this.$_setImgFixed(t,!1,n),this.$_setImgMiddle(t,!1,n),this.$_setImgCenter(t,!1,n),this.$_clearImgBounds(t,n),this.$_setSpanVis(!0),this.$_setSpanCenter(!1),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(0)},t.prototype.$_layoutBottom=function(e,t,i,n){this._reversed||(e.insertBefore(i,t),this._reversed=!0),this._splitted||(e.insertBefore(this._br,t),this._splitted=!0),this.$_setImgFixed(t,!1,n),this.$_setImgMiddle(t,!1,n),this.$_setImgCenter(t,!1,n),this.$_clearImgBounds(t,n),this.$_setSpanVis(!0),this.$_setSpanCenter(!1),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(0)},t.prototype.$_layoutLeftEdge=function(e,t,i,n,r){this._reversed&&(e.insertBefore(t,i),this._reversed=!1),this._splitted&&(e.removeChild(this._br),this._splitted=!1),this.$_setImgFixed(t,!0,r),this.$_setImgMiddle(t,!0,r),this.$_setImgCenter(t,!1,r),this.$_setImgBounds(t,0,2,0,0,r),this.$_setSpanVis(!0),this.$_setSpanCenter(!1),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(0),i.style.marginLeft=isNaN(n)?"":n+"px"},t.prototype.$_layoutRightEdge=function(e,t,i,n,r){this._reversed||(e.insertBefore(i,t),this._reversed=!0),this._splitted&&(e.removeChild(this._br),this._splitted=!1),this.$_setImgFixed(t,!0,r),this.$_setImgMiddle(t,!0,r),this.$_setImgCenter(t,!1,r),this.$_setImgBounds(t,0,0,0,2,r),this.$_setSpanVis(!0),this.$_setSpanCenter(!1),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(n)},t.prototype.$_layoutTopEdge=function(e,t,i,n,r,o,s,a){this._reversed&&(e.insertBefore(t,i),this._reversed=!1),this._splitted||(e.insertBefore(this._br,i),this._splitted=!0),this.$_setImgFixed(t,!0,a),this.$_setImgMiddle(t,!1,a),this.$_setImgCenter(t,!1,a),this.$_setImgBounds(t,2,(n-o)/2,0,0,a),this.$_setSpanVis(!0),this.$_setSpanCenter(!0,s*((r-s)/r)),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(0)},t.prototype.$_layoutBottomEdge=function(e,t,i,n,r,o,s,a){this._reversed||(e.insertBefore(i,t),this._reversed=!0),this._splitted||(e.insertBefore(this._br,t),this._splitted=!0),this.$_setImgFixed(t,!0,a),this.$_setImgMiddle(t,!1,a),this.$_setImgCenter(t,!0,a),this.$_setImgBounds(t,0,(n-o)/2,2,0,a),this.$_setSpanVis(!0),this.$_setSpanCenter(!0,(r-s)/r*-s),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(0)},t.prototype.$_layoutCenter=function(e,t,i,n){this._reversed&&(e.insertBefore(t,i),this._reversed=!1),this._splitted&&(e.removeChild(this._br),this._splitted=!1),this.$_setImgFixed(t,!1,n),this.$_setImgMiddle(t,!0,n),this.$_setImgCenter(t,!0,n),this.$_clearImgBounds(t,n),this.$_setSpanVis(!1),this.$_setSpanCenter(!0),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(0)},t}(sy),dy=function(e){function t(){var t=e.call(this)||this;return t._iconWidth=NaN,t._iconHeight=NaN,t._iconLocation=Kd.LEFT,t._spaceKey=!1,t._enterKey=!1,t._imgSrc="",t._itemClickable=!0,t}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"iconMap",{get:function(){return this._iconMap},set:function(e){e!==this._iconMap&&(this._iconMap=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconCallback",{get:function(){return this._iconCallback},set:function(e){e!==this._iconCallback&&(this._iconCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleCallback",{get:function(){return this._titleCallback},set:function(e){this._titleCallback=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconUrl",{get:function(){return this._iconUrl},set:function(e){this._iconUrl=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconField",{get:function(){return this._iconField},set:function(e){e!=this._iconField&&(this._iconField=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconLocation",{get:function(){return this._iconLocation},set:function(e){e!=this._iconLocation&&(this._oldLocation=this._iconLocation,this._iconLocation=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconWidth",{get:function(){return this._iconWidth},set:function(e){e!=this._iconWidth&&(this._iconWidth=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconHeight",{get:function(){return this._iconHeight},set:function(e){e!=this._iconHeight&&(this._iconHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceKey",{get:function(){return this._spaceKey},set:function(e){this._spaceKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enterKey",{get:function(){return this._enterKey},set:function(e){this._enterKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME+" rg-icon-"+this.$_getStyleName().toLowerCase()},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){var t=$p(e),i=this._img=t.createElement("img");i.alt="",e.appendChild(i);var n=this._span=t.createElement("span");e.appendChild(n),this._br=t.createElement("br")},t.prototype._reset=function(){e.prototype._reset.call(this),this._imgSrc=this._splitted=this._reversed=void 0},t.prototype._doInitOptions=function(){this._iconMap=this._iconCallback=this._titleCallback=this._iconUrl=this._iconField=void 0,this._iconWidth=this._iconHeight=NaN,this._iconLocation=Kd.LEFT},t.prototype._doRenderCell=function(e,t,i,n,r){var o=this._img,s=this._span;if(this.$_setImgWidth(o,this._iconWidth,!1),this.$_setImgHeight(o,this._iconHeight,!1),this.$_setImgSrc(this.$_getIconUrl(e,t),this.$_getTitle(e,t)),this.$_setSpanText(this._makeText(e,t,i)),this._oldLocation!=this._iconLocation){switch(this._iconLocation){case Kd.LEFT:this.$_layoutLeft(this._dom,o,s,!1);break;case Kd.RIGHT:this.$_layoutRight(this._dom,o,s,!1);break;case Kd.TOP:this.$_layoutTop(this._dom,o,s,!1);break;case Kd.BOTTOM:this.$_layoutBottom(this._dom,o,s,!1);break;case Kd.LEFT_EDGE:this.$_layoutLeftEdge(this._dom,o,s,this._iconWidth,!1);break;case Kd.RIGHT_EDGE:this.$_layoutRightEdge(this._dom,o,s,this._iconWidth,!1);break;case Kd.TOP_EDGE:this.$_layoutTopEdge(this._dom,o,s,n,r,this._iconWidth,this._iconHeight,!1);break;case Kd.BOTTOM_EDGE:this.$_layoutBottomEdge(this._dom,o,s,n,r,this._iconWidth,this._iconHeight,!1);break;case Kd.CENTER:this.$_layoutCenter(this._dom,o,s,!1);break;default:this.$_layoutLeft(this._dom,o,s,!1)}this._oldLocation=this._iconLocation}this._iconLocation==Kd.TOP_EDGE||this._iconLocation==Kd.BOTTOM_EDGE?this._setHeight(r):this._clearHeight()},t.prototype.canClick=function(e){return e.target===this._img},t.prototype.canClickSpaceKey=function(e){return(this.spaceKey&&32==e.keyCode||this.enterKey&&13===e.keyCode)&&!Bp.specialKey(e)},t.prototype._doClick=function(e,t,i){var n={};if(t.target===this._img||"keydown"===t.type)return n.type=this.type,n.value=e.value,n},t.prototype._doItemClick=function(){this._img.click()},t.prototype.$_getIconUrl=function(e,t){var i=void 0,n=this._iconCallback;return n&&(i=n.call(this,e.handler,t)),void 0===i&&this._iconMap&&(i=this._iconMap[t.value]),void 0===i&&this._iconField&&(i=this._getValue(e,t,this._iconField)),void 0===i&&(i=this._iconUrl),i||""},t.prototype.$_getTitle=function(e,t){var i,n=this._titleCallback;return n&&(i=n.call(this,e.handler,t)),i||""},t.prototype.$_setImgSrc=function(e,t){e==this._imgSrc&&t===this._img.alt||(this._imgSrc=e,e?(this._img.src=e,this._img.alt=t):(this._img.removeAttribute("src"),this._img.alt=""))},t.prototype.$_getStyleName=function(){return String(this._iconLocation)||String(Kd.LEFT)},t.prototype.preventDefaultClick=function(e){e.target===this._img&&(e.preventDefault(),e.stopImmediatePropagation())},t.TYPE="icon",t.STYLE="rg-icon-renderer",t.STYLE_NAME="rg-renderer "+t.STYLE,t}(hy),py=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._doInitContent=function(t){e.prototype._doInitContent.call(this,t),t.style.setProperty("display","flex","important")},t.prototype._doClearContent=function(t){e.prototype._doClearContent.call(this,t),Zm.clearFlex(t)},t.prototype.$_layoutLeft=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.LEFT)},t.prototype.$_layoutRight=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.RIGHT)},t.prototype.$_layoutTop=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.TOP)},t.prototype.$_layoutBottom=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.BOTTOM)},t.prototype.$_layoutLeftEdge=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.LEFT_EDGE)},t.prototype.$_layoutRightEdge=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.RIGHT_EDGE)},t.prototype.$_layoutTopEdge=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.TOP_EDGE)},t.prototype.$_layoutBottomEdge=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.BOTTOM_EDGE)},t.prototype.$_layoutCenter=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.CENTER)},t}(dy),fy=function(e){function t(){var i=e.call(this,16,16)||this;return i._strictValue=!1,i._threeStates=!1,i._checkLocation=Kd.CENTER,i._useImages=!1,i._checkedStyle=t.CHECKED_STYLE,i._uncheckedStyle=t.UNCHECKED_STYLE,i._intermediateStyle=t.INTERMEDIATE_STYLE,i._editable=!0,i._spaceKey=!0,i._enterKey=!1,i._showInnerFocus=!1,i._oldUsed=!1,i._useChanged=!1,i._values={},i.refreshFocusChanged=!0,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"getCheckedCallback",{get:function(){return this._getCheckedCallback},set:function(e){e!==this._getCheckedCallback&&(this._getCheckedCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setCheckedCallback",{get:function(){return this._setCheckedCallback},set:function(e){e!==this._setCheckedCallback&&(this._setCheckedCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trueValues",{get:function(){return this._trueValues},set:function(e){e!==this._trueValues&&(this._trueValues=e,this.$_resetValues(),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"falseValues",{get:function(){return this._falseValues},set:function(e){e!==this._falseValues&&(this._falseValues=e,this.$_resetValues(),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strictValue",{get:function(){return this._strictValue},set:function(e){e!=this._strictValue&&(this._strictValue=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"threeStates",{get:function(){return this._threeStates},set:function(e){e!=this._threeStates&&(this._threeStates=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceKey",{get:function(){return this._spaceKey},set:function(e){this._spaceKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enterKey",{get:function(){return this._enterKey},set:function(e){this._enterKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkLocation",{get:function(){return this._checkLocation},set:function(e){e!=this._checkLocation&&(this._checkLocation=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useImages",{get:function(){return this._useImages},set:function(e){e!=this._useImages&&(this._useImages=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this._editable},set:function(e){this._editable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInnerFocus",{get:function(){return this._showInnerFocus},set:function(e){this._showInnerFocus=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickOnlyFocusedCell",{get:function(){return!this.grid.editOptions.commitByCell||this._clickOnlyFocusedCell},set:function(e){this._clickOnlyFocusedCell=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnlySetDisabled",{get:function(){return this._readOnlySetDisabled},set:function(e){e!=this._readOnlySetDisabled&&(this._readOnlySetDisabled=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype.canEdit=function(){var e=this.grid.editOptions;if(e.columnEditableFirst){if(!(null!=this.editable?this.editable:e.editable))return!1}else if(!e.editable||!this.editable)return!1;return this._editable},t.prototype.canShowInnerFocus=function(){return this._showInnerFocus&&this._editable},t.prototype._doInitContent=function(e){var t=$p(e),i=this._check=t.createElement("input");i.type="checkbox",i.tabIndex=-1,i.style.display="inline-block";var n=this._span=t.createElement("label");e.appendChild(i),e.appendChild(n);var r=this._image=t.createElement("span");r.className=this._checkedStyle,r.role="checkbox",r.ariaChecked="false",r.tabIndex=-1,r.style.display="inline-block",this._br=t.createElement("br")},t.prototype._reset=function(){e.prototype._reset.call(this),this._splitted=this._reversed=void 0,this._oldUsed=!1},t.prototype._doRenderCell=function(e,i,n,r,o){var s=this._check,a=this._image,l=this._span,u=this._dom,c=s;this._imgWidth=e.container.measureCheckWidth(),this._imgHeight=e.container.measureCheckHeight();var h=this.$_getChecked(e,i.value,i.index,this._getCheckedCallback),d=s.id="".concat(t.FOR_ID,"-").concat(i.dataColumn.$_hash,"-").concat(i.item.index);if(l.setAttribute("for",d),s.checked=h,s.indeterminate=this._threeStates&&void 0===h,s.disabled=this._readOnlySetDisabled&&!this.canEdit(),this._useChanged=this._useImages!==this._oldUsed,this._useChanged&&(this._oldUsed?(u.removeChild(a),this._check.style.display="inline-block"):(u.insertBefore(a,this._check),this._check.style.display="none")),this._oldUsed=this._useImages,this._useImages&&(h?(a.className=this._checkedStyle,a.ariaChecked="true"):void 0===h&&this.threeStates?(a.className=this._intermediateStyle,a.ariaChecked="mixed"):(a.className=this._uncheckedStyle,a.ariaChecked="false"),this._readOnlySetDisabled&&!this.canEdit()?(a.className+=" disabled",a.ariaDisabled="true"):a.removeAttribute("aria-disabled"),c=a),n.merged&&this.canEdit()&&!Bp.included(this.checkLocation,Kd.TOP_EDGE,Kd.BOTTOM_EDGE)&&n.focused||u.style.removeProperty("top"),this.$_setSpanText(this._makeText(e,i,n)),this._oldLocation!=this._checkLocation){switch(this._checkLocation){case Kd.LEFT:this.$_layoutLeft(u,c,l);break;case Kd.RIGHT:this.$_layoutRight(u,c,l);break;case Kd.TOP:this.$_layoutTop(u,c,l);break;case Kd.BOTTOM:this.$_layoutBottom(u,c,l);break;case Kd.LEFT_EDGE:this.$_layoutLeftEdge(u,c,l);break;case Kd.RIGHT_EDGE:this.$_layoutRightEdge(u,c,l);break;case Kd.TOP_EDGE:this.$_layoutTopEdge(u,c,l,r,o);break;case Kd.BOTTOM_EDGE:this.$_layoutBottomEdge(u,c,l,r,o);break;case Kd.CENTER:this.$_layoutCenter(u,c,l);break;default:this.$_layoutLeft(u,c,l)}this._oldLocation=this._checkLocation}this._checkLocation==Kd.TOP_EDGE||this._checkLocation==Kd.BOTTOM_EDGE?this._setHeight(o):this._clearHeight()},t.prototype.canEditClickAt=function(e){return this.preventDefaultEditClick(e),e.target===this._check||e.target===this._image},t.prototype.preventDefaultEditClick=function(e){e.target===this._check&&e.preventDefault()},t.prototype._doEditClick=function(e,t,i){if(t.target===this._check||t.target===this._image)return this.$_edit(e,i),!0},t.prototype.canEditKey=function(e){return(this.spaceKey&&32==e.keyCode||this.enterKey&&13==e.keyCode)&&!Bp.specialKey(e)},t.prototype._doEditKey=function(e,t,i){return this.$_edit(e,i),!0},t.prototype._doItemClick=function(){this._check.click()},t.prototype.moveClickElement=function(e,t){var i=this._dom;t||!this.canEdit()||Bp.included(Kd.TOP_EDGE,Kd.BOTTOM_EDGE)||(i.style.top=e+"px")},t.prototype.$_resetValues=function(){var e;if(this._values={},this._falseValues)if(e=this._falseValues.split(",")){var t=void 0;this._falseValue=(t=e.length)>0?e[0]:void 0;for(var i=0;i<t;i++)this._values[e[i]]=!1}else this._falseValue=void 0;if(this._trueValues)if(e=this._trueValues.split(","))for(t=void 0,this._trueValue=(t=e.length)>0?e[0]:void 0,i=0;i<t;i++)this._values[e[i]]=!0;else this._trueValue=void 0},t.prototype.$_getChecked=function(e,t,i,n){if(n)return n(e.handler,i.itemIndex,i.dataColumn,t);var r=i.dataColumn;if(r&&r.valueType===vd.OBJECT){var o=r.getField(),s=r.objectKey||o.objectKey;t=null==t?void 0:t[s]}if("boolean"==typeof t)return t;var a=String(t);return this._values.hasOwnProperty(a)?this._values[a]:this._threeStates&&(this._strictValue||""==t||null==t)?void 0:Boolean(t)},t.prototype.$_edit=function(e,t){var i,n=e.grid,r=e.dataColumn,o=e.value,s=this.$_getChecked(n,e.value,e,this._getCheckedCallback);i=!s&&(void 0===s||!this._threeStates||void 0);var a=this._setCheckedCallback;if(a?i=a(n.handler,e.itemIndex,e.dataColumn,o,i):void 0!==this._trueValue&&i?i=this._trueValue:void 0!==this._falseValue&&!1===i&&(i=this._falseValue),r&&r.valueType===vd.OBJECT){var l=r.getField(),u=o||{};u[r.objectKey||l.objectKey]=i,t.value=u}else t.value=i},t.prototype.$_layoutLeft=function(t,i,n){var r=this._useImages,o=r?this._image:i;e.prototype.$_layoutLeft.call(this,t,o,n,r)},t.prototype.$_layoutRight=function(t,i,n){var r=this._useImages,o=r?this._image:i;e.prototype.$_layoutRight.call(this,t,o,n,r)},t.prototype.$_layoutTop=function(t,i,n){var r=this._useImages,o=r?this._image:i;e.prototype.$_layoutTop.call(this,t,o,n,r)},t.prototype.$_layoutBottom=function(t,i,n){var r=this._useImages,o=r?this._image:i;e.prototype.$_layoutBottom.call(this,t,o,n,r)},t.prototype.$_layoutLeftEdge=function(t,i,n){var r=this._useImages,o=r?this._image:i;e.prototype.$_layoutLeftEdge.call(this,t,o,n,this._imgWidth,r)},t.prototype.$_layoutRightEdge=function(t,i,n){var r=this._useImages,o=r?this._image:i;e.prototype.$_layoutRightEdge.call(this,t,o,n,this._imgWidth,r)},t.prototype.$_layoutTopEdge=function(t,i,n,r,o){var s=this._useImages,a=s?this._image:i;e.prototype.$_layoutTopEdge.call(this,t,a,n,r,o,this._imgWidth,this._imgHeight,s)},t.prototype.$_layoutBottomEdge=function(t,i,n,r,o){var s=this._useImages,a=s?this._image:i;e.prototype.$_layoutBottomEdge.call(this,t,a,n,r,o,this._imgWidth,this._imgHeight,s)},t.prototype.$_layoutCenter=function(t,i,n){var r=this._useImages,o=r?this._image:i;e.prototype.$_layoutCenter.call(this,t,o,n,r)},t.prototype.$_setImageMiddle=function(e,t,i){(t!=this._imgMiddle||i)&&(this._imgMiddle=t)},t.prototype.$_getStyleName=function(){return String(this._checkLocation)||String(Kd.LEFT)},t.TYPE="check",t.STYLE="rg-check-renderer",t.FOR_ID="$$-check-cell-renderer",t.STYLE_NAME="rg-renderer "+t.STYLE,t.CHECKED_STYLE="rg-check-renderer-checked",t.UNCHECKED_STYLE="rg-check-renderer-unchecked",t.INTERMEDIATE_STYLE="rg-check-renderer-intermediate",t}(hy),_y=function(e){function t(){var t=e.call(this)||this;return t._radioLocation=Kd.LEFT,t._direction=hp.HORIZONTAL,t._itemDirection=hp.HORIZONTAL,t._itemReverse=!1,t._useCtrlNumber=!1,t._wrap=!1,t._editable=!0,t._multiSelect=!0,t._useImages=!1,t._views=null,t.refreshFocusChanged=!0,t}return gd(t,e),Object.defineProperty(t.prototype,"values",{get:function(){return this._values||this.index.dataColumn.values},set:function(e){e&&Array.isArray(e)?this._values=e.concat():this._values=void 0,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){return this._labels||this.index.dataColumn.labels},set:function(e){e&&Array.isArray(e)?this._labels=e.concat():this._labels=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemDirection",{get:function(){return this._itemDirection},set:function(e){this._itemDirection=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemReverse",{get:function(){return this._itemReverse},set:function(e){this._itemReverse=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useCtrlNumber",{get:function(){return this._useCtrlNumber},set:function(e){this._useCtrlNumber=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemGap",{get:function(){return this._itemGap},set:function(e){this._itemGap=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gap",{get:function(){return this._gap},set:function(e){this._gap=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrap",{get:function(){return this._wrap},set:function(e){this._wrap=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this._editable},set:function(e){this._editable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multiSelect",{get:function(){return this._multiSelect},set:function(e){this._multiSelect=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useImages",{get:function(){return this._useImages},set:function(e){this._useImages=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabledCallback",{get:function(){return this._disabledCallback},set:function(e){this._disabledCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyToValueCallback",{get:function(){return this._keyToValueCallback},set:function(e){this._keyToValueCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickOnlyFocusedCell",{get:function(){return!this.grid.editOptions.commitByCell||this._clickOnlyFocusedCell},set:function(e){this._clickOnlyFocusedCell=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueSeparator",{get:function(){var e=this.index&&this.index.dataColumn;return e&&e.valueSeparator||","},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(i){e.prototype._doInitContent.call(this,i);var n=$p(i),r=this._container=n.createElement("div");r.className=t.CONTAINER_STYLE;var o=r.style;for(this._direction===hp.VERTICAL&&(o.flexDirection="column"),this._gap>0?o.gap=this._gap+"px":o.removeProperty("gap"),this._wrap?o.flexWrap="wrap":o.removeProperty("flex-wrap");this._views&&this._views.length>0;){var s=this._views.pop();s&&this.$_removeView(s)}i.appendChild(r)},t.prototype._doInitOptions=function(){},t.prototype._doRenderCell=function(e,i,n,r,o){var s=this._container;n.merged&&this.canEdit()&&n.focused||s.style.removeProperty("top");var a=this.$_setItems(e,i.item);for(this._views||(this._views=[]);this._views.length<a;)this._views.push(this.$_addView(s));for(;this._views.length>a;)(f=this._views.pop())&&this.$_removeView(f);for(var l=i.value,u=this._multiSelect&&l?l.split(this.valueSeparator):[],c=this._items,h=c.map(function(e){return e.value}),d=c.map(function(e){return e.label}),p=0;p<this._views.length;p++){var f=this._views[p];this.$_setProps(f),f.label[this._textProp]=d[p]||h[p];var _=f.radio.id="".concat(t.FOR_ID,"-").concat(i.dataColumn.$_hash,"-").concat(i.item.index,"-").concat(h[p]);f.label.htmlFor=_;var g=this._disabledCallback&&this._disabledCallback.call(e.handler,e.handler,i.index.itemIndex,i.index.dataColumn,h[p]);f.radio.disabled=g,f.image.className=t.IMAGE_STYLE,this._multiSelect?(Bp.addClassName(f.image,"check"),(f.radio.checked=u.indexOf(h[p])>=0)?Bp.addClassName(f.image,"checked"):Bp.addClassName(f.image,"unchecked")):(Bp.addClassName(f.image,"radio"),(f.radio.checked=h[p]===l)?Bp.addClassName(f.image,"checked"):Bp.addClassName(f.image,"unchecked")),g?(Bp.addClassName(f.div,"disabled"),Bp.addClassName(f.image,"disabled")):(Bp.removeClassName(f.div,"disabled"),Bp.removeClassName(f.image,"disabled"))}},Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._doClearContent=function(t){Zm.clearFlex(t),e.prototype._doClearContent.call(this,t)},t.prototype.canEdit=function(){var e=this.grid.editOptions,t=e.columnEditableFirst,i=this.editable;if(t){if(!(null!=i?i:e.editable))return!1}else if(!e.editable||!i)return!1;return i},t.prototype.canEditClickAt=function(e){return this.preventDefaultEditClick(e),this.$_canClick(e.target)},t.prototype.canEditKey=function(e){var t,i=this._keyToValueCallback,n=this._items.map(function(e){return e.value});if(this._keyValue=null,i)this._keyValue=t=this._keyToValueCallback.call(this.grid.handler,this.grid.handler,this.index.itemIndex,this.index.dataColumn,e,n);else if(this._useCtrlNumber&&Bp.ctrlKey(e)&&!e.shiftKey&&!e.altKey&&/[0-9]/.test(e.key)){e.preventDefault();var r=parseInt(e.key);this._items&&this._items.length>0&&this._items.length>=r&&(this._keyValue=t=this._items[r-1].value)}return!!t},t.prototype._doItemClick=function(e){if(this._keyValue)for(var t=0;t<this._items.length;t++)this._items[t].value===this._keyValue&&this._views[t].radio.click()},t.prototype._doEditClick=function(e,t,i){if(this.$_canClick(t.target))return this.$_edit(e,i,t.target),!0},t.prototype.moveClickElement=function(e,t){var i=this._dom;!t&&this.canEdit()&&(i.style.top=e+"px")},t.prototype.$_setItems=function(e,t){var i=[],n=[],r=this.index,o=r.dataRow;if(t instanceof ty&&(e.isItemEdited()||(o=t.firstDataItem.dataRow)),this._values&&this._values.length>0)i=this._values,n=this._labels;else if(r.dataColumn&&r.item&&(o>=0||Xg(t.itemState))){var s=r.dataColumn;if(s.lookupSource){for(var a=s.lookupKeyFieldIds,l=[],u=0;u<a.length-1;u++)l.push(t.getData(a[u]));var c=s.lookupSource.getTextDomain(l);c&&c.values&&c.values.length>0&&(i=c.keys,n=c.values)}else s.values&&s.values.length>0&&(i=s.values,n=s.labels)}return this._items=i.map(function(e,t){return{value:e,label:n&&n[t]||i[t]}}),this._items?this._items.length:0},t.prototype.$_setProps=function(e){var t=e.div,i=e.image,n=e.radio;e.label;var r=t.style,o=this._itemDirection===hp.VERTICAL?"column":"row";r.flexDirection=o+"".concat(this._itemReverse?"-reverse":""),this._itemGap>0?r.gap=this._itemGap+"px":r.removeProperty("gap"),n.type=this._multiSelect?"checkbox":"radio",(r=n.style).display=this._useImages?"none":"",(r=i.style).display=this._useImages?"":"none"},t.prototype.$_addView=function(e){var i=$p(e),n=i.createElement("div");n.className=t.ITEM_STYLE,n.style;var r=i.createElement("input");r.tabIndex=-1;var o=i.createElement("span"),s=i.createElement("label");return s.style,n.appendChild(r),n.appendChild(o),n.appendChild(s),e.appendChild(n),{div:n,radio:r,image:o,label:s}},t.prototype.$_removeView=function(e){var t=e.div;t.removeChild(e.radio),t.removeChild(e.image),t.removeChild(e.label),Bp.detach(t)},t.prototype.$_canClick=function(e){for(var t=0;this._views&&t<this._views.length;t++){var i=this._views[t];if(Bp.included(e,i.radio,i.image,i.label))return!0}return!1},t.prototype.$_edit=function(e,t,i){for(var n,r=e.getValue(),o=this._multiSelect&&r?r.split(this.valueSeparator):[],s=this._items.map(function(e){return e.value}),a=[],l=0;l<this._views.length;l++){var u=this._views[l];if(Bp.included(i,u.radio,u.image,u.label)){n=s[l];break}}if(this._multiSelect){if(o.indexOf(n)>=0)o.splice(o.indexOf(n),1),a=o;else for(l=0;l<s.length;l++)o.indexOf(s[l])>=0?a.push(s[l]):s[l]===n&&a.push(n);n=a.join(this.valueSeparator)}t.value=n},t.TYPE="multicheck",t.STYLE="rg-multicheck-renderer",t.ITEM_STYLE="rg-multicheck-renderer-item",t.IMAGE_STYLE="rg-multicheck-image",t.CONTAINER_STYLE="rg-multicheck-container",t.FOR_ID="$$-radio-cell-renderer",t.STYLE_NAME="rg-renderer "+t.STYLE,t}(sy),gy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._doInitContent=function(t){e.prototype._doInitContent.call(this,t),t.style.setProperty("display","flex","important")},t.prototype._doClearContent=function(t){e.prototype._doClearContent.call(this,t),Zm.clearFlex(t)},t.prototype.$_layoutLeft=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.LEFT)},t.prototype.$_layoutRight=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.RIGHT)},t.prototype.$_layoutTop=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.TOP)},t.prototype.$_layoutBottom=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.BOTTOM)},t.prototype.$_layoutLeftEdge=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.LEFT_EDGE)},t.prototype.$_layoutRightEdge=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.RIGHT_EDGE)},t.prototype.$_layoutTopEdge=function(e,t,i,n,r){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.TOP_EDGE)},t.prototype.$_layoutBottomEdge=function(e,t,i,n,r){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.BOTTOM_EDGE)},t.prototype.$_layoutCenter=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.CENTER)},t}(fy),my=function(e){function t(){var i=e.call(this)||this;return i._buttonStyle=t.BUTTON_STYLE,i._hideWhenEmpty=!0,i._spaceKey=!0,i._enterKey=!1,i._itemClickable=!0,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"buttonStyle",{get:function(){return this._buttonStyle},set:function(e){e!=this._buttonStyle&&(this._buttonStyle=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideWhenEmpty",{get:function(){return this._hideWhenEmpty},set:function(e){e!=this._hideWhenEmpty&&(this._hideWhenEmpty=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceKey",{get:function(){return this._spaceKey},set:function(e){this._spaceKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enterKey",{get:function(){return this._enterKey},set:function(e){this._enterKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){var t=this._button=$p(e).createElement("button");t.type="button",t.tabIndex=-1,t.style.display="inline-block",e.appendChild(t)},t.prototype._doRenderCell=function(e,t,i,n,r){var o=this._button,s=o[this._textProp]=this._makeText(e,t,i);o.setAttribute("class",this._buttonStyle),o.style.visibility=this._hideWhenEmpty&&this._isEmpty(s)?"hidden":""},t.prototype.canClick=function(e){return e.target===this._button},t.prototype.canClickSpaceKey=function(e){return(this.spaceKey&&32==e.keyCode||this.enterKey&&13===e.keyCode)&&!Bp.specialKey(e)},t.prototype._doClick=function(e,t,i){if(t.target===this._button||"keydown"===t.type)return{type:this.type,value:e.value}},t.prototype._doItemClick=function(){this._button.click()},t.TYPE="button",t.STYLE="rg-button-renderer",t.STYLE_NAME="rg-renderer "+t.STYLE,t.BUTTON_STYLE="rg-button-renderer-button",t}(sy),yy=function(e){function t(){var t=e.call(this)||this;return t._spaceKey=!0,t._enterKey=!1,t._hideWhenEmpty=!0,t._itemClickable=!0,t}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this._baseUrl},set:function(e){e!=this._baseUrl&&(this._baseUrl=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkField",{get:function(){return this._linkField},set:function(e){e!=this._linkField&&(this._linkField=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"urlCallback",{get:function(){return this._urlCallback},set:function(e){e!==this._urlCallback&&(this._urlCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleField",{get:function(){return this._titleField},set:function(e){e!=this._titleField&&(this._titleField=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleCallback",{get:function(){return this._titleCallback},set:function(e){e!==this._titleCallback&&(this._titleCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceKey",{get:function(){return this._spaceKey},set:function(e){this._spaceKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enterKey",{get:function(){return this._enterKey},set:function(e){this._enterKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classCallback",{get:function(){return this._classCallback},set:function(e){this._classCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(e){this._target=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideWhenEmpty",{get:function(){return this._hideWhenEmpty},set:function(e){this._hideWhenEmpty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){var t=this._anchor=$p(e).createElement("a");t.tabIndex=-1,e.appendChild(t)},t.prototype._doInitOptions=function(){this._baseUrl=this._linkField=this._urlCallback=this._titleField=this._titleCallback=this._url=this._classCallback=void 0},t.prototype._doRenderCell=function(e,t,i,n,r){var o=this._anchor,s=this._makeText(e,t,i);o[this._textProp]=s,this._url="","#"===this._baseUrl?(o.removeAttribute("target"),o.href="#"):(this._url=this.$_getUrl(e,t),this._url&&(o.target=null==this.target?"_blank":this.target,o.href=this._url));var a=this.$_getTitle(e,t);a?o.title=a:delete o.title;var l=this.$_getStyle(e,t);l?o.className=l:o.removeAttribute("class"),this.hideWhenEmpty&&!s?Bp.detach(o):Bp.addChild(this._dom,o)},t.prototype.preventDefaultClick=function(e){e.target===this._anchor&&(e.preventDefault(),e.stopImmediatePropagation())},t.prototype.canClick=function(e){return e.target===this._anchor},t.prototype._doClick=function(e,t,i){if(t.target===this._anchor||"keydown"===t.type)return{type:this.type,url:this._url,value:e.value}},t.prototype.canClickSpaceKey=function(e){return(this.spaceKey&&32==e.keyCode||this.enterKey&&13===e.keyCode)&&!Bp.specialKey(e)},t.prototype._doItemClick=function(){this._anchor.click()},t.prototype.$_getUrl=function(e,t){var i="",n=this._urlCallback;return n&&(i=n.call(this,e.handler,t)),i||(i=this._linkField?this._getValue(e,t,this._linkField):t.value,this._baseUrl&&(i=this._baseUrl+i)),i||""},t.prototype.$_getTitle=function(e,t){var i="",n=this._titleCallback;return n&&(i=n.call(this,e.handler,t)),!i&&this._titleField&&(i=this._getValue(e,t,this._titleField)),i||""},t.prototype.$_getStyle=function(e,t){var i="",n=this._classCallback;return n&&(i=n.call(this,e.handler,t)),i||""},t.TYPE="link",t.STYLE="rg-link-renderer",t.STYLE_NAME="rg-renderer "+t.STYLE,t}(sy),vy=function(e){function t(){var i=e.call(this)||this;return i._shapeStyle=t.SHAPE_STYLE,i._shape=Km.STAR,i._shapeWidth=16,i._shapeHeight=16,i._shapeLocation=Kd.LEFT,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"shapeStyle",{get:function(){return this._shapeStyle},set:function(e){e!=this._shapeStyle&&(this._shapeStyle=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(e){e!=this._shape&&(this._shape=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shapeMap",{get:function(){return this._shapeMap},set:function(e){e!==this._shapeMap&&(this._shapeMap=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shapeCallback",{get:function(){return this._shapeCallback},set:function(e){e!=this._shapeCallback&&(this._shapeCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shapeWidth",{get:function(){return this._shapeWidth},set:function(e){this._shapeWidth!==e&&(this._shapeWidth=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shapeHeight",{get:function(){return this._shapeHeight},set:function(e){this._shapeHeight!==e&&(this._shapeHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shapeLocation",{get:function(){return this._shapeLocation},set:function(e){e!=this._shapeLocation&&(this._oldLocation=this._shapeLocation,this._shapeLocation=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){var t=$p(e),i=(this._svg=Gm.createSVG(e)).style,n=isNaN(this._shapeWidth)||this._shapeWidth<=0?16:this._shapeWidth,r=isNaN(this._shapeHeight)||this._shapeHeight<=0?16:this._shapeHeight;i.display="inline-block",i.width=n+"px",i.height=r+"px";var o=this._span=t.createElement("span");e.appendChild(o),this._br=t.createElement("br")},t.prototype._reset=function(){e.prototype._reset.call(this),this._splitted=this._reversed=void 0},t.prototype._doRenderCell=function(e,t,i,n,r){var o=this._svg,s=this._span;if(this._runShape=this.$_getShape(e,t),o.setAttribute("class",this._shapeStyle),Gm.renderSVG(e,o,this.$_render.bind(this)),this.$_setSpanText(this._makeText(e,t,i)),this._oldLocation!=this._shapeLocation){switch(this._shapeLocation){case Kd.LEFT:this.$_layoutLeft(this._dom,o,s,!1);break;case Kd.RIGHT:this.$_layoutRight(this._dom,o,s,!1);break;case Kd.TOP:this.$_layoutTop(this._dom,o,s,!1);break;case Kd.BOTTOM:this.$_layoutBottom(this._dom,o,s,!1);break;case Kd.LEFT_EDGE:this.$_layoutLeftEdge(this._dom,o,s,this._shapeWidth,!1);break;case Kd.RIGHT_EDGE:this.$_layoutRightEdge(this._dom,o,s,this._shapeWidth,!1);break;case Kd.TOP_EDGE:this.$_layoutTopEdge(this._dom,o,s,n,r,this._shapeWidth,this._shapeHeight,!1);break;case Kd.BOTTOM_EDGE:this.$_layoutBottomEdge(this._dom,o,s,n,r,this._shapeWidth,this._shapeHeight,!1);break;case Kd.CENTER:this.$_layoutCenter(this._dom,o,s,!1);break;default:this.$_layoutLeft(this._dom,o,s,!1)}this._oldLocation=this._shapeLocation}this._shapeLocation==Kd.TOP_EDGE||this._shapeLocation==Kd.BOTTOM_EDGE?this._setHeight(r):this._clearHeight()},t.prototype.$_getShape=function(e,t){var i=void 0,n=this._shapeCallback;return n&&(i=n.call(this,e.handler,t)),null==i&&this._shapeMap&&(i=this._shapeMap[t.value]),null==i&&(i=this._shape),i},t.prototype.$_getDrawing=function(e){var t;return e&&("ellipse"==(e=e.toLowerCase())?t=this._ellipse?this._ellipse:this._ellipse=new Xm:(t=this._polygon?this._polygon:this._polygon=new Km(e),this._polygon.shape=e)),t},t.prototype.$_render=function(e,t,i,n){if(this._runShape){var r=this.$_getDrawing(this._runShape);r&&r.draw(t,i,n)}},t.TYPE="shape",t.STYLE="rg-shape-renderer",t.STYLE_NAME="rg-renderer "+t.STYLE,t.SHAPE_STYLE="rg-shape-renderer-shape",t}(hy),by=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._doInitContent=function(t){t.style.setProperty("display","flex","important"),e.prototype._doInitContent.call(this,t)},t.prototype._doClearContent=function(t){e.prototype._doClearContent.call(this,t),Zm.clearFlex(t)},t.prototype.$_layoutLeft=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.LEFT)},t.prototype.$_layoutRight=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.RIGHT)},t.prototype.$_layoutTop=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.TOP)},t.prototype.$_layoutBottom=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.BOTTOM)},t.prototype.$_layoutLeftEdge=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.LEFT_EDGE)},t.prototype.$_layoutRightEdge=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.RIGHT_EDGE)},t.prototype.$_layoutTopEdge=function(e,t,i,n,r){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.TOP_EDGE)},t.prototype.$_layoutBottomEdge=function(e,t,i,n,r){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.BOTTOM_EDGE)},t.prototype.$_layoutCenter=function(e,t,i){Zm.layoutFlex(e,t,i,this._itemGap,this._verticalEdgePad,Kd.CENTER)},t}(vy),wy=function(e){function t(){var i=e.call(this)||this;return i._barStyle=t.BAR_STYLE,i._inactiveStyle=t.INACTIVE_STYLE,i._barCount=10,i._minimum=NaN,i._maximum=NaN,i._startRate=50,i._endRate=100,i._absoluteValue=!1,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doInitOptions=function(){this._barStyle=t.BAR_STYLE,this._inactiveStyle=t.INACTIVE_STYLE,this._barCount=10,this._minimum=NaN,this._maximum=NaN,this._startRate=50,this._endRate=100,this._absoluteValue=!1},Object.defineProperty(t.prototype,"barStyle",{get:function(){return this._barStyle},set:function(e){e!=this._barStyle&&(this._barStyle=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inactiveStyle",{get:function(){return this._inactiveStyle},set:function(e){e!=this._inactiveStyle&&(this._inactiveStyle=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"barCount",{get:function(){return this._barCount},set:function(e){(e=Math.max(2,e))!=this._barCount&&(this._barCount=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minimum",{get:function(){return this._minimum},set:function(e){e!=this._minimum&&(this._minimum=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maximum",{get:function(){return this._maximum},set:function(e){e!=this._maximum&&(this._maximum=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startRate",{get:function(){return this._startRate},set:function(e){!isNaN(e)&&e>=0&&e<=100&&e!==this._startRate&&(this._startRate=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endRate",{get:function(){return this._endRate},set:function(e){!isNaN(e)&&e>=0&&e<=100&&e!==this._endRate&&(this._endRate=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteValue",{get:function(){return this._absoluteValue},set:function(e){e!=this._absoluteValue&&(this._absoluteValue=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){var t=this._div=$p(e).createElement("div");t.style.position="relative",t.style.height="100%",e.appendChild(t);var i=(this._svg=Gm.createSVG(t)).style;i.position="absolute",i.left="0px",i.width="100%",i.top=(100-Math.max(this._startRate,this._endRate))/2+"%",i.height=Math.max(this._startRate,this._endRate)+"%"},t.prototype._doRenderCell=function(e,t,i,n,r){var o=this._svg;this._value=parseFloat(t.value),o.setAttribute("class",this._barStyle),Gm.renderSVG2(e,o,this.$_render.bind(this))},t.prototype.$_render=function(e,t){var i=this.absoluteValue?Math.abs(this._value):this._value;isNaN(this._minimum)||isNaN(this._maximum)||(i=this._barCount*(i-this._minimum)/(this._maximum-this._minimum));for(var n=100/Math.max(this._startRate,this._endRate),r=(100-2*(this._barCount+1))/this._barCount,o=0,s=this._startRate*n,a=(this._endRate-this._startRate)/(this._barCount-1),l=0;l<this._barCount;l++){var u=l<i?null:this._inactiveStyle;t.sbounds(u,o+"%",100-s+"%",r+"%",s+"%"),o+=r+2,s+=a}},t.TYPE="signalbar",t.STYLE="rg-signalbar-renderer",t.STYLE_NAME="rg-renderer "+t.STYLE,t.BAR_STYLE="rg-signalbar-renderer-bar",t.INACTIVE_STYLE="rg-signalbar-renderer-inactive",t}(sy),Cy=function(e){function t(){var i=e.call(this)||this;return i._barStyle=t.BAR_STYLE,i._barcode=new Vm,i.$_render=function(e,t,i,n){this._value&&(this._barcode.value=this._value,this._barcode.renders(t,new _p(0,0,i,100)))}.bind(i),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"barStyle",{get:function(){return this._barStyle},set:function(e){e!=this._barStyle&&(this._barStyle=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){var t=this._div=$p(e).createElement("div");t.style.position="relative",t.style.height="100%",e.appendChild(t);var i=(this._svg=Gm.createSVG(t)).style;i.position="absolute",i.left="0px",i.top="0px",i.width="100%",i.height="100%"},t.prototype._doRenderCell=function(e,t,i,n,r){var o=this._svg;this._value=null==t.value?"":String(t.value),this._value&&(this._value=this._value.toUpperCase()),o.setAttribute("class",this._barStyle),Gm.renderSVG(e,o,this.$_render)},t.TYPE="code39",t.STYLE="rg-code39-renderer",t.STYLE_NAME="rg-renderer "+t.STYLE,t.BAR_STYLE="rg-code39-renderer-bar",t}(sy),xy=function(e){function t(){var i=e.call(this)||this;return i._barStyle=t.BAR_STYLE,i._barcode=new jm,i.$_render=function(e,t,i,n){this._value&&(this._barcode.value=this._value,this._barcode.renders(t,new _p(0,0,i,100)))}.bind(i),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"barStyle",{get:function(){return this._barStyle},set:function(e){e!=this._barStyle&&(this._barStyle=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){var t=this._div=$p(e).createElement("div");t.style.position="relative",t.style.height="100%",e.appendChild(t);var i=(this._svg=Gm.createSVG(t)).style;i.position="absolute",i.left="0px",i.top="0px",i.width="100%",i.height="100%"},t.prototype._doRenderCell=function(e,t,i,n,r){var o=this._svg;this._value=null==t.value?"":String(t.value),o.setAttribute("class",this._barStyle),Gm.renderSVG(e,o,this.$_render)},t.TYPE="code128",t.STYLE="rg-code128-renderer",t.STYLE_NAME="rg-renderer "+t.STYLE,t.BAR_STYLE="rg-code128-renderer-bar",t}(sy),Iy=function(e,t){var i=[];return t&&t.forEach(function(t){var n=t.selector,r=e.querySelectorAll(n);Array.prototype.forEach.call(r,function(e){var n=t.event;if(n)for(var r=0,o=Object.keys(n);r<o.length;r++){var s=o[r];e[s]=n[s]}t.renderCallback&&i.push({elt:e,callback:t.renderCallback})})}),i},Ey=/\$\{[^{}]*\}/g,Oy=function(){function e(){this._template="",this._tokens=[]}return Object.defineProperty(e.prototype,"template",{get:function(){return this._template},set:function(e){this._template=e,this.$_parse(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{set:function(e){this._pattern=e},enumerable:!1,configurable:!0}),e.prototype.realize=function(e,t,i,n){for(var r="",o=0,s=this._tokens;o<s.length;o++){var a=s[o];"string"==typeof a?r+=a||"":1==a.type?r+=t.value||"":2==a.type?r+=t.item.getData(e.dataSource.getFieldIndex(a.field))||"":4===a.type?r+=(t instanceof Tm?t.getDisplayText(e,i):t.value)||"":5===a.type?r+=t.item.index+""||"":r+=n?n.call(this,e.handler,t,a.field)||"":a.field}return r},e.prototype.realizeHeader=function(e,t,i){for(var n,r="",o=0,s=this._tokens;o<s.length;o++){var a=s[o];"string"==typeof a?r+=a:1==a.type?r+=e.displayText:null!=(n=e.getValue(a.field))?r+=String(n):r+=t?t.call(this,i.handler,e,a.field)+""||"":a.field}return r},e.prototype.realizeSummary=function(e,t,i,n){for(var r,o=this._tokens,s="",a=e.column,l=a.grid,u=0,c=o;u<c.length;u++){var h=c[u];"string"==typeof h?s+=h:1==h.type?s+=t.getDisplayText(i)||"":null!=(r=e.getValue(h.field))?s+=String(r):s+=n?(r=n.call(this,l.handler,a,e.summaryIndex,e,h.field))||"":h.field}return s},e.prototype.realizeGroupSummary=function(e,t,i,n){for(var r,o=this._tokens,s="",a=e.column,l=a.grid,u=0,c=o;u<c.length;u++){var h=c[u];"string"==typeof h?s+=h:1==h.type?s+=t.getDisplayText(i)||"":null!=(r=e.getValue(h.field))?s+=String(r):s+=n?(r=n.call(this,l.handler,a,e.summaryIndex,t.index.item.parent,h.field))||"":h.field}return s},e.prototype.$_parse=function(e){var t=this._tokens=[];if(e){for(var i,n=e.length,r=this._pattern||Ey,o=0;i=r.exec(e);){var s=i[0],a=i.index;a>o&&(t.push(e.substring(o,a)),o=a);var l=s.substring(2,s.length-1),u={type:"value"===l?1:"text"===l?4:0==l.indexOf("value:")?2:"itemindex"===l?5:3,field:l};2==u.type&&(u.field=u.field.substring(6)),t.push(u),o+=s.length}o<n&&t.push(e.substring(o,n))}},e}(),Sy=function(e){function t(){var t=e.call(this)||this;return t._output=void 0,t._inputFocusable=!1,t._html="",t._parser=new Oy,t.template="<span>${value}</span>",t._itemClickable=!0,t}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"template",{get:function(){return this._parser.template},set:function(e){e!=this._parser.template&&(this._parser.template=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pattern",{set:function(e){e!=this._pattern&&(e instanceof RegExp?this._pattern=e:this._pattern=e?new RegExp(e):void 0,this._parser.pattern=this._pattern,this._parser.template=this.template)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){return this._output},set:function(e){this._output=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"callback",{get:function(){return this._callback},set:function(e){e!==this._callback&&(this._callback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueCallback",{get:function(){return this._valueCallback},set:function(e){e!==this._valueCallback&&(this._valueCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputFocusable",{get:function(){return this._inputFocusable},set:function(e){this._inputFocusable!==e&&(this._inputFocusable=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateEvents",{get:function(){return this._templateEvents},set:function(e){this._templateEvents=Bp.makeArray(e,!0),this._changed()},enumerable:!1,configurable:!0}),t.prototype.clearAndAssignFrom=function(t){this.valueCallback=void 0,this.callback=void 0,this.pattern=void 0,this.template="",e.prototype.assignFrom.call(this,t)},Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),t.prototype._doClearContent=function(t){e.prototype._doClearContent.call(this,t),this._html=null},t.prototype.canClick=function(e){var t=Fp(this._dom),i=e.target;return!(i instanceof t.HTMLTableCellElement&&i.className.indexOf("rg-")>=0||this._dom===i)},t.prototype.click=function(e,t,i){return this._doClick(e,t,i||t.target)},t.prototype._doRenderCell=function(e,t,i,n,r){var o=this._callback;o?this.$_setHtml(o.call(this,e.handler,t,n,r),this._templateEvents):this.$_setHtml(this._parser.realize(e,t,i,this._valueCallback),this._templateEvents)},t.prototype._doClick=function(e,t,i){return{type:this.type,target:t.target,value:e.value}},t.prototype.$_setHtml=function(e,t){if(e!=this._html){var i=this._dom;this._html=e,i.innerHTML=e,t&&Iy(i,t)}},t.TYPE="html",t}(sy),ky=function(e){function t(t){var i=e.call(this)||this;return i._styleMap={},i._owner=t,i}return gd(t,e),t.prototype._doDispose=function(){this._styleMap=null,e.prototype._doDispose.call(this)},t.prototype.addCellStyle=function(e,t,i){return(this._styleMap[e]||(this._styleMap[e]={}))[t]=i,!0},t.prototype.getCellStyle=function(e,t){var i=this._styleMap[e];return i&&i[t]},t.prototype.removeCellStyle=function(e,t){if(null==e)this._styleMap={};else{var i=this._styleMap[e];i&&(t?delete i[t]:delete this._styleMap[e])}return!0},t.prototype.connect=function(e){this._styleMap={}},t.prototype.disconnect=function(){this._styleMap={}},t.prototype.clearRows=function(){this._styleMap={}},t.prototype.setRows=function(){this._styleMap={}},t.prototype.removeRow=function(e){var t=this._owner.getItemOfRow(e,!0);t&&delete this._styleMap[t.dataRowId]},t.prototype.removeRows=function(e){var t=this;e.forEach(function(e){var i=t._owner.getItemOfRow(e,!0);i&&delete t._styleMap[i.dataRowId]})},t}(f_),Py=function(e){function t(){return e.call(this)||this}return gd(t,e),t}(Em),Ry=function(e){function t(t,i,n){var r=e.call(this)||this;return r._runtime=new Py,r._owner=t,r._exprNode=$f.Default.parse(i,["value","values"]),r._runtime=new Py,r._callback=n,r}return gd(t,e),t.clearCheckables=function(e){for(var t=e.itemCount;t--;)e.getItem(t)._setCheckable(!0)},t.prototype.connect=function(e){this._runtime.setDataSource(e)},t.prototype.disconnect=function(){},t.prototype.clearRows=function(){t.clearCheckables(this._owner)},t.prototype.setRows=function(){for(var e=this._owner._rows,t=e.length;t--;){var i=e[t];this.$_setCheckable(i)}},t.prototype.insertRow=function(e){var t=this._owner.getItemOfRow(e,!0);this.$_setCheckable(t)},t.prototype.insertRows=function(e,t){for(var i=0;i<t;i++){var n=this._owner.getItemOfRow(e+i,!0);n instanceof em&&this.$_setCheckable(n)}},t.prototype.updateRow=function(e){var t=this._owner.getItemOfRow(e,!0);this.$_setCheckable(t)},t.prototype.updateRows=function(e,t){for(var i=0;i<t;i++){var n=this._owner.getItemOfRow(e+i,!0);n instanceof em&&this.$_setCheckable(n)}},t.prototype.updateRowList=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t],r=this._owner.getItemOfRow(n,!0);r instanceof em&&this.$_setCheckable(r)}},t.prototype.changeStates=function(e){if(e)for(var t=e.length;t--;){var i=this._owner.getItemOfRow(e[t],!0);i instanceof em&&this.$_setCheckable(i)}},t.prototype.$_setCheckable=function(e){var t,i=this._callback;i?t=i.call(this,e.dataSource.handler,e):(this._runtime.setItem(e),t=this._exprNode.evaluate(this._runtime)),e._setCheckable(t)},t}(f_),Ty=function(e){function t(t){var i=e.call(this,t)||this;return i._checkableExpression=null,i._rows=[],i._filteredItems=[],i._pageItems=[],i._sortedItems=[],i._pubItems=i._rows,i._items=i._rows,i._distinctRows=[],i._rowCount=0,i._fixedCount=0,i._fixedSorting=!1,i._maxItemCount=0,i._itemCount=0,i._pubCount=0,i._filtered=!1,i._filtering=!1,i._filters=[],i._filterRuntime=new Cm,i._filterLock=0,i._fixedFiltering=!1,i._sorted=!1,i._sortFields=[],i._sortDirections=[],i._sortCases=[],i._labelComparer={},i._paging=!1,i._pagingSource=Cd.ROWS,i._pageSize=10,i._pageCount=-1,i._pageStartIndex=-1,i._currPage=0,i._pageStart=0,i._summaryMap=null,i._checkableTag=null,i._cellStyleMapTag=new ky(i),i}return gd(t,e),t.prototype._doDispose=function(){function t(e){for(var t=0,i=e.length;t<i;t++)e[t]&&e[t].dispose();e.length=0}this.dataSource=null,t(this._rows),t(this._filteredItems),t(this._pageItems),t(this._sortedItems),t(this._pubItems),t(this._items),t(this._distinctRows),this._filterRuntime&&this._filterRuntime.dispose(),this._filterRuntime=null,this._sortFields.length=0,this._labelComparer=null,this._summaryMap=null,this._checkableTag=null,e.prototype._doDispose.call(this)},t.prototype.getCommandStates=function(e){var t=this._rows[e];return t&&t._getExtents()},t.prototype.setCommandStates=function(e,t){var i=this._rows[e];null!=t&&i&&i._setExtents(t)},Object.defineProperty(t.prototype,"isFilterOr",{get:function(){return void 0===this._filterOr?void 0!==u_.filterOr&&u_.filterOr:this._filterOr},set:function(e){e!=this._filterOr&&(this._filterOr=e,this.$_buildItems(),this._fireRefresh())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSorted",{get:function(){return this._sorted},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPaging",{get:function(){return this._paging},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageStartIndex",{get:function(){return this._pageStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summaryMode",{get:function(){return this._summaryMode||u_.summaryMode||Fd.AGGREGATE},set:function(e){e!=this._summaryMode&&(this._summaryMode=e,this.$_resetSummary(),this.$_buildItems(),this._fireRefresh())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortMode",{get:function(){return this._sortMode||u_.sortMode||xd.AUTO},set:function(e){this._sortMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterMode",{get:function(){return this._filterMode||u_.filterMode||Id.AUTO},set:function(e){this._filterMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outerSort",{get:function(){return null!=this._outerSort?this._outerSort:u_.sorting.outerSort},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortDataRow",{get:function(){return null!=this._sortDataRow?this._sortDataRow:u_.sorting.sortDataRow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkableExpression",{get:function(){return this._checkableExpression},set:function(e){e!=this._checkableExpression&&(this._checkableExpression=e,this._checkableTag&&(this._checkableTag.disconnect(),this._checkableTag=null),e&&(this._checkableTag=new Ry(this,e),this._dataSource&&this._checkableTag.connect(this._dataSource)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkableCallback",{set:function(e){this._checkableTag&&(this._checkableTag.disconnect(),this._checkableTag=null),e&&(this._checkableTag=new Ry(this,null,e),this._dataSource&&this._checkableTag.connect(this._dataSource))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelComparer",{get:function(){return this._labelComparer},set:function(e){this._labelComparer=e||{}},enumerable:!1,configurable:!0}),t.prototype.getFieldDomain=function(e){if(this._dataSource){for(var t=this._rows.length,i=[],n=void 0,r=0;r<t;r++){var o=this._dataSource.getValue(r,e);o!=n&&i.indexOf(o)<0&&i.push(o),n=o}return i}},t.prototype.beginFilter=function(){this._filterLock++},t.prototype.endFilter=function(e,t,i,n){void 0===e&&(e=!0),void 0===t&&(t=null),void 0===i&&(i=null),this._filterLock>0&&(this._filterLock=Math.max(0,this._filterLock-1),0==this._filterLock&&e&&this.applyFilters(!0,t,i,n))},t.prototype.hasFilter=function(e){var t=this._filters[e];return t&&t.length>0},t.prototype.addFilter=function(e,t){if(e>=0){var i=this._filters[e];if(i||(i=[],this._filters[e]=i),t.criteria||t.callback){var n=new bm(t);return i.push(n),this.applyFilters(),n}}},t.prototype.clearAllFilters=function(){this._filtered&&(this._filters=[],this.applyFilters())},t.prototype.hasFilters=function(){for(var e=this._filters.length,t=0;t<e;t++){var i=this._filters[t];if(i&&i.length>0)return!0}return!1},t.prototype.applyFilters=function(e,t,i,n){if(void 0===e&&(e=!0),void 0===t&&(t=null),void 0===i&&(i=null),!(this._filterLock>0)){this.$_buildItems();try{e&&this._fireRefresh()}finally{this._fireFiltered(t,i,n)}}},t.prototype.orderBy=function(e,t,i,n){var r=this;void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=!0),this._fireSort(e,t,i),this._sortFields=[],this._sortDirections=[],this._sortCases=[];for(var o=e?e.length:0,s=t?t.length:0,a=i?i.length:0,l=0;l<s;l++)t[l]=t[l]==bd.ASCENDING||t[l]==bd.DESCENDING?t[l]:bd.ASCENDING;for(l=0;l<o;l++)this._sortFields.push(e[l]),s>l?this._sortDirections.push(t[l]):s>0?this._sortDirections.push(t[s-1]):this._sortDirections.push(bd.ASCENDING),a>l?this._sortCases.push(i[l]):a>0?this._sortCases.push(i[a-1]):this._sortCases.push(wd.SENSITIVE);this._sorted=this.$_checkSorted(),this.$_buildItems();var u=this.outerSort;if(u&&u instanceof Function){var c=this._fireOuterSort(u,this._sortFields,this._sortDirections);c instanceof Promise?c.then(function(){n&&(r._fireRefresh(),r._fireSorted())}):n&&(this._fireRefresh(),this._fireSorted())}else n&&(this._fireRefresh(),this._fireSorted())},t.prototype.getSortFields=function(){return this._sortFields.slice()},t.prototype.getSortDirections=function(){return this._sortDirections.slice()},t.prototype.getSortCases=function(){return this._sortCases.concat()},t.prototype.setPaging=function(e,t,i,n){void 0===t&&(t=10),void 0===i&&(i=-1),void 0===n&&(n=null),t=Math.max(t,1),i=Math.max(i,-1),e==this._paging&&t==this._pageSize&&i==this._pageCount&&n==this._pagingSource||(this._currPage=0,this._paging=e,this._pagingSource=n,this._pageSize=t,this._pageCount=i,this.$_buildItems(),this._fireRefresh())},Object.defineProperty(t.prototype,"page",{get:function(){return this._paging?this._currPage:-1},enumerable:!1,configurable:!0}),t.prototype.setPage=function(e,t){void 0===e&&(e=0),void 0===t&&(t=-1),this._paging&&(e=Math.max(0,Math.min(this.pageCount-1,e)),t=Math.max(-1,t),e==this._currPage&&t==this._pageStartIndex||(this._currPage=e,this._pageStartIndex=t,this.$_buildPage(),this._fireRefresh()))},Object.defineProperty(t.prototype,"pageCount",{get:function(){if(this._paging){if(this._pageCount>=0)return this._pageCount;var e=this.$_getPageItems();return Math.floor((e.length+this._pageSize-1)/this._pageSize)}return 0},set:function(e){this._paging&&(e=Math.max(-1,e))!=this._pageCount&&(this._pageCount=e,this.$_buildPage(),this._fireRefresh())},enumerable:!1,configurable:!0}),t.prototype.getPageOfDataRow=function(e){if(this._dataSource){if(this._paging){if(e<0||e>=this._dataSource.rowCount)return-1;var t=this.$_getPageItems();if(!t||!t.length)return-1;for(var i=0;i<t.length;i++)if(t[i].dataRow===e)return Math.floor(i/this._pageSize);return-1}return 0}},t.prototype.getCheckedRows=function(e){if(this._dataSource){for(var t=e?this._dataSource.rowCount:this.itemCount,i=[],n=0;n<t;n++){var r=e?this._rows[n]:this._pubItems[n];r.checked&&i.push(r.dataRow)}return i}},t.prototype.resetCheckables=function(){for(var e=this._rows.length;e--;)this._rows[e]._setCheckable(!0);this._fireRefresh()},t.prototype.applyCheckables=function(){this._checkableTag?this._checkableTag.setRows():Ry.clearCheckables(this),this._fireRefresh()},t.prototype.setCheckFieldIndex=function(t){e.prototype.setCheckFieldIndex.call(this,t)},t.prototype.getJsonRows=function(){return this._pubItems.map(function(e){return e.getRowObject()})},t.prototype.addCellStyle=function(e,t,i){return this._cellStyleMapTag.addCellStyle(e,t,i)},t.prototype.removeCellStyle=function(e,t){return this._cellStyleMapTag.removeCellStyle(e,t)},t.prototype.getUserCellStyle=function(e,t){return this._cellStyleMapTag.getCellStyle(e,t)},Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSource},set:function(e){if(e!==this._dataSource){this.$_clearRows(!0);var t=this._dataSource;t&&(this._checkableTag&&this._checkableTag.disconnect(),this._cellStyleMapTag.disconnect(),t.disposing||(t.removeTag(this._cellStyleMapTag),t.removeListener(this),t.unregisterCommandListener(this))),(t=this._dataSource=e)&&(this._checkableTag&&this._checkableTag.connect(t),this._cellStyleMapTag.connect(t),t.addTag(this._cellStyleMapTag),this.$_buildRows(),t.addListener(this),t.registerCommandListener(this)),this.disposing||(this.$_resetSummary(),this._fireReset(!0))}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemCount",{get:function(){return this._pubCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._pubCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemLength",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedCount",{get:function(){return this._fixedCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxItemCount",{get:function(){return this._maxItemCount},set:function(e){(e=Math.max(0,e))!=this._maxItemCount&&(this._maxItemCount=e,this._refreshItems())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sorted",{get:function(){return this._sorted},enumerable:!1,configurable:!0}),t.prototype.getMovable=function(e){return!this.sorted||e&&this.sortMode===xd.EXPLICIT},t.prototype._hideDeletedChanged=function(){this.$_buildItems(),this._fireRefresh()},t.prototype.getItem=function(e){return e<0||e>=this._pubCount?null:this._pubItems[e]},t.prototype.getItems=function(e,t){return this._pubItems.slice(e,e+t)},t.prototype.getIndexOfRow=function(e){if(e>=0&&e<this._rows.length){var t=this._rows[e];return t&&this._pubItems.indexOf(t)>=0?t.index:-1}return-1},t.prototype.getItemOfRow=function(e,t){if(e>=0&&e<this._rows.length){var i=this._rows[e];return i.index>=0||t?i:null}return null},t.prototype._refreshItems=function(){var e={};this.$_saveExtents(e),this.$_clearRows(!1),this.$_buildRows(e),this._fireRefresh()},t.prototype.setFixed=function(e,t,i,n){e=Math.max(0,e),(n||e!=this._fixedCount||t!=this._fixedSorting||i!=this._filtering)&&(this._fixedCount=e,this._fixedSorting=t,this._fixedFiltering=i,this.$_buildItems(),this._fireRefresh())},t.prototype.exchange=function(e,t){if(e!=t&&!this._sorted&&!this._filtered){if(e<0||e>=this._rows.length)throw new Error("index1 is out of bounds: "+e);if(t<0||t>=this._rows.length)throw new Error("index2 is out of bounds: "+e);var i=this._rows[e];this._rows[e]=this._rows[t],this._rows[t]=i}},t.prototype.moveItem=function(e,t){if(e.index!==t&&e instanceof tm&&!this.$_needBuildItems()){var i=this._pubItems,n=e.index;(n>t||n<t)&&(i.splice(n,1),i.splice(t,0,e)),this._fireRefresh(!1)}},t.prototype.clearDisplayLevels=function(){for(var e=this._rows,t=e.length,i=0;i<t;i++)e[i]._displayLevel=-1},t.prototype.getAllItems=function(){return this._pubItems.slice()},t.prototype.getNumber=function(e){var t=this.$_getSummary(e);return t?t.count:this.itemCount},t.prototype.getSum=function(e){var t=this.$_getSummary(e);return t?t.sum:NaN},t.prototype.getMax=function(e){var t=this.$_getSummary(e);return t?t.max:NaN},t.prototype.getMin=function(e){var t=this.$_getSummary(e);return t?t.min:NaN},t.prototype.getAvg=function(e){var t=this.$_getSummary(e);return t?t.avg:NaN},t.prototype.getVar=function(e){var t=this.$_getSummary(e);return t?t.vars:NaN},t.prototype.getVarp=function(e){var t=this.$_getSummary(e);return t?t.varsp:NaN},t.prototype.getStdev=function(e){var t=this.$_getSummary(e);return t?Math.sqrt(t.vars):NaN},t.prototype.getStdevp=function(e){var t=this.$_getSummary(e);return t?Math.sqrt(t.varsp):NaN},t.prototype.getDataCount=function(e){var t=this.$_getSummary(e);return t?t.dataCount:0},t.prototype.getDataAvg=function(e){var t=this.$_getSummary(e);return t?t.dataAvg:NaN},t.prototype.canGrouping=function(e){return this.fireGrouping(e)},t.prototype.setSortingOptions=function(e){this._nullsOrder=e.nullsOrder,this._sortDataRow=e.sortDataRow,this._outerSort=e.outerSort},t.prototype.$_saveExtents=function(e){for(var t=0,i=this._rows.length;t<i;t++){var n=this._rows[t];n.dataRowId>=0&&(e[n.dataRowId]={exts:n._extents,heights:n.heights&&n.heights.slice()})}},t.prototype.$_clearRows=function(e){e&&this.clearRowHeights(!0),this._rows.length=this._filteredItems.length=this._sortedItems.length=this._pubCount=0,this._filtered=!1,this._sorted=!1,this._pubItems=this._rows,this.$_clearDistincts()},t.prototype.$_clearIndicies=function(){for(var e=this._rows.length;e--;)this._rows[e]._index=-1},t.prototype.$_clearDistincts=function(){for(var e=this._distinctRows.length;e--;)this._distinctRows[e]=null;this._distinctRows.length=0},t.prototype.$_buildRows=function(e){void 0===e&&(e=null);var t=this._dataSource;if(t){this._filtered=this.$_checkFiltered(),this._sorted=this.$_checkSorted(),this._rowCount=t.rowCount,!this._filtered&&!this._paging&&this.maxItemCount>0&&(this._rowCount=Math.min(this._rowCount,this.maxItemCount)),this._rows=new Array(this._rowCount);for(var i=0,n=this._rowCount;i<n;i++){var r=this._rows[i]=this.$_createRow(i);if(e&&e.hasOwnProperty(r.dataId)){var o=e[r.dataId];r._extents=o.exts,r.heights=o.heights&&o.heights.slice()}}this.$_buildItems(),this._checkableTag&&this._checkableTag.setRows(),0==this._rowCount&&this.clearRowHeights(!0)}},t.prototype.$_resetCounts=function(){this._filtered?this._pubCount=this._itemCount=this._items.length:this._pubCount=this._itemCount=this._rowCount=this._rows.length},t.prototype.$_buildItems=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=this._dataSource;if(i){var n=this.maxItemCount>0?this.maxItemCount:this._rows.length;if(this._rowCount=this._rows.length,this._pubItems=this._items=this._rows,this._pubCount=this._itemCount=this._rows.length,this._filtered=this.$_checkFiltered(),this._sorted=this.$_checkSorted(),(this._filtered||this._paging)&&this.$_clearIndicies(),this._filtered){if(this._filteredItems.length=0,this.hideDeleted||i.hiddenCount>0)for(var r=0;r<this._rowCount;r++){var o=this._rows[r],s=i.getRowState(this._rows[r].dataRow),a=i.isHiddenRow(this._rows[r].dataRow);this.hideDeleted&&Hp(s)||a?o._index=-1:o._index=0}else for(r=0;r<this._rowCount;r++)this._rows[r]._index=0;var l=this.fixedCount,u=l>0&&!this._fixedFiltering,c=this._rows.length;if(!e){r=0;for(var h=this._filters.length;r<h;r++)if(m=this._filters[r])for(var d=0;d<m.length;d++)m[d].prepare(this._filterRuntime,i)}this._paging||(c=Math.min(c,n));var p=0;for(r=0;r<this._rowCount&&p<c;r++)if((o=this._rows[r]).index>=0)if(e||u&&p<l)this._filteredItems.push(o),p++;else{var f=!this._filterOr,_=0,g=0;for(h=this._filters.length;g<h;g++){var m;if((m=this._filters[g])&&_++,this._filterOr){if(m&&this.$_select(m,o,g)){f=!0;break}}else if(m&&!this.$_select(m,o,g)){f=!1;break}}f||0===_?(this._filteredItems.push(o),p++):o._index=-1}this._pubItems=this._items=this._filteredItems,this._pubCount=this._itemCount=this._items.length}else this._filteredItems.length=0;if(this._sorted){if(t){var y=this._sortedItems;for(r=y.length;r--;)y[r].index<0&&y.splice(r,1)}else!this.outerSort&&this.$_sortRows();this._pubItems=this.outerSort?this._items:this._sortedItems}else this._sortedItems.length=0;this._paging&&this.$_buildPageItems(),this.$_clearSummary()}},t.prototype.$_buildPageItems=function(){var e=this.$_getPageItems();this._pageItems.length=0;for(var t=this._pageStart=this._pageStartIndex>=0?this._pageStartIndex:this._currPage*this._pageSize,i=e.length,n=this.maxItemCount>0?this.maxItemCount:i,r=Math.min(this._pageSize,n);t<i&&r>0;t++,r--)this._pageItems.push(e[t]);this._pubItems=this._pageItems,this._pubCount=this._pubItems.length},t.prototype.$_buildPage=function(){this.$_clearIndicies(),this.$_buildPageItems()},t.prototype.$_compareFuncs=function(e,t){var i={},n=this._dataSource;if(n){for(var r=0,o=e.length;r<o;r++){var s=n.getField(e[r]);if(s){var a=n.getDataComparer(s.index)||this._labelComparer[s.index],l=t[r]==wd.INSENSITIVE;if(!a)switch(s.dataType){case vd.DATETIME:case vd.NUMBER:a=n.compareNumbers.bind(n);break;case vd.BOOLEAN:a=n.compareBools.bind(n);break;case vd.OBJECT:a=n.compareObjects.bind(n);break;default:a=l?n.compareTexts.bind(n):n.compareValues.bind(n)}a&&(i[e[r]]=a)}}return i}},t.prototype.$_sortRows=function(e){var t=this;void 0===e&&(e=null);var i=e||this._items.slice(),n=[];this._fixedCount>0&&!this._fixedSorting&&(n=i.splice(0,this._fixedCount));var r=this.$_compareFuncs(this._sortFields,this._sortCases);i.sort(function(e,i){for(var n,o,s,a=0,l=t._nullsOrder,u=0,c=t._sortFields.length;u<c;u++){var h=!(s=t._sortDirections[u]===bd.DESCENDING)&&l===lp.LAST||s&&l===lp.FIRST?-1:1;if(o=t._sortFields.length==u+1,(n=r[t._sortFields[u]])&&0!==(a=n(t._sortFields[u],e.dataRow,i.dataRow,h)))break}return 0==(a*=s?-1:1)&&o?s&&t._sortDataRow?i.dataRow-e.dataRow:e.dataRow-i.dataRow:a}),this._sortedItems=n.concat(i)},t.prototype.$_createRow=function(e){var t=new tm(e);return this.attachItem(t),t._dataRowId=t.dataId,t},t.prototype.$_createAllRow=function(){for(var e=0;e<this._rowCount;e++)this._rows[e]||(this._rows[e]=this.$_createRow(e))},t.prototype.$_resetSummary=function(){this._summaryMap=[]},t.prototype.$_clearSummary=function(){if(this._summaryMap)for(var e=this._summaryMap.length-1;e>=0;e--)this._summaryMap[e]&&this._summaryMap[e].clear()},t.prototype.$_getSummary=function(e){var t=this._summaryMap[e];if(!t){var i=this._dataSource;i&&i.canSummarize(e)&&(t=new Gg(e),this._summaryMap[e]=t)}return t&&0==t.count&&this.itemCount>0&&this.$_summarize(t),t},t.prototype.$_summarize=function(e){var t=this._dataSource;if(t)if(this._filtered){for(var i=this._items.length,n=new Array(i),r=0;r<i;r++)n[r]=this._items[r].dataRow;t.summarizeRange(e,n,this._summaryMode==Fd.STATISTICAL)}else t.summarize(e,this._summaryMode==Fd.STATISTICAL)},t.prototype.$_needSort=function(){return this._sorted&&this.sortMode==xd.AUTO},t.prototype.$_needFilter=function(){return this._filtered&&this.filterMode==Id.AUTO},t.prototype.$_needBuildItems=function(){return this.$_needFilter()||this.$_needSort()||this._paging},t.prototype.$_forceBuildItems=function(){try{return(this._filtered=this.$_checkFiltered())&&(!this._filteredItems||this._filteredItems.length<=0)&&(this._pubItems=this._filteredItems=this._items=this._items.slice()),this._sorted&&((!this._sortedItems||this._sortedItems.length<=0)&&(this._sortedItems=this._items.slice()),this._pubItems=this.outerSort?this._items:this._sortedItems),!this._filtered&&!this._sorted}catch(e){return!0}},t.prototype.$_workItems=function(){var e=[];return this._filtered&&e.push(this._filteredItems),this._sorted&&e.push(this._sortedItems),e},t.prototype.$_checkFiltered=function(){if(this._dataSource)return this._filters.length=this._dataSource.fieldCount,this.hasFilters()||this.hideDeleted&&this._dataSource.deletedCount>0||this._dataSource.hiddenCount>0},t.prototype.$_select=function(e,t,i){for(var n=0,r=e.length;n<r;n++)if(e[n].select(this._filterRuntime,t,i))return!0},t.prototype.$_checkSorted=function(){for(var e=this._sortFields.length-1;e>=0;e--){var t=this._dataSource?this._dataSource.fieldCount:0;this._sortFields[e]>t&&(this._sortFields.splice(e,1),this._sortDirections.splice(e,1),this._sortCases.splice(e,1))}return this._sortFields&&this._sortFields.length>0},t.prototype.$_getPageItems=function(){return this._sorted?this._sortedItems:this._filtered?this._filteredItems:this._items},t.prototype.fireGrouping=function(e){return this.fireConfirmEvent(ry.GROUPING,e)},t.prototype.onDataSourceCommandStackChanged=function(e,t,i){this._fireCommandStackChanged(t,i)},t.prototype.onDataProviderDisposed=function(e){this._checkableTag&&this._checkableTag.disconnect(),this.$_clearRows(!0),this.$_buildRows(),this.$_resetSummary(),this._fireReset(!0),this.dataSource=null},t.prototype.onDataProviderReset=function(e,t){this.$_clearRows(!0),this.$_buildRows(),this.$_resetSummary(),this._fireReset(t)},t.prototype.onDataProviderRefresh=function(e){this._refreshItems()},t.prototype.onDataProviderRefreshClient=function(e){this._fireRefreshClient()},t.prototype.onDataProviderRowCountChanged=function(e,t){this._fireRefreshClient()},t.prototype.onDataProviderDataLoadComplated=function(){this._fireDataLoadComplated()},t.prototype.$_silentInsertRow=function(e){return!!(e&&e.index>=0&&e.index<this._pubCount)&&(this.$_workItems().forEach(function(t){var i=e.index;t.splice(i,0,e)}),this.$_clearSummary(),this.$_resetCounts(),!0)},t.prototype.$_silentInsertRows=function(e){var t=this;return!(!e||e.length<=0)&&!(e=e.sort(function(e,t){return e.itemIndex-t.itemIndex})).reduce(function(e,t){return e+(t.index>=0?0:1)},0)&&e.length>0&&(this.$_workItems().forEach(function(i){for(var n=0;n<e.length;n++){var r=e[n];(!t.hideDeleted||!Hp(r.rowState))&&i.indexOf(r)<0&&i.splice(r.index,0,r)}}),this.$_clearSummary(),this.$_resetCounts(),!0)},t.prototype.onDataProviderRowInserted=function(e,t,i){var n=this._rows,r=t<n.length?n[t]:null,o=this.$_createRow(t);n.splice(t,0,o);for(var s=t,a=n.length;s<a;s++)n[s]._dataRow=s;this.$_needBuildItems()?this.$_buildItems():(this.$_workItems().forEach(function(e){t=null!=i?i:Math.max(0,r?e.indexOf(r):e.length),e.splice(t,0,o)}),this.$_clearSummary(),this.$_resetCounts()),this._checkableTag&&this._checkableTag.insertRow(t),this._fireItemInserted(o),this._fireRefresh()},t.prototype.onDataProviderRowsInserted=function(e,t,i,n){if(!(i<0)){for(var r,o=this._rows,s=t<o.length?o[t]:null,a=[],l=0;l<i;l++)a.push(r=this.$_createRow(t+l)),o.splice(t+l,0,r);var u=o.length;for(l=t;l<u;l++)o[l]._dataRow=l;this.$_needBuildItems()?this.$_buildItems():(this.$_workItems().forEach(function(e){t=null!=n?n:Math.max(0,s?e.indexOf(s):e.length);for(var i=0;i<a.length;i++)e.splice(t+i,0,a[i])}),this.$_clearSummary(),this.$_resetCounts()),this._checkableTag&&this._checkableTag.insertRows(t,i),this._fireRefresh()}},t.prototype.$_silentRemoveRow=function(e){this.$_workItems().forEach(function(t){var i=t.indexOf(e);i>=0&&t.splice(i,1)}),this.$_clearSummary(),this.$_resetCounts()},t.prototype.onDataProviderRowRemoved=function(e,t){var i=this._rows,n=i[t];i.splice(t,1);for(var r=i.length-1;r>=t;r--)i[r]._dataRow=r;this.$_needBuildItems()?this.$_buildItems():this.$_silentRemoveRow(n),0==i.length&&this.clearRowHeights(!0),this._fireItemDeleted(n),this._fireRefresh()},t.prototype.onDataProviderRowsRemoving=function(e,t){return!0},t.prototype.$_silentRemoveRows=function(e){this.$_workItems().forEach(function(t){for(var i=0;i<e.length;i++){var n=e[i],r=t.indexOf(n);r>=0&&t.splice(r,1)}}),this.$_clearSummary(),this.$_resetCounts()},t.prototype.onDataProviderRowsRemoved=function(e,t){if(t&&!(t.length<1)){t.length>1&&t.sort(function(e,t){return e-t});for(var i=this._rows,n=t[0],r=[],o=t.length-1;o>=0;o--)r.push(i[t[o]]),i.splice(t[o],1);for(o=this._rows.length-1;o>=n;o--)i[o]._dataRow=o;this.$_needBuildItems()?this.$_buildItems():this.$_silentRemoveRows(r),0==t.length&&this.clearRowHeights(!0),this._fireRefresh()}},t.prototype.onDataProviderRowUpdating=function(e,t,i){return!0},t.prototype.onDataProviderRowUpdated=function(e,t){this.$_needBuildItems()?this.$_buildItems():this.$_clearSummary(),this._checkableTag&&this._checkableTag.updateRow(t),this._rows[t]&&this._fireItemUpdated(this._rows[t]),this._fireRefresh()},t.prototype.onDataProviderRowsUpdated=function(e,t,i){this.$_needBuildItems()?this.$_buildItems():this.$_clearSummary(),this._checkableTag&&this._checkableTag.updateRows(t,i),this._fireRefresh()},t.prototype.onDataProviderRowListUpdated=function(e,t){this.$_needBuildItems()?this.$_buildItems():this.$_clearSummary(),this._checkableTag&&this._checkableTag.updateRowList(t),this._fireRefresh()},t.prototype.onDataProviderValueChanging=function(e,t,i,n){return!0},t.prototype.onDataProviderValueChanged=function(e,t,i){this.$_needBuildItems()?this.$_buildItems():this.$_clearSummary(),this._checkableTag&&this._checkableTag.updateRow(t),this._rows[t]&&this._fireItemUpdated(this._rows[t]),this._fireRefresh()},t.prototype.onDataProviderRowMoving=function(e,t,i){return!0},t.prototype.onDataProviderRowMoved=function(e,t,i){var n=this._rows,r=n.splice(t,1);n.splice(i,0,r[0]);for(var o=n.length,s=t=Math.min(t,i);s<o;s++)n[s]._dataRow=s;(this._sorted||this._paging||this.hideDeleted)&&this.$_buildItems(),this._fireRefresh()},t.prototype.onDataProviderRowsMoving=function(e,t,i,n){return!0},t.prototype.onDataProviderRowsMoved=function(e,t,i,n){this._refreshItems()},t.prototype.onDataProviderRowListMoving=function(e,t,i){return!0},t.prototype.onDataProviderRowListMoved=function(e,t,i){this._refreshItems()},t.prototype.onDataProviderStateChanged=function(e,t,i){if(this.hideDeleted){var n=this._rows[t];(Hp(n.rowState)||Hp(i))&&(this.$_needBuildItems()||this.$_forceBuildItems()?this.$_buildItems():Hp(n.rowState)?this.$_silentRemoveRow(n):Hp(i)&&(this.$_silentInsertRow(n)||this.$_buildItems()),this._fireRefresh())}this._checkableTag&&this._checkableTag.updateRow(t),this._fireRowStateChanged(this._rows[t])},t.prototype.onDataProviderRowHided=function(e,t,i){if(this._filtered=this.$_checkFiltered(),this.$_needBuildItems()||this.$_forceBuildItems()||!i)this.$_buildItems();else{var n=this.getItemsByRows(t);this.$_silentRemoveRows(n)}this._fireRefresh()},t.prototype.onDataProviderStatesChanged=function(e,t,i){if(this.hideDeleted){for(var n=!1,r=0,o=t.length;r<o;r++){var s=t[r],a=this._rows[s];if(Hp(a.rowState)){n=!0;break}}if(this.$_needBuildItems()||this.$_forceBuildItems())this.$_buildItems();else{var l=this.getItemsByRows(t);n?this.$_silentRemoveRows(l):i&&this.$_silentInsertRows(l)||this.$_buildItems()}this._fireRefresh()}this._checkableTag&&this._checkableTag.changeStates(t),this._fireRowStatesChanged(this.getItemsByRows(t))},t.prototype.onDataProviderRestoreRows=function(e,t){this.$_needBuildItems()?this.$_buildItems():this.$_clearSummary(),this._checkableTag&&this._checkableTag.changeStates(t),this._fireRowStatesChanged(this.getItemsByRows(t)),this._fireRefresh()},t.prototype.onDataProviderStatesCleared=function(e){this._pubCount!=e.rowCount&&this._refreshItems(),this._fireRowStatesCleared()},t}(sm),Dy=function(e){function t(t,i,n){var r=e.call(this)||this;return r._owner=t,r._exprNode=$f.Default.parse(i,["value","values"]),r._runtime=new Py,r._callback=n,r}return gd(t,e),t.clearCheckables=function(e){for(var t=function(e){if(e){e.setCheckable(!0);for(var i=e.count;i--;){var n=e.getItem(i);n instanceof Fy&&t(n)}}},i=e.itemCount;i--;){var n=e.getItem(i);n instanceof Fy&&t(n)}},t.prototype.connect=function(e){this._runtime.setDataSource(e)},t.prototype.disconnect=function(){},t.prototype.clearRows=function(){t.clearCheckables(this._owner)},t.prototype.setRows=function(){for(var e=this._owner.itemCount;e--;){var t=this._owner.getItem(e);t instanceof Fy&&this.$_setCheckable(t,!0)}},t.prototype.addRow=function(e,t){void 0===t&&(t=!0);var i=this._owner.getItemOfRow(e.rowId);i instanceof Fy&&this.$_setCheckable(i,t)},t.prototype.addRows=function(e){for(var t=e.length;t--;){var i=this._owner.getItemOfRow(e[t].rowId);i instanceof Fy&&this.$_setCheckable(i,!0)}},t.prototype.updateRow=function(e){var t=this._owner.getItemOfRow(e.rowId);t instanceof Fy&&this.$_setCheckable(t,!1)},t.prototype.updateRows=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t],r=this._owner.getItemOfRow(n.rowId);r instanceof Fy&&this.$_setCheckable(r,!1)}},t.prototype.changeStates=function(e){for(var t=e.length;t--;){var i=this._owner.getItemOfRow(e[t].rowId);i instanceof Fy&&this.$_setCheckable(i,!1)}},t.prototype.$_setCheckable=function(e,t){if(e){var i=this._callback,n=void 0;if(i?n=i.call(this,e.dataSource.handler,e):(this._runtime.setItem(e),n=this._exprNode.evaluate(this._runtime)),e.setCheckable(n),t)for(var r=e.count;r--;){var o=e.getItem(r);o instanceof Fy&&this.$_setCheckable(o,!0)}}},t}(Yp),My=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._extents={},t}return gd(t,e),t.prototype.connect=function(e){this._extents={}},t.prototype.disconnect=function(){this._extents={}},t.prototype.clearRows=function(){this._extents={}},t.prototype.setRows=function(){},t.prototype.addRow=function(e){this._extents[e.rowId]=0;for(var t=e.count-1;t>=0;t--)this.addRow(e.getChild(t))},t.prototype.addRows=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];this.addRow(n)}},t.prototype.removeRow=function(e){delete this._extents[e.rowId];for(var t=e.count-1;t>=0;t--)this.removeRow(e.getChild(t))},t.prototype.removeRows=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];this.removeRow(n)}},t.prototype.updateRow=function(e){},t.prototype.updateRows=function(e){},t.prototype.getExtents=function(e){var t=this._extents[e.rowId];return void 0===t?this._extents[e.rowId]=0:t},t.prototype.setExtents=function(e,t){this._extents[e.rowId]=t},t}(Yp),Ly=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._styleMap={},t}return gd(t,e),t.prototype.connect=function(e){this._styleMap={}},t.prototype.disconnect=function(){this._styleMap={}},t.prototype.clearRows=function(){this._styleMap={}},t.prototype.setRows=function(){this._styleMap={}},t.prototype.addRow=function(e){},t.prototype.addRows=function(e){},t.prototype.removeRow=function(e){delete this._styleMap[e.rowId]},t.prototype.removeRows=function(e){var t=this;e.forEach(function(e){return delete t._styleMap[e.rowId]})},t.prototype.updateRow=function(e){},t.prototype.updateRows=function(e){},t.prototype.addCellStyle=function(e,t,i){return(this._styleMap[e]||(this._styleMap[e]={}))[t]=i,!0},t.prototype.getCellStyle=function(e,t){var i=this._styleMap[e];return i&&i[t]},t.prototype.removeCellStyle=function(e,t){if(null==e)this._styleMap={};else{var i=this._styleMap[e];i&&(i[t]&&delete i[t],Object.keys(i).length||this._styleMap[e])}return!0},t}(Yp),Ay=function(e){function t(){var t=e.call(this)||this;return t._extents=0,t}return gd(t,e),t.prototype._getExtents=function(){return this._extents},t.prototype._setExtents=function(e){this._extents=e},Object.defineProperty(t.prototype,"isLeaf",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){},enumerable:!1,configurable:!0}),t}(em),Fy=function(e){function t(t){var i=e.call(this)||this;return i._iconHeight=0,i._dataRow=t,i}return gd(t,e),t.getTemp=function(e,i){return t.$_tempItem._dataRow=e,t.$_tempItem[em.PARENT]=i,t.$_tempItem},t.prototype.dispose=function(){this._dataRow=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"iconHeight",{get:function(){return this._iconHeight},set:function(e){this._iconHeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._dataRow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowId",{get:function(){return this._dataRow?this._dataRow.rowId:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconIndex",{get:function(){return this._dataRow?this._dataRow.iconIndex:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return this.count>0||this._dataRow&&this._dataRow.hasChildren},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rootItem",{get:function(){for(var e=this;e.level>1;)e=e.parent;return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summaryMode",{get:function(){return Fd.AGGREGATE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this._editable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this._readOnly},enumerable:!1,configurable:!0}),t.prototype.setEditable=function(e,t){this._editable=e,this._readOnly=t},t.prototype._getExtents=function(){var e=this.provider;return e?e._extents.getExtents(this):0},t.prototype._setExtents=function(e){var t;null===(t=this.provider)||void 0===t||t._extents.setExtents(this,e)},Object.defineProperty(t.prototype,"isData",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDataRow",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footer",{get:function(){return this._footer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerCount",{get:function(){return this._footer?1:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRow",{get:function(){return this._dataRow?this._dataRow.rowId:-1},enumerable:!1,configurable:!0}),t.prototype.getShadowRow=function(){return this._dataRow?this._dataRow.rowId:-1},Object.defineProperty(t.prototype,"dataId",{get:function(){return this._dataRow?this._dataRow.rowId:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRowId",{get:function(){return this.dataId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"descendantCount",{get:function(){return this._dataRow.descendantCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowState",{get:function(){return this._dataRow.rowState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLeaf",{get:function(){return!this.hasChildren},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return Jd.TREE},enumerable:!1,configurable:!0}),t.prototype.getFooter=function(e){return this._footer},t.prototype.isFooter=function(e){return e===this._footer},t.prototype.canEdit=function(){return!0},t.prototype.createFooter=function(){this._footer||(this._footer=new Ay)},t.prototype.setExpanded=function(e,t,i){(e!=this.expanded||i)&&(e?this.provider.expand(this,t,i,0):this.provider.collapse(this,t,i))},t.prototype.getData=function(e){return e=this.dataSource?this.dataSource.getFieldIndex(e):e,this._dataRow.getValue(e)},t.prototype.setData=function(e,t){e=this.dataSource?this.dataSource.getFieldIndex(e):e,this._dataRow.setValue(e,t,!1)},t.prototype.setItem=function(t,i){e.prototype.setItem.call(this,t,i),i._addChildren(t.children),t.clear()},t.prototype.exchange=function(e,t){this._exchangeItems(e,t)},t.prototype.moveChild=function(e,t){var i=e+t,n=this._children,r=n[e];if(t<0)for(var o=e;o>i;o--)n[o]=n[o-1];else for(o=e;o<i;o++)n[o]=n[o+1];n[i]=r},t.prototype.moveChildren=function(e,t,i){for(var n=this._children,r=n.splice(e,t),o=e+i,s=0;s<t;s++)n.splice(o+s,0,r[s])},t.prototype.changeParent=function(e,t){this.parent.remove(this),e&&e.insert(t,this)},t.prototype.getRowData=function(){return this._dataRow&&this._dataRow._values.concat()},t.$_tempItem=new t(null),t}(im),$y=function(e){function t(t){var i=e.call(this,null)||this;return i._rs=t,i}return gd(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"provider",{get:function(){return this._rs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.setExpanded=function(e,t,i){},Object.defineProperty(t.prototype,"isLeaf",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._rs.dataSource},enumerable:!1,configurable:!0}),t}(Fy),Ny=function(e){function t(t){var i=e.call(this)||this;return i._fixedCount=0,i._items=new Array,i._list=new Array,i._rs=t,i}return gd(t,e),Object.defineProperty(t.prototype,"provider",{get:function(){return this._rs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedCount",{get:function(){return this._fixedCount},enumerable:!1,configurable:!0}),t.prototype.getItem=function(e){return this._items[e]},t.prototype.setItem=function(e,t){this._items[e]=t},t.prototype.indexOf=function(e){return this._items.indexOf(e)},t.prototype.clear=function(){this._items.length=0},t.prototype.expand=function(e,t,i){void 0===i&&(i=0),e&&this.$_expandItem(e,t,i)},t.prototype.collapse=function(e){if(e)for(var t=this._rs,i=this._items,n=e.index+1;n<i.length&&i[n].level>e.level;){if(i[n]==e.footer){t.footerWhenCollapsed||(i[n]._index=-1,i.splice(n,1));break}i[n]._index=-1,i.splice(n,1)}},t.prototype.getNext=function(e){return e&&e.visible&&e.index<this.count-1?this._items[e.index+1]:null},t.prototype.getPrior=function(e){return e&&e.visible&&e.index>0?this._items[e.index-1]:null},t.prototype.insert=function(e,t){this._items.splice(t,0,e)},t.prototype.remove=function(e){var t=this._items,i=t.indexOf(e);if(i>=0&&(t.splice(i,1),e.expanded))for(;i<t.length&&e.isDescendant(t[i]);)t.splice(i,1)},t.prototype.$_collectChildren=function(e,t,i,n){for(var r=0,o=e.count;r<o;r++){var s=e.getItem(r);s&&(t.push(s),(i&&s.level<n||s.expanded)&&this.$_collectChildren(s,t,i,n))}e.footer&&t.push(e.footer)},t.prototype.$_expandItem=function(e,t,i){var n,r=this._items,o=this._list;if(n=e instanceof $y?this._fixedCount:e.index+1,i=Math.max(0,i),o.length=0,this.$_collectChildren(e,o,t,i>0?e.level+i:1e6),t){for(var s=n,a=r.length;s<a&&!(r[s].level<=e.level);s++);r.splice(n,s-n)}for(s=0,a=o.length;s<a;s++)r.splice(n+s,0,o[s])},t.prototype._clearAndInit=function(e){this.clear(),this._fixedCount=Math.min(e,this._rs.itemCount);for(var t=0;t<this._fixedCount;t++)this._items.push(this._rs.getItem(t))},t}(Yp),jy=function(e){function t(){var t=e.call(this,null)||this;return t._sortMode=xd.AUTO,t._expandWhenGrouping=!0,t._footerWhenExpanded=!0,t._footerWhenCollapsed=!0,t._labelComparer={},t._checkableExpression=null,t._checkableCallback=null,t._extents=new My,t._filters={},t._filterRuntime=new Cm,t._filtered=!1,t._sortFields=[],t._sortDirections=[],t._sortCases=[],t._visibleItems=new Ny(t),t._itemMap=[],t._itemCount=0,t._summaryMap=null,t._filterLock=0,t._includeParentItem=!0,t._cellStyleMap=new Ly,t}return gd(t,e),t.prototype._doDispose=function(){this._filters=null,this._filterRuntime=null,this._sortFields=null,this._sortDirections=null,this._sortCases=null,this._visibleItems=null,this._itemMap=null,this._summaryMap=null,this._checkableExpression=null,this._checkableCallback=null,this._checkableTag=null,this._labelComparer=null;var t=this.dataSource;t&&!t.disposing&&(t.removeTag(this._extents),t.removeTag(this._cellStyleMap),t.removeListener(this),t.unregisterCommandListener(this)),e.prototype._doDispose.call(this)},t.prototype.getCommandStates=function(e){var t=this._itemMap[e.rowId];return t&&t._getExtents()},t.prototype.setCommandStates=function(e,t){var i=e&&this._itemMap[e.rowId];null!=t&&i&&i._setExtents(t)},Object.defineProperty(t.prototype,"expandWhenGrouping",{get:function(){return this._expandWhenGrouping},set:function(e){e!=this._expandWhenGrouping&&(this._expandWhenGrouping=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerWhenExpanded",{get:function(){return this._footerWhenExpanded},set:function(e){e!=this._footerWhenExpanded&&(this._footerWhenExpanded=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerWhenCollapsed",{get:function(){return this._footerWhenCollapsed},set:function(e){e!=this._footerWhenCollapsed&&(this._footerWhenCollapsed=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelComparer",{get:function(){return this._labelComparer},set:function(e){this._labelComparer=e||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summaryMode",{get:function(){return this._summaryMode||u_.summaryMode||Fd.AGGREGATE},set:function(e){e!=this._summaryMode&&(this._summaryMode=e,this.$_resetSummary(),this._fireRefresh())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupSummaryMode",{get:function(){return this._groupSummaryMode||u_.groupSummaryMode||Fd.AGGREGATE},set:function(e){e!=this._groupSummaryMode&&(this._groupSummaryMode=e,this.$_resetGroupSummary(),this._fireRefresh())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideDeleted",{get:function(){return this._hideDeleted},set:function(e){e!=this._hideDeleted&&(this._hideDeleted=e,this._saveAndRefresh())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkableExpression",{get:function(){return this._checkableExpression},set:function(e){e!=this._checkableExpression&&(this._checkableExpression=e,this._checkableTag&&(this._checkableTag.disconnect(),this._checkableTag=null),e&&(this._checkableTag=new Dy(this,e),this.dataSource&&this._checkableTag.connect(this.dataSource)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkableCallback",{get:function(){return this._checkableCallback},set:function(e){e!=this._checkableCallback&&(this._checkableCallback=e,this._checkableTag&&(this._checkableTag.disconnect(),this._checkableTag=null),e&&(this._checkableTag=new Dy(this,null,e),this.dataSource&&this._checkableTag.connect(this.dataSource)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortMode",{get:function(){return this._sortMode},set:function(e){e!=this._sortMode&&(this._sortMode=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"includeParentItem",{get:function(){return this._includeParentItem},set:function(e){this._includeParentItem=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outerSort",{get:function(){return null!=this._outerSort?this._outerSort:u_.sorting.outerSort},enumerable:!1,configurable:!0}),t.prototype.$_needSort=function(){return this._sortFields&&this._sortFields.length>0&&this._sortMode==xd.AUTO},t.prototype.insertItem=function(e,t,i,n){var r=this._visibleItems;e.collapsed&&r.expand(e,!1);var o=r.indexOf(e.getItem(i));if(n){e.insert(i+1,t);for(var s=r.count,a=e.level+1;++o<s&&!(r.getItem(o).level<=a););r.insert(t,o)}else e.insert(i,t),r.insert(t,o)},t.prototype.appendItem=function(e,t){var i,n=this._visibleItems;e.collapsed&&n.expand(e,!1),i=e.count>0?n.indexOf(e.getItem(e.count-1)):n.indexOf(e);for(var r=n.count,o=e.level;++i<r&&!(n.getItem(i).level<=o););e.add(t),n.insert(t,i)},t.prototype.removeItem=function(e){this._visibleItems.remove(e),e.parent.remove(e)},t.prototype.$_calcLevel=function(e,t,i){var n,r,o=e.count,s=t;for(n=0;n<o;n++)(r=e.getItem(n))&&(s=Math.max(s,t+1),i&&!r.expanded||(s=Math.max(s,this.$_calcLevel(r,t+1,i))));return s},t.prototype.getLevels=function(e){return this.$_calcLevel(this._rootItem,0,e)},t.prototype.$_setExpanded=function(e,t,i,n){if(!n&&0===e.count&&e.hasChildren||(this._setExpanded(e,!0),this.dataSource.setHasChildren(e.row,!1)),t)for(var r=0,o=e.count;r<o;r++){var s=e.getItem(r);s instanceof Fy&&(s.expanded||s.level<i)&&this.$_setExpanded(s,!0,i,n)}},t.prototype._expandItem=function(e,t,i,n,r,o){if(e&&(t||!e.expanded)){if(r&&!this._fireExpanding(e))return;this._visibleItems.collapse(e),this._visibleItems.expand(e,i,n),this.$_setExpanded(e,i,n>0?e.level+n:1e6,o);try{this._fireRefresh(!1)}finally{r&&this._fireExpanded(e)}}},t.prototype.expand=function(e,t,i,n){void 0===n&&(n=0),this._expandItem(e,i,t,n,!0,!0)},t.prototype.expandAll=function(e,t){this._expandItem(this._rootItem,!0,!0,e>0?e+1:0,!0,t)},t.prototype.$_setCollapsed=function(e,t){if(this._setExpanded(e,!1),t)for(var i=0,n=e.count;i<n;i++){var r=e.getItem(i);r instanceof Fy&&this.$_setCollapsed(r,!0)}},t.prototype._collapseItem=function(e,t,i,n){if(e&&(t||e.expanded)){if(n&&!this._fireCollapsing(e))return;this._visibleItems.collapse(e),this.$_setCollapsed(e,i),e==this._rootItem&&this._visibleItems.expand(this._rootItem,!1);try{this._fireRefresh(!1)}finally{n&&this._fireCollapsed(e)}}},t.prototype.collapse=function(e,t,i){this._collapseItem(e,i,t,!0)},t.prototype.collapseAll=function(){this._collapseItem(this._rootItem,!0,!0,!0)},t.prototype.$_saveExpanded=function(e){e._saveExpanded();for(var t=0,i=e.count;t<i;t++)this.$_saveExpanded(e.getItem(t))},t.prototype.orderBy=function(e,t,i,n){var r=this;void 0===n&&(n=!0),this._fireSort(e,t,i),this._sortFields=[],this._sortDirections=[],this._sortCases=[];for(var o=e?e.length:0,s=t?t.length:0,a=i?i.length:0,l=0;l<o;l++)this._sortFields.push(e[l]),s>l?this._sortDirections.push(t[l]):s>0?this._sortDirections.push(t[s-1]):this._sortDirections.push(bd.ASCENDING),a>l?this._sortCases.push(i[l]):a>0?this._sortCases.push(i[a-1]):this._sortCases.push(wd.SENSITIVE);this._saveAndRefresh(!0,n);var u=this.outerSort;if(u&&u instanceof Function){var c=this._fireOuterSort(u,this._sortFields,this._sortDirections);c instanceof Promise?c.then(function(){n&&r._fireRefresh(),r._fireSorted()}):(n&&this._fireRefresh(),this._fireSorted())}else n&&this._fireRefresh(),this._fireSorted()},t.prototype.getSortFields=function(){return this._sortFields.concat()},t.prototype.getSortDirections=function(){return this._sortDirections.concat()},t.prototype.getSortCases=function(){return this._sortCases.concat()},t.prototype.beginFiltering=function(){this._filterLock++},t.prototype.$_prepareFiltering=function(e,t){for(var i=t._dataRow.count,n=t.rowId,r=n<=-1||this.$_selectItem(t),o=0;o<i;o++){var s=new Fy(t._dataRow._children[o]);s[em.PARENT]=t,s&&!this.dataSource.isHiddenRow(s.rowId)&&(r=this.$_prepareFiltering(e,s)||r)}return e[n]=r},t.prototype.endFiltering=function(e,t,i,n){var r={};e&&this._includeParentItem&&(r={},this.$_prepareFilters(),this.$_prepareFiltering(r,this._rootItem)),this._filterLock>0&&(this._filterLock=Math.max(0,this._filterLock-1),e&&0==this._filterLock&&this.applyFilters(t,i,r,n))},t.prototype.hasFilter=function(e){var t=this._filters[e];return!!t&&t.length>0},t.prototype.addFilter=function(e,t){var i=this._filters[e];i||(i=[],this._filters[e]=i);var n=new bm(t);return i.push(n),n},t.prototype.clearAllFilters=function(){this._filtered&&(this._filters={},this.applyFilters(null,null))},t.prototype.hasFilters=function(){for(var e in this._filters){var t=this._filters[e];if(t&&t.length>0)return!0}return!1},t.prototype.$_prepareFilters=function(){var e=this.dataSource,t=e.fieldCount;for(var i in this._filters)Number(i)>=t&&(this._filters[i]=null);if(this._filtered=this.hasFilters())for(var n in this._filters){var r=this._filters[n];if(r)for(var o=r.length;o--;)r[o].prepare(this._filterRuntime,e)}},t.prototype.applyFilters=function(e,t,i,n){if(i||this.$_prepareFilters(),0==this._filterLock){this.$_saveExpanded(this._rootItem),this.$_clearItems(),this.$_buildTree(!0,i);try{this._fireRefresh()}finally{this._fireFiltered(e,t,n)}}},t.prototype.getItemByRow=function(e){return e?this._itemMap[e.rowId]:null},t.prototype.getCheckedRows=function(){var e=[];return function e(t,i){if(t instanceof Fy)for(var n=0,r=t.count;n<r;n++){var o=t.getItem(n),s=void 0;o.checked&&(s=o.row)&&i.push(s),e(o,i)}}(this._rootItem,e),e},t.prototype.getCheckedRowIds=function(){var e=[];return function e(t,i){if(t instanceof Fy)for(var n=0,r=t.count;n<r;n++){var o=t.getItem(n),s=void 0;o.checked&&(s=o.dataRow)>=0&&i.push(s),e(o,i)}}(this._rootItem,e),e},t.prototype.resetCheckables=function(){this._checkableTag&&(this._checkableTag.clearRows(),this._fireRefresh())},t.prototype.applyCheckables=function(){this._checkableTag?this._checkableTag.setRows():Dy.clearCheckables(this),this._fireRefresh()},t.prototype.$_checkChildren=function(e,t,i){for(var n=0,r=e.count;n<r;n++){var o=e.getItem(n);o&&(i?o.checkable&&this._setCheckItem(o,t):this._setCheckItem(o,t)),o instanceof Fy&&this.$_checkChildren(o,t,i)}},t.prototype._clearChecked=function(){this.$_checkChildren(this._rootItem,!1,!1)},t.prototype.checkAll=function(t,i,n,r){i?e.prototype.checkAll.call(this,t,i,n,r,!1):(this.$_checkChildren(this._rootItem,t,n),r?this._fireItemAllChecked(t):this._fireRefreshClient(),this._fireItemCheckChanged(null,t))},t.prototype.addCellStyle=function(e,t,i){return this._cellStyleMap.addCellStyle(e,t,i)},t.prototype.removeCellStyle=function(e,t){return this._cellStyleMap.removeCellStyle(e,t)},t.prototype.getUserCellStyle=function(e,t){return this._cellStyleMap.getCellStyle(e,t)},Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._ds},set:function(e){if(e!==this._ds){this.$_clearItems(),this.$_resetSummary();var t=this._ds;t&&!t.disposing&&(t.removeTag(this._extents),t.removeTag(this._cellStyleMap),t.removeListener(this),t.unregisterCommandListener(this)),(t=this._ds=e)&&(this.$_buildTree(),t.addTag(this._extents),t.addTag(this._cellStyleMap),t.addListener(this,0),t.registerCommandListener(this)),this._fireReset(!0)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemCount",{get:function(){return this._visibleItems.count},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._itemCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sorted",{get:function(){return this._sortFields&&this._sortFields.length>0},enumerable:!1,configurable:!0}),t.prototype.getMovable=function(e){return!this.sorted||e&&this.sortMode===xd.EXPLICIT},t.prototype._createRootItem=function(){var e=new $y(this);return this._setExpanded(e,!0),e},t.prototype.getItem=function(e){return e>=0&&e<this._visibleItems.count?this._visibleItems.getItem(e):null},t.prototype.getItems=function(e,t){throw new Error("Method not implemented.")},t.prototype.getItemOfRow=function(e,t){return this._itemMap[e]},t.prototype.$_collectItems=function(e,t){for(var i=0,n=e.count;i<n;i++){var r=e.getItem(i);r instanceof Fy&&(t.push(r),this.$_collectItems(r,t))}},t.prototype.getAllItems=function(){var e=[];return this.$_collectItems(this._rootItem,e),e},t.prototype.getJsonRows=function(){return this.getAllItems().map(function(e){var t=e.getRowObject();return t.__level=e.level,t})},t.prototype.getNumber=function(e){var t=this.$_getSummary(e);return t?t.count:this.itemCount},t.prototype.getSum=function(e){var t=this.$_getSummary(e);return t?t.sum:NaN},t.prototype.getMax=function(e){var t=this.$_getSummary(e);return t?t.max:NaN},t.prototype.getMin=function(e){var t=this.$_getSummary(e);return t?t.min:NaN},t.prototype.getAvg=function(e){var t=this.$_getSummary(e);return t?t.avg:NaN},t.prototype.getVar=function(e){var t=this.$_getSummary(e);return t?t.vars:NaN},t.prototype.getVarp=function(e){var t=this.$_getSummary(e);return t?t.varsp:NaN},t.prototype.getStdev=function(e){var t=this.$_getSummary(e);return t?Math.sqrt(t.vars):NaN},t.prototype.getStdevp=function(e){var t=this.$_getSummary(e);return t?Math.sqrt(t.varsp):NaN},t.prototype.getDataCount=function(e){var t=this.$_getSummary(e);return t?t.dataCount:0},t.prototype.getDataAvg=function(e){var t=this.$_getSummary(e);return t?t.dataAvg:NaN},t.prototype.findItem=function(e,t,i,n,r){var o=this.dataSource;if(!o)return-1;if(this.itemCount<1)return-1;var s=Math.min(e.length,t.length);if(s<1)return-1;var a=i.allFields,l=i.caseSensitive,u=i.partialMatch,c=null,h=[],d=i.reverse,p=i.compareCallback;p="function"==typeof p?p:Bp.compareTextValue;for(var f=0;f<s;f++)h[f]=o.getField(e[f]).dataType;n=Math.max(0,n),r=Math.min(this._visibleItems.count-1,r);for(var _=n;d?_>=r:_<=r;d?_--:_++){var g=this._visibleItems.getItem(_),m=g.dataRow,y=g.dataRow>=0;if(y)for(f=0;f<s;f++){var v=g.getData(e[f]),b=o.getOrgFieldName(e[f]);switch(h[f]){case vd.DATETIME:case vd.DATE:if(t[f]instanceof Date)y=p.call(o.handler,t[f],v,l,u,m,b);else{if(!c){var w=/[.]/.test(t[f])?"yyyy.MM.dd":/[/]/.test(t[f])?"yyyy/MM/dd":/[-]/.test(t[f])?"yyyy-MM-dd":"yyyyMMdd";c=new i_(w)}y=p.call(o.handler,t[f],v?c.getText(v):v,l,u,m,b)}break;default:y=p.call(o.handler,t[f],v,l,u,m,b)}if(y&&!a)return _;if(!y&&a)break}if(y)return _}return-1},t.prototype.findCell=function(e,t,i,n,r,o){var s=this.dataSource;if(!s)return null;if(this.itemCount<1)return null;for(var a=i.reverse,l=i.caseSensitive,u=i.partialMatch,c=s.fieldCount,h=e.length,d=null,p=[],f=0;f<c;f++)p[f]=s.getField(f).dataType;n=Math.max(0,n),r=Math.min(this._visibleItems.count-1,r),o=Math.max(a?-1:0,Math.min(o,h-1)),a?o<0&&(o=e.length-1,n--):o>=e.length&&(n++,o=0);var _=i.compareCallback;_="function"==typeof _?_:Bp.compareTextValue;for(var g=n;a?g>=r:g<=r;a?g--:g++){var m=this._visibleItems.getItem(g),y=m.dataRow,v=!1;if(m.dataRow>=0)for(f=a?g<n?h-1:o:g>n?0:o;a?f>=0:f<h;a?f--:f++){var b=e[f],w=s.getOrgFieldName(b);if(b>=0&&b<c){var C=m.getData(b);switch(p[b]){case vd.DATETIME:case vd.DATE:if(t instanceof Date)v=_.call(s.handler,t,C,l,u,y,w);else{if(!d){var x=/[.]/.test(t)?"yyyy.MM.dd":/[/]/.test(t)?"yyyy/MM/dd":/[-]/.test(t)?"yyyy-MM-dd":"yyyyMMdd";d=new i_(x)}v=_.call(s.handler,t,C?d.getText(C):C,l,u,y,w)}break;default:v=_.call(s.handler,t,C,l,u,y,w)}if(v)return{itemIndex:g,fieldIndex:b,searchFieldIndex:f}}}}return null},t.prototype.setTreeOptions=function(e){this._expandWhenSetData=e.expandWhenSetData},t.prototype.setSortingOptions=function(e){this._nullsOrder=e.nullsOrder,this._outerSort=e.outerSort,this._sortDataRow=e.sortDataRow},t.prototype.$_internalAddItem=function(e,t,i){var n=Fy.getTemp(t,e),r=this.dataSource;if(!(this.hideDeleted&&Hp(n.rowState)||r.isHiddenRow(t.rowId)))return n&&(null!=i?i:this.$_selectItem(n))?(n=new Fy(t),e.insert(t.index,n),this._itemCount++,this._itemMap[t.rowId]=n,n):void 0},t.prototype.$_internalRemoveItem=function(e){e&&(e.parent.remove(e),this._itemCount--,this._itemMap[e.row.rowId]=void 0)},t.prototype.$_internalRowStateChanged=function(e,t){if(void 0===t&&(t=!0),e)if(this.hideDeleted&&Hp(e.rowState)){var i=e.parent;this.$_internalRemoveItem(e),this.$_clearSummary(),i.expanded&&i.visible&&(this._visibleItems.remove(e),t=!0),t&&this._fireRefresh()}else this._fireItemChanged(e)},t.prototype.$_selectField=function(e,t,i){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(!(o.model instanceof vm)&&o.select(this._filterRuntime,t,i))return!0}return!1},t.prototype.$_selectItem=function(e){if(!e)return!1;for(var t in this._filters){var i=this._filters[t];if(i&&!this.$_selectField(i,e,Number(t)))return!1}return!!e},t.prototype._setItem=function(e,t){this._visibleItems.setItem(e.index,t),this._resetItemIndex(e.index)},t.prototype.$_resetVisibleItems=function(){this._visibleItems._clearAndInit(this.fixedCount),this._visibleItems.expand(this._rootItem,!1),this._setExpanded(this._rootItem,!0)},t.prototype.$_clearItems=function(){this._visibleItems.clear(),this._rootItem.clear(),this._itemMap=[],this._itemCount=0},t.prototype.$_buildItems=function(e,t,i){void 0===t&&(t=!1);for(var n=e.row,r=n.count,o=0;o<r;o++){var s=n.getChild(o),a=this.$_internalAddItem(e,s,i?i[s.rowId]:null);if(a){if(this._remainExpandedMap)switch(this._expandWhenSetData){case up.REMAIN_AND_EXPAND:this.$_compareRemainExpand(a,!0);break;case up.REMAIN_AND_COLLAPSE:this.$_compareRemainExpand(a,!1);break;case up.EXPAND:this.$_setExpanded(a,!1,0,!1);case up.COLLAPSE:}t&&a._restoreExpanded(),s.count>0&&this.$_buildItems(a,t,i)}}},t.prototype.$_compareRemainExpand=function(e,t){var i=this._ds,n=i.getFieldIndex(i.treeField),r=e.getData(n);this._remainExpandedMap.hasOwnProperty(r)?this._remainExpandedMap[r]&&this.$_setExpanded(e,!1,0,!1):t&&this.$_setExpanded(e,!1,0,!1)},t.prototype.$_sortItem=function(e){this.$_sort(e,this._sortFields,this._sortDirections,this._sortCases)},t.prototype.$_sort=function(e,t,i,n){var r=this,o=this._nullsOrder;e._children.sort(function(e,s){for(var a,l,u=0,c=0,h=t.length;c<h;c++){a=i[c]===bd.ASCENDING,l=r._sortFields.length==c+1;var d=a?o===lp.LAST?-1:1:o===lp.FIRST?-1:1,p=r.$_getComparer(t[c],n[c]===wd.INSENSITIVE);if(0!=(u=p?p(t[c],e.row,s.row,d):0))break}return 0==(u*=a?1:-1)&&l?!r._sortDataRow||a?e.rowId-s.rowId:s.rowId-e.rowId:u});for(var s=0;s<e.children.length;s++)this.$_sort(e.getItem(s),t,i,n)},t.prototype.$_getComparer=function(e,t){var i=this._ds,n=this._ds._comparers[e]||this.labelComparer[e],r=this._ds.getField(e);if(n)return function(e,t,i){return n(e,t.rowId,i.rowId)};switch(r.dataType){case vd.NUMBER:case vd.DATETIME:return i.compareNumbers;case vd.BOOLEAN:return i.compareBools;case vd.OBJECT:return i.compareObjects.bind(i);default:return t?i.compareTexts.bind(i):i.compareValues.bind(i)}},t.prototype.$_buildTree=function(e,t){void 0===e&&(e=!1);var i=this.dataSource;this._rootItem._dataRow=i.rootRow,this._itemMap[this._rootItem._dataRow.rowId]=this._rootItem,this.$_buildItems(this._rootItem,e,t),this.$_clearSummary();for(var n=i.fieldCount,r=this._sortFields,o=this._sortDirections,s=this._sortCases,a=r.length;a--;)(r[a]<0||r[a]>=n)&&(r.splice(a,1),o.splice(a,1),s.splice(a,1));this.sorted&&this._rootItem.count>0&&!this.outerSort&&this.$_sortItem(this._rootItem),this.$_resetVisibleItems(),this._checkableTag&&this._checkableTag.setRows()},t.prototype.$_resetSummary=function(){this._summaryMap=[]},t.prototype.$_resetGroupSummary=function(){},t.prototype.$_clearSummary=function(){if(this._summaryMap)for(var e=this._summaryMap.length;e--;)this._summaryMap[e]&&this._summaryMap[e].clear()},t.prototype.$_getSummary=function(e){var t=this._summaryMap[e];if(!t){var i=this.dataSource;i&&i.canSummarize(e)&&(t=new Gg(e),this._summaryMap[e]=t)}return t&&0==t.count&&this.itemCount>0&&this.$_summarize(t),t},t.prototype.$_summarize=function(e){var t=this.dataSource;if(t)if(this._filtered||this.hideDeleted||t.hiddenCount>0){for(var i=this._rootItem.getDescendants(!1),n=i.length,r=[],o=0;o<n;o++){var s=i[o];s instanceof Fy&&!t.isHiddenRow(s.rowId)&&r.push(s.row)}e.count=r.length,t.summarizeRange(e,r,this.summaryMode==Fd.STATISTICAL)}else e.count=t.rowCount,t.summarize(e,this.summaryMode==Fd.STATISTICAL)},t.prototype.$_saveRemainPrepareMap=function(){var e=this._ds,t=e.getFieldIndex(e.treeField),i=this._expandWhenSetData;return i==up.COLLAPSE||i==up.EXPAND?{}:function e(t,i,n){for(var r=0;r<t.count;r++){var o=t.children[r];n[o.getData(i)]=o.expanded,o.count>0&&e(o,i,n)}return n}(this.rootItem,t,{})},t.prototype._fireItemChanged=function(e){this._eventLock<=0&&this.fireEvent(t.ITEM_CHANGED,e)},t.prototype._fireExpanding=function(e){return!(this._eventLock<=0)||this.fireConfirmEvent(t.EXPANDING,e)},t.prototype._fireExpanded=function(e){this._eventLock<=0&&this.fireEvent(t.EXPANDED,e)},t.prototype._fireCollapsing=function(e){return!(this._eventLock<=0)||this.fireConfirmEvent(t.COLLAPSING,e)},t.prototype._fireCollapsed=function(e){this._eventLock<=0&&this.fireEvent(t.COLLAPSED,e)},t.prototype._fireParentChanging=function(e,i,n){return!(this._eventLock<=0)||this.fireConfirmEvent(t.PARENT_CHANGING,e,i,n)},t.prototype._fireParentChanged=function(e,i,n){this._eventLock<=0&&this.fireEvent(t.PARENT_CHANGED,e,i,n)},t.prototype._refreshItems=function(){this.$_clearItems(),this.$_buildTree(),this._fireRefresh()},t.prototype._saveAndRefresh=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),e&&this.$_saveExpanded(this._rootItem);var i={};this.hasFilters()&&function e(t,i){i[t.dataId]=!0,t.children.length>0&&t.children.forEach(function(t){e(t,i)})}(this._rootItem,i),this.$_clearItems(),this.$_buildTree(e,i),t&&this._fireRefresh()},t.prototype.onDataSourceCommandStackChanged=function(e,t,i){this._fireCommandStackChanged(t,i)},t.prototype.onTreeDataProviderDisposed=function(e){this.disposing||(this.$_clearItems(),this.$_resetSummary(),this._fireReset(!0),this.dataSource=null)},t.prototype.onTreeDataProviderReset=function(e,t){this.$_clearItems(),this.$_resetSummary(),this.$_buildTree(),this._fireReset(t)},t.prototype.onTreeDataProviderRefresh=function(e){this._refreshItems(),this._remainExpandedMap=void 0},t.prototype.onTreeDataProviderRefreshClient=function(e){this._fireRefreshClient()},t.prototype.onTreeDataProviderPrepareRemain=function(){this._remainExpandedMap=this.$_saveRemainPrepareMap()},t.prototype.onDataProvderCleared=function(e){this._refreshItems()},t.prototype.onTreeDataProviderRowCountChanged=function(e,t){},t.prototype.onTreeDataProviderRowAdding=function(e,t,i){return!0},t.prototype.onTreeDataProviderRowAdded=function(e,t){var i=this._itemMap[t.parent.rowId];if(i){var n=this.$_internalAddItem(i,t,!0);n?(this.$_buildItems(n),this.$_clearSummary(),i.expanded?this._expandItem(i,!0,!1,0,!1,!0):this._fireItemChanged(i)):this.$_resetVisibleItems()}this._checkableTag&&(this._checkableTag.addRow(t,!1),t.parent.level>0&&this._checkableTag.addRow(t.parent,!1)),this.$_needSort()&&this._saveAndRefresh()},t.prototype.onTreeDataProviderRowsAdded=function(e,t,i){var n,r=this._itemMap[t.rowId];if(r&&i&&(n=i.length)>0){for(var o=0;o<n;o++){var s=i[o],a=this.$_internalAddItem(r,s,!0);a&&this.$_buildItems(a)}this.$_clearSummary(),r.expanded?this._expandItem(r,!0,!1,0,!1,!0):this._fireItemChanged(r),this._checkableTag&&(this._checkableTag.addRows(i),t.level>0&&this._checkableTag.addRow(t))}this.$_needSort()&&this._saveAndRefresh()},t.prototype.onTreeDataProviderRowRemoving=function(e,t){return!0},t.prototype.onTreeDataProviderRowRemoved=function(e,t){var i=this._itemMap[t.rowId];if(i){var n=i.parent;this.$_internalRemoveItem(i),this.$_clearSummary(),n.expanded&&n.visible&&(this._visibleItems.remove(i),this._fireRefresh())}},t.prototype.onTreeDataProviderRowsRemoving=function(e,t){return!0},t.prototype.onTreeDataProviderRowsRemoved=function(e,t){for(var i=t.length,n=!1,r=0;r<i;r++){var o=t[r],s=this._itemMap[o.rowId];if(s){var a=s.parent;this.$_internalRemoveItem(s),a.expanded&&a.visible&&(this._visibleItems.remove(s),n=!0)}}this.$_clearSummary(),n&&this._fireRefresh()},t.prototype.onTreeDataProviderRowUpdating=function(e,t){return!0},t.prototype.onTreeDataProviderRowUpdated=function(e,t){if(this.$_needSort())this._saveAndRefresh();else{var i=this._itemMap[t.rowId];this.$_clearSummary(),this._fireItemUpdated(i),this._fireRefresh()}this._checkableTag&&this._checkableTag.updateRow(t)},t.prototype.onTreeDataProviderRowsUpdating=function(e,t){return!0},t.prototype.onTreeDataProviderRowsUpdated=function(e,t){this.$_needSort()?this._saveAndRefresh():(this.$_clearSummary(),this._fireRefresh()),this._checkableTag&&this._checkableTag.updateRows(t)},t.prototype.onTreeDataProviderValueChanging=function(e,t,i){return!0},t.prototype.onTreeDataProviderValueChanged=function(e,t,i){if(this.$_needSort())this._saveAndRefresh();else{var n=this._itemMap[t.rowId];this.$_clearSummary(),this._fireItemUpdated(n),this._fireRefresh()}this._checkableTag&&this._checkableTag.updateRow(t)},t.prototype.onTreeDataProviderIconIndexChanged=function(e,t){var i=this._itemMap[t.rowId];i&&i.visible&&this._fireItemChanged(i)},t.prototype.onTreeDataProviderHasChildrenChanged=function(e,t){var i=this._itemMap[t.rowId];i&&i.visible&&this._fireItemChanged(i)},t.prototype.onTreeDataProviderRowStateChanged=function(e,t,i){var n=this._itemMap[t.rowId];this.$_internalRowStateChanged(n,i),this._checkableTag&&this._checkableTag.updateRow(t),!n&&i&&this._saveAndRefresh()},t.prototype.onTreeDataProviderRowStatesChanged=function(e,t){var i=t.length,n=!1;if(1==i){var r=t[0];n=!(l=this._itemMap[r.rowId]),this.$_internalRowStateChanged(l),this._checkableTag&&this._checkableTag.updateRow(r),n&&this._saveAndRefresh()}else if(i>0){var o=!1;if(this.hideDeleted)for(var s=0,a=t.length;s<a;s++){var l=this._itemMap[t[s].rowId];if(n=n||!l,l&&Hp(l.rowState)){var u=l.parent;this.$_internalRemoveItem(l),u.expanded&&u.visible&&this._visibleItems.remove(l),o=!0}}this._checkableTag&&this._checkableTag.changeStates(t),o&&this.$_clearSummary(),n?this._saveAndRefresh():this._fireRefresh()}},t.prototype.onTreeDataProviderRowSiblingMoved=function(e,t,i){if(!this.$_needSort()){var n=this._itemMap[t.rowId];n&&(n.parent.moveChild(n.childIndex,i),this.$_resetVisibleItems(),this._fireRefresh())}},t.prototype.onTreeDataProviderRowsSiblingMoved=function(e,t,i){if(!this.$_needSort()){var n=this._itemMap[t[0].rowId];n&&(n.parent.moveChildren(n.childIndex,t.length,i),this.$_resetVisibleItems(),this._fireRefresh())}},t.prototype.onTreeDataProviderRowParentChanged=function(e,t,i,n){var r=this._itemMap[t.rowId];if(r){var o=this._itemMap[i.rowId];this.$_needSort()&&(n=o?o.count():0),r.changeParent(o,n),this.$_resetVisibleItems(),this._fireRefresh()}},t.prototype.onTreeDataProviderRowsParentChanged=function(e,t,i,n){var r=this._itemMap[t[0].rowId];if(r){var o=this._itemMap[i.rowId];this.$_needSort()&&(n=o?o.count():0);for(var s=0;s<t.length;s++){var a=t[s];(r=this._itemMap[a.rowId]).changeParent(o,n+s)}this.$_resetVisibleItems(),this._fireRefresh()}},t.prototype.onTreeDataProviderRowsHideChanged=function(e,t,i){if(i){for(var n=!1,r=0,o=t.length;r<o;r++){var s=t[r],a=this._itemMap[s];if(a){var l=a.parent;this.$_internalRemoveItem(a),l.expanded&&l.visible&&this._visibleItems.remove(a),n=!0}}n&&this.$_clearSummary(),this._fireRefresh()}else this._saveAndRefresh()},t.prototype.onTreeDataProviderDataLoadComplated=function(){this._fireDataLoadComplated()},t.ITEM_CHANGED="onTreeItemProviderItemChanged",t.EXPANDING="onTreeItemProviderExpanding",t.EXPANDED="onTreeItemProviderExpanded",t.COLLAPSING="onTreeItemProviderCollapsing",t.COLLAPSED="onTreeItemProviderCollapsed",t.PARENT_CHANGING="onTreeItemProviderParentChanging",t.PARENT_CHANGED="onTreeItemProviderParentChanged",t}(sm),By=function(e){function t(t){var i=e.call(this)||this;return i._rs=t,i}return gd(t,e),t.prototype.getCount=function(e){return this._rs.getNumber(e)},t.prototype.getSum=function(e){return this._rs.getSum(e)},t.prototype.getMax=function(e){return this._rs.getMax(e)},t.prototype.getMin=function(e){return this._rs.getMin(e)},t.prototype.getAvg=function(e){return this._rs.getAvg(e)},t.prototype.getVar=function(e){return this._rs.getVar(e)},t.prototype.getVarp=function(e){return this._rs.getVarp(e)},t.prototype.getStdev=function(e){return this._rs.getStdev(e)},t.prototype.getStdevp=function(e){return this._rs.getStdevp(e)},t.prototype.getDataCount=function(e){return this._rs.getDataCount(e)},t.prototype.getDataAvg=function(e){return this._rs.getDataAvg(e)},t}(Yp),Vy=function(e){function t(t,i,n){var r=e.call(this,i&&i.row)||this;return r._values=[],r._changeValues=[],r._started=!1,r._checkDiff=!1,r._strictDiff=!1,r._invalidFields=[],r._rs=t,r._target=i,r._state=n,r}return gd(t,e),t.prototype.dispose=function(){this._values=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"values",{get:function(){return this._values.concat()},set:function(e){var t=this.dataSource,i=t.fieldCount;if(e){i=Math.min(i,e.length);for(var n=0;n<i;n++){var r=t.getField(n),o=this._values[n],s=r.readValue(e[n]);this._values[n]=s,this._started&&parent&&!r.equalValues(o,s)&&this._rs._editItemCellUpdated(this,n,o,s)}}else this._values=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"invalidFields",{get:function(){return this._invalidFields},enumerable:!1,configurable:!0}),t.prototype.beginEdit=function(e,t){this._started=!0,this._checkDiff=e,this._strictDiff=t},t.prototype.setValue=function(e,t){var i=this.dataSource;if(e<0&&e>=i.fieldCount)throw new RangeError("field index is out of bounds: "+e);var n=i.getField(e),r=this._values[e];t=n.readValue(t),this._values[e]=t,this._started&&this.parent&&!n.equalValues(r,t)&&this._rs._editItemCellUpdated(this,e,r,t)},Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._rs.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemState",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowState",{get:function(){return this._target?this._target.rowState:jp.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){return!!this._target&&this._target.expanded},enumerable:!1,configurable:!0}),t.prototype.getData=function(e){return e=this.dataSource.getFieldIndex(e),this._values[e]},t.prototype.setData=function(e,t){var i=this.dataSource;if((e=i.getFieldIndex(e))<0||e>=i.fieldCount)throw new RangeError("field index is out of bounds: "+e);var n=i.getField(e),r=this._values[e];t=n.readValue(t);var o=!this._checkDiff;o||(o=this._strictDiff?!n.equalValues(r,t):!n.sameValues(r,t)),o&&(this._values[e]=t,this._changeValues[e]=!0,this.parent&&(this._rs._editItemCellUpdated(this,e,r,t),this._rs._editItemCellEdited(this,e)))},t.prototype.getRowData=function(){return this._values.concat()},t.prototype.getRowObject=function(){var e=this.dataSource;if(e){for(var t={},i=0,n=e.fieldCount;i<n;i++)t[e.getOrgFieldName(i)]=this._values[i];return t}return null},t.prototype.isEdited=function(e){return this._changeValues[e]},Object.defineProperty(t.prototype,"provider",{get:function(){return this._rs&&this._rs.source},enumerable:!1,configurable:!0}),t}(Fy),Hy=function(e){function t(t){var i=e.call(this,null,t)||this;return i._observers=[],i._appending=!1,i._insertAfter=!1,i._insertIndex=-1,i._rs=new jy,i.source=i._rs,i._summarizer=new By(i._rs),i}return gd(t,e),t.prototype._doDispose=function(){this._rs=this._rs&&this._rs.dispose(),this._summarizer=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"summarizer",{get:function(){return this._summarizer},enumerable:!1,configurable:!0}),t.prototype.getLevels=function(e){return this._rs.getLevels(e)},t.prototype.setLabelComparer=function(e){this._rs.labelComparer=e},t.prototype.orderBy=function(e,t,i){this._rs.orderBy(e,t,i)},t.prototype.getSortFields=function(){return this._rs.getSortFields()},t.prototype.getSortDirections=function(){return this._rs.getSortDirections()},t.prototype.getSortCases=function(){return this._rs.getSortCases()},Object.defineProperty(t.prototype,"labelComparer",{get:function(){return this._rs.labelComparer},set:function(e){this._rs.labelComparer=e},enumerable:!1,configurable:!0}),t.prototype.isFiltered=function(e){return null!=e?this._rs.hasFilter(e):this._rs.hasFilters()},t.prototype.addFilter=function(e,t){this._rs.addFilter(e,t)},t.prototype.clearAllFilters=function(){this._rs.clearAllFilters()},t.prototype.beginFiltering=function(){this._rs.beginFiltering()},t.prototype.endFiltering=function(e,t,i){this._rs.endFiltering(!0,e,t,i)},Object.defineProperty(t.prototype,"includeParentItem",{set:function(e){this._rs.includeParentItem=e},enumerable:!1,configurable:!0}),t.prototype.expand=function(e,t,i,n){this._rs.expand(e,t,i,n)},t.prototype.collapse=function(e,t){this._rs.collapse(e,t)},t.prototype.expandAll=function(e,t){this._rs.expandAll(e,t)},t.prototype.collapseAll=function(){this._rs.collapseAll()},t.prototype.getCheckedRows=function(){return this._rs.getCheckedRows()},t.prototype.getCheckedRowIds=function(){return this._rs.getCheckedRowIds()},Object.defineProperty(t.prototype,"checkableExpression",{set:function(e){this._rs.checkableExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkableCallback",{set:function(e){this._rs.checkableCallback=e},enumerable:!1,configurable:!0}),t.prototype.resetCheckables=function(){this._rs.resetCheckables()},t.prototype.applyCheckables=function(){this._rs.applyCheckables()},t.prototype.getAllItems=function(){return this._rs.getAllItems()},t.prototype.getItem=function(e){return this._rs.getItem(e)},t.prototype.getItemOfRow=function(e){return this._rs.getItemOfRow(e)},t.prototype.findItem=function(e,t,i,n,r){return this._rs.findItem(e,t,i,n,r)},t.prototype.findCell=function(e,t,i,n,r,o){return this._rs.findCell(e,t,i,n,r,o)},t.prototype.checkItem=function(e,t,i,n){this._rs.checkItem(e,t,i,n)},t.prototype.checkAll=function(e,t,i,n){var r=this.editingItem;r&&(!i||r.checkable)&&r._setChecked(e),this._rs.checkAll(e,t,i,n)},t.prototype.setCheckFieldIndex=function(e){this._rs.setCheckFieldIndex(e)},t.prototype.getJsonRows=function(){return this._rs.getJsonRows()},Object.defineProperty(t.prototype,"summaryMode",{get:function(){return this._rs.summaryMode},set:function(e){this._rs.summaryMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupSummaryMode",{set:function(e){this._rs.groupSummaryMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideDeleted",{get:function(){return this._rs.hideDeleted},set:function(e){this._rs.hideDeleted=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortMode",{get:function(){return this._rs.sortMode},set:function(e){this._rs.sortMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemCount",{get:function(){return this._rs.itemCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._rs.rowCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sorted",{get:function(){return this._rs.sorted},enumerable:!1,configurable:!0}),t.prototype.getMovable=function(e){return this._rs.getMovable(e)},t.prototype.getItems=function(e,t){throw new Error("Method not implemented.")},t.prototype.canAppend=function(){return!1},t.prototype.canInsert=function(e){return!!e},t.prototype.canDelete=function(e){return!!e},t.prototype.$_replaceItem=function(e,t){e.parent.setItem(e,t),this._rs._setItem(e,t)},t.prototype._doBeginUpdate=function(e){return this._editingItem=this._editItem=this._createEditItem(e,Mg.UPDATING,null),this.$_replaceItem(e,this._editItem),this._editItem},t.prototype._doBeginAppend=function(e){return this._editingItem=this._editItem=this._createEditItem(null,Mg.APPENDING,e),this._editItem},t.prototype._doBeginInsert=function(e,t,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=!1),n)this._appending=!0,e.setExpanded(!0,!1,!1),this._editingItem=this._editItem=this._createEditItem(null,Mg.INSERTING,t),this._rs.appendItem(e,this._editItem);else{var r=e.parent;this._appending=!1,this._insertAfter=i,this._insertIndex=r.indexOf(e),this._editingItem=this._editItem=this._createEditItem(e,Mg.INSERTING,t),this._rs.insertItem(r,this._editItem,this._insertIndex,this._insertAfter)}return this._editItem},t.prototype._doCompleteUpdate=function(e){var t=!1;if(this.dataSource){this.$_replaceItem(this._editItem,e);var i=this._editItem.row;try{t=i.update(this._editItem.values,!1)}catch(n){throw this.$_replaceItem(e,this._editItem),n}t||this.$_replaceItem(e,this._editItem)}return t},t.prototype._doCompleteInsert=function(e){var t=this.dataSource,i=this._editItem,n=!1;if(t){var r=i.parent,o=r.row,s=t.createRow(i.values,-1,!1),a=i.parent.indexOf(i);this._rs.removeItem(i);try{n=this.isAppending?o.addChild(s,!1):o.insertChild(a,s,!1)}catch(u){throw this._appending?this._rs.appendItem(r,i):this._rs.insertItem(r,i,this._insertIndex,this._insertAfter),u}if(n){var l=r.itemOfRow(s.rowId);i.setCheckable(l.checkable),this._copyExtents(i,l),i.heights&&(l.heights=i.heights.slice()),i._dataRow=s}else this._appending?this._rs.appendItem(r,i):this._rs.insertItem(r,i,this._insertIndex,this._insertAfter)}return n},t.prototype._doCancelEdit=function(t,i){t==Mg.UPDATING?(this.$_replaceItem(this._editItem,i),this._copyExtents(this._editItem,i)):t==Mg.INSERTING&&this._editItem.parent&&this._rs.removeItem(this._editItem),e.prototype._doCancelEdit.call(this,t,i)},t.prototype._doCommitEdit=function(t,i){return t==Mg.UPDATING||Mg.INSERTING,e.prototype._doCommitEdit.call(this,t,i)},t.prototype.remove=function(e,t){if(e){var i=e.row;i&&i.parent.removeChild(i,t)}},t.prototype.getRemovableRows=function(e){if(e.length>0){for(var t=[],i=0,n=e.length;i<n;i++){var r=this._rs.getItem(e[i]);t.push(r.dataId)}return t}},t.prototype.removeRows=function(e,t){e&&this.dataSource.removeRows(e,t)},t.prototype.updateRows2=function(e){},t.prototype.setDataSource=function(e){this._rs.dataSource=e},Object.defineProperty(t.prototype,"rootItem",{get:function(){return this._rs._rootItem},enumerable:!1,configurable:!0}),t.prototype._createEditItem=function(e,t,i){this._editingItem=null;var n=this.dataSource;if(!n)return null;var r,o=n.fieldCount;switch(t){case Mg.UPDATING:r=this._editingItem=new Vy(this,e,t);for(var s=0;s<o;s++)r.setValue(s,e.getData(s));this._copyExtents(e,r),e.heights&&(r.heights=e.heights.slice());break;case Mg.INSERTING:case Mg.APPENDING:if((r=this._editingItem=new Vy(this,null,t))._setExtents(0),i)for(s=0;s<o;s++)i.length>s&&r.setValue(s,i[s])}return this._editingItem},t.prototype.addCellStyle=function(e,t,i){return this._rs.addCellStyle(e,t,i)},t.prototype.removeCellStyle=function(e,t){return this._rs.removeCellStyle(e,t)},t.prototype.getUserCellStyle=function(e,t){return this._rs.getUserCellStyle(e,t)},t.prototype.setSortingOptions=function(e){this._rs.setSortingOptions(e)},t.prototype.setTreeOptions=function(e){this._rs.setTreeOptions(e)},t.prototype.onItemProviderFilterAdd=function(e,t,i){},t.prototype.onItemProviderFilterRemove=function(e,t,i){},t.prototype.onItemProviderFilterClear=function(e,t){},t.prototype.onItemProviderFilterClearAll=function(e){},t.prototype.onItemProviderOuterSort=function(e,t,i,n){return this._fireOuterSort(t,i,n)},t.prototype.onTreeItemProviderItemChanged=function(e,t){this._eventLock<=0&&this.fireEvent(jy.ITEM_CHANGED,t)},t.prototype.onTreeItemProviderExpanding=function(e,t){return!(this._eventLock<=0)||this.fireConfirmEvent(jy.EXPANDING,t)},t.prototype.onTreeItemProviderExpanded=function(e,t){this._eventLock<=0&&this.fireEvent(jy.EXPANDED,t)},t.prototype.onTreeItemProviderCollapsing=function(e,t){return!(this._eventLock<=0)||this.fireConfirmEvent(jy.COLLAPSING,t)},t.prototype.onTreeItemProviderCollapsed=function(e,t){this._eventLock<=0&&this.fireEvent(jy.COLLAPSED,t)},t}(cm),Uy=function(e){function t(i){var n=e.call(this,i)||this;return Object.setPrototypeOf(n,t.prototype),n}return gd(t,e),t}(Error),Wy=function(e){function t(i,n,r,o){var s=e.call(this,n)||this;return Object.setPrototypeOf(s,t.prototype),s.level=i,s.column=r,s.userMessage=o,s}return gd(t,e),t.prototype.toString=function(){return"Validation failed["+this.level.toUpperCase()+"]: "+this.message},t}(Uy),Gy=function(e){function t(t){var i=e.call(this)||this;return i._active=!0,i._mode=Md.ALWAYS,i._level=Ld.ERROR,i._name=t,i}return gd(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(e){this._active=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(e){this._mode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"criteria",{get:function(){return this._criteria},set:function(e){e!=this._criteria&&(this._criteria=e,this._exprNode=e?$f.Default.parse(e,t.CAPITAL_INDEXERS):null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._message},set:function(e){this._message=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this._description},set:function(e){this._description=e},enumerable:!1,configurable:!0}),t.prototype.validate=function(e){if(this._exprNode&&!this._exprNode.evaluate(e)){var t=this._message||this._description||this._name||this._criteria;throw new Wy(this._level,t,null,this._message)}},t.prototype.doAssignSimple=function(e){if("string"==typeof e)return this.criteria=e,!0},t.CAPITAL_INDEXERS=["value","values"],t}(Yp),zy=function(e){function t(t){var i=e.call(this)||this;return i._items=[],i._isColumn=t,i}return gd(t,e),t.prototype._doDispose=function(){this._items=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"count",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items.slice()},set:function(e){this.assignFrom(e)},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this._items=[]},t.prototype.addAll=function(e){if(e&&e.length>0)for(var t=0,i=e.length;t<i;t++)this._items.push(e[t])},t.prototype.validate=function(e,t,i,n){for(var r=0;r<this._items.length;r++){var o=this._items[r];if(o.active&&(o.mode==e||o.mode==Md.ALWAYS))try{o.validate(t)}catch(s){if(!(i=i&&!this._isColumn)||pp(o.level,n)<0)throw s instanceof Wy?(s.level=o.level,s):new Wy(o.level,s)}}},t.prototype.assignFrom=function(e){if(e!==this&&(this.clear(),e)){Bp.isArray(e)||(e=[e]);for(var t=0,i=e.length;t<i;t++){var n=new Gy;n.assignFrom(e[t]),this._items.push(n)}}},t}(Yp),Yy=function(e){function t(){var t=e.call(this)||this;return t._item=null,t._dataSource=null,t._fieldCount=0,t}return gd(t,e),t.prototype._doDispose=function(){this._item=null,this._dataSource=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"item",{get:function(){return this._item},set:function(e){this._item=e,this._dataSource=this._item.dataSource,this._fieldCount=this._dataSource?this._dataSource.fieldCount:0},enumerable:!1,configurable:!0}),t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){switch(e){case t.ID_ROW:return this._item.index;case t.ID_DATAROW:return this._item.dataRow;case t.ID_CHECKED:return this._item.checked}throw new Kp("Invalid identifier key: "+e)},t.prototype.evaluateIndexerI=function(e,i){if(i<0||i>=this._fieldCount)throw new Kp("Data field index out of bounds:"+i);switch(e){case t.ID_VALUE:case t.ID_VALUES:return this._item.getData(i)}throw new Kp("Invalid identifier indexer: "+e)},t.prototype.evaluateIndexerS=function(e,i,n){var r=n?this._dataSource.getFieldIndexC(i):this._dataSource.getFieldIndex(i);if(r<0||r>=this._fieldCount)throw new Kp("Data field is not exists:"+i);switch(e){case t.ID_VALUE:case t.ID_VALUES:return this._item.getData(r)}throw new Kp("Invalid identifier indexer: "+e)},t.ID_ROW=0,t.ID_DATAROW=1,t.ID_CHECKED=2,t.ID_VALUE=3,t.ID_VALUES=4,t.IDENTS={row:t.ID_ROW,datarow:t.ID_DATAROW,checked:t.ID_CHECKED,value:t.ID_VALUE,values:t.ID_VALUES},t}(nf),qy=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._doDispose=function(){this._index=null,this._dataSource=null,e.prototype._doDispose.call(this)},t.prototype.setIndex=function(e){this._index=e,this._value=this._index.item.getData(this._index.dataColumn.dataIndex),this._dataSource=this._index.item.dataSource},t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){switch(e){case t.ID_VALUE:return this._value;case t.ID_ROW:return this._index.itemIndex;case t.ID_DATAROW:return this._index.item.dataRow;case t.ID_INDEX:return this._index.column.index;case t.ID_FIELD:return this._index.dataColumn.dataIndex;case t.ID_CHECKED:var i=this._index.item;return!!i&&i.checked;case t.ID_TAG:return this._index.column.tag;case t.ID_BASE:var n=this._index.dataColumn.baseIndex;return n>=0?this._index.item.getData(n):void 0}throw new Kp("Invalid identifier key: "+e)},t.prototype.evaluateIndexerI=function(e,i){var n=this._dataSource.fieldCount;if(i<0||i>=n)throw new Kp("Data field index out of bounds:"+i);switch(e){case t.ID_VALUE:case t.ID_VALUES:return this._index.item.getData(i)}throw new Kp("Invalid identifier indexer: "+e)},t.prototype.evaluateIndexerS=function(e,i,n){var r=n?this._dataSource.getFieldIndexC(i):this._dataSource.getFieldIndex(i),o=this._dataSource.fieldCount;if(r<0||r>=o)throw new Kp("Data field is not exists:"+i);switch(e){case t.ID_VALUE:case t.ID_VALUES:return this._index.item.getData(r)}throw new Kp("Invalid identifier indexer: "+e)},t.ID_VALUE=0,t.ID_ROW=1,t.ID_DATAROW=2,t.ID_INDEX=3,t.ID_FIELD=4,t.ID_CHECKED=5,t.ID_TAG=6,t.ID_BASE=7,t.ID_VALUES=8,t.IDENTS={value:t.ID_VALUE,row:t.ID_ROW,datarow:t.ID_DATAROW,index:t.ID_INDEX,field:t.ID_FIELD,checked:t.ID_CHECKED,tag:t.ID_TAG,base:t.ID_BASE,values:t.ID_VALUES},t}(nf),Ky=function(e){function t(t){var i=e.call(this)||this;return i._cellList={},i._owner=t,i}return gd(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellList",{get:function(){return this._cellList},enumerable:!1,configurable:!0}),t.prototype.validateCell=function(e,t,i){this.$_validateCell(e,t,!0,this._owner.editOptions.commitLevel,i)},t.prototype.validateRow=function(e,t,i,n){var r=this._owner.editOptions.commitLevel,o=new Wv;if(!i)for(var s=this._owner.getDataColumns(),a=0,l=s.length;a<l;a++){var u=s[a];o.set(e.index,u,this._owner);try{this.$_validateCell(o,t,!0,r,n)}catch(d){if(!(d instanceof Wy))throw d;if(pp(d.level,r)<0)throw d;!n&&this.addInvalidateCell(o,d)}}var c=this._owner.validations;if(c&&c.count>0){var h=this._owner.rowValidationRuntime;h.item=e,c.validate(t?Md.INSERT:Md.UPDATE,h,!0,r)}this.owner._fireValidateRow(e,t,e.getRowObject())},t.prototype.clearInvalidCells=function(e){this.$_clearInvalidateList(e)},t.prototype.clearInvalidCell=function(e){this.$_clearInvalidateCell(e)},t.prototype.getError=function(e){return e.item?(this._cellList[Xg(e.item.itemState)?-1:e.dataId]||{})[e.dataField]:null},t.prototype.cloneError=function(e,t){var i=this._cellList;i[e]&&(i[t]=JSON.parse(JSON.stringify(i[e])))},t.prototype.addInvalidateCell=function(e,t){return this.$_addInvalidateCell(e,t)},t.prototype.getInvalidCells=function(e){var t,i=[],n=this._owner.dataSource,r=this._cellList;if(null!=e){var o=n.getRowId(e);if(null==o)return null;(t={})[o]=this._cellList[o],r=t}for(var s in r){var a=r[s];for(var l in e=n.getDataRow(+s),a){var u=md(md({},a[l]),{dataRow:e});i.push(Bp.deepCopy(u))}}return i.length>0?i:null},t.prototype.validateCells=function(e,t,i,n){var r=this._owner,o=r.getDataColumns(),s=[];if(n)for(var a=o.length;a--;)n.indexOf(o[a].name)<0&&o.splice(a,1);if(e=Bp.makeArray(e)){a=0;for(var l=e.length;a<l;a++)(c=r.getItem(e[a]))&&c.isDataRow&&(!n&&delete this._cellList[c.dataId],s.push(c))}else if(t)for(a=0,l=r.itemCount;a<l;a++)(c=r.getItem(a))&&c.isDataRow&&(!n&&delete this._cellList[c.dataId],s.push(c));else!r.isTree()&&r.paged&&i?(s=r.itemSource.getPagingAllItems(),!n&&(this._cellList={})):(s=r.getAllItems(),!n&&(this._cellList={}));a=0;for(var u=s.length;a<u;a++){var c;if((c=s[a]).isDataRow){var h=0;for(l=o.length;h<l;h++){var d=o[h],p=Gv.tempItem(r,c,d);try{this.$_validateCell(p,!1,!1,Ld.IGNORE,!1)}catch(f){Bp.log("validateCells valiation fail add")}}}}return r.refreshView(),this.getInvalidCells()},t.prototype.clearInvalidateList=function(){this.$_clearInvalidateList()},t.prototype.checkRowIds=function(){var e=this.owner.dataSource;for(var t in this._cellList){var i=parseInt(t);-1!==i&&e.getDataRow(i)<0&&delete this._cellList[i]}},t.prototype.$_validateCell=function(e,t,i,n,r){var o=e.dataColumn;if(o){var s=this.owner.editOptions.validateOnlyEditColumn,a=!0;if((e.item instanceof um||e.item instanceof Vy)&&(a=e.item.isEdited(o.dataIndex)),!s||a||o.required)try{var l=e.item.getData(o.dataIndex);if(o.required){var u=o.grid,c=u&&u.dataSource&&u.dataSource.getField(o.dataIndex);if(c&&c.isEmpty(l)){var h=o.requiredMessage||"Value is required: "+o.fieldName;throw new Wy(o.requiredLevel||Ld.ERROR,h,o,o.requiredMessage)}}var d=o.validations;if(d&&d.count>0){var p=this._owner.columnValidationRuntime;p.setIndex(e),d.validate(t?Md.INSERT:Md.UPDATE,p,i,n)}this.owner._fireValidateCell(e,t,e.item.getData(e.dataField)),!r&&this.$_clearInvalidateCell(e)}catch(f){throw f instanceof Wy&&(f.column=o,!r&&this.$_addInvalidateCell(e,f)),f}}},t.prototype.$_addInvalidateCell=function(e,t){var i=Xg(e.item.itemState)?-1:e.dataId,n=e.dataColumn&&e.dataColumn.dataIndex;if(!(null==i||n<=-1)){var r=this._cellList,o=r[i]=r[i]||{};return o[n]={message:t.message,userMessage:t.userMessage,level:t.level,column:e.dataColumn.name,fieldName:e.dataColumn.fieldName},this.owner.refreshView(),md(md({},o[n]),{dataRow:e.dataRow})}},t.prototype.$_clearInvalidateCell=function(e){var t=Xg(e.item.itemState)?-1:e.dataId,i=e.dataField,n=this._cellList[t];n&&n[i]&&delete n[i],this.owner.refreshView()},t.prototype.$_clearInvalidateList=function(e){null!=e?delete this._cellList[e]:this._cellList={},this._owner.refreshView()},t}(Yp),Xy=/(.*)/,Zy=function(){function e(e){this._pattern=Xy,this._replace="$1",this.$_parse(this._format=e)}return e.getFormatter=function(t){var i=e.Formatters[t];return i||(e.Formatters[t]=i=new e(t)),i},Object.defineProperty(e.prototype,"format",{get:function(){return this._format},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){return e&&e.replace(this._pattern,this._replace)},e.prototype.$_parse=function(e){if(e){var t=e.trim().split(Bp.colonreg);if(t.length>1){var i=t[0].trim(),n=t[1].trim();i&&n&&('"'==i.charAt(0)&&(i=i.substr(1,i.length-2)),i&&('"'==n.charAt(0)&&(n=i.substr(1,n.length-2)),n&&(this._pattern=new RegExp(i,t[2]||""),this._replace=n)))}}},e.Formatters={},e}(),Jy=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._changed=function(){},t.INIT_COUNT=200,t}(Yp),Qy=function(e){function t(){var t=e.call(this)||this;return t._level=0,t._mergeMode=!1,t}return gd(t,e),t.getDefault=function(e,i){var n=t.$_default;return n._level=e,n._mergeMode=i,n},t.prototype.parseInit=function(e,t,i,n,r){var o=e.itemCount;(n=Math.min(o-i,n))<1||(this._mergeMode?this.$_parseMerged(e,t,i,n,r):this.$_parseNormal(e,t,i,n,r))},t.prototype.parseBounds=function(e,t,i,n,r){if(!(e.itemCount<1)){for(i=Math.max(0,i);i>=0&&r[i]<=0;){var o=e.getItem(i);if(o==this.$_getAncestor(o,this._level))break;i--}for(;i<=n&&r[i]>0;)i++;i<=n&&(this._mergeMode?this.$_parseMergedBounds(e,t,i,n,r):this.$_parseNormalBounds(e,t,i,n,r))}},t.prototype.$_getAncestor=function(e,t){var i=Bp.cast(e,im);for(i||(i=e.parent);i.level>t;)i=i.parent;return i},t.prototype.$_parseNormal=function(e,t,i,n,r){var o=e.itemCount;if(!(o<1)){var s=e.fixedCount,a=e.getItem(i),l=a,u=i,c=u+1;for(r[u]=u+1;c<o;)a=e.getItem(c),(c==s||a.level!=l.level||a.constructor!==l.constructor||a instanceof rm||a instanceof nm)&&(u=c),r[c]=u+1,c++,l=a}},t.prototype.$_parseMerged=function(e,t,i,n,r){var o=e.itemCount;if(!(o<1))for(var s=e.getItem(i),a=this.$_getAncestor(s,this._level),l=i,u=r[l]=l+1;u<o;){s=e.getItem(u);var c=this.$_getAncestor(s,this._level);if(c!=a){if(u>=n)break;a=c,l=u}r[u]=l+1,u++}},t.prototype.$_parseNormalBounds=function(e,t,i,n,r){var o=e.itemCount;if(!(o<1)){var s=e.fixedCount,a=e.getItem(i),l=a,u=i,c=u+1;for(r[u]=u+1;c<o;)a=e.getItem(c),c!=s&&a.level==l.level&&a.constructor===l.constructor||(u=c),r[c]=u+1,c++,l=a}},t.prototype.$_parseMergedBounds=function(e,t,i,n,r){var o=e.itemCount;if(!(o<1)){var s=e.getItem(i),a=this.$_getAncestor(s,this._level),l=i,u=l+1;for(r[l]=l+1;u<o;){s=e.getItem(u);var c=this.$_getAncestor(s,this._level);if(c!=a){if(u>n)break;a=c,l=u}r[u]=l+1,u++}}},t.$_default=new t,t}(Jy),ev=function(e){function t(){var t=e.call(this)||this;return t._item=null,t._field=-1,t._ds=null,t._fieldCount=0,t._grid=null,t._layout=null,t}return gd(t,e),t.getObjectText=function(e,t,i,n){var r=t.objectKey||t.objectCallback,o=r?t.objectKey:i.objectKey,s=r?t.objectCallback:i.objectCallback;return s&&"function"==typeof s?s(i.orgFieldName,e.dataRow,n):o&&n.hasOwnProperty(o)?n[o]:JSON.stringify(n)},t.prototype._doDispose=function(){this._item=null,this._ds=null,this._grid=null,this._layout=null,e.prototype._doDispose.call(this)},t.prototype.setDataSource=function(e){this._ds=e,this._fieldCount=e?e.fieldCount:0},t.prototype.setLayout=function(e){this._layout=e,this._column=e.firstColumn,this._grid=e.grid},t.prototype.setCell=function(e){this._item=e.item,this._field=e.dataField},t.prototype.setItem=function(e,t){this._item=e,this._field=t},t.prototype.clear=function(){this._item=null,this._field=null,this._layout=null,this._column=null,this._grid=null,this._ds=null},t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){if(this._item){var i=void 0;switch(e){case t.ID_ROW:return this._item.index;case t.ID_DATAROW:return this._item.dataRow;case t.ID_CHECKED:return this._item.checked;case t.ID_GROUP:return this._item.parent;case t.ID_VALUE:var n=this._ds.getField(this._field);return null!=(i=this._item.getData(this._field))&&n.dataType===vd.OBJECT?t.getObjectText(this._item,this._column,n,i):i;case t.ID_PREV_VALUES:var r=this._grid.getDataColumns(),o=r.indexOf(this._column);if(!r.length||o<1)return"";for(var s=[],a=0,l=Math.min(o,r.length);a<l;a++)null!=(i=this._item.getData(r[a].dataIndex))&&this._ds.getField(r[a].dataIndex).dataType===vd.OBJECT?s.push(t.getObjectText(this._item,r[a],r[a].getField(),i)):s.push(i);return s.join("`")}throw new Kp("Invalid identifier key: "+e)}},t.prototype.evaluateIndexerI=function(e,i){if(this._item){if(e==t.ID_VALUE||e==t.ID_VALUES){if(i<0||i>=this._fieldCount)throw new Kp("Data field index out of bounds:"+i);var n=this._item.getData(i);if(null!=n&&this._ds.getField(i).dataType===vd.OBJECT){var r=this._column.grid.columnByField(i);return t.getObjectText(this._item,r,r.getField(),n)}return n}throw new Kp("Invalid identifier indexer: "+e)}},t.prototype.evaluateIndexerS=function(e,i,n){if(e!=t.ID_VALUE&&e!=t.ID_VALUES)throw new Kp("Invalid identifier indexer: "+e);if(this._ds){var r=n?this._ds.getFieldIndexC(i):this._ds.getFieldIndex(i);if(r<0||r>=this._fieldCount)throw new Kp("Data field is not exists:"+i);var o=this._item.getData(r);if(null!=o&&this._ds.getField(r).dataType===vd.OBJECT){var s=this._column.grid.columnByField(r);return t.getObjectText(this._item,s,s.getField(),o)}return o}},t.ID_ROW=0,t.ID_DATAROW=1,t.ID_CHECKED=2,t.ID_VALUE=3,t.ID_VALUES=4,t.ID_GROUP=5,t.ID_PREV_VALUES=6,t.IDENTS={row:t.ID_ROW,datarow:t.ID_DATAROW,checked:t.ID_CHECKED,value:t.ID_VALUE,values:t.ID_VALUES,group:t.ID_GROUP,prevvalues:t.ID_PREV_VALUES},t}(nf),tv={},iv=function(e){function t(i){var n=e.call(this)||this;return n._runtime=t.$_runtime=t.$_runtime||new ev,"function"==typeof i?n._callback=i:n.criteria=i,n}return gd(t,e),t.createRule=function(e){var i="string"==typeof e||"function"==typeof e?e:e&&e.criteria;return i?new t(i):null},t.prototype._doDispose=function(){this._runtime.clear(),this._runtime=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"criteria",{get:function(){return this._criteria},set:function(e){(e=e?e.trim():null)!=this._criteria&&(this._criteria=e,this._exprNode=e?$f.Default.parse(e,null):null,this._changed())},enumerable:!1,configurable:!0}),t.prototype.$_getValue=function(e,t,i,n){return n?t.getData(i):this._callback?this._callback.call(null,e.handler,this._layout.getDataColumn(),t.itemIndex,t.getData(i)):(this._runtime.setItem(t,i),this._exprNode.evaluate(this._runtime))},t.prototype.parseInit=function(e,t,i,n,r){var o=this._layout.isBreakMergeOnEmpty(),s=e.fixedCount,a=e.itemCount,l=e.dataSource.rowCount,u=this._layout.grid;if(!((n=Math.min(a-i,n))<1||l<=0)){this._runtime.setDataSource(e.dataSource),this._runtime.setLayout(this._layout);for(var c=null,h=i;h<a&&(c=e.getItem(h),!this.$_isRow(c,!1));)r[h]=h+1,h++;if(!(h>=a)){var d,p=!this._callback&&this._exprNode.isIdentifier("value")&&this._layout.getDataColumn().valueType!==vd.OBJECT,f=i=h;if(r[f]=f+1,!(c.dataRow>=l))for(d=this.$_getValue(u,c,t,p),h=i+1;h<a;h++)if(c=e.getItem(h),this.$_isRow(c,!1)){if(c.dataRow>=l)break;var _=this.$_getValue(u,c,t,p);if(h==s||null==_&&o||(_ instanceof Date&&d instanceof Date?+_!=+d:_!=d)){if(h>=n)break;f=h,d=_}r[h]=f+1}else{if(h>=n)break;d=tv,f=h,r[h]=f+1}}}},t.prototype.parseBounds=function(e,t,i,n,r){var o=this._layout.isBreakMergeOnEmpty(),s=!1,a=e.itemCount;if(!(a<1)){var l=e.fixedCount,u=this._layout.grid,c=!this._callback&&this._exprNode.isIdentifier("value")&&this._layout.getDataColumn().valueType!==vd.OBJECT,h=tv,d=Math.max(0,i),p=d,f=-1;if(this._runtime.setDataSource(e.dataSource),this._runtime.setLayout(this._layout),d>0&&r[d]<=0){var _=e.getItem(d);if(this.$_isRow(_,s)){var g=this.$_getValue(u,_,t,c);for(d--;d>=0&&(_=e.getItem(d),this.$_isRow(_,s))&&(h=this.$_getValue(u,_,t,c),!(d==l||null==h&&o||(h instanceof Date&&g instanceof Date?+h!=+g:h!=g)));)d--;for(var m=p-1;m>d;m--)r[m]=d+2;p-1>d&&(f=d+1)}else{for(r[d]=d+1,m=p-1;m>d;m--)r[m]=d+2;for(p-1>d+1&&(f=d+2),d--;d>=0&&r[d]<=0&&!this.$_isRow(e.getItem(d),s);)r[d]=d+1,d--}}for(d=Math.max(0,i);d<=n&&r[d]>0;)d++;for(;d<=n&&!this.$_isRow(e.getItem(d),s);)r[d]=d+1,d++;if(d<n){for(p=d,_=e.getItem(d),g=this.$_getValue(u,_,t,c),d++;d<a;)if(_=e.getItem(d),this.$_isRow(_,s)){if(h=this.$_getValue(u,_,t,c),d==l||void 0===h&&o||(h instanceof Date&&g instanceof Date?+h!=+g:h!=g)){var y=p;for(f>=0&&(y=f,f=-1),m=p;m<d;m++)r[m]=y+1;if(d>=n)break;g=h,p=d}else r[d]=p+1;d++}else{for(y=p,f>=0&&(y=f,f=-1),m=p;m<d;m++)r[m]=y+1;for(r[d]=d+1,d++;d<a&&!this.$_isRow(e.getItem(d),s);)r[d]=d+1,d++;if(p=d,d>=n)break}if(d==a&&(h instanceof Date&&g instanceof Date?+h==+g:h==g))for(y=f>=0?f:p,m=p;m<d;m++)r[m]=y+1}}},t.prototype.$_isRow=function(e,t){var i=e instanceof tm&&!(e instanceof lm);if(i&&!t){var n=e.parent;i=n.expanded||n.firstItem!==e}return i},t.$_runtime=null,t}(Jy),nv=function(e){function t(){return e.call(this)||this}return gd(t,e),Object.defineProperty(t.prototype,"head",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tail",{get:function(){return-1},enumerable:!1,configurable:!0}),t}(Yp),rv=function(e){function t(t){var i=e.call(this)||this;return i._group=null,i._column=t.c1._columnObj,i._head=t.top,i._tail=t.bottom,i}return gd(t,e),t.borrow=function(e){var i=t.$_rooms.pop();return i?(i._head=e.top,i._tail=e.bottom):i=new t(e),i},t.returnTo=function(e){if(e){var i=t.$_rooms;i.indexOf(e)<0&&i.push(e)}},Object.defineProperty(t.prototype,"column",{get:function(){return this._column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"head",{get:function(){return this._head},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tail",{get:function(){return this._tail},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this._column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return this._group},set:function(e){this._group=e},enumerable:!1,configurable:!0}),t.prototype.getHead=function(e){return e?e.set(this._head,this._column):e=this._column.grid.getIndex(this._head,this._column),e},t.prototype.getTail=function(e){return e?e.set(this._tail,this._column):e=this._column.grid.getIndex(this._tail,this._column),e},t.prototype.isHead=function(e){return e.column==this._column&&e.itemIndex==this._head},t.prototype.isTail=function(e){return e.column==this._column&&e.itemIndex==this._tail},t.prototype.contains=function(e){return e.column==this._column&&e.itemIndex>=this._head&&e.itemIndex<=this._tail},t.$_rooms=new Array,t.$_roomCount=0,t}(nv),ov=-1,sv=65535,av=function(e){function t(t){var i=e.call(this)||this;return i._flags=null,i._fixedRooms=[],i._rooms=[],i._inited=!1,i._fixedCells=[],i._cells=[],i._nextId=0,i._layout=t,t._merges=i,i}return gd(t,e),t.prototype._doDispose=function(){this._layout=null,this._rooms=this._fixedRooms=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"count",{get:function(){return this._rooms.length},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this._flags=null,this._rooms=[],this._inited=!1},t.prototype.initialize=function(e){if(!this._inited){var t=this._layout.grid,i=t.rowGroup,n=t.itemSource,r=this._layout.firstColumn,o=t.getGroupLevel(r.dataIndex),s=t.isGroupedColumn(r)&&r.mergeGrouped?Qy.getDefault(o,i.mergeMode):this._layout.$_mergeRuleObj();if(s){for(var a=this._flags=new Array(n.itemCount),l=t.fixedOptions.mergeRows?0:n.fixedCount,u=n.itemCount;u--;)a[u]=0;s._layout=this._layout,s.parseInit(n,r.dataIndex,l,e,a)}this._inited=!0}},t.prototype.refreshRooms=function(e,t,i){if(this._nextId=0,this._inited&&this._flags&&!(t<e)){var n=this._layout.grid,r=this._layout.firstColumn;if(n&&r){var o=this._rooms,s=n.layoutManager.fixedItemCount,a=n.itemSource,l=n.getGroupLevel(r.dataIndex),u=l>0&&r.mergeGrouped?Qy.getDefault(l,n.rowGroup.mergeMode):this._layout.$_mergeRuleObj(),c=n.displayOptions.editItemMerging,h=0;if(this._fixedRooms.length=0,this._rooms.length=0,u&&(u._layout=this._layout,u.parseBounds(a,r.dataIndex,e,t,this._flags)),i)for(;h<s;)if(p=this.$_checkFixedMerge(a,r,h,s)){if(l<1){var d=new rv(p);this._fixedRooms.push(d)}h=p.r2+1}else h+=1;for(h=e;h<=t;){var p;if(p=this.$_checkMerge(a,r,h,0==o.length,s)){var f;if(l<1)(f=a.getItem(p.r2))instanceof ty||f instanceof ey||(d=new rv(p),this._rooms.push(d));else if((f=c?a.source.getItem(p.top):a.getItem(p.top)).level>=l){for(var _=f instanceof im?f:f.parent;_.level>l;)_=_.parent;(d=new rv(p)).group=_,o.push(d)}h=p.r2+1}else h+=1}}}},t.prototype.getFixedRooms=function(){return this._fixedRooms.slice()},t.prototype.getRooms=function(){return this._rooms.slice()},t.prototype.scroll=function(e){},t.prototype.getRoom=function(e){for(var t=e.rowFixed?this._fixedRooms:this._rooms,i=t.length-1;i>=0;i--)if(t[i].contains(e))return t[i];return null},t.prototype.prepareCells=function(e,t){if(e>0){for(var i=this._fixedCells,n=0;n<i.length;n++)i[n]=ov;for(;i.length<e;)i.push(ov)}var r=this._cells;for(n=0;n<r.length;n++)r[n]=ov;for(;r.length<t;)r.push(ov)},t.prototype.refreshCells=function(e,t){for(var i=this.getFixedRooms(),n=i.length-1;n>=0;n--){var r=i[n];this.addFixedCells(r.head,r.tail-r.head+1)}for(n=(i=this.getRooms()).length-1;n>=0;n--){r=i[n];var o=Math.max(0,r.head-t-e),s=r.tail-t-e;this.addCells(o,s-o+1)}},t.prototype.addFixedCells=function(e,t){for(var i=this._fixedCells,n=this._nextId++,r=e+1;r<e+t;r++)i[r]=n+sv;return i[e]=n,n},t.prototype.addCells=function(e,t){for(var i=this._cells,n=this._nextId++,r=e+1;r<e+t;r++)i[r]=n+sv;return i[e]=n,n},t.prototype.isMerged=function(e,t){return e<t?this._fixedCells[e]>ov:this._cells[e-t]>ov},t.prototype.isMergeRoot=function(e,t){return e<t?this._fixedCells[e]>ov&&this._fixedCells[e]<sv:(e-=t,this._cells[e]>ov&&this._cells[e]<sv)},t.prototype.isHidden=function(e,t){return e<t?this._fixedCells[e]>=sv:this._cells[e-t]>=sv},t.prototype.getMerged=function(e,t){var i,n=1;if(e<t)for(var r=(i=this._fixedCells)[e],o=e+1;o<i.length&&i[o]-sv==r;o++,n++);else for(e-=t,r=(i=this._cells)[e],o=e+1;o<i.length&&i[o]-sv==r;o++,n++);return n},t.prototype.getMerged2=function(e,t,i,n){for(var r=this._cells,o=r[i],s=e.itemSource,a=s.getItem(t++),l=a.isData?n:1,u=i+1;u<r.length&&r[u]-sv==o;u++)l+=(a=s.getItem(t++)).isData?n:1;return l},t.prototype.$_checkFixedMerge=function(e,t,i,n){if(n>0){var r=t.grid,o=r.displayOptions,s=t.mergeEdit&&r.editOptions.commitByCell||o.editItemMerging,a=i,l=this._flags[a],u=e.getItem(a);if(l<=0||Xg(u.itemState)&&!s)return null;for(;a&&!(this._flags[a-1]<l||Xg(e.getItem(a-1).itemState));)a--;for(var c=i+1;c<=n;){var h=Xg(e.getItem(c).itemState);if(c==n||this._flags[c]>l||h&&!s)return c>a+1||h?qv.createRange(a,t.layout,c-1,t.layout):null;c++}}return null},t.prototype.$_checkMerge=function(e,t,i,n,r){if(i>=0){var o=t.grid,s=o.displayOptions,a=t.mergeEdit&&o.editOptions.commitByCell&&o.isEditing()&&o.isItemEditing()||s.editItemMerging,l=i,u=this._flags[l],c=e.getItem(l);if(u<=0||Xg(c.itemState)&&!a)return null;if(n)for(;l>r&&!(this._flags[l-1]<u||Xg(e.getItem(l-1).itemState));)l--;for(var h=e.itemCount,d=i+1;d<h;){var p=Xg(e.getItem(d).itemState);if(this._flags[d]>u||this._flags[d]<=0||p&&!a){if(d>l+1)return qv.createRange(l,t.layout,d-1,t.layout);var f=t instanceof bv?t.groupLevel:-1;return(c=e.getItem(l))instanceof ty&&c.collapsed||c instanceof ey&&c.parent.level==f&&(d==i+1||c.parent.collapsed)||(c instanceof ty||c instanceof ey)&&c.parent.level>f?qv.createRange(l,t.layout,d-1,t.layout):null}d++}if(d>l)return d>l+1?qv.createRange(l,t.layout,d-1,t.layout):(f=t instanceof bv?t.groupLevel:-1,(c=e.getItem(l))instanceof ty&&c.collapsed||c instanceof ey&&c.parent.level==f&&(d==i+1||c.parent.collapsed)||(c instanceof ty||c instanceof ey)&&c.parent.level>f?qv.createRange(l,t.layout,d-1,t.layout):null)}return null},t.MERGE_ROOMS="mergeRooms",t}(Yp),lv=function(e){function t(t){var i=e.call(this,null)||this;return i._column=t,i}return gd(t,e),t.prototype._doDispose=function(){this._column=null,this._template=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"column",{get:function(){return this._column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return this._template&&this._template.template},set:function(e){e!=this.template&&(e?(this.template||(this._template=new Oy),this._template.template=e):this._template=void 0,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateEvents",{get:function(){return this._templateEvents},set:function(e){this._templateEvents=Bp.makeArray(e,!0),this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this._values},set:function(e){e!==this._values&&(e?Bp.extendObj(e,this._values={}):this._values=void 0,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupMenu",{get:function(){return this._popupMenu},set:function(e){e!=this._popupMenu&&(this._popupMenu=e,this._popupMenuName="string"==typeof e?e:null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupMenuName",{get:function(){if(this._popupMenuName)return this._popupMenuName;if(this._popupMenu){this._popupMenuName="$$_column_popup_menu"+this.$_hash;var e=this.column.grid;return e&&e.addPopupMenu(this._popupMenuName,this._popupMenu,!0),e&&this._popupMenuName}return null},set:function(e){null!=e&&"string"!=typeof e||(this._popupMenuName=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){null!=e&&(e=String(e)),e!=this._text&&(this._text=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return this._styleName},set:function(e){e!=this._styleName&&(this._styleName=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exportStyleName",{get:function(){return this._exportStyleName},set:function(e){this._exportStyleName=e},enumerable:!1,configurable:!0}),t.prototype.getValue=function(e){return this._values&&this._values[e]},t.prototype.setValue=function(e,t){this._values||(this._values={}),this._values[e]!=t&&(this._values[e]=t,this._changed())},t}(xm),uv=function(){function e(){}return e.prototype.clear=function(){return this.styleName=this.exportStyleName=this.textFormat=this.datetimeFormat=this.numberFormat=this.booleanFormat=this.prefix=this.suffix=this.text=void 0,this},e.prototype.assign=function(e){if("string"==typeof e)this.styleName=e;else if(e)for(var t=0,i=Object.keys(e);t<i.length;t++){var n=i[t];this[n]=Bp.deepCopy(e[n])}return this},e}(),cv=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"summaryIndex",{get:function(){var e=this.$_owner;return e?e.getIndex(this):-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.summaryIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueCallback",{get:function(){return this._valueCallback},set:function(e){e!==this._valueCallback&&(this._valueCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this._expression},set:function(e){e&&(e=e.trim()),e!=this._expression&&(this._expression=e,this._exprNode=e?$f.Default.parse(e):void 0,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleCallback",{get:function(){return this._styleCallback},set:function(e){e!=this._styleCallback&&(this._styleCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateCallback",{get:function(){return this._templateCallback},set:function(e){this._templateCallback=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){e!=this._numberFormat&&(this._numberFormat=e,this._numberFormatter=e?a_.getFormatter(e):null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(e){e!=this._datetimeFormat&&(this._datetimeFormat=e,this._datetimeWriter=e?i_.getFormatter(e):null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(e){e!=this._booleanFormat&&(this._booleanFormat=e,this._boolFormatter=e?n_.getFormatter(e):null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textFormat",{get:function(){return this._textFormat},set:function(e){e!=this._textFormat&&(this._textFormat=e,this._textFormatter=e?Zy.getFormatter(e):null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prefix",{get:function(){return this._prefix},set:function(e){e!=this._prefix&&(this._prefix=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"suffix",{get:function(){return this._suffix},set:function(e){e!=this._suffix&&(this._suffix=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"excelFormat",{get:function(){return this._excelFormat},set:function(e){e!=this._excelFormat&&(this._excelFormat=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textFormatter",{get:function(){return this._textFormatter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeWriter",{get:function(){return this._datetimeWriter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boolFormatter",{get:function(){return this._boolFormatter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(e,t){if(this._exprNode)return this._exprNode.evaluate(e)},t.prototype.realizeSummary=function(e,t){var i=this._template;return i?i.realizeSummary(this,e,t,this._templateCallback):void 0},t.prototype.realizeGroupSummary=function(e,t){var i=this._template;return i?i.realizeGroupSummary(this,e,t,this._templateCallback):void 0},t.prototype.doAssignSimple=function(e){return"string"==typeof e&&(this.expression=e,!0)},t.prototype._doChanged=function(){},t}(lv),hv=function(e){function t(t,i){var n=e.call(this)||this;return n._items=[],n._column=t,n._type=i,n._items.push(n.$_createSummary()),n}return gd(t,e),t.prototype._doDispose=function(){this._column=null,this._items&&this._items.forEach(function(e){e.dispose()}),this._items=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"column",{get:function(){return this._column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),t.prototype.get=function(e){return e>=0&&e<this.column.grid.getSummaryCount(this._type)&&!this._items[e]&&(this._items[e]=this.$_createSummary()),this._items[e]},t.prototype.getIndex=function(e){return this._items.indexOf(e)},t.prototype.clean=function(){this._items.forEach(function(e){return e.clean()})},t.prototype.assignFrom=function(e){var t=e&&(e.items?Bp.makeArray(e.items,!0):Bp.makeArray(e,!0)),i=this._items;if(Bp.isArray(t)){for(var n=Math.max(t.length,1),r=0;r<n;r++)i[r]||(i[r]=this.$_createSummary()),i[r].assignFrom(t[r]);this._items.length=n}},t}(Yp),dv=function(e){function t(t){var i=e.call(this,t.column)||this;return i.$_owner=t,i}return gd(t,e),t.prototype._doChanged=function(){this.column._headerSummaryChanged()},t}(cv),pv=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),t.prototype.$_createSummary=function(){return new dv(this)},t}(hv),fv=function(e){function t(t){var i=e.call(this,t)||this;return i._checkLocation=$d.NONE,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"itemOffset",{get:function(){return this._itemOffset},set:function(e){e!=this._itemOffset&&(this._itemOffset=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemGap",{get:function(){return this._itemGap},set:function(e){e!=this._itemGap&&(this._itemGap=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkLocation",{get:function(){return this._checkLocation},set:function(e){e!=this._checkLocation&&(this._checkLocation=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useCheckImage",{get:function(){return this._useCheckImage},set:function(e){e!==this._useCheckImage&&(this._useCheckImage=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTooltip",{get:function(){return this._showTooltip},set:function(e){e!=this._showTooltip&&(this._showTooltip=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipEllipsisOnly",{get:function(){return this._tooltipEllipsisOnly},set:function(e){e!=this._tooltipEllipsisOnly&&(this._tooltipEllipsisOnly=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){e!=this._tooltip&&(this._tooltip=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"edgeMark",{get:function(){return this._edgeMark},set:function(e){e!==this._edgeMark&&(this._edgeMark=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayText",{get:function(){var e,t=this.column,i=Bp.language,n=i&&i.split("-")[0];if(this._localeText&&i&&(e=this._localeText[i]||this._localeText[n]),!(e=e||this.text)&&t instanceof bv){var r=t.getField();e=r?r.header||r.orgFieldName:t.fieldName}return e||(e=t.name),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateCallback",{get:function(){return this._templateCallback},set:function(e){this._templateCallback=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localeText",{get:function(){return this._localeText},set:function(e){this._localeText=e},enumerable:!1,configurable:!0}),t.prototype.realizeTemplate=function(){var e=this._template;return e?e.realizeHeader(this,this.templateCallback,this.column.grid):void 0},t.prototype._doChanged=function(){this.column&&this.column._headerChanged()},t.prototype.doAssignSimple=function(e){return"string"==typeof e&&(this.text=e,!0)},t}(lv),_v=function(e){function t(t){var i=e.call(this,t.column)||this;return i.$_owner=t,i}return gd(t,e),t.prototype._doChanged=function(){this.column._footerChanged()},t}(cv),gv=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),t.prototype.$_createSummary=function(){return new _v(this)},t}(hv),mv=function(){function e(){}return e.prototype.clear=function(){return this.styleName=this.exportStyleName=this.renderer=this.editable=this.editor=this.readOnly=this.textFormat=this.datetimeFormat=this.numberFormat=this.booleanFormat=this.prefix=this.suffix=this.edgeMark=this.style=this.excelFormat=this.cellProtectProps=this.button=this.buttonWidth=this.text=void 0,this},e.prototype.assign=function(e){if("string"==typeof e)this.styleName=e;else if(e)if(e instanceof yv)for(var t=0,i=Object.keys(this);t<i.length;t++)(o=i[t])in e&&(this[o]=Bp.deepCopy(e[o]));else for(var n=0,r=Object.keys(e);n<r.length;n++){var o;"readonly"===(o=r[n]).toLowerCase()?this.readOnly=e[o]:this.hasOwnProperty(o)&&(this[o]=Bp.deepCopy(e[o]))}return this},e.prototype.toFormatter=function(e){var t;return e||(e={textFormatter:void 0,numberFormatter:void 0,datetimeWriter:void 0,booleanFormatter:void 0,prefix:void 0,suffix:void 0,text:void 0}),(t=this.textFormat)&&(e.textFormatter=Zy.getFormatter(t)),(t=this.numberFormat)&&(e.numberFormatter=a_.getFormatter(t)),(t=this.datetimeFormat)&&(e.datetimeWriter=i_.getFormatter(t)),(t=this.booleanFormat)&&(e.booleanFormatter=n_.getFormatter(t)),null!=this.prefix&&(e.prefix=this.prefix),null!=this.suffix&&(e.suffix=this.suffix),null!=this.text&&(e.text=this.text),e},e}(),yv=function(e){function t(t){var i=e.call(this)||this;return i._visible=!0,i._resizable=!0,i._movable=!0,i._checked=!1,i._indeterminate=!1,i._fillWidth=NaN,i._dirty=!1,i._index=-1,i._states={},i._header=new fv(i),i._footers=new gv(i,"footer"),i._headerSummaries=new pv(i,"summary"),i._groupFooters=new gv(i,"groupFooter"),t&&i.assignFrom(t),i}return gd(t,e),t.prototype._doDispose=function(){this._layout=null,this.$_owner=null,this._header=this._header&&this._header.dispose(),this._footers=this._footers&&this._footers.dispose(),this._headerSummaries=this._headerSummaries&&this._headerSummaries.dispose(),this._groupFooters=this._groupFooters&&this._groupFooters.dispose(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){e!=this._name&&(this._name&&this.$_owner&&this.$_owner.exchangeNameMap(this,this.name,e),this._name=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype._layoutChanged=function(){this._changed(),this._layout&&this._layout._changed()},Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){e!=this._visible&&(this._visible=e,this._layout&&this._layoutChanged(),this._propChanged("visible",this._visible,!this._visible))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return(null==this._width||isNaN(this._width))&&this.grid?this._width=this.grid.displayOptions.defaultColumnWidth:this._width},set:function(e){if(e=Math.max(0,e),!isNaN(e)&&e!=this._width){var t=this._width;this._width=e,this._layoutChanged(),this._propChanged("width",this._width,t)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillWidth",{get:function(){return this._fillWidth},set:function(e){e=Math.max(0,e),isNaN(e)||e==this._fillWidth||(this._fillWidth=e,this._layoutChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this._resizable},set:function(e){e!=this._resizable&&(this._resizable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"movable",{get:function(){return this._movable},set:function(e){e!=this._movable&&(this._movable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){(e!=this._checked||this._indeterminate)&&(this._indeterminate=!1,this._checked=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indeterminate",{get:function(){return this._indeterminate},set:function(e){e!=this._indeterminate&&(this._checked=!1,this._indeterminate=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._header},enumerable:!1,configurable:!0}),t.prototype.setHeader=function(e){this._header.assignFrom(e)},Object.defineProperty(t.prototype,"footers",{get:function(){return this._footers},enumerable:!1,configurable:!0}),t.prototype.setFooters=function(e){this._footers.assignFrom(e),this._changed()},Object.defineProperty(t.prototype,"footer",{get:function(){return this._footers.get(0)},enumerable:!1,configurable:!0}),t.prototype.setFooter=function(e){this.setFooters(e)},Object.defineProperty(t.prototype,"headerSummaries",{get:function(){return this._headerSummaries},enumerable:!1,configurable:!0}),t.prototype.setHeaderSummaries=function(e){this._headerSummaries.assignFrom(e),this._changed()},Object.defineProperty(t.prototype,"headerSummary",{get:function(){return this._headerSummaries.get(0)},enumerable:!1,configurable:!0}),t.prototype.setHeaderSummary=function(e){this.setHeaderSummaries(e)},Object.defineProperty(t.prototype,"groupFooters",{get:function(){return this._groupFooters},enumerable:!1,configurable:!0}),t.prototype.setGroupFooters=function(e){this._groupFooters.assignFrom(e),this._changed()},Object.defineProperty(t.prototype,"groupFooter",{get:function(){return this._groupFooters.get(0)},enumerable:!1,configurable:!0}),t.prototype.setGroupFooter=function(e){this.setGroupFooters(e)},Object.defineProperty(t.prototype,"grid",{get:function(){return this._layout?this._layout.grid:this.$_owner?this.$_owner.owner:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tag",{get:function(){return this._tag},set:function(e){this._tag=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayText",{get:function(){return this._header.text||this._name||"col_"+this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayWidth",{get:function(){return this._layout?this._layout.domWidth:this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayIndex",{get:function(){return this._layout?this._layout.vindex:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRoot",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},enumerable:!1,configurable:!0}),t.prototype.clean=function(){this._dirty=!1,this._header&&this._header.clean(),this._footers&&this._footers.clean(),this._headerSummaries&&this._headerSummaries.clean(),this._groupFooters&&this._groupFooters.clean()},t.prototype.isWritable=function(){return!1},t.prototype.stateFor=function(e){return this._states[e]},t.prototype.setState=function(e,t){this._states[e]=t},t.prototype.getFooter=function(e){return this._footers.get(e)},t.prototype.getHeaderSummary=function(e){return this._headerSummaries.get(e)},t.prototype.assignFrom=function(t){e.prototype.assignFrom.call(this,t),this._header.assignFrom(t.header),this._footers.assignFrom(t.footers||t.footer),this._headerSummaries.assignFrom(t.summaries||t.summary||t.headerSummaries||t.headerSummary),this._groupFooters.assignFrom(t.groupFooters||t.groupFooter)},t.prototype.toString=function(){return this.displayText},t.prototype._prepareLayout=function(e,t){},t.prototype._changed=function(){if(!this._dirty){this._dirty=!0;var e=this.grid;e&&e.invalidateColumn(this)}},t.prototype._propChanged=function(e,t,i){var n=this.grid;n&&n._fireColumnPropertyChanged(this,e,t,i)},t.prototype.$_setIndex=function(e){this._index=e},t.prototype._headerChanged=function(){this._changed()},t.prototype._headerSummaryChanged=function(){this._changed()},t.prototype._footerChanged=function(){this._changed()},t.prototype._resetIndices=function(e){},t.prototype.$_layoutIndexChanged=function(e,t){this._propChanged("displayIndex",t,e)},t.prototype.$_layoutWidthChanged=function(e,t){this._propChanged("displayWidth",t,e)},t}(Yp),vv=function(e){function t(t){var i=e.call(this,t)||this;return i._blankWhenCopy=!1,i._blankWhenExport=!1,i._ignoreDefaultDynamicStyles=!1,i._textInputCase=Hd.NORMAL,i._button=Yd.NONE,i._buttonVisibility=qd.DEFAULT,i._editButtonVisibility=qd.DEFAULT,i._displayMinusZero=!0,i._valueSeparator=",",i}return gd(t,e),t.prototype._doDispose=function(){this._popupMenu=null,this._popupMenuName=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){e!==this._numberFormat&&(this._numberFormat=e,this._numberFormatter=e?a_.getFormatter(e):null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayMinusZero",{get:function(){return this._displayMinusZero},set:function(e){this._displayMinusZero!=e&&(this._displayMinusZero=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(e){e!==this._datetimeFormat&&(this._datetimeFormat=e,this._datetimeWriter=e?i_.getFormatter(e):null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(e){e!==this._booleanFormat&&(this._booleanFormat=e,this._boolFormatter=e?n_.getFormatter(e):null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textFormat",{get:function(){return this._textFormat},set:function(e){e!==this._textFormat&&(this._textFormat=e,this._textFormatter=e?Zy.getFormatter(e):null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prefix",{get:function(){return this._prefix},set:function(e){e!=this._prefix&&(this._prefix=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"suffix",{get:function(){return this._suffix},set:function(e){e!=this._suffix&&(this._suffix=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blankWhenCopy",{get:function(){return this._blankWhenCopy},set:function(e){e!=this._blankWhenCopy&&(this._blankWhenCopy=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blankWhenExport",{get:function(){return this._blankWhenExport},set:function(e){e!=this._blankWhenExport&&(this._blankWhenExport=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignoreDefaultDynamicStyles",{get:function(){return this._ignoreDefaultDynamicStyles},set:function(e){e!=this._ignoreDefaultDynamicStyles&&(this._ignoreDefaultDynamicStyles=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textInputCase",{get:function(){return this._textInputCase},set:function(e){e!=this._textInputCase&&(this._textInputCase=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return this._styleName},set:function(e){e!=this._styleName&&(this._styleName=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exportStyleName",{get:function(){return this._exportStyleName},set:function(e){e!=this._exportStyleName&&(this._exportStyleName=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleCallback",{get:function(){return this._styleCallback},set:function(e){e!=this._styleCallback&&(this._styleCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},set:function(e){this._renderer=e,this.grid&&this._layout&&this.grid.$_rendererChanged(this._layout),this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){return this._editor},set:function(e){this._editor=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"button",{get:function(){return this._button},set:function(e){e!=this._button&&(this._button=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonWidth",{get:function(){return this._buttonWidth},set:function(e){e!=this._buttonWidth&&(this._buttonWidth=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonVisibility",{get:function(){return this._buttonVisibility},set:function(e){e!=this._buttonVisibility&&(this._buttonVisibility=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonVisibleCallback",{get:function(){return this._buttonVisibleCallback},set:function(e){this._buttonVisibleCallback=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editButtonVisibility",{get:function(){return this._editButtonVisibility},set:function(e){e!=this._editButtonVisibility&&(this._editButtonVisibility=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textFormatter",{get:function(){return this._textFormatter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeWriter",{get:function(){return this._datetimeWriter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boolFormatter",{get:function(){return this._boolFormatter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupMenu",{get:function(){return this._popupMenu},set:function(e){e!=this._popupMenu&&(this._popupMenu=e,this._popupMenuName="string"==typeof e?e:null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupMenuName",{get:function(){return this._popupMenuName?this._popupMenuName:this._popupMenu?(this._popupMenuName="$$_column_popup_menu"+this.$_hash,this.grid.addPopupMenu(this._popupMenuName,this._popupMenu,!0),this.grid&&this._popupMenuName):null},set:function(e){null!=e&&"string"!=typeof e||(this._popupMenuName=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"edgeMark",{get:function(){return this._edgeMark},set:function(e){e!==this._edgeMark&&(this._edgeMark=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueSeparator",{get:function(){return this._valueSeparator},set:function(e){e!=this._valueSeparator&&(this._valueSeparator=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype.getCellStyle=function(e){return this._styleCallback&&this._styleCallback(this.grid.handler,e)},t.prototype.affix=function(e){return this._prefix&&(e=this._prefix+e),this._suffix&&(e+=this._suffix),e},t.prototype._prepareLayout=function(t,i){e.prototype._prepareLayout.call(this,t,i)},t}(yv),bv=function(e){function t(t){var i=e.call(this)||this;return i._fieldIndex=-1,i._readOnly=!1,i._breakMergeOnEmpty=!1,i._equalBlank=!1,i._equalBlankText="",i._values=null,i._labels=null,i._lookupDisplay=!1,i._lookupSource=null,i._lookupKeyFields=null,i._lookupKeyFieldIds=null,i._mergeGrouped=!1,i._sortable=!0,i._sortOrder=-1,i._sortByLabel=!1,i._filterable=!0,i._filterIconVisible=!0,i._autoFilter=!1,i._filterSelectorWidth=0,i._lookupData=null,i._required=!1,i._requiredLevel=Ld.ERROR,i._validations=new zy(!0),i._groupable=!0,i._dataIndex=-1,i._baseIndex=-1,i._valueType=vd.TEXT,i._groupLevel=-1,i._labelFieldIndex=-1,i._filters=new wm(i),i._filters.addListener(i),i._autoFilters=new wm(i),i._autoFilters.addListener(i),i._inlineFilters=new wm(i),i._inlineFilters.addListener(i),t&&i.assignFrom(t),i}return gd(t,e),t.prototype._doDispose=function(){this._mergeRuleObj=this._mergeRuleObj&&this._mergeRuleObj.dispose(),this._filters=this._filters&&this._filters.dispose(),this._autoFilters=this._autoFilters&&this._autoFilters.dispose(),this._inlineFilters=this._inlineFilters&&this._inlineFilters.dispose(),this.validations=this._validations&&this._validations.dispose(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"fieldIndex",{get:function(){return this._fieldIndex},set:function(e){(e=Math.max(-1,e))!=this._fieldIndex&&(this._fieldIndex=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldName",{get:function(){return this._fieldName},set:function(e){e!=this._fieldName&&(this._fieldName=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this._editable},set:function(e){e!=this._editable&&(this._editable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nanText",{get:function(){return this._nanText},set:function(e){e!=this._nanText&&(this._nanText=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zeroText",{get:function(){return this._zeroText},set:function(e){e!=this._zeroText&&(this._zeroText=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this._defaultValue},set:function(e){this._defaultValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergeRule",{get:function(){return this._mergeRule},set:function(e){e!=this._mergeRule&&(this._mergeRule=e,this._mergeCallback=null,this.$_setMergeRule(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergeCallback",{get:function(){return this._mergeCallback},set:function(e){this._mergeCallback=e,this._mergeRule=null,this.$_setMergeRule(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakMergeOnEmpty",{get:function(){return this._breakMergeOnEmpty},set:function(e){if(e!=this._breakMergeOnEmpty){this._breakMergeOnEmpty=e;var t=this.grid;t&&this.layout&&t._columnMergeRuleChanged(this.layout)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equalBlank",{get:function(){return this._equalBlank},set:function(e){e!=this._equalBlank&&(this._equalBlank=e,this._layoutChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equalBlankExpression",{get:function(){return this._equalBlankExpression},set:function(e){e!=this._equalBlankExpression&&(this._equalBlankExpression=e,this._equalBlankNode=e?$f.Default.parse(e,null):void 0,this._layoutChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equalBlankText",{get:function(){return this._equalBlankText},set:function(e){e!=this._equalBlankText&&(this._equalBlankText=e,this._layoutChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equalBlankLine",{get:function(){return this._equalBlankLine},set:function(e){e!=this._equalBlankLine&&(this._equalBlankLine=e,this._layoutChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergeEdit",{get:function(){return!!this._mergeEdit},set:function(e){e!=this._mergeEdit&&(this._mergeEdit=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"excelFormat",{get:function(){return this._excelFormat},set:function(e){e!=this._excelFormat&&(this._excelFormat=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"excelFormulaStatement",{get:function(){return this._excelFormulaStatement},set:function(e){e!=this._excelFormulaStatement&&(this._excelFormulaStatement=e,e?this._excelFormulaExprStatement?this._excelFormulaExprStatement.source=e:this._excelFormulaExprStatement=new gm(e):this._excelFormulaExprStatement=null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"excelFormulaExprStatement",{get:function(){return this._excelFormulaExprStatement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataIndex",{get:function(){return this._dataIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseIndex",{get:function(){return this._baseIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueType",{get:function(){return this._valueType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupLevel",{get:function(){return this._groupLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this._values},set:function(e){e!=this._values&&(this._values=e?e.map(function(e,t){return null!=e?String(e):e}):[],this._lookupMap=null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){return this._labels},set:function(e){e!=this._labels&&(this._labels=e&&e.slice(),this._lookupMap=null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lookupDisplay",{get:function(){return this._lookupDisplay},set:function(e){this._lookupDisplay!=e&&(this._lookupDisplay=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lookupSource",{get:function(){return this._lookupSource},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lookupSourceId",{get:function(){return this._lookupSourceId},set:function(e){this._lookupSourceId!=e&&(this._lookupSourceId=e,this._changed(),this.grid&&this.$_resetLookup(this.grid))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lookupKeyFields",{get:function(){return this._lookupKeyFields},set:function(e){e!=this._lookupKeyFields&&(this._lookupKeyFields=Bp.makeArray(e,!0).slice(),this._changed(),this.grid&&this.$_resetLookup(this.grid))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lookupKeyFieldIds",{get:function(){return this._lookupKeyFieldIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelField",{get:function(){return this._labelField},set:function(e){this._labelField!=e&&(this._labelField=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textOfInvalid",{get:function(){return this._textOfInvalid},set:function(e){this._textOfInvalid!=e&&(this._textOfInvalid=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeHolder",{get:function(){return this._placeHolder},set:function(e){e!==this._placeHolder&&(this._placeHolder=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeHolderStyleName",{get:function(){return this._placeHolderStyleName},set:function(e){e!==this._placeHolderStyleName&&(this._placeHolderStyleName=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelFieldIndex",{get:function(){return this._labelFieldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayCallback",{get:function(){return this._displayCallback},set:function(e){this._displayCallback=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergeGrouped",{get:function(){return this._mergeGrouped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortable",{get:function(){return this._sortable},set:function(e){e!=this._sortable&&(this._sortable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortOrder",{get:function(){return this._sortOrder},set:function(e){this._sortOrder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortDirection",{get:function(){return this._sortDirection},set:function(e){this._sortDirection=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortByLabel",{get:function(){return this._sortByLabel},set:function(e){this._sortByLabel!==e&&(this._sortByLabel=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterable",{get:function(){return this._filterable},set:function(e){e!=this._filterable&&(this._filterable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterIconVisible",{get:function(){return this._filterIconVisible},set:function(e){this._filterIconVisible!=e&&(this._filterIconVisible=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoFilter",{get:function(){return this._autoFilter},set:function(e){e!==this._autoFilter&&(this._autoFilter=e,!e&&this._autoFilters&&this._autoFilters.count>0&&this._autoFilters.clear(),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters},set:function(e){e instanceof wm||this.setFilters(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoFilters",{get:function(){return this._autoFilters},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInlineFilter",{get:function(){return this._showInlineFilter},set:function(e){e!==this._showInlineFilter&&(this._showInlineFilter=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterSelectorWidth",{get:function(){return this._filterSelectorWidth},set:function(e){this._filterSelectorWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(e){e!=this._required&&(this._required=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredMessage",{get:function(){return this._requiredMessage},set:function(e){e!=this._requiredMessage&&(this._requiredMessage=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredLevel",{get:function(){return this._requiredLevel},set:function(e){e!=this._requiredLevel&&(this._requiredLevel=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validations",{get:function(){return this._validations},set:function(e){this._validations.assignFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupable",{get:function(){return this._groupable},set:function(e){this._groupable!=e&&(this._groupable=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objectKey",{get:function(){return this._objectKey},set:function(e){e!=this._objectKey&&(this._objectKey=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objectCallback",{get:function(){return this._objectCallback},set:function(e){this._objectCallback=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayText",{get:function(){return this.header.text||this.fieldName||this.name||"col_"+this.index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lookupData",{get:function(){return this._lookupData},set:function(e){if(e!==this._lookupData){var t=void 0,i=void 0,n=void 0,r=void 0,o={};if(this._lookupData=Bp.deepCopy(e),e){Bp.isArray(e)?o.list=e:o=e,this._labels=[],this._values=[],this._lookupMap=null,this._listItem=[],t=o.hasOwnProperty("value")?o.value:"value",i=o.hasOwnProperty("label")?o.label:"label";for(var s=0,a=o.list.length;s<a;s++)null!=(r=null!=(n=o.list[s])[t]?n[t]:n.code)&&this._values.push(null!=n[t]?n[t]:n.code),null!=r&&this._labels.push(null!=n[i]?n[i]:null!=n.text?n.text:r),this._listItem.push(n)}else this._labels=null,this._values=null,this._lookupMap=null,this._listItem=null;this._changed()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listItem",{get:function(){return this._listItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellProtectProps",{get:function(){return this._cellProtectProps},set:function(e){this._cellProtectProps=e},enumerable:!1,configurable:!0}),t.prototype.getField=function(){var e=this._dataIndex;if(e>=0){var t=this.grid.dataSource;if(t)return t.getField(e)}return null},t.prototype.getLookupLabel=function(e,t){if(null!=e){var i,n=this._lookupMap;if(!n){var r=this._values,o=this._labels||[];if(r&&r.length>0){n=this._lookupMap={};for(var s=0;s<r.length;s++)n[r[s]]=o[s]||r[s]}}var a=this.textOfInvalid;if("string"==typeof e&&e&&this._valueSeparator){for(var l=e.split(this._valueSeparator),u=[],c=(s=0,l.length);s<c;s++){var h,d=l[s];h=n&&n[d]?n[d]:t&&null!=a?String(a):d,u.push(h)}i=u.join(this._valueSeparator)}else i=n?n[e]:void 0;return i||(t&&null!=a?a:e)}},t.prototype.getLookupIndex=function(e){if(this._values&&this._values.length>0)for(var t=0,i=this._values.length;t<i;t++)if(this._values[t]==e)return t;return-1},t.prototype.getLookupIndices=function(e){var t=[];if(e&&this._values&&this._values.length>0)for(var i=Bp.isArray(e)?e:String(e).split(this._valueSeparator),n=0,r=i.length;n<r;n++)this._values.indexOf(i[n])>=0&&t.push(this._values.indexOf(i[n]));return t},t.prototype.getLookupValue=function(e){if(this._values&&this._values.length>0)return this._values[e]},t.prototype.getLookupValues=function(e){var t=[];if(this._values&&this._values.length>0)for(var i=0,n=e.length;i<n;i++)e[i]>=0&&e[i]<this._values.length&&t.push(this._values[e[i]]);return t},t.prototype.getSourceValue=function(e){var t=this._values,i=this._labels;if(i&&t){var n=i.indexOf(e);if(n>=0&&t.length>n)return t[n];if((n=t.indexOf(e))>=0)return t[n]}},t.prototype.getSourceValues=function(e){var t=this._values,i=this._labels;if(i&&t){for(var n=void 0,r=[],o=this._valueSeparator,s=0,a=(e=Bp.isArray(e)?e:o&&e?String(e).split(o):Bp.makeArray(e)).length;s<a;s++)(n=i.indexOf(e[s]))>=0&&t.length>n?r.push(t[n]):r.push(e[s]);if(r.length>0&&o)return r.join(o);if(r.length>0)return r.join()}},Object.defineProperty(t.prototype,"$_filters",{get:function(){return this._autoFilter?this._autoFilters:this._filters},enumerable:!1,configurable:!0}),t.prototype.clearFilters=function(){this.setFilters(null)},t.prototype.addFilters=function(e,t){if(e){var i=this.grid;i&&!i.canFiltering()||this._filters.addAll(Bp.makeArray(e),t)}},t.prototype.removeFilters=function(e){if(e){var t=this.grid;t&&!t.canFiltering()||this._filters.removeItems(Bp.makeArray(e))}},t.prototype.activateFilters=function(e,t){if(e){var i=this.grid;i&&!i.canFiltering()||this.$_filters.activateItems(Bp.makeArray(e),t)}},t.prototype.activateAllFilters=function(e,t){void 0===t&&(t=!0);var i=this.grid;i&&!i.canFiltering()||this.$_filters.activateAll(e,t)},t.prototype.hideColumnFilters=function(e,t){this.$_filters.hideFilters(Bp.makeArray(e),t)},t.prototype.hideAllColumnFilters=function(e){this.$_filters.hideAllFilters(e)},t.prototype.toggleFilters=function(e){if(e){var t=this.grid;t&&!t.canFiltering()||this.$_filters.toggleItems(Bp.makeArray(e))}},t.prototype.toggleAllFilters=function(){var e=this.grid;e&&!e.canFiltering()||this.$_filters.toggleAll()},t.prototype.getFilter=function(e){var t=this.$_filters,i=t.indexOf(e);return t.getItem(i)},t.prototype.getActiveFilters=function(e){return this.$_filters.getActiveItems(e)},Object.defineProperty(t.prototype,"hasFilters",{get:function(){return this._autoFilter||this._filters.count>0},enumerable:!1,configurable:!0}),t.prototype.isFiltered=function(){return this.grid.itemSource.isFiltered(this.dataIndex)},t.prototype.setFilters=function(e){var t=this.grid;t&&!t.canFiltering()||this._filters.assignFrom(e)},t.prototype.autoFilterRefresh=function(e){var t=this.grid,i=null==t?void 0:t.dataSource;if(t&&i&&this._autoFilter){var n=t.filterSelector._manager;n&&n.buildItems(this,i,!0,e)}},t.prototype.setInlineFilter=function(e,t){var i=this._inlineFilters,n=i.getItem(0);n||(i.add({name:"inlineFilter"},!1),n=i.getItem(0)),n.criteria!=e&&(void 0===e?(n.criteria=void 0,t?n.active=!1:n._active=!1):(n._active=!1,n.criteria=e,n.active=!!n.criteria))},t.prototype.onColumnFilterChanged=function(e,t,i,n){var r=this.grid;r&&(n?this._changed():r.columnFilterChanged(e,t,i))},t.prototype._prepareLayout=function(t,i){e.prototype._prepareLayout.call(this,t,i)},t.prototype._resetIndices=function(e){this._dataIndex=-1,this._baseIndex=-1;var t=e.dataSource;t&&(this._fieldName?this._dataIndex=t.getFieldIndex(this._fieldName):this._dataIndex=this._fieldIndex,this._dataIndex>=0&&(this._baseIndex=t.getBaseField(this._dataIndex),this._valueType=t.getValueType(this._dataIndex)),this._labelFieldIndex=t.getFieldIndex(this._labelField),this.$_resetLookup(e))},t.prototype.isWritable=function(){var e=this.grid.editOptions;return(e.columnEditableFirst?null!=this._editable?this._editable:e.editable:e.editable&&!1!==this._editable)&&!this._readOnly},t.prototype.assignFrom=function(t){e.prototype.assignFrom.call(this,t)},t.prototype.$_setMergeGrouped=function(e){this._mergeGrouped=e},t.prototype.$_setGroupLevel=function(e){this._groupLevel=e},t.prototype.$_resetLookup=function(e){if(this._lookupKeyFields&&this._lookupKeyFields.length>0&&this._lookupSourceId){for(var t=this._lookupKeyFields.length,i=this._lookupKeyFieldIds=new Array(t),n=0;n<t;n++)i[n]=e.dataSource.getFieldIndex(this._lookupKeyFields[n]);this._lookupSource=e.lookupProvider.getSource(this._lookupSourceId)}else this._lookupSource=null,this._lookupKeyFieldIds=[]},t.prototype._changed=function(){e.prototype._changed.call(this)},t.prototype.$_setMergeRule=function(e){this._mergeRuleObj=this._mergeRuleObj&&this._mergeRuleObj.dispose(),e&&(this._mergeRuleObj=iv.createRule(e));var t=this.grid;t&&this.layout&&t._columnMergeRuleChanged(this.layout)},t.CAPITAL_INDEXERS=["value","values"],t}(vv),wv=function(e){function t(t){var i=e.call(this)||this;return i.blankWhenCopy=!0,i._fieldArray=i._fieldArray||[],i._fields=i._fields||[],t&&i.assignFrom(t),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"fieldNames",{get:function(){return this._fieldNames},set:function(e){e!=this._fieldNames&&(this._fieldNames=e,this._fieldArray=e?e.split(","):[],this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualTarget",{get:function(){return this._actualTarget},set:function(e){this._actualTarget=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fields",{get:function(){return this._fields},enumerable:!1,configurable:!0}),t.prototype._resetIndices=function(e){this._fields=[];var t=e.dataSource;if(t)for(var i=0,n=this._fieldArray.length;i<n;i++){var r=this._fieldArray[i],o=r.split("..");if(o.length>1){var s=t.getFieldIndex(o[0]),a=t.getFieldIndex(o[1]);if(s>=0&&a>=0)for(var l=Math.min(s,a),u=Math.max(s,a),c=l;c<=u;c++)this._fields.push(c)}else(c=t.getFieldIndex(r))>=0&&this._fields.push(c)}},t}(vv),Cv=function(e){function t(t){var i=e.call(this)||this;return t&&i.assignFrom(t),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellProtectProps",{get:function(){return this._cellProtectProps},set:function(e){this._cellProtectProps=e},enumerable:!1,configurable:!0}),t}(vv),xv=function(){function e(){this._layouts={}}return e.prototype._doDispose=function(){this._layouts=null},e.prototype.find=function(e){return this._layouts[e]},e.prototype.clear=function(){this._layouts={}},e.prototype.load=function(e){if(e=Bp.makeArray(e),this._layouts={},e)for(var t=0,i=e.length;t<i;t++){var n=e[t];n.name&&!this._layouts[n.name]&&(this._layouts[n.name]=n.items)}},e}();!function(e){e.GROUP="group",e.COLUMN="column",e.PROXY="proxy"}(ly||(ly={}));var Iv,Ev=function(e){function t(){var t=e.call(this)||this;return t._visible=!0,t._width=NaN,t._fillWidth=NaN,t._index=-1,t._vindex=-1,t._row=0,t._col=0,t._hrow=0,t._hcol=0,t._cspan=1,t._hspan=1,t._dspan=1,t._clen=1,t._hlen=1,t._dlen=1,t._cellWidth=0,t._fitWidth=NaN,t._defColSpan=1,t._header=t._createHeader(),t._header&&(t._header._layout=t),t}return gd(t,e),t.getSource=function(e){return e instanceof Ov?e.source:e},t.prototype._doDispose=function(){this._header=this._header&&this._header.dispose(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){if(this.$_grid)return this.$_grid;var e=this.root;return e&&e._parent.grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProxy",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){e!=this._visible&&(this._visible=e,this._changed(),this._propChanged("visible",this._visible,!this._visible))},enumerable:!1,configurable:!0}),t.prototype.$_isVisible=function(e){return this._visible},Object.defineProperty(t.prototype,"header",{get:function(){return this._header},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._parent&&this._parent.owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return this._parent instanceof jv?null:this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root?this._root:this._root=this.getAncestor(-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.root===this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRoot",{get:function(){if(!this._dataRoot){var e=this.group;if(e)do{this._dataRoot=e,e=e.group}while(e);else this._dataRoot=this}return this._dataRoot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vindex",{get:function(){return this._vindex},set:function(e){var t=this._vindex;if(this._parent&&this._parent.$_changeChildVIndex(this,e),this._vindex!=t){this._propChanged("displayIndex",this._vindex,t);var i=this.firstColumn;i&&this instanceof Sv&&i.$_layoutIndexChanged(t,this._vindex)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._row},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._col},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hrow",{get:function(){return this._hrow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hcol",{get:function(){return this._hcol},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._getWidth(this._width)},set:function(e){e=Math.max(0,e),this.grid&&(e=Math.max(e,this.grid.displayOptions.minCellWidth)),e!=this._width&&(this._width=e,this._parent&&this._parent._childWidthChanged(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillWidth",{get:function(){return this._getFillWidth(this._fillWidth)},set:function(e){(e=Math.max(0,e))!=this._fillWidth&&(this._fillWidth=e,this._parent&&this._parent._childFillWidthChanged(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupShowMode",{get:function(){return this._groupShowMode},set:function(e){e!=this._groupShowMode&&(this._groupShowMode=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"domWidth",{get:function(){if(this.grid&&this.grid.layoutManager.isColumnFitted){var e=this.grid,t=e.layoutManager,i=e.fixedOptions.colCount,n=t.cellCount,r=this.$_fixed?t._fixedCellPoints:this.$_rfixed?t._rightCellPoints:this.grid.layoutManager._cellPoints,o=this.$_fixed?this._col:this.$_rfixed?this._col-(n-i):this._col-i;return r[o+(this instanceof Dv?this._clen:this._defColSpan)]-r[o]}return this.cellWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._col},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cspan",{get:function(){return this._cspan},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hspan",{get:function(){return this._hspan},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hlen",{get:function(){return this._hlen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"merged",{get:function(){return this._merged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFixed",{get:function(){return this.$_fixed||this.$_rfixed},enumerable:!1,configurable:!0}),t.prototype.load=function(e){"string"!=typeof e&&(void 0!==e.width&&(this.width=e.width),void 0!==e.header&&this._header.assignFrom(e.header),void 0!==e.fillWidth&&(this.fillWidth=e.fillWidth),this.groupShowMode=Bp.valueIn(e.groupShowMode,rp)?e.groupShowMode:rp.ALWAYS,void 0!==e.visible&&(this.visible=e.visible))},t.prototype.isColumn=function(e){return!1},t.prototype.cleanColumns=function(){},t.prototype.findLayout=function(e){return null},t.prototype.getHeaderSpan=function(){return 1},t.prototype.getSummarySpan=function(e){return 1},t.prototype.getFooterSpan=function(e){return 1},t.prototype.getDataSpan=function(){return 1},t.prototype.getGroupFooterSpan=function(e,t){return 1},t.prototype.getDataColumn=function(){return null},t.prototype.getFooterUserSpan=function(e){return null},t.prototype.getSummaryUserSpan=function(e){return null},t.prototype.getAncestor=function(e){void 0===e&&(e=-1);for(var t=this;t&&e--;){if(t._parent instanceof jv)return this._root=t;t=t._parent}return t},t.prototype.areEqualColumn=function(e){return this===e},t.prototype._createHeader=function(){return null},t.prototype._headerChanged=function(){this._changed()},t.prototype._prepareLayout=function(e,t,i){this.$_grid=e,this.$_fixed=t,this.$_rfixed=i,this._merged=!1},t.prototype._detach=function(){this._parent=void 0,this._index=-1,this._vindex=-1,this._row=-1,this._col=-1,this._cspan=1,this._hspan=1,this._dspan=1,this._clen=1,this._hlen=1,this._dlen=1,this._root=void 0,this._dataRoot=void 0},t.prototype._getWidth=function(e){return e},t.prototype._getFillWidth=function(e){return e},t.prototype.changeCellWidth=function(e,t,i){var n=this.owner,r=n&&n.grid,o=r&&r._loading,s=i?this.cellWidth:this.domWidth,a=this.domWidth,l=this.grid.displayOptions.minCellWidth;if(isNaN(s)&&o&&i)this.width=e;else{var u=e-s;if(t&&!i&&(u*=this.cellWidth/(isNaN(this._fitWidth)?this.cellWidth:this._fitWidth)),u=Math.round(u))if(this.grid._columnsDirty&&this.owner.$_refresh(this.grid._columns,l),n&&n.isShowing(this)){if(n){var c,h=this._col;c=this instanceof Dv?this._clen:this._defColSpan,n.$_changeCellWidths(h,c,u,l);var d=n._cellWidths;if(d&&d.length)for(var p=n._dataCells,f=0;f<p.length;f++)for(var _=p[f],g=0;g<c;g++)_[h+g]._cellWidth=d[h+g];n.$_calcGroupWidths()}setTimeout(function(){if(this.domWidth!=a){var e=this.firstColumn;this._propChanged("displayWidth",this.domWidth,a),e&&this instanceof Sv&&e.$_layoutWidthChanged(a,this.domWidth)}}.bind(this),50)}else{if(this instanceof Dv||this._defColSpan>1)return;this._cellWidth=e}}},t.prototype._setFitWidth=function(e,t,i){this._fitWidth=e},t.prototype._clearFitWidth=function(){this._fitWidth=NaN},t.prototype._changed=function(){this._parent&&this._parent._changed()},t.prototype.$_setMerged=function(e){this._merged=e},t.prototype._propChanged=function(e,t,i){var n=this.grid;n&&n._fireLayoutPropertyChanged(this,e,t,i)},t}(Yp),Ov=function(e){function t(t,i){var n=e.call(this)||this;return n._type=ly.PROXY,n._source=t,n._index=i,n}return gd(t,e),Object.defineProperty(t.prototype,"cellWidth",{get:function(){return this._cellWidth},set:function(e){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProxy",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._source.visible},enumerable:!1,configurable:!0}),t.prototype.$_isVisible=function(e){return this._source.$_isVisible(e)},Object.defineProperty(t.prototype,"cols",{get:function(){return this._source.cols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this._source.headerRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._source.rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._source.root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayText",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstColumn",{get:function(){return this._source.firstColumn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastColumn",{get:function(){return this._source.lastColumn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundColumn",{get:function(){return this._source.boundColumn},enumerable:!1,configurable:!0}),t.prototype.load=function(e){},t.prototype._isResizable=function(){return!1},t.prototype._isMovable=function(){return!1},t.prototype.clearMergeGrouped=function(){},t.prototype.containLayout=function(e){return!1},t}(Ev),Sv=function(e){function t(t){var i=e.call(this)||this;return i._cellSpan=1,i._cellWidths=[],i._cols=1,i._rows=1,i._blanked=!1,i._type=ly.COLUMN,i._column=t,i._columnObj=t instanceof vv?t:null,i}return gd(t,e),t.prototype._doDispose=function(){this._column=this._columnObj=null,this._merges=this._merges&&this._merges.dispose(),this._mergeRuleObj=this._mergeRuleObj&&this._mergeRuleObj.dispose(),this._equalBlankNode=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"column",{get:function(){return this._column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellWidth",{get:function(){if(this.owner.isShowing(this)){var e=this.owner.getCellWidths(this._col,this._defColSpan);return isNaN(e)&&(e=this.width),e||this._cellWidth}return this._cellWidths&&this._cellWidths.reduce(function(e,t){return e+t},0)||this._cellWidth},set:function(e){if(!this.owner._loading){var t=!!this.grid&&this.grid.layoutManager.isColumnFitted;e=Math.max(this.grid.displayOptions.minCellWidth,e),this.changeCellWidth(e,t,!0)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"merges",{get:function(){return this._merges},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergeRule",{get:function(){return this._mergeRule},set:function(e){if(e!==this._mergeRule){this._mergeRule=e,this._mergeRuleObj&&this._mergeRuleObj.dispose(),this._mergeRuleObj=e?iv.createRule(e):void 0===e?void 0:null;var t=this.grid;t&&t._columnMergeRuleChanged(this)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakMergeOnEmpty",{get:function(){return this._breakMergeOnEmpty},set:function(e){if(e!==this._breakMergeOnEmpty){this._breakMergeOnEmpty=e;var t=this.grid;t&&t._columnMergeRuleChanged(this)}},enumerable:!1,configurable:!0}),t.prototype.isBreakMergeOnEmpty=function(){return void 0===this._breakMergeOnEmpty?this._columnObj instanceof bv&&this._columnObj.breakMergeOnEmpty:this._breakMergeOnEmpty},Object.defineProperty(t.prototype,"equalBlank",{get:function(){return this._equalBlank},set:function(e){e!==this._equalBlank&&(this._equalBlank=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equalBlankNode",{get:function(){return this._blankNodeRun},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blanked",{get:function(){return this._blanked},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equalBlankExpression",{get:function(){return this._equalBlankExpression},set:function(e){e!==this._equalBlankExpression&&(this._equalBlankExpression=e,this._equalBlankNode=e?$f.Default.parse(e,null):void 0===e?void 0:null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellSpan",{get:function(){return this._cellSpan},set:function(e){(e=Math.max(1,e))!=this._cellSpan&&(this._cellSpan=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerSpan",{get:function(){return this._headerSpan},set:function(e){e!=this._headerSpan&&(void 0!==e&&(e=Math.max(1,e)),this._headerSpan=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summarySpan",{get:function(){return this._summarySpans?this._summarySpans[0]:void 0},set:function(e){this._summarySpans=this._summarySpans||[],e!=this._summarySpans[0]&&(void 0!==e&&(e=Math.max(1,e)),this._summarySpans[0]=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summarySpans",{get:function(){return this._summarySpans&&this._summarySpans.slice()},set:function(e){e!==this._summarySpans&&(this._summarySpans=e&&e.slice(),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerSpan",{get:function(){return this._footerSpans&&this._footerSpans[0]},set:function(e){this._footerSpans=this._footerSpans||[],e!=this._footerSpans[0]&&(void 0!==e&&(e=Math.max(1,e)),this._footerSpans[0]=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerSpans",{get:function(){return this._footerSpans&&this._footerSpans.slice()},set:function(e){e!==this._footerSpans&&(this._footerSpans=e&&e.slice(),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataSpan",{get:function(){return this._dataSpan},set:function(e){e!=this._dataSpan&&(void 0!==e&&(e=Math.max(1,e)),this._dataSpan=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupFooterSpan",{get:function(){return this._groupFooterSpans&&this._groupFooterSpans[0]},set:function(e){this._groupFooterSpans=this._groupFooterSpans||[],e!=this._groupFooterSpans[0]&&(void 0!==e&&(e=Math.max(1,e)),this._groupFooterSpans[0]=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupFooterSpans",{get:function(){return this._groupFooterSpans&&this._groupFooterSpans.slice()},set:function(e){e!==this._groupFooterSpans&&(this._groupFooterSpans=e&&e.slice(),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spanCallback",{get:function(){return this._spanCallback},set:function(e){e!=this._spanCallback&&(this._spanCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summarySpanCallback",{get:function(){return this._summarySpanCallback},set:function(e){e!=this._summarySpanCallback&&(this._summarySpanCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerSpanCallback",{get:function(){return this._footerSpanCallback},set:function(e){e!=this._footerSpanCallback&&(this._footerSpanCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupFooterSpanCallback",{get:function(){return this._groupFooterSpanCallback},set:function(e){e!=this._groupFooterSpanCallback&&(this._groupFooterSpanCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerUserSpans",{get:function(){return this._footerUserSpans},set:function(e){this._footerUserSpans=Bp.makeArray(e,!0).slice(),this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summaryUserSpans",{get:function(){return this._summaryUserSpans},set:function(e){this._summaryUserSpans=Bp.makeArray(e,!0).slice(),this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupFooterUserSpans",{get:function(){return this._groupFooterUserSpans},set:function(e){this._groupFooterUserSpans=Bp.makeArray(e,!0).slice(),this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupFooterUserSpanCallback",{get:function(){return this._groupFooterUserSpanCallback},set:function(e){e!=this._groupFooterUserSpanCallback&&(this._groupFooterUserSpanCallback=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype.canMerge=function(){if(null!=this._mergeRuleObj)return!0;var e=this._columnObj;if(e instanceof bv){if(e.mergeGrouped)return!0;if(e._mergeCallback)return!0;if(void 0===this._mergeRuleObj)return null!=e._mergeRuleObj}},Object.defineProperty(t.prototype,"isNull",{get:function(){return!this._columnObj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._cols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},set:function(e){this._rows=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstColumn",{get:function(){return this._columnObj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastColumn",{get:function(){if(this._columnObj)return this._columnObj;for(var e=this.parent.visibles,i=e.indexOf(this);i-- >0;){var n=e[i];if(n instanceof t&&n.lastColumn)return n.lastColumn}return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundColumn",{get:function(){return this._columnObj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayText",{get:function(){return this._header&&this._header.text||this._columnObj&&this._columnObj.displayText||this.toString()},enumerable:!1,configurable:!0}),t.prototype.getHeaderSpan=function(){return void 0===this._headerSpan?this._cellSpan:this._headerSpan},t.prototype.getSummarySpan=function(e){var t,i=this._summarySpanCallback,n=this._summarySpans;return i?void 0===(t=i(this.grid.handler,this,e))&&n&&n.length>e&&(t=n[e]):n&&n.length>e&&(t=n[e]),void 0===t?this._cellSpan:t},t.prototype.getFooterSpan=function(e){var t,i=this._footerSpanCallback,n=this._footerSpans;return i?void 0===(t=i(this.grid.handler,this,e))&&n&&n.length>e&&(t=n[e]):n&&n.length>e&&(t=n[e]),void 0===t?this._cellSpan:t},t.prototype.getFooterUserSpan=function(e){return this._footerUserSpans&&this._footerUserSpans[e]},t.prototype.getSummaryUserSpan=function(e){return this._summaryUserSpans&&this._summaryUserSpans[e]},t.prototype.getGroupFooterUserSpan=function(e,t){var i,n=this._groupFooterUserSpanCallback;return n&&(i=n(this.grid.handler,this,e,e.index,t)),i||this._groupFooterUserSpans&&this._groupFooterUserSpans[t]},t.prototype.getGroupFooterSpan=function(e,t){var i,n=this._groupFooterSpanCallback,r=this._groupFooterSpans;return n?void 0===(i=n(this.grid.handler,this,e,t))&&r&&r.length>t&&(i=r[t]):r&&r.length>t&&(i=r[t]),void 0===i?this._cellSpan:i},t.prototype.getDataSpan=function(){return void 0===this._dataSpan?this._cellSpan:this._dataSpan},t.prototype.getDataColumn=function(){return this._columnObj},t.prototype._createHeader=function(){return new Rv(this)},t.prototype._isResizable=function(){return!this._columnObj||this._columnObj.resizable},t.prototype._isMovable=function(){for(var e=!0,t=this.parent;t;)e=e&&t.childColumnMovable,t=t.parent;return e&&(!this._columnObj||this._columnObj.movable)},t.prototype.isColumn=function(e){return this._columnObj===e},t.prototype.findLayout=function(e){return e&&this._columnObj===e?this:null},t.prototype.load=function(t){if(this.assignFrom(t),e.prototype.load.call(this,t),!this._columnObj&&"string"==typeof this._column){var i=this.owner&&this.owner.grid;this._columnObj=i?i.columnByName(this._column):null}},t.prototype.cleanColumns=function(){this._columnObj&&this._columnObj.clean()},t.prototype.$_isVisible=function(e){return e?this._visible:this._visible&&(!this._columnObj||this._columnObj.visible)},t.prototype._getWidth=function(e){return isNaN(e)?this._columnObj?this._columnObj.width:NaN:e},t.prototype._getFillWidth=function(e){return isNaN(e)?this._columnObj?this._columnObj.fillWidth:NaN:e},t.prototype._prepareLayout=function(t,i,n){if(e.prototype._prepareLayout.call(this,t,i,n),this._columnObj){this._columnObj._prepareLayout(t,this);var r=this.parent.direction===Iv.VERTICAL?this.cellSpan+this._dspan-1:this._dspan;(this._blanked=r===this.owner.dataRows)&&(this._blankNodeRun=this._equalBlankNode,this._blanked=this._equalBlank||null!=this._blankNodeRun,this._blanked||(void 0===this._equalBlankNode&&(this._blanked=null!=(this._blankNodeRun=this._columnObj._equalBlankNode)),this._blanked||void 0!==this._equalBlank||(this._blanked=this._columnObj._equalBlank)))}},t.prototype.toString=function(){return"string"==typeof this._column?this._column:e.prototype.toString.call(this)},t.prototype.clearMergeGrouped=function(){this.firstColumn instanceof bv&&this.firstColumn.$_setMergeGrouped(!1)},t.prototype.areEqualColumn=function(e){var t=this.boundColumn,i=e&&e.boundColumn;return e&&this.grid===e.grid&&t&&i&&t.name===i.name},t.prototype.containLayout=function(e){return e.source===this},t.prototype.$_bindColumn=function(e,t,i){if(void 0===i&&(i=!1),this._columnObj||(this._columnObj=t.columnByName(this._column)),!this._columnObj)throw new Error("not exists column ".concat(this._column));var n=this._columnObj.$_hash;if(e[n])throw new Error("Column is already contained in layouts: "+(this._columnObj.name||this._columnObj.displayText));i||(this._columnObj._layout=this),!i&&(this._columnObj._layout=this),e[n]=this},t.prototype.$_mergeRuleObj=function(){return this._mergeRuleObj?this._mergeRuleObj:void 0===this._mergeRuleObj&&this._columnObj instanceof bv?this._columnObj._mergeRuleObj:null},t}(Ev);!function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"}(Iv||(Iv={}));var kv,Pv,Rv=function(e){function t(t){var i=e.call(this)||this;return i._layout=t,i}return gd(t,e),Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e!=this._text&&(this._text=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return this.layout.firstColumn.header.styleName},set:function(e){this.layout.firstColumn.header.styleName=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exportStyleName",{get:function(){return this.layout.firstColumn.header.exportStyleName},set:function(e){this.layout.firstColumn.header.exportStyleName=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return 1},enumerable:!1,configurable:!0}),t.prototype.isVisible=function(){return!0},t.prototype.getDisplayText=function(){return this._text},t.prototype.doAssignSimple=function(e){return"string"==typeof e&&(this.text=e,!0)},t.prototype._changed=function(){this._layout&&this._layout._headerChanged()},t}(Yp),Tv=function(e){function t(t){var i=e.call(this,t)||this;return i._visible=!0,i._showTooltip=void 0,i._tooltipEllipsisOnly=void 0,i}return gd(t,e),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){if(e!=this._visible){var t=this._layout;if(t&&t.isRoot&&!e&&(t.hideChildHeaders||1===t.headerRows))throw new Error("Group header cannot be hidden when all child headers are already hidden.");this._visible=e,this._changed()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return this._template&&this._template.template},set:function(e){e!=this.template&&(e?(this.template||(this._template=new Oy),this._template.template=e):this._template=void 0,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateEvents",{get:function(){return this._templateEvents},set:function(e){this._templateEvents=Bp.makeArray(e,!0),this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this._values},set:function(e){e!==this._values&&(e?Bp.extendObj(e,this._values={}):this._values=void 0,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTooltip",{get:function(){return this._showTooltip},set:function(e){e!==this._showTooltip&&(this._showTooltip=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipEllipsisOnly",{get:function(){return this._tooltipEllipsisOnly},set:function(e){e!==this._tooltipEllipsisOnly&&(this._tooltipEllipsisOnly=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){e!==this._tooltip&&(this._tooltip=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"edgeMark",{get:function(){return this._edgeMark},set:function(e){e!==this._edgeMark&&(this._edgeMark=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return this._styleName},set:function(e){e!==this._styleName&&(this._styleName=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exportStyleName",{get:function(){return this._exportStyleName},set:function(e){this._exportStyleName=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return Math.max(1,this._rows||1)},set:function(e){e!==this._rows&&(this._rows=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateCallback",{get:function(){return this._templateCallback},set:function(e){this._templateCallback=e,this._changed()},enumerable:!1,configurable:!0}),t.prototype.realizeTemplate=function(){var e=this._template;return e?e.realizeHeader(this,this._templateCallback,this._layout.grid):void 0},t.prototype.getValue=function(e){return this._values&&this._values[e]},t.prototype.doAssignSimple=function(t){return!e.prototype.doAssignSimple.call(this,t)&&"boolean"==typeof t&&(this.visible=t,!0)},t.prototype.isVisible=function(){return this._visible},t.prototype.getDisplayText=function(){var e=this.layout;return e.hideChildHeaders&&e.tiedColumn?e.tiedColumn.displayText:this.text||this.layout.name},Object.defineProperty(t.prototype,"displayText",{get:function(){return this.getDisplayText()},enumerable:!1,configurable:!0}),t}(Rv),Dv=function(e){function t(t,i){var n=e.call(this)||this;return n._direction=Iv.HORIZONTAL,n._items=[],n._resizable=!0,n._movable=!0,n._hideChildHeaders=!1,n._childColumnMovable=!0,n._visibles=[],n._cols=0,n._rows=0,n._headerRows=0,n._expandedLayouts=[],n._collapsedLayouts=[],n._type=ly.GROUP,n._name=t,n._direction=i==Iv.VERTICAL?Iv.VERTICAL:Iv.HORIZONTAL,n}return gd(t,e),t.getNext=function(e){var i=e&&e.parent;return i?((e=i.nextOf(e))||(e=t.getNext(i)),e):null},t.getPrev=function(e){var i=e&&e.parent;return i?((e=i.prevOf(e))||(e=t.getPrev(i)),e):null},t.isTop=function(e){for(var t=e&&e.parent;t;){if(t.vertical&&t.visibleCount>1&&e.vindex>0)return!1;t=(e=t).parent}return!0},t.isBottom=function(e){for(var t=e&&e.parent;t;){if(t.vertical&&t.visibleCount>1&&e.vindex<t.visibleCount-1)return!1;t=(e=t).parent}return!0},t.isLeft=function(e){for(var t=e&&e.parent;t;){if(!t.vertical&&t.visibleCount>1&&e.vindex>0)return!1;t=(e=t).parent}return!0},t.isRight=function(e){return t.isBottom(e)},t.prototype._doDispose=function(){this._items.forEach(function(e){e&&e.dispose()}),this._visibles=this._items=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){e!=Iv.VERTICAL&&(e=Iv.HORIZONTAL),e!=this._direction&&(this._direction=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertical",{get:function(){return this._direction==Iv.VERTICAL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"horizontal",{get:function(){return this._direction!=Iv.VERTICAL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this._resizable},set:function(e){this._resizable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"movable",{get:function(){return this._movable},set:function(e){this._movable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideChildHeaders",{get:function(){return this._hideChildHeaders},set:function(e){if(e!=this._hideChildHeaders){if(e&&this.isRoot&&!this.header.visible)throw new Error("cannot hide child headers when the group header is not visible.");this._hideChildHeaders=e,this._changed()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childColumnMovable",{get:function(){return this._childColumnMovable},set:function(e){this._childColumnMovable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items.slice()},set:function(e){this._items=e?e.slice():[];for(var t=0,i=this._items;t<i.length;t++)i[t]._parent=this;this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleCount",{get:function(){return this._visibles.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibles",{get:function(){var e=this._visibles;return e?e.slice():[]},enumerable:!1,configurable:!0}),t.prototype.$_isVisible=function(e){return this.visible&&this._visibles.length>0},Object.defineProperty(t.prototype,"expandable",{get:function(){return this._expandable},set:function(e){e!=this._expandable&&(this._expandable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){return this._expanded},set:function(e){e!=this._expanded&&this.owner.expandLayout(this,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tiedColumn",{get:function(){if(this._tiedColumn instanceof bv)return this._tiedColumn},set:function(e){this._tiedColumn="string"==typeof e?this.grid.columnByName(e):e instanceof bv?e:null,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._header},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this._items.indexOf(e)},t.prototype.getItem=function(e){return this._items[e]},t.prototype.getVisible=function(e){return this._visibles[e]},t.prototype.addLayout=function(e,i){if(!this.owner.isDefault()){var n,r,o,s=this.grid,a=this.owner;if(s&&s._checkEditing(),"string"==typeof e?o=a.layoutByName(e):e instanceof vv?o=a.layoutByColumn(e):e&&"string"==typeof e.column&&(o=a.layoutByName(e.column)),o)throw new Error("addLayout fail - Column or Group is already contained in layouts: "+o.firstColumn.name);if("string"==typeof e||e instanceof vv)n="string"==typeof e&&l(s,e),r=new Sv(e);else if(e)if("string"==typeof e.column)n=l(s,e.column),r=new Sv(e.column);else if((e.type===ly.GROUP||e.items)&&e.name){if(a.layoutByName(e.name))throw new Error("addLayout fail - group is already contained in layouts: "+e.name);r=new t(e.name,e.direction)}return r?("object"==typeof e&&r.load(e),this.addItem(r,i),(r instanceof Sv&&n||r instanceof t&&r._items.length)&&this.owner._root&&this.owner._root.resetColumns(s._columns),r):void 0}function l(e,t){var i=e.columnByName(t);if(!i)throw new Error("not exists column ".concat(t));return i}},t.prototype.removeLayout=function(e){if(!this.owner.isDefault()){var t=this.grid;t&&t._checkEditing(),"string"==typeof e?e=this.layoutByName(e):e instanceof vv&&(e=e.layout),e instanceof Ev&&e.parent.removeItem(e,!0)}},t.prototype.addItem=function(e,t){void 0===t&&(t=this._items.length),null!=e&&t>=0&&t<=this._items.length&&(this._items.splice(t,0,e),e._parent=this,this._changed())},t.prototype.clear=function(e){void 0===e&&(e=!0);for(var i=0,n=this._items;i<n.length;i++){var r=n[i];e&&r instanceof t&&r.clear(),r._detach()}this._items=[],this._visibles=[],this._cols=0,this._rows=0,this._headerRows=0},t.prototype.removeItem=function(e,t){var i=this.indexOf(e);if(i>=0){if(e instanceof Sv&&e.cellSpan>1)for(var n=e.cellSpan-1;n--;){var r=this._items.splice(i+n,1)[0];r&&(r._detach(),t&&r.dispose())}this._items.splice(i,1),e._detach(),t&&e.dispose(),this._changed()}},t.prototype.layoutByName=function(e){if(e)for(var i=0,n=this._items;i<n.length;i++){var r=n[i];if(r instanceof Sv&&r.firstColumn.name===e)return r;if(r instanceof t){if(r.name===e)return r;var o=r.layoutByName(e);if(o)return o}}return null},t.prototype.containLayout=function(e){if(e){if(this._items.indexOf(e)>=0)return!0;for(var t=0,i=this._items;t<i.length;t++)if(i[t].containLayout(e))return!0}return!1},t.prototype.nextOf=function(e){try{var t=this.$_checkVisible(e);if(t<this.visibleCount-1)return Mv(this,t+1)}catch(i){Bp.log("nextOf fail")}return null},t.prototype.prevOf=function(e){try{var t=this.$_checkVisible(e);if(t>0)return Lv(this,t-1)}catch(i){Bp.log("prevOf fail")}return null},t.prototype.isExpandable=function(){return this.expandable&&this._expandedLayouts.length>0&&this._collapsedLayouts.length>0},t.prototype.expandAll=function(e,i){this.expandable&&(this.expanded=e),this._items.forEach(function(n){n instanceof t&&n.expandAll(e,i)})},t.prototype._clearFitWidth=function(){e.prototype._clearFitWidth.call(this);for(var t=0,i=this._visibles;t<i.length;t++)i[t]._clearFitWidth()},Object.defineProperty(t.prototype,"cellWidth",{get:function(){return this.owner.getCellWidths(this._col,this._clen)},set:function(e){var t=!!this.grid&&this.grid.layoutManager.isColumnFitted;this.changeCellWidth(e,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._cols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this._headerRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._visibles.length>0?this._visibles[0].first:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var e=this._visibles?this._visibles.length:0;return e>0?this._visibles[e-1].last:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstColumn",{get:function(){return this._visibles&&this._visibles.length>0?this._visibles[0].firstColumn:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastColumn",{get:function(){for(var e=this._visibles?this._visibles.length-1:-1;e>=0;e--){var t=this._visibles[e].lastColumn;if(t)return t}return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundColumn",{get:function(){return this.tiedColumn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayText",{get:function(){return this._header&&this._header.getDisplayText()||this._name},enumerable:!1,configurable:!0}),t.prototype._createHeader=function(){return new Tv(this)},t.prototype.load=function(t){this.clear(),void 0!==t.hideChildHeaders&&(this.hideChildHeaders=t.hideChildHeaders),this.expandable=t.expandable,this._expanded=null==t.expanded||t.expanded,void 0!==t.resizable&&(this.resizable=t.resizable),void 0!==t.childColumnMovable&&(this.childColumnMovable=t.childColumnMovable),void 0!==t.movable&&(this.movable=t.movable),t.tiedColumn&&(this.tiedColumn=t.tiedColumn),null==t.rows||isNaN(t.rows)||(this._rows=t.rows),t.items&&this._loadItems(t.items),e.prototype.load.call(this,t)},t.prototype.findLayout=function(e){for(var t=0,i=this._items;t<i.length;t++){var n=i[t].findLayout(e);if(n)return n}return null},t.prototype.cleanColumns=function(){for(var e=0,t=this.items.length;e<t;e++)this.getItem(e).cleanColumns()},t.prototype._isResizable=function(){return this._resizable},t.prototype._isMovable=function(){for(var e=this._movable,t=this.parent;t;)e=e&&t.childColumnMovable,t=t.parent;return e},t.prototype._setFitWidth=function(t,i,n){if(e.prototype._setFitWidth.call(this,t,i,n),this.isRoot){for(var r=this.owner._dataCells,o=void 0,s=0,a=0;a<r.length;a++){o=[],s=0;for(var l=this.hcol;l<this.hcol+this.cols;l++)(g=r[a][l]).fillWidth>0?s+=g.fillWidth:g.cellWidth,o.push(g);if(s>0)break}var u=t-(i=o.map(function(e){return e._cellWidth})).reduce(function(e,t){return e+t},0);if(s>0&&n===jd.FILL){for(var c=0;c<o.length;c++)if(!(g=o[c]).isProxy&&g.fillWidth>0){for(var h=Math.round(u*g.fillWidth/s),d=0,p=0,f=0,_=g._defColSpan;f<_-1;f++)d+=h/_,p+=m=Math.round(d)-p,i[c+f]+=m;i[c+g._defColSpan-1]+=h-p}}else if(t!==this.cellWidth){for(d=0,p=0,c=0;c<o.length-1;c++){var g,m;d+=(g=o[c])._cellWidth/this.cellWidth*u,p+=m=Math.round(d)-p,i[c]+=m}i[o.length-1]+=u-p}}if(this.vertical)for(c=0;c<this._visibles.length;c++)(y=this._visibles[c])instanceof Sv||y instanceof Ov?y._setFitWidth(i[c],null,n):y._setFitWidth(t,i,n);else for(c=0;c<this._visibles.length;c++){var y;if((y=this._visibles[c])instanceof Sv||y instanceof Ov)y._setFitWidth(i[c],null,n);else{var v=i.slice(this.col-y.col,y.cols);y._setFitWidth(v.reduce(function(e,t){return e+t},0),v,n)}}return i},t.prototype._prepareLayout=function(t,i,n){e.prototype._prepareLayout.call(this,t,i,n);for(var r=0,o=this._visibles;r<o.length;r++)o[r]._prepareLayout(t,i,n)},t.prototype.toString=function(){return this._name||e.prototype.toString.call(this)},t.prototype.clearMergeGrouped=function(){for(var e=0,t=this.items.length;e<t;e++)this.getItem(e).clearMergeGrouped()},t.prototype._loadItems=function(e){for(var i,n=0,r=0,o=e;r<o.length;r++){var s=o[r],a=void 0;n++,"string"==typeof s?i=a=new Sv(s):"number"==typeof s?(a=new Ov(i,n))._width=s:s&&(s.type===ly.GROUP||s.items?a=new t(s.name,s.direction):"string"==typeof s.column?i=a=new Sv(s.column):s instanceof vv&&(i=a=new Sv(s))),a&&(a._parent=this,a.load(s),this._items.push(a))}},t.prototype.$_bindColumns=function(e,i,n){for(var r=0,o=this._items;r<o.length;r++){var s=o[r];s._root=null,s instanceof t?s.$_bindColumns(e,i,n):!s.isProxy&&s.$_bindColumn(e,i,n)}},t.prototype.$_parseExpandLayouts=function(e){var i=this;this._expandedLayouts.length=this._collapsedLayouts.length=0,this.items.forEach(function(n,r){if(!n.isProxy){switch(n.groupShowMode){case rp.EXPAND:i._expandedLayouts.push(n);break;case rp.COLLAPSE:i._collapsedLayouts.push(n);break;default:i._expandedLayouts.push(n),i._collapsedLayouts.push(n)}n instanceof t&&n.$_parseExpandLayouts(e)}})},t.prototype.$_parseHeaderCells=function(e,i,n){var r=this._direction===Iv.HORIZONTAL,o=0,s=this._header.isVisible()?this._header.rows:0;if(this._hideChildHeaders)return this._cspan=this._clen=this._cols,void(this._hlen=this._headerRows);for(var a=0,l=this._visibles;a<l.length;a++){var u=l[a],c=!u.isProxy&&u.header.isVisible()?u.header.rows:u.isProxy&&!r?1:0;if(u._hrow=i,u._hcol=n,u._hspan=c,u._hlen=c,u instanceof t)if(c>0&&(e[i][n]=u),u.$_parseHeaderCells(e,i+c,n),c>0){for(var h=0;h<c;h++)for(var d=0===h?1:0;d<u.cols;d++)e[i+h][n+d]=new Ov(u,d);r?n+=u.cols:i+=u.headerRows}else r?n+=u.cols:i+=u.headerRows;else if(e[i][n]=u,r){for(h=1;h<this.headerRows-s;h++)e[i+h][n]=new Ov(u,h),u._hspan++;u._hlen=u._hspan,n+=u.cols}else{for(h=1;h<this.cols;h++)e[i][n+h]=new Ov(u,h);i+=u.rows}r?o=Math.max(u._hlen,o):o+=u._hlen}this._hlen=r?o+s:Math.max(1,o+s)},t.prototype.$_fillHorz=function(e,t,i,n,r,o,s){for(var a=n+o,l=r,u=l+i-1,c=0,h=t-o;c<h;c++)for(var d=u;d>=l;d--){var p=e[a+c][d];if(null!=p){p=Ev.getSource(p);for(var f=d+1;f<=u;f++){var _=e[a+c][f]=new Ov(p,f-l);s?(_._hrow=a+c,_._hcol=f):(_._row=a+c,_._col=f,_._parent=p.group,p.row===_.row&&(p._cspan++,p instanceof Sv&&p._clen++))}break}}},t.prototype.$_fillVert=function(e,t,i,n,r,o,s){for(var a=n+o,l=n+t-1,u=r+i-1,c=r;c<=u;c++)for(var h=l;h>=a;h--){var d=e[h][c];if(null!=d){d=Ev.getSource(d);for(var p=h+1;p<=l;p++){var f=e[p][c]=new Ov(d,p-a);s?(f._hrow=p,f._hcol=c,d.hcol===f.hcol&&(d._hspan++,d instanceof Sv&&d._hlen++)):(f._row=p,f._col=c,d.col===f.col&&(d._dspan++,d instanceof Sv&&d._dlen++),f._parent=d.group)}break}}},t.prototype.$_adjustHeaderCells=function(e){var i=this._header.isVisible()?this._header.rows:0;if(i&&this._hideChildHeaders){this._hspan=this._hlen;for(var n=0,r=0;r<this._hlen;r++)for(var o=0;o<this._clen;o++)if(r||o){var s=this._hrow+r,a=this._hcol+o,l=e[s][a]=new Ov(this,n++);l._hrow=s,l._hcol=a}}else if(this._direction===Iv.VERTICAL){for(var u=this._clen,c=0,h=this._visibles;c<h.length;c++)(f=h[c])instanceof t&&(f._clen=this._clen,f.$_adjustHeaderCells(e));this.$_fillVert(e,this._hlen,u,this._hrow,this._hcol,i,!0),this.$_fillHorz(e,this._hlen,u,this._hrow,this._hcol,i,!0)}else{for(var d=0,p=this._visibles;d<p.length;d++){var f;(f=p[d])instanceof t&&(f._hlen=this._hlen-i,f.$_adjustHeaderCells(e))}this.$_fillVert(e,this._hlen,this._cols,this._hrow,this._hcol,i,!0),this.$_fillHorz(e,this._hlen,this._cols,this._hrow,this._hcol,i,!0)}},t.prototype.$_parseDataCells=function(e,i,n){for(var r,o=this._direction!=Iv.VERTICAL,s=0,a=0,l=0,u=this._visibles;l<u.length;l++){var c=u[l];if(c._row=i,c._col=n,c._dspan=1,c._dlen=1,c._cspan=1,c._clen=1,c instanceof t){if(c.$_parseDataCells(e,i,n),o)n+=c.cols;else if(i+=c.rows,2==this.rows){for(var h=1/0,d=0,p=0,f=this.visibles;p<f.length;p++){var _=f[p];h=Math.min(h,_.cols),d=Math.max(d,_.cols),_.ignoreCalcWidth=!1}if(1===h&&d>1)for(var g=0,m=this.visibles;g<m.length;g++)(_=m[g]).ignoreCalcWidth=1===_.cols}}else if(e[i][n]=c,o){for(var y=1;y<this.rows;y++)e[i+y][n]=r=new Ov(c,y),c._dspan++,r._col=n,r._row=i+y,r._parent=this;c._dlen=c._dspan,n+=c.cols}else{for(y=1;y<this.cols;y++)e[i][n+y]=r=new Ov(c,y),c._cspan++,r._col=n+y,r._row=i,r._parent=this;c._clen=c._cspan,i+=c.rows}o?(a+=c._clen,s=Math.max(c._dlen,s)):(a=Math.max(c._clen,a),s+=c._dlen)}o?(a=Math.max(1,a),this._dlen=s):this._dlen=Math.max(1,s),this._cspan=this._clen=a},t.prototype.$_adjustDataCells=function(e){if(this._direction===Iv.VERTICAL){for(var i=0,n=this._visibles;i<n.length;i++)(s=n[i])instanceof t&&(s._cspan=s._clen=this._clen,s.$_adjustDataCells(e));this.$_fillVert(e,this._dlen,this._clen,this._row,this._col,0,!1),this.$_fillHorz(e,this._dlen,this._clen,this._row,this._col,0,!1)}else{for(var r=0,o=this._visibles;r<o.length;r++){var s;(s=o[r])instanceof t&&(s._dlen=this._dlen,s.$_adjustDataCells(e))}this.$_fillVert(e,this._dlen,this._clen,this._row,this._col,0,!1),this.$_fillHorz(e,this._dlen,this._clen,this._row,this._col,0,!1)}},t.prototype.$_calcSpans=function(){var e=this._header.isVisible();if(this._direction==Iv.HORIZONTAL){for(var i=0,n=1,r=1,o=0,s=this._visibles;o<s.length;o++)(h=s[o])instanceof t&&h.$_calcSpans(),i+=h.cols,n=Math.max(n,h.headerRows),r=Math.max(r,h.rows);this._rows=r,this._cols=i,e&&this._hideChildHeaders?this._headerRows=this._header.rows:!e&&this._hideChildHeaders?this._headerRows=0:this._headerRows=n+(e?this._header.rows:0)}else{this._cols=1,this._headerRows=e?this._header.rows:0,this._rows=0;for(var a=0,l=this._visibles;a<l.length;a++)(h=l[a])instanceof t&&h.$_calcSpans(),this._headerRows+=h.headerRows,this._rows+=h.rows,this._cols=Math.max(h.cols,this._cols);for(var u=0,c=this._visibles;u<c.length;u++){var h;(h=c[u])instanceof t&&(h._cols=this._cols)}e&&this._hideChildHeaders?this._headerRows=this._header.rows:!e&&this._hideChildHeaders&&(this._headerRows=0)}},t.prototype.$_resetVisibles=function(e){var i=0,n=0,r=this.visibles;this._visibles=[];for(var o=0,s=this._items;o<s.length;o++){var a=s[o];a._index=i++,a instanceof t&&a.$_resetVisibles(e);var l=a.$_isVisible(e);l&&this.expandable&&(l=this._expanded?this._expandedLayouts.indexOf(a)>=0:this._collapsedLayouts.indexOf(a)>=0),l&&(this._visibles.push(a),a._vindex=n++)}if(!e&&r.length!=this._visibles.length&&this.direction===Iv.HORIZONTAL)for(var u=this;u;)u._cellWidth=NaN,u.width=NaN,u=u.parent;this.$_calcSpans()},t.prototype.$_collectCellWidths=function(e){for(var i=[],n=0,r=this._visibles;n<r.length;n++){var o=r[n],s=o._cellWidth||o.width;if(o instanceof Sv&&(isNaN(s)||0==s)&&(s=e),o instanceof t){var a=o.$_collectCellWidths(e);isNaN(s)&&(s=a),o._cellWidth=s}else o._cellWidth=s;i.push(s)}var l=this.width;return isNaN(l)&&(l=this.vertical?Math.max.apply(null,i):i.reduce(function(e,t){return e+t},0)),l},t.prototype.$_calcCellWidths=function(e,t,i){if(!i){for(var n=t.slice(),r=0;r<n.length;r++)n[r]=0;var o=this.owner._moveColumn,s=e.slice();if(o){var a=s.splice(o.first.row,1);s.splice(0,0,a[0])}for(var l=0;l<s.length;l++)for(var u=s[l],c=0;c<u.length;c++){var h=u[c];o?t[c]=t[c]||h._cellWidth:(!h.isProxy||h._cellWidth>0&&!h.ignoreCalcWidth)&&(t[c]+=h._cellWidth,n[c]++)}for(r=0;r<t.length;r++)t[r]=Math.round(t[r]/Math.max(n[r],1))}for(l=0;l<e.length;l++)for(u=e[l],c=0;c<u.length;c++){var d=u[c];if(d._cellWidth=t[c],d instanceof Sv){var p=d._cellWidths=[];for(r=0;r<d.cspan;r++)p[r]=t[c+r]||0}}},t.prototype._childIndexChanged=function(e){this.parent&&this.parent._childIndexChanged(e)},t.prototype._childWidthChanged=function(e){this.parent&&this.parent._childWidthChanged(e)},t.prototype._childFillWidthChanged=function(e){this.parent&&this.parent._childFillWidthChanged(e)},t.prototype.$_checkVisible=function(e){var t;if(!e||(t=e.vindex)<0||e!==this.getVisible(t))throw new Error("Column is not a visible group member");return t},t.prototype.$_collectHorzColumns=function(e,i,n){if(this.horizontal)for(var r=i;r<=n;r++){var o=this._visibles[r];o instanceof t?o.$_collectHorzColumns(e,0,o.visibleCount-1):o instanceof Sv&&e.push(o._columnObj)}},t.prototype.$_changeChildVIndex=function(e,t){e&&t!=e.vindex&&t>=0&&t<this._visibles.length&&this.$_changeChildIndex(e,this._visibles[t].index)},t.prototype.$_changeChildIndex=function(e,t){if(e){var i=e.index;if(i!=t&&t>=0&&t<this._items.length){t=t<=i?t:t+(this._items[t].getHeaderSpan()-1)-(e.getHeaderSpan()-1);for(var n=this._items.splice(i,e.getHeaderSpan()),r=0;r<n.length;r++)this._items.splice(t+r,0,n[r]);this.$_resetVisibles(),this._childIndexChanged(e)}}},t}(Ev),Mv=function(e,t){for(var i=t,n=e.visibleCount;i<n;i++){var r=e.getVisible(i);if(r instanceof Sv)return r;if(r instanceof Dv&&(r=Ev.getSource(r.first))instanceof Sv)return r}return null},Lv=function(e,t){for(var i=t;i>=0;i--){var n=e.getVisible(i);if(n instanceof Sv)return n;if(n instanceof Dv&&(n=Ev.getSource(n.last))instanceof Sv)return n}return null},Av=function(e,t,i){for(var n=i?e.visibleCount:e.count,r=0;r<n;r++){var o=i?e.getVisible(r):e.getItem(r);if(o instanceof Sv){var s=o._columnObj;s&&t.push(s)}else o instanceof Dv&&Av(o,t,i)}},Fv=function(e,t,i){for(var n=e.visibleCount,r=0;r<n;r++){var o=e.getVisible(r);o instanceof Sv?t.push(o):o instanceof Dv&&Fv(o,t)}},$v=function(e,t,i,n,r){for(var o=n?e.visibleCount:e.count,s=0;s<o;s++){var a=n?e.getVisible(s):e.getItem(s);if(a instanceof Sv&&!r){var l=a._columnObj;l&&t.push(l.name)}else a instanceof Dv&&((!i||r)&&t.push(a.name),$v(a,t,i,n,r))}},Nv=function(e,t,i){for(var n=i?e.visibleCount:e.count,r=0;r<n;r++){var o=i?e.getVisible(r):e.getItem(r);if(o instanceof Sv){var s=o._columnObj;s instanceof bv&&t.push(s)}else o instanceof Dv&&Nv(o,t,i)}},jv=function(e){function t(t){var i=e.call(this,"$_root_$",null)||this;return i._owner=t,i.header._visible=!1,i}return gd(t,e),Object.defineProperty(t.prototype,"cellWidth",{get:function(){return this._cellWidth},set:function(e){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandable",{get:function(){return!1},set:function(e){},enumerable:!1,configurable:!0}),t.prototype.resetColumns=function(e){this.items.length>0&&(this.$_bindColumns({},e,!1),this.$_resetVisibles(!1))},Object.defineProperty(t.prototype,"grid",{get:function(){return this._owner.grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this},enumerable:!1,configurable:!0}),t.prototype._changed=function(){this._owner&&this._owner._changed()},t.prototype._childIndexChanged=function(e){this._owner._itemIndexChanged(e)},t.prototype._childWidthChanged=function(e){this._owner._itemWidthChanged(e)},t.prototype._childFillWidthChanged=function(e){this._owner._itemFillWidthChanged(e)},t.prototype._setColumns=function(e){var t=this._items;t.length=0;for(var i=0,n=e.count;i<n;i++){var r=new Sv(e.getColumn(i));t.push(r),r._parent=this}this.resetColumns(e)},t}(Dv),Bv=function(e){function t(t){var i=e.call(this)||this;return i._cellWidths=[],i._grid=t,i._root=new jv(i),i}return gd(t,e),t.prototype._doDispose=function(){this._grid=null,this._root=this._root.dispose(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._root.count},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleCount",{get:function(){return this._root.visibleCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this._root._hlen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this._root._dlen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._root.first},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._root.last},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstColumn",{get:function(){return this._root.firstColumn},enumerable:!1,configurable:!0}),t.prototype.load=function(e){return this.$_clear(),this._loading=!0,this._root._loadItems(e),this._changed(),this._loading=!1,this},t.prototype.resetColumns=function(e){this._root.resetColumns(e)},t.prototype.cleanColumns=function(){this._root.cleanColumns()},t.prototype.invalidate=function(){this._changed()},t.prototype.invalidateIndices=function(e){this.grid.displayOptions.remergeWhenColumnMoved&&this.grid._populateMerges(),this.grid.clearAddSelection(),this._changed()},t.prototype.invalidateSize=function(){this._resized||(this._resized=!0,this.grid.invalidateCellLayouts())},t.prototype.getVisible=function(e){return this._root.getVisible(e)},t.prototype.addLayout=function(e,t){return this._root.addLayout(e,t)},t.prototype.removeLayout=function(e){this._root.removeLayout(e)},t.prototype.expandLayout=function(e,t){this.fireExpanding(e,t)&&(e._expanded=t,this._root.$_resetVisibles(),this._changed(),this.fireExpanded(e,t))},t.prototype.setColumns=function(e){this._root._setColumns(e),this._changed()},t.prototype.layoutByColumn=function(e){return e&&this._root.findLayout(e)},t.prototype.layoutByName=function(e){return e&&this._root.layoutByName(e)},t.prototype.getHeaderCellPos=function(e){for(var t=0;t<this._headerCells.length;t++)for(var i=this._headerCells[t],n=0;n<i.length;n++)if(i[n]instanceof Sv&&i[n]._columnObj===e)return{row:t,col:n}},t.prototype.getDataCellPos=function(e){for(var t=0;t<this._dataCells.length;t++)for(var i=this._dataCells[t],n=0;n<i.length;n++)if(i[n]instanceof Sv&&i[n]._columnObj===e)return{row:t,col:n}},t.prototype.getDataColumns=function(e){void 0===e&&(e=!0);var t=[];return Nv(this._root,t,e),t},t.prototype.collectColumns=function(e,t,i){var n=[];return Av(this._root,n,t),n},t.prototype.collectLayouts=function(e){var t=[];return Fv(this._root,t),t},t.prototype.collectColumnNames=function(e,t,i,n){var r=[],o=this._root;return n?"string"==typeof n?o=function e(t,i){for(var r=0,o=t.count;r<o;r++){var s=t.getItem(r);if(s instanceof Dv)return s.name===n?s:e(s)}}(o):n instanceof Dv&&(o=n):o=this._root,o?($v(o,r,e,t,i),r):null},t.prototype.collectDataColumns=function(e,t){e=e.source,t=t.source;var i=Math.min(e.col,t.col),n=Math.max(e.col+e._defColSpan,t.col+t._defColSpan)-1,r=[];Nv(this._root,r,!0);for(var o=r.length-1;o>=0;o--){var s=r[o].layout.col;(s<i||s>n)&&r.splice(o,1)}return r},t.prototype.getHorzColumns=function(e,t){void 0===e&&(e=0);var i=null==t?e+this._root.visibleCount-1:e+t-1,n=[];return this._root.$_collectHorzColumns(n,e,i),n},t.prototype.getHomeOf=function(e){return e=Ev.getSource(e),e=this._dataCells[e?e.row:0][0],Ev.getSource(e)},t.prototype.getEndOf=function(e){e=Ev.getSource(e);var t=this._dataCells,i=e?e.row:t.length-1;return e=t[i][t[i].length-1],Ev.getSource(e)},t.prototype.getTopOf=function(e){return e=this._dataCells[0][e.col],Ev.getSource(e)},t.prototype.getBottomOf=function(e,t){var i=this._dataCells;return e=i[i.length-1][e.col],t?e:Ev.getSource(e)},t.prototype.getLowerOf=function(e){e=Ev.getSource(e);var t=this._dataCells,i=e.row,n=e.col,r=0;return i+e.rows<t.length?e=t[i+e.rows][n]:(r=1,e=t[0][n]),{dy:r,layout:Ev.getSource(e)}},t.prototype.getUpperOf=function(e){e=Ev.getSource(e);var t=this._dataCells,i=e.row,n=e.col,r=0;return i>0?e=t[i-1][n]:(r=-1,e=t[t.length-1][n]),{dy:r,layout:Ev.getSource(e)}},t.prototype.getRightOf=function(e){var t=this._dataCells[e.row],i=e.col;return i+e.cols<t.length?(e=t[i+e.cspan],Ev.getSource(e)):null},t.prototype.getLeftOf=function(e){e=Ev.getSource(e);var t=this._dataCells[e.row],i=e.col;return i>0?(e=t[i-1],Ev.getSource(e)):null},t.prototype.getHeaderLeftOf=function(e){e=Ev.getSource(e);var t=this._headerCells[e.hrow],i=e.hcol;return i>0?(e=t[i-1],Ev.getSource(e)):null},t.prototype.getCellWidths=function(e,t){for(var i=0,n=0;n<t;n++)i+=this._cellWidths[n+e];return i},t.prototype.getLayout=function(e,t,i,n,r,o){function s(a){var l,u;if(a instanceof Sv){var c=a.firstColumn;if(c)return h=(h=c.visible&&a.visible||i)&&r.indexOf(c.name)<0||n.indexOf(c.name)>=0,(d=a.toProxy(!1)).visible=e?h:a.visible,d.width=(e&&t?a._fitWidth:a._cellWidth)||a.width,d.column=c.name,d}else{if(a.isProxy)return(e&&t?a._fitWidth:a._cellWidth)||a.width;if(a instanceof Dv){var h,d;u=a._items,l=[],h=(h=a.visible||i)&&r.indexOf(a.name)<0||n.indexOf(a.name)>=0;for(var p=0,f=u.length;p<f;p++)l.push(s.call(this,u[p]));if((d=a.toProxy(!1)).name=a.name,d.items=l,d.visible=e?h:a.visible,d.header=a.header&&a.header.toProxy(!1),a.tiedColumn&&(d.tiedColumn=a.tiedColumn.name),e&&d.expandable)switch(o){case"current":break;case"expand":d.expanded=!0;break;case"collapse":d.expanded=!1;break;default:d.expandable=!1}return delete d.width,d}}}void 0===n&&(n=[]),void 0===r&&(r=[]),t=t&&!!this.grid.layoutManager.isColumnFitted;for(var a=this._root._items,l=[],u=0,c=a.length;u<c;u++)l.push(s.call(this,a[u]));return l},t.prototype.expandAll=function(e,t){this._root.expandAll(e,t)},t.prototype.isShowing=function(e){for(var t=e;t&&t.parent;){if(t.parent.visibles.indexOf(t)<0)return!1;t=t.parent}return!0},t.prototype.isDefault=function(){return!1},t.prototype.setMoveColumn=function(e){this._moveColumn=e},t.prototype.contains=function(e){return this._root.containLayout(e)},t.prototype._changed=function(){if(!this._dirty){this._dirty=!0;var e=this.grid;e&&e.invalidateCellLayouts()}},t.prototype.$_clear=function(){this._headerCells=[],this._dataCells=[]},t.prototype.$_refresh=function(e,t){this._dirty?(this._root.$_bindColumns({},e),this._root.$_parseExpandLayouts(),this._root.$_resetVisibles(),this.$_parseCells(this._root,e),this.$_calculateCellWidths(this._root,t),this._dirty=!1):this._resized&&this.$_calculateCellWidths(this._root,t),this._resized=!1,this._moveColumn=null},t.prototype.$_refresh2=function(e,t){this._root.$_bindColumns({},e,!0),this._root.$_parseExpandLayouts(),this._root.$_resetVisibles(!0),this.$_parseCells(this._root,e),this.$_calculateCellWidths(this._root,t)},t.prototype.$_prepareMerges=function(e){for(var t=this.collectColumns(!0,!0,!1),i=0,n=t.length;i<n;i++){var r=t[i],o=this.layoutByColumn(r);if(o&&o.canMerge()){var s=o.merges;s||(s=new av(o)),s.clear(),s.initialize(10);var a=e.layoutManager.fixedItemCount;s.refreshRooms(a,e.itemCount-1,!0)}}},t.prototype.$_prepareLayout=function(e,t,i){for(var n=0,r=this._root.visibleCount;n<r;n++)this._root.getVisible(n)._prepareLayout(e,n<t,n>=r-i)},t.prototype.$_parseCells=function(e,t){var i=e._visibles;this.$_parseHeaderCells(i),this.$_parseDataCells(i)},t.prototype.$_parseHeaderCells=function(e){for(var t=this._headerCells=[],i=0,n=0,r=e;n<r.length;n++){var o=r[n];i=Math.max(i,o.headerRows)}for(var s=0;s<i;s++)t.push([]);this._root.$_parseHeaderCells(t,0,0),this._root.$_adjustHeaderCells(t)},t.prototype.$_parseDataCells=function(e){for(var t=this._dataCells=[],i=0,n=0,r=e;n<r.length;n++){var o=r[n];i=Math.max(i,o.rows)}for(var s=0;s<i;s++)t.push([]);this._root.$_parseDataCells(t,0,0),this._root.$_adjustDataCells(t);for(var a=0,l=t;a<l.length;a++)for(var u=l[a],c=0;c<u.length;){var h=u[c];if(h._defColSpan=1,h.isNull)c++;else for(;++c<u.length;){var d=u[c];if(!(!d||d.isProxy&&d.source===h||d.isNull&&d.group===h.group))break;h._defColSpan++}}},t.prototype.$_calculateCellWidths=function(e,t){if(this._dirty){(!this._cellWidths||this._cellWidths.length<=0||!this._moveColumn)&&e.$_collectCellWidths(t);for(var i=this._cellWidths=[],n=0,r=e.cols;n<r;n++)i.push(0);e.$_calcCellWidths(this._dataCells,i,!1)}else this._resized&&e.$_calcCellWidths(this._dataCells,this._cellWidths,!0)},t.prototype.$_clearFitWidths=function(){this._root._clearFitWidth()},t.prototype._columnsChanged=function(e){},t.prototype._columnChanged=function(e){},t.prototype._itemIndexChanged=function(e){this.invalidateIndices(e)},t.prototype._itemWidthChanged=function(e){this.invalidateSize()},t.prototype._itemFillWidthChanged=function(e){this.grid.layoutManager.isColumnFitted&&this.invalidateSize()},t.prototype._clearMergeGrouped=function(){this._root.clearMergeGrouped()},t.prototype.$_changeCellWidths=function(e,t,i,n){for(var r=this._cellWidths,o=[],s=0,a=0;a<t;a++)s+=r[e+a],o.push(s);var l=i/s;for(a=0;a<t-1;a++)o[a]=Math.round(o[a]*l);for(o[t-1]=i,a=t-1;a>0;a--)r[e+a]=Math.max(r[e+a]+o[a]-o[a-1],n);r[e]=Math.max(r[e]+o[0],n),this.invalidateSize()},t.prototype.$_calcGroupWidths=function(){var e=this._cellWidths;!function t(i){for(var n=0,r=0;r<i._clen;r++)n+=e[i.col+r];i._width=i._cellWidth=n;for(var o=0,s=i.visibles;o<s.length;o++){var a=s[o];a instanceof Dv&&t(a)}}(this._root)},t.prototype.fireExpanding=function(e,i){return this.fireConfirmEvent(i?t.LAYOUT_EXPANDING:t.LAYOUT_COLLAPSING,e)},t.prototype.fireExpanded=function(e,i){this.fireEvent(i?t.LAYOUT_EXPANDED:t.LAYOUT_COLLAPSED,e)},t.LAYOUT_EXPANDING="onLayoutExpanding",t.LAYOUT_COLLAPSING="onLayoutCollapsing",t.LAYOUT_EXPANDED="onLayoutExpanded",t.LAYOUT_COLLAPSED="onLayoutCollapsed",t}(Vf),Vv=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype._columnsChanged=function(t){this.setColumns(t),e.prototype._columnsChanged.call(this,t)},t.prototype.addLayout=function(e){return null},t.prototype.removeLayout=function(e){},t.prototype.isDefault=function(){return!0},t}(Bv);!function(e){e.ROW="row",e.CELL="cell"}(kv||(kv={})),function(e){e.GROUP="group",e.CELL="cell"}(Pv||(Pv={}));var Hv,Uv,Wv=function(e){function t(t,i,n){void 0===i&&(i=-1);var r=e.call(this,!0)||this;return r._itemIndex=-1,r._grid=t,r._itemIndex=i,r._layout=n instanceof yv?n.layout:n,r}return gd(t,e),t.temp=function(e,i,n,r){void 0===i&&(i=0);var o=r?new t:t.$_temp||(t.$_temp=new t);return o._grid=e,o._itemIndex=i,o._layout=n instanceof Ev?n:n&&n.layout,o},t.areEquals=function(e,t,i){return e==t||e&&t&&e._grid===t._grid&&e._itemIndex===t._itemIndex&&(e._layout===t._layout||i&&e.layout.areEqualColumn(t.layout))},t.equalsTo=function(e,t,i){return e&&e._itemIndex===t&&e.layout===i},t.clearTemp=function(){t.$_temp&&(t.$_temp=t.$_temp.dispose())},t.compareHorz=function(e,t){if(e&&t)return e.layout.distance-t.layout.distance},t.prototype._doDispose=function(){this._grid=null,this._layout=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemIndex",{get:function(){return this._itemIndex},set:function(e){this._itemIndex=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(e){this._layout=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._layout&&this._layout.firstColumn},set:function(e){"string"==typeof e&&(e=this.grid&&this.grid.columnByName(e)),this._layout=e&&e.layout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumn",{get:function(){var e=this.column;return e instanceof bv?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueColumn",{get:function(){var e=this.column;return e instanceof vv?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"literalColumn",{get:function(){var e=this.column;return e instanceof Cv?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seriesColumn",{get:function(){var e=this.column;return e instanceof wv?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataField",{get:function(){var e=this.dataColumn;return e instanceof bv?e.dataIndex:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._grid&&this._grid.getItem(this._itemIndex)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRow",{get:function(){var e=this.item;return e?e.dataRow:-1},set:function(e){if(this._grid){var t=this._grid.getItemOfRow(e,!1);t&&(this.itemIndex=t.index)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldName",{get:function(){return this.dataColumn&&this.dataColumn.fieldName},set:function(e){if(this._grid){var t=this._grid.columnByField(e);t&&(this.column=t)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldIndex",{get:function(){return this.dataColumn&&this.dataColumn.fieldIndex},set:function(e){if(this._grid){var t=this._grid.columnByField(e);t&&(this.column=t)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataId",{get:function(){var e=this.item;return e?e.dataId:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var e=this.column;if(e instanceof bv){var t=e.dataIndex;if(t<0)throw new Error("Not exists data field: "+e.fieldName);var i=this.item;if(!i)throw new Error("Invalid item index: "+this._itemIndex);return i.getData(t)}return e instanceof wv?Lm._getDisplayText(this):e instanceof Cv?e.value:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixed",{get:function(){var e=this._layout;if(this._grid&&e&&e.visible){var t=this._grid.layoutManager,i=e.root.vindex;return i<t.fixedLayoutCount||i>=t.rightFirstLayout||this._itemIndex>=0&&this._itemIndex<t.fixedItemCount}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowFixed",{get:function(){if(this._grid){var e=this._grid.layoutManager;return this._itemIndex>=0&&this._itemIndex<e.fixedItemCount}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colFixed",{get:function(){if(this._grid&&this._layout&&this._layout.visible){var e=this._grid.layoutManager;return this._layout.root.vindex<e.fixedLayoutCount}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightFixed",{get:function(){if(this._grid&&this._layout&&this._layout.visible){var e=this._grid.layoutManager;return this._layout.root.vindex>=e.rightFirstLayout}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTop",{get:function(){return!this._layout||!this._layout.group||(this.$_isSpanned()?this.grid.$_isTopCell(this):Dv.isTop(this._layout))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBottom",{get:function(){return!this._layout||!this._layout.group||(this.$_isSpanned()?this.grid.$_isBottomCell(this):Dv.isBottom(this._layout))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLeft",{get:function(){if(this._layout){var e=this._layout.group;return e?0==e.vindex&&Dv.isLeft(this._layout):0==this._layout.vindex}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRight",{get:function(){if(this._layout){var e=this._layout.group;return e?0==e.vindex&&Dv.isRight(this._layout):this._layout.vindex==this._grid.visibleLayoutCount-1}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirst",{get:function(){return!!(this._layout&&this._grid&&this._grid.visibleLayoutCount>0)&&Ev.getSource(this._grid.activeCellLayout.first)===this._layout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEditableFirst",{get:function(){var e=this._grid;if(e&&this._layout){var i=e.collectColumns(!0,!0,!0),n=i.indexOf(this._layout.firstColumn);if(n>=0){for(var r=n;r--;){var o=i[r];if(o instanceof wv)return!1;var s=t.temp(e,this.itemIndex,o);if(e.getWritableAt(s,!0))return!1}return!0}}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEditableLast",{get:function(){var e=this._grid;if(e&&this._layout)for(var i=e.collectColumns(!0,!0,!0),n=i.indexOf(this._layout.firstColumn)+1,r=i.length;n<r;n++){var o=i[n];if(o instanceof wv)return!1;var s=t.temp(e,this.itemIndex,o);if(e.getWritableAt(s,!0))return!1}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLast",{get:function(){return!!(this._layout&&this._grid&&this._grid.visibleLayoutCount>0)&&Ev.getSource(this._grid.activeCellLayout.last)===this._layout},enumerable:!1,configurable:!0}),t.prototype.set=function(e,t,i){return void 0!==i&&(this._grid=i),this._itemIndex=e,this._layout=t instanceof yv?t.layout:t,this},t.prototype.assign=function(e){return e?(e.grid&&(this._grid=e._grid),this._itemIndex=e._itemIndex,this._layout=e._layout):(this._itemIndex=-1,this._layout=null),this},t.prototype.reset=function(){return this._itemIndex=-1,this._layout=null,this},t.prototype.clone=function(){return new t(this._grid,this._itemIndex,this._layout)},t.prototype.proxy=function(){return{itemIndex:isNaN(this._itemIndex)?-1:this._itemIndex,column:this.column?this.column.name:null,dataRow:this.dataRow,fieldIndex:this.dataColumn?this.column.dataIndex:-1,fieldName:this.dataColumn?this.column.fieldName:null}},t.prototype.normalize=function(e){if(e){this._grid=e;var t=this._layout;if(!t||!e.activeCellLayout.contains(t)){var i=void 0;t&&(i=e.activeCellLayout.layoutByColumn(t.firstColumn)),this._layout=i||e.getFirstLayout()}this._itemIndex=Math.max(0,Math.min(this._itemIndex,e.itemCount-1))}return this},t.prototype.incRow=function(e){this._grid&&(this._itemIndex=Math.max(0,Math.min(this._grid.itemCount-1,this._itemIndex+e)))},t.prototype.first=function(){this._grid&&(this._itemIndex=0)},t.prototype.last=function(){this._grid&&(this._itemIndex=this._grid.itemCount-1)},t.prototype.right=function(){if(this.grid.editOptions.focusMoveStep!==Pv.GROUP){var e=this._grid&&this.$_gridLayout().getRightOf(this._layout);e&&(this._layout=e)}else this.next()},t.prototype.left=function(){if(this.grid.editOptions.focusMoveStep!==Pv.GROUP){var e=this._grid&&this.$_gridLayout().getLeftOf(this._layout);e&&(this._layout=e)}else this.prev()},t.prototype.next=function(){if(this.grid.editOptions.focusMoveStep===Pv.GROUP){var e=this.layout.getAncestor(this.grid.displayOptions.groupFocusLevel),t=e.isRoot?this.grid.activeCellLayout:e.parent,i=e.vindex;if(i<t.visibleCount-1)return void(this._layout=t.getVisible(i+1).first)}var n=zv(this._grid,this._layout);if(n)return this._layout=n,!0},t.prototype.prev=function(){if(this.grid.editOptions.focusMoveStep===Pv.GROUP){var e=this.layout.getAncestor(this.grid.displayOptions.groupFocusLevel),t=e.isRoot?this.grid.activeCellLayout:e.parent,i=e.vindex;if(i>0)return void(this._layout=t.getVisible(i-1).first)}var n=Yv(this._grid,this._layout);if(n)return this._layout=n,!0},t.prototype.home=function(){this._layout=this._grid&&this.$_gridLayout().getHomeOf(this._layout)},t.prototype.end=function(){this._layout=this._grid&&this.$_gridLayout().getEndOf(this._layout)},t.prototype.firstCell=function(){this._layout=this._grid&&Ev.getSource(this.grid.activeCellLayout.first)},t.prototype.lastCell=function(){this._layout=this.grid&&Ev.getSource(this.grid.activeCellLayout.last)},t.prototype.down=function(e,t,i){void 0===e&&(e=kv.ROW),this._grid&&(this.itemIndex<this._grid.itemCount-1&&this.grid.editOptions.focusMoveStep===Pv.GROUP?this.incRow(1):e==kv.ROW&&!t||this.isBottom||i?this._itemIndex<this._grid.itemCount-1&&(e==kv.CELL&&(this._layout=this.$_gridLayout().getTopOf(this._layout)),this.incRow(1)):this._grid.spanned?this._layout=this._grid.$_getLowerOfCell(this):this._layout=this.$_gridLayout().getLowerOf(this._layout).layout)},t.prototype.up=function(e,t,i){if(void 0===e&&(e=kv.ROW),this._grid)if(this.itemIndex>0&&this.grid.editOptions.focusMoveStep===Pv.GROUP)this.incRow(-1);else if(e==kv.ROW&&!t||this.isTop||i){if(this._itemIndex>0){if(e==kv.CELL)if(this._grid.spanned){var n=this._grid.$_getUpperOfCell(this);this._layout=n||this.$_gridLayout().getBottomOf(this._layout)}else this._layout=this.$_gridLayout().getBottomOf(this._layout);this.incRow(-1)}}else this._grid.spanned?this._layout=this._grid.$_getUpperOfCell(this):this._layout=this.$_gridLayout().getUpperOf(this._layout).layout},t.prototype.getValue=function(){if(this._grid){var e=this.dataColumn,t=this._grid.getItem(this._itemIndex);return e&&t&&t.getData(e.dataIndex)}},t.prototype.assignFrom=function(i){i instanceof t?(this._grid=i._grid,this._layout=i._layout,this._itemIndex=i._itemIndex):e.prototype.assignFrom.call(this,i)},t.prototype.toString=function(){return"("+this._itemIndex+", "+this.column+")"},t.prototype.$_gridLayout=function(){return this._grid._activeCellLayout},t.prototype.$_isSpanned=function(){return this._grid&&this._grid.spanned},t}(Yp),Gv=function(e){function t(t,i,n){var r=e.call(this,t,i&&i.index,n)||this;return r._item=i,r}return gd(t,e),t.tempItem=function(e,i,n){return t.$_itemTemp||(t.$_itemTemp=new t),t.$_itemTemp._grid=e,t.$_itemTemp._item=i,t.$_itemTemp._itemIndex=i.index,t.$_itemTemp._layout=n instanceof Ev?n:n&&n.layout,t.$_itemTemp},Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!1,configurable:!0}),t}(Wv),zv=function(e,t){if(!e||!t)return null;var i=e.layoutManager,n=Dv.getNext(t);if(n)return n;for(var r=(t.group?t.root.vindex:t.vindex)+1,o=i.layoutCount;r<o;r++){if((n=i.getLayout(r))instanceof Sv)return n;if(n instanceof Dv&&(n=Ev.getSource(n.first)))return n}},Yv=function(e,t){if(!e||!t)return null;var i=e.layoutManager,n=Dv.getPrev(t);if(n)return n;for(var r=(t.group?t.root.vindex:t.vindex)-1;r>=0;r--){if((n=i.getLayout(r))instanceof Sv)return n;if(n instanceof Dv&&(n=Ev.getSource(n.last)))return n}},qv=function(e){function t(){var t=e.call(this)||this;return t._row1=0,t._row2=0,t}return gd(t,e),t.$_setRange=function(e,t,i,n,r){return e._row1=t<=n?t:n,e._row2=t<=n?n:t,e._col1=i.col<=r.col?i:r,e._col2=i.col<=r.col?r:i,e},t.create=function(e,i){if(i&&e!==i)return t.$_setRange(new t,e.itemIndex,e.layout,i.itemIndex,i.layout);var n=new t;return n._row1=n._row2=e.itemIndex,n._col1=n._col2=e.layout,n},t.temp=function(e,i){var n=t.$_TEMP;return i&&e!==i?t.$_setRange(n,e.itemIndex,e.layout,i.itemIndex,i.layout):(n._row1=n._row2=e.itemIndex,n._col1=n._col2=e.layout,n)},t.createRange=function(e,i,n,r){return t.$_setRange(new t,e,i,n,r)},Object.defineProperty(t.prototype,"empty",{get:function(){return this._row2<this._row1||!this._col2&&!this._col2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"r1",{get:function(){return this._row1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"c1",{get:function(){return this._col1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"r2",{get:function(){return this._row2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"c2",{get:function(){return this._col2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this._row1<=this._row2?this._row1:this._row2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this._row1<=this._row2?this._row2:this._row1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstCell",{get:function(){var e=new Wv;return e.itemIndex=this._row1<=this._row2?this._row1:this._row2,this._col1.col===this._col2.col?e.layout=this._col1.row<=this._col2.row?this._col1:this._col2:e.layout=this._col1.col<=this._col2.col?this._col1:this._col2,e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastCell",{get:function(){var e=new Wv;return e.itemIndex=this._row1>=this._row2?this._row1:this._row2,this._col1.col===this._col2.col?e.layout=this._col1.row>=this._col2.row?this._col1:this._col2:e.layout=this._col1.col>=this._col2.col?this._col1:this._col2,e},enumerable:!1,configurable:!0}),t.prototype.contains=function(e,t){if(t){var i=t.col;return e>=this._row1&&e<=this._row2&&i>=this._col1.col&&i<=this._col2.col}return!1},t.prototype.normalize=function(){if(this._row1>this._row2){var e=this._row1;this._row1=this._row2,this._row2=e}if(this._col1.col<=this._col2.col){if(this._col1.row>this._col2.row){var t=this._col1;this._col1=this._col2,this._col2=t}}else t=this._col1,this._col1=this._col2,this._col2=t;return this},t.prototype.normalizeData=function(){return this.normalize(),this},t.prototype.intersectsWith=function(e){return!1},t.NULL=new t,t.$_TEMP=new t,t}(Yp),Kv=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){switch(e){case t.ID_COUNT:return this._getCount();case t.ID_SUM:return this._getSum();case t.ID_MAX:return this._getMax();case t.ID_MIN:return this._getMin();case t.ID_AVG:return this._getAvg();case t.ID_VAR:return this._getVar();case t.ID_VARP:return this._getVarp();case t.ID_STDEV:return this._getStdev();case t.ID_STDEVP:return this._getStdevp();case t.ID_DATA_COUNT:return this._getDataCount();case t.ID_DATA_AVG:return this._getDataAvg();case t.ID_GROUP_VALUE:return this._getGroupValue()}throw new Kp("Invalid identifier key: "+e)},t.prototype.evaluateIndexerI=function(e,t){throw new Kp("Invalid identifier indexer: "+e)},t.prototype.evaluateIndexerS=function(e,t,i){throw new Kp("Invalid identifier indexer: "+e)},t.ID_COUNT=0,t.ID_SUM=1,t.ID_MAX=2,t.ID_MIN=3,t.ID_AVG=4,t.ID_VAR=5,t.ID_VARP=6,t.ID_STDEV=7,t.ID_STDEVP=8,t.ID_DATA_COUNT=9,t.ID_DATA_AVG=10,t.ID_GROUP_VALUE=11,t.IDENTS={count:t.ID_COUNT,sum:t.ID_SUM,max:t.ID_MAX,min:t.ID_MIN,avg:t.ID_AVG,var:t.ID_VAR,varp:t.ID_VARP,stdev:t.ID_STDEV,stdevp:t.ID_STDEVP,datacount:t.ID_DATA_COUNT,dataavg:t.ID_DATA_AVG,groupvalue:t.ID_GROUP_VALUE},t}(nf),Xv=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._doDispose=function(){this._grid=null,this._ds=null,this._column=null,this._summarizer=null,e.prototype._doDispose.call(this)},t.prototype.setColumn=function(e,t){this._column=e,this._grid=e.grid,this._ds=this._grid.dataSource,this._fieldCount=this._ds.fieldCount,this._summarizer=t},t.prototype.isIdentifier=function(t){return t=t.toLowerCase(),Kv.IDENTS.hasOwnProperty(t)?Kv.IDENTS[t]:e.prototype.isIdentifier.call(this,t)},t.prototype.evaluateIndexerI=function(e,t){if(this._summarizer){if(t<0||t>=this._fieldCount)throw new Kp("Data field index out of bounds: "+t);switch(e){case Kv.ID_SUM:return this._summarizer.getSum(t);case Kv.ID_COUNT:return this._summarizer.getCount(t);case Kv.ID_MAX:return this._summarizer.getMax(t);case Kv.ID_MIN:return this._summarizer.getMin(t);case Kv.ID_AVG:return this._summarizer.getAvg(t);case Kv.ID_VAR:return this._summarizer.getVar(t);case Kv.ID_VARP:return this._summarizer.getVarp(t);case Kv.ID_STDEV:return this._summarizer.getStdev(t);case Kv.ID_STDEVP:return this._summarizer.getStdevp(t);case Kv.ID_DATA_COUNT:return this._summarizer.getDataCount(t);case Kv.ID_DATA_AVG:return this._summarizer.getDataAvg(t)}throw new Kp("Invalid identifier indexer: "+e)}switch(e){case Kv.ID_SUM:case Kv.ID_COUNT:return 0;case Kv.ID_MAX:case Kv.ID_MIN:case Kv.ID_AVG:case Kv.ID_VAR:case Kv.ID_VARP:case Kv.ID_STDEV:case Kv.ID_STDEVP:return NaN}},t.prototype.evaluateIndexerS=function(e,t,i){if(this._summarizer&&this._ds){var n=i?this._ds.getFieldIndexC(t):this._ds.getFieldIndex(t);if(n<0||n>=this._fieldCount)throw new Kp("Data field index out of bounds: "+n);switch(e){case Kv.ID_SUM:return this._summarizer.getSum(n);case Kv.ID_COUNT:return this._summarizer.getCount(n);case Kv.ID_MAX:return this._summarizer.getMax(n);case Kv.ID_MIN:return this._summarizer.getMin(n);case Kv.ID_AVG:return this._summarizer.getAvg(n);case Kv.ID_VAR:return this._summarizer.getVar(n);case Kv.ID_VARP:return this._summarizer.getVarp(n);case Kv.ID_STDEV:return this._summarizer.getStdev(n);case Kv.ID_STDEVP:return this._summarizer.getStdevp(n)}throw new Kp("Invalid identifier indexer: "+e)}switch(e){case Kv.ID_SUM:case Kv.ID_COUNT:return 0;case Kv.ID_MAX:case Kv.ID_MIN:case Kv.ID_AVG:case Kv.ID_VAR:case Kv.ID_VARP:case Kv.ID_STDEV:case Kv.ID_STDEVP:return NaN}},t.prototype._getCount=function(){return this._summarizer?this._summarizer.getCount(this._column.dataIndex):0},t.prototype._getSum=function(){return this._summarizer?this._summarizer.getSum(this._column.dataIndex):0},t.prototype._getMax=function(){return this._summarizer?this._summarizer.getMax(this._column.dataIndex):NaN},t.prototype._getMin=function(){return this._summarizer?this._summarizer.getMin(this._column.dataIndex):NaN},t.prototype._getAvg=function(){return this._summarizer?this._summarizer.getAvg(this._column.dataIndex):NaN},t.prototype._getVar=function(){return this._summarizer?this._summarizer.getVar(this._column.dataIndex):NaN},t.prototype._getVarp=function(){return this._summarizer?this._summarizer.getVarp(this._column.dataIndex):NaN},t.prototype._getStdev=function(){return this._summarizer?this._summarizer.getStdev(this._column.dataIndex):NaN},t.prototype._getStdevp=function(){return this._summarizer?this._summarizer.getStdevp(this._column.dataIndex):NaN},t.prototype._getDataCount=function(){return this._summarizer?this._summarizer.getDataCount(this._column.dataIndex):NaN},t.prototype._getDataAvg=function(){return this._summarizer?this._summarizer.getDataAvg(this._column.dataIndex):NaN},t.prototype._getGroupValue=function(){return""},t}(Kv),Zv=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!1,configurable:!0}),t.prototype.setItem=function(e){this._item=e},t.prototype._getCount=function(){return this._item.getNumber(this._column.dataIndex)},t.prototype._getSum=function(){return this._item.getSum(this._column.dataIndex)},t.prototype._getMax=function(){return this._item.getMax(this._column.dataIndex)},t.prototype._getMin=function(){return this._item.getMin(this._column.dataIndex)},t.prototype._getAvg=function(){return this._item.getAvg(this._column.dataIndex)},t.prototype._getVar=function(){return this._item.getVar(this._column.dataIndex,1)},t.prototype._getVarp=function(){return this._item.getVar(this._column.dataIndex,0)},t.prototype._getStdev=function(){return this._item.getStdev(this._column.dataIndex,1)},t.prototype._getStdevp=function(){return this._item.getStdev(this._column.dataIndex,0)},t.prototype._getDataCount=function(){return this._item.getDataCount(this._column.dataIndex)},t.prototype._getDataAvg=function(){return this._item.getDataAvg(this._column.dataIndex)},t.prototype._getGroupValue=function(){return this._column.groupLevel&&this._item.level>=this._column.groupLevel?this._item.firstDataItem.getData(this._column.dataIndex):""},t}(Xv),Jv=function(e){function t(t){var i=e.call(this)||this;return i._columns=[],i._orgColumns=[],i._nameMap={},i._owner=t,i}return gd(t,e),t.prototype._doDispose=function(){this._clearColumn(),this._columns=null,this._owner=null,this._nameMap=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._columns.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns.slice()},enumerable:!1,configurable:!0}),t.prototype.getColumn=function(e){return this._columns[e]},t.prototype.setColumns=function(e){if(this._columns.length=0,this._nameMap={},e)for(var t=0,i=e;t<i.length;t++){var n=i[t],r=this._addColumn(n);if(!r)throw new Error("column is undefined");r.$_owner=this,null==r.header.useCheckImage&&(r.header.useCheckImage=this._owner.accessibility)}this._orgColumns=this._columns.slice()},t.prototype.add=function(e,t){var i=this._addColumn(e,void 0===t?-1:t);return null!=i&&(i.$_owner=this),i},t.prototype.remove=function(e){return!!this._removeColumn(e)},t.prototype.exchangeNameMap=function(e,t,i){this._columns.indexOf(e)>0&&(this._nameMap[t].$_hash===e.$_hash&&delete this._nameMap[t],this._nameMap[i]=e)},t.prototype.resetIndices=function(){if(this._owner)for(var e=0,t=this._columns.length;e<t;e++){var i=this._columns[e];i.$_setIndex(e),i._resetIndices(this._owner)}},t.prototype.resetSortStates=function(){if(this._owner)for(var e=this._owner.getSortDirections(),t=this._owner.getSortFields(),i=0,n=this._columns.length;i<n;i++){var r=this._columns[i];r instanceof bv&&(r.sortOrder=t.indexOf(r.dataIndex),r.sortDirection=e[r.sortOrder])}},t.prototype.columnByName=function(e){return this._nameMap[e]},t.prototype.columnByField=function(e){if(e>=0)for(var t=0,i=this.count;t<i;t++){var n=this.getColumn(t);if(n instanceof bv&&n.dataIndex==e)return n}return null},t.prototype.columnsByField=function(e){var t=[];if(e>=0)for(var i=0,n=this.count;i<n;i++){var r=this.getColumn(i);r instanceof bv&&r.dataIndex==e&&t.push(r)}return t},t.prototype.columnByTag=function(e){if(e)for(var t=0,i=this.count;t<i;t++){var n=this.getColumn(t),r=n.tag;if(Bp.isArray(e)&&Bp.equalArrays(e,r)||e instanceof Date&&r instanceof Date&&e.getTime()===r.getTime()||"object"==typeof e&&"object"==typeof r&&Bp.equalObjects(e,r)||r===e)return n}return null},t.prototype.columnsByTag=function(e){if(e){for(var t=[],i=0,n=this.count;i<n;i++){var r=this.getColumn(i),o=r.tag;(Bp.isArray(e)&&Bp.equalArrays(e,o)||e instanceof Date&&o instanceof Date&&e.getTime()===o.getTime()||"object"==typeof e&&"object"==typeof o&&Bp.equalObjects(e,o)||o===e)&&t.push(r)}return t.length?t:null}return null},t.prototype.restoreColumns=function(){this._restoreColumn()},t.prototype._addColumn=function(e,t){void 0===t&&(t=-1);var i=this._columns;if(!e||e instanceof yv||("string"==typeof e&&(e={fieldName:e}),e=oE.createColumn(e)),e instanceof yv){if(i.indexOf(e)>=0)throw new Error("column is already contained");t<0?i.push(e):i.splice(t,0,e);var n=e.name;if(!n||this._nameMap[n])if(n=e instanceof bv?e.fieldName:e instanceof wv?"series":"column",this._nameMap[n]){for(var r=0;r<1e3;r++)if(!this._nameMap[n+r]){e.name=n+=r;break}}else e.name=n;return n&&(this._nameMap[n]=e),e}return null},t.prototype._removeColumn=function(e){var t=this._columns.indexOf(e);return t>=0&&(this._columns.splice(t,1),e.$_owner=void 0,delete this._nameMap[e.name],!0)},t.prototype._restoreColumn=function(){this._columns=this._orgColumns.slice()},t.prototype._clearColumn=function(){for(var e=0,t=this._columns;e<t.length;e++)t[e].dispose()},t}(Yp),Qv=function(e){function t(){var t=e.call(this,"headerCell")||this;return t._itemOffset=2,t._itemGap=2,t._checkLocation=$d.NONE,t._useCheckImage=!1,t._checked=!1,t._indeterminate=!1,t._tooltipEllipsisOnly=!1,t}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemOffset",{get:function(){return this._itemOffset},set:function(e){this._itemOffset=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemGap",{get:function(){return this._itemGap},set:function(e){this._itemGap=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkLocation",{get:function(){return this._checkLocation},set:function(e){this._checkLocation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useCheckImage",{get:function(){return this._useCheckImage},set:function(e){this._useCheckImage=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indeterminate",{get:function(){return this._indeterminate},set:function(e){this._indeterminate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTooltip",{get:function(){return this._showTooltip},set:function(e){this._showTooltip=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipEllipsisOnly",{get:function(){return this._tooltipEllipsisOnly},set:function(e){this._tooltipEllipsisOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){this._tooltip=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"edgeMark",{get:function(){return this._edgeMark},set:function(e){this._edgeMark=e},enumerable:!1,configurable:!0}),t}(km),eb=function(e){function t(t){var i=e.call(this,t)||this;return i._minRowHeight=21,i._minHeight=23,i._height=0,i._resizable=!1,i._itemOffset=2,i._itemGap=2,i._showSelection=!1,i._showTooltip=!1,i._tooltipEllipsisOnly=!1,i._sortWidth=16,i._sortHeight=16,i._filterWidth=16,i._filterHeight=16,i._popupWidth=16,i._popupHeight=16,i._expanderWidth=16,i._expanderHeight=16,i._checkWidth=16,i._checkHeight=16,i._showPopupMenu=zd.VISIBLE,i._cell=new Qv,i.visible=!0,i.assignFrom(u_.header),i}return gd(t,e),t.prototype._doDispose=function(){this._cell=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"minRowHeight",{get:function(){return this._minRowHeight},set:function(e){e!=this._minRowHeight&&(this._minRowHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this._minHeight},set:function(e){e!=this._minHeight&&(this._minHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){e!=this._height&&(this._height=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayHeight",{get:function(){return this._grid.headerView.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"heights",{get:function(){return this._heights&&this._heights.slice()},set:function(e){if(e!=this._heights){e=Bp.makeArray(e,!0),this._heights=e&&e.slice();for(var t=0;t<this._heights.length;t++)this._heights[t]=Math.max(this._minRowHeight,isNaN(this._heights[t])?this._minRowHeight:this._heights[t]);this._changed()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this._resizable},set:function(e){e!=this._resizable&&(this._resizable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemOffset",{get:function(){return this._itemOffset},set:function(e){e!=this._itemOffset&&(this._itemOffset=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemGap",{get:function(){return this._itemGap},set:function(e){e!=this._itemGap&&(this._itemGap=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTooltip",{get:function(){return this._showTooltip},set:function(e){e!=this._showTooltip&&(this._showTooltip=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipEllipsisOnly",{get:function(){return this._tooltipEllipsisOnly},set:function(e){this._tooltipEllipsisOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSelection",{get:function(){return this._showSelection},set:function(e){e!=this._showSelection&&(this._showSelection=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortWidth",{get:function(){return this._sortWidth},set:function(e){e!=this._sortWidth&&(this._sortWidth=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortHeight",{get:function(){return this._sortHeight},set:function(e){e!=this._sortHeight&&(this._sortHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterWidth",{get:function(){return this._filterWidth},set:function(e){e!=this._filterWidth&&(this._filterWidth=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterHeight",{get:function(){return this._filterHeight},set:function(e){e!=this._filterHeight&&(this._filterHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupWidth",{get:function(){return this._popupWidth},set:function(e){e!=this._popupWidth&&(this._popupWidth=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupHeight",{get:function(){return this._popupHeight},set:function(e){e!=this._popupHeight&&(this._popupHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expanderWidth",{get:function(){return this._expanderWidth},set:function(e){e!=this._expanderWidth&&(this._popupWidth=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expanderHeight",{get:function(){return this._expanderHeight},set:function(e){e!=this._expanderHeight&&(this._popupHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPopupMenu",{get:function(){return this._showPopupMenu},set:function(e){e!=this._showPopupMenu&&(this._showPopupMenu=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkWidth",{get:function(){return this._checkWidth},set:function(e){e!=this._checkWidth&&(this._checkWidth=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkHeight",{get:function(){return this._checkHeight},set:function(e){e!=this._checkHeight&&(this._checkHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return this._styleName},set:function(e){e!=this._styleName&&(this._styleName=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exportStyleName",{get:function(){return this._exportStyleName},set:function(e){this._exportStyleName=e},enumerable:!1,configurable:!0}),t.prototype.setCalcHeights=function(e){this._calcHeights=e.slice()},t.prototype.getCalcHeights=function(){return this._calcHeights},t.prototype.getCell=function(e){var t=this._cell;t.setLayout(e);var i=e instanceof Dv?e.header:e.firstColumn.header;if(i&&(t.text=i.displayText,t.showTooltip=i.showTooltip,t.tooltipEllipsisOnly=i.tooltipEllipsisOnly,t.tooltip=i.tooltip,t.edgeMark=i.edgeMark,i instanceof fv)){var n=e.firstColumn,r=void 0;t.index.set(-1,e.firstColumn),t.itemOffset=void 0===(r=i.itemOffset)?this._itemOffset:r,t.itemGap=void 0===(r=i.itemGap)?this._itemGap:r,t.checkLocation=i.checkLocation,t.checked=n.checked,t.useCheckImage=i.useCheckImage}return t},t.prototype.getStyleName=function(){return this._styleName},t.prototype._doChanged=function(){e.prototype._doChanged.call(this),this._grid&&this._grid.invalidatePosition()},t}(Im),tb=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._doDispose=function(){this._cell=null,e.prototype._doDispose.call(this)},t.prototype.setCell=function(e){this._cell=e},t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){switch(e){case t.ID_VALUE:return this._cell.value;case t.ID_FIELD:return this._cell.index.dataField;case t.ID_LEVEL:return this._cell.level}throw new Kp("Invalid identifier key: "+e)},t.prototype.evaluateIndexerI=function(e,t){},t.prototype.evaluateIndexerS=function(e,t,i){},t.ID_VALUE=0,t.ID_FIELD=1,t.ID_LEVEL=2,t.IDENTS={value:t.ID_VALUE,field:t.ID_FIELD,level:t.ID_LEVEL},t}(nf),ib=function(e){function t(t){var i=e.call(this,t)||this;return i._childIndex=0,i._error=null,i._errorDetail=null,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"level",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errorDetail",{get:function(){return this._errorDetail},enumerable:!1,configurable:!0}),t.prototype.calculate=function(){var e=this.valueColumn,t=e&&e.grid,i=this._getSummary(e,this._childIndex);if(this._value=NaN,this._error=null,t&&i&&t.itemSource.summaryMode!=Fd.NONE){i._value=void 0;var n=i.expression,r=void 0;try{if(n&&t.dataCount>0&&e instanceof bv&&e.dataIndex>=0){var o=t.columnSummaryRuntime;o.setColumn(e,t.summarizer),r=i.evaluate(o,this._childIndex)}var s=i.valueCallback;s&&(r=s(t.handler,e,this._childIndex,i,r)),i._value=this._value=r}catch(a){this._error=a,this._errorDetail=a,i._value=void 0}}},Object.defineProperty(t.prototype,"text",{get:function(){if(this._error)return km.ERROR},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),t.prototype.getDisplayText=function(e){var t,i=this._value,n=this.valueColumn,r="";if(null!=e.text)r=e.text;else if(void 0!==i&&n){if("string"==typeof i)r=i+"";else if("boolean"==typeof i)r=String(i);else if(i instanceof Date){var o=e.datetimeWriter;r=o?o.getText(this._value):String(i)}else if("number"!=typeof i||isNaN(i))null==i&&(r="");else{var s=e.numberFormatter;r=s?s.getText(i):String(i)}if(r){var a=e.prefix;a&&(r=a+r),(a=e.suffix)&&(r+=a)}}return!r&&n&&(r=null===(t=this._getSummary(n,this._childIndex))||void 0===t?void 0:t.text),r},t.prototype.getSummary=function(){return this._getSummary(this.valueColumn,this._childIndex)},t.prototype.getTemplate=function(e){var t=this._getSummary(this.valueColumn,this._childIndex);return t?t.realizeSummary(this,e):void 0},t}(km),nb=function(e){function t(){return e.call(this,"footerCell")||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"footerIndex",{get:function(){return this._childIndex},set:function(e){e!=this._childIndex&&(this._childIndex=e)},enumerable:!1,configurable:!0}),t.prototype._getSummary=function(e,t){return e&&e.footers.get(t)},t}(ib),rb=function(e){function t(t){var i=e.call(this,t)||this;return i._minHeight=23,i._height=0,i._heights=[],i._formatter={numberFormatter:null,datetimeWriter:null,booleanFormatter:null,textFormatter:null,prefix:"",suffix:"",text:null},i._childIndex=0,i._displayIndex=0,i._runtime=new tb,i._cell=i._createCell(),i.visible=!0,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"styleName",{get:function(){return this._styleName},set:function(e){e!=this._styleName&&(this._styleName=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayIndex",{get:function(){return this._displayIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this._minHeight},set:function(e){(e=Math.max(0,e))!=this._minHeight&&(this._minHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){(e=Math.max(0,e))!=this._height&&(this._height=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"heights",{get:function(){return this._heights},set:function(e){this._heights=e.slice(),this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellStyleCallback",{get:function(){return this._cellStyleCallback},set:function(e){e!==this._cellStyleCallback&&(this._cellStyleCallback=e,this.refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childIndex",{get:function(){return this._childIndex},enumerable:!1,configurable:!0}),t.prototype.getCell=function(e){var t=this._cell,i=e.firstColumn;return t.index.set(-1,i),t._childIndex=this._childIndex,t.calculate(),t},t.prototype.getCellStyle=function(e,t,i){void 0===i&&(i=!0);var n,r=e.getSummary(),o=this._cellStyleCallback;o&&(n=o(this._grid.handler,e),t.assign(n)),r&&(o=r.styleCallback)&&(n=o(this._grid.handler,e),t.assign(n));var s=t.styleName||r&&r.styleName||"";return i&&(t.styleName=this.getCellStyleName()+" "+s),t},t.prototype.getCellFormatters=function(e,t){return t?(t.numberFormatter=t.numberFormatter||e.numberFormatter,t.datetimeWriter=t.datetimeWriter||e.datetimeWriter,t.booleanFormatter=t.booleanFormatter||e.boolFormatter,t.textFormatter=t.textFormatter||e.textFormatter,t.prefix=t.prefix||e.prefix,t.suffix=t.suffix||e.suffix):((t=this._formatter).numberFormatter=e.numberFormatter,t.datetimeWriter=e.datetimeWriter,t.booleanFormatter=e.boolFormatter,t.textFormatter=e.textFormatter,t.prefix=e.prefix,t.suffix=e.suffix),t},t.prototype._visibleChanged=function(){e.prototype._visibleChanged.call(this),this.$_owner&&this.$_owner.$_visibleChanged(this)},t.prototype._doChanged=function(){e.prototype._doChanged.call(this),this.$_owner&&this.$_owner._doChanged()},t}(Im),ob=function(e){function t(t){var i=e.call(this,t)||this;return i.assignFrom(u_.footer),i}return gd(t,e),t.prototype.getCellStyleName=function(){return t.CELL_CSS},t.prototype._createCell=function(){return new nb},t.CELL_CSS="rg-footer-cell",t}(rb),sb=function(e){function t(t){var i=e.call(this,t)||this;i._items=[],i._visibles=[];var n=i._createSummary(t);return n.$_owner=i,i._items.push(n),n.visible&&i._visibles.push(n),i}return gd(t,e),t.prototype._doDispose=function(){for(var t=0,i=this._items;t<i.length;t++)i[t].dispose();this._items=null,this._visibles=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"canShow",{get:function(){return this.visible&&this._visibles.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleCount",{get:function(){return this._visibles.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){for(var e=this._dirty,t=0,i=this._visibles;t<i.length;t++){var n=i[t];e=e||n.dirty}return e},enumerable:!1,configurable:!0}),t.prototype.get=function(e){return this._items[e]},t.prototype.getVisible=function(e){return this._visibles[e]},t.prototype.isVisible=function(){return this.visible&&this.visibleCount>0},t.prototype.assignFrom=function(t){var i;if(e.prototype.assignFrom.call(this,t),t&&t.items?i=Bp.makeArray(t.items):Bp.isArray(t)&&(i=t),i){for(var n=this._items,r=i.length;n.length>r;)n.pop().dispose();for(var o=0,s=i.length;o<s;o++){var a=i[o]||{};n[o]=n[o]||this._createSummary(),n[o].assignFrom(a),n[o].$_owner=this}this.$_resetVisibles()}},t.prototype.clean=function(){for(var t=0,i=this._items;t<i.length;t++)i[t].clean();e.prototype.clean.call(this)},t.prototype.toProxy=function(){for(var t=e.prototype.toProxy.call(this),i=[],n=0;n<this._items.length;n++)i.push(this._items[n].toProxy());return i.length>0&&(t.items=i.slice()),t},t.prototype.$_visibleChanged=function(e){this.$_resetVisibles()},t.prototype.$_resetVisibles=function(){this._visibles.length=0;for(var e=0,t=0;e<this._items.length;e++){var i=this._items[e];i._childIndex=e,i.visible&&(this._visibles.push(i),i._displayIndex=t++)}this._changed()},t.prototype._doChanged=function(){e.prototype._doChanged.call(this),this._grid&&this._grid.invalidatePosition()},t}(Im),ab=function(e){function t(t){var i=e.call(this,t)||this;return i.assignFrom(u_.footers),i}return gd(t,e),t.prototype._createSummary=function(e){return new ob(e||this._grid)},t}(sb),lb=function(e){function t(t){var i=e.call(this,t)||this;return i._displayOrder=0,i._headText=null,i._footText=null,i._sumText=null,i._showFocus=!1,i._showSelection=!1,i._headCell=i._createHeadCell(),i._footCell=i._createFootCell(),i._sumCell=i._createSumCell(),i._filterCell=i._createFilterCell(),i.visible=!0,i}return gd(t,e),Object.defineProperty(t.prototype,"displayOrder",{get:function(){return this._displayOrder},set:function(e){e!=this._displayOrder&&(this._displayOrder=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headText",{get:function(){return this._headText},set:function(e){e!=this._headText&&(this._headText=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footText",{get:function(){return this._footText},set:function(e){e!=this._footText&&(this._footText=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sumText",{get:function(){return this._sumText},set:function(e){e!=this._sumText&&(this._sumText=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupMenu",{get:function(){return this._popupMenu},set:function(e){e!=this._popupMenu&&(this._popupMenu=e,this._popupMenuName="string"==typeof e?e:null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupMenuName",{get:function(){return this._popupMenuName?this._popupMenuName:this._popupMenu&&this._grid?(this._popupMenuName=this.getHeadStyleName()+"_menu",this._grid.addPopupMenu(this._popupMenuName,this._popupMenu,!0),this._popupMenuName):null},set:function(e){null!=e&&"string"!=typeof e||(this._popupMenuName=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visChanged",{get:function(){return this._visChanged},set:function(e){this._visChanged=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showFocus",{get:function(){return this._showFocus},set:function(e){e!=this._showFocus&&(this._showFocus=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSelection",{get:function(){return this._showSelection},set:function(e){e!=this._showSelection&&(this._showSelection=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellStyleCallback",{get:function(){return this._cellStyleCallback},set:function(e){e!==this._cellStyleCallback&&(this._cellStyleCallback=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype.getHeadCell=function(){return this._headCell},t.prototype.getFootCell=function(){return this._footCell},t.prototype.getSumCell=function(){return this._sumCell},t.prototype.getFilterCell=function(){return this._filterCell},t.prototype._createHeadCell=function(){return new Pm(this)},t.prototype._createFootCell=function(){return new Pm(this)},t.prototype._createSumCell=function(){return new Pm(this)},t.prototype._createFilterCell=function(){return new Pm(this)},t.prototype._visibleChanged=function(){e.prototype._visibleChanged.call(this),this._grid&&this._grid.invalidatePosition(),this._visChanged=!0},t}(Im);!function(e){e.NONE="none",e.INDEX="index",e.REVERSE="reverse",e.ROW="row"}(Hv||(Hv={})),function(e){e.IMAGE="image",e.TEXT="text",e.NONE="none"}(Uv||(Uv={}));var ub,cb,hb,db=function(e){function t(t){var i=e.call(this,"indicatorCell")||this;return i._itemState=Mg.NORMAL,i._indicator=t,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"indicator",{get:function(){return this._indicator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemState",{get:function(){return this._itemState},set:function(e){e!=this._itemState&&(this._itemState=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){var e,t=this._indicator,i=t.owner,n=this.index,r=n.item,o="",s=i.indicatorReverse(t.displayValue);if(r&&r.itemState==Mg.NORMAL)switch(t.displayValue){case Hv.INDEX:case Hv.REVERSE:(e=i.getIndicatorIndex(r,s))>=0&&(e+=t.indexOffset,!t.zeroBase&&e++,o=String(e));break;case Hv.ROW:r.isDataRow&&(e=n.dataRow,e+=t.rowOffset,t.zeroBase||e++,o=String(e))}return o},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return null},enumerable:!1,configurable:!0}),t}(km),pb=function(e){function t(t){var i=e.call(this,t)||this;return i._zeroBase=!1,i._indexOffset=0,i._rowOffset=0,i._minWidth=32,i._maxWidth=0,i._width=0,i._selectable=!0,i._displayWidth=0,i._cell=new db(i),i.headText=r_.messages.rowIndicatorHeadText,i.footText=r_.messages.rowIndicatorFootText,i.sumText=r_.messages.rowIndicatorSumText,i.showFocus=i.showSelection=!0,i.assignFrom(u_.rowIndicator),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"displayValue",{get:function(){return this._displayValue||Hv.INDEX},set:function(e){e!=this._displayValue&&(this._displayValue=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zeroBase",{get:function(){return this._zeroBase},set:function(e){e!=this._zeroBase&&(this._zeroBase=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexOffset",{get:function(){return this._indexOffset},set:function(e){e!=this._indexOffset&&(this._indexOffset=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowOffset",{get:function(){return this._rowOffset},set:function(e){e!=this._rowOffset&&(this._rowOffset=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._minWidth},set:function(e){e!=this._minWidth&&(this._minWidth=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){e!=this._maxWidth&&(this._maxWidth=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){e!=this._width&&(this._width=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayWidth",{get:function(){return this._displayWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return this._selectable},set:function(e){e!=this._selectable&&(this._selectable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"draggableSelectedRows",{get:function(){return this._draggableSelectedRows},set:function(e){this._draggableSelectedRows=e},enumerable:!1,configurable:!0}),t.prototype.getCellType=function(){return Bd.INDICATOR},Object.defineProperty(t.prototype,"staticOrder",{get:function(){return 0},enumerable:!1,configurable:!0}),t.prototype.getCell=function(e){var t=this._cell;if(t.setIndex(e),e.item){var i=e.item.itemState;i==Mg.NORMAL&&this._grid.focusedIndex.itemIndex==e.itemIndex&&(i=Mg.FOCUSED),t.itemState=i}return t},t.prototype.getHeadStyleName=function(){return"rg-rowindicator-head"},t.prototype.getFootStyleName=function(){return"rg-rowindicator-foot"},t.prototype.getSumStyleName=function(){return"rg-rowindicator-sum"},t.prototype.getFilterStyleName=function(){return"rg-rowindicator-filter"},t}(lb),fb=function(e){function t(t){var i=e.call(this,"stateBarCell")||this;return i._bar=t,i}return gd(t,e),t.prototype._doDispose=function(){this._bar=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"text",{get:function(){var e,t=this._bar.stateTexts[this.item.rowState]||(null===(e=u_.stateBar.stateTexts)||void 0===e?void 0:e[this.item.rowState]);if(!t)switch(this.item.rowState){case jp.CREATED:return r_.messages.stateTextCreated;case jp.UPDATED:return r_.messages.stateTextUpdated;case jp.CREATE_AND_DELETED:return r_.messages.stateTextCreateAndDeleted;case jp.DELETED:return r_.messages.stateTextDeleted}return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return null},enumerable:!1,configurable:!0}),t}(km),_b=function(e){function t(t){var i=e.call(this,t)||this;return i._width=20,i._mark=Uv.IMAGE,i._stateTexts={},i._errorVisible=!1,i._cell=new fb(i),i.assignFrom(u_.stateBar),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){e!=this._width&&(this._width=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mark",{get:function(){return this._mark},set:function(e){e!=this._mark&&(this._mark=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stateTexts",{get:function(){return this._stateTexts},set:function(e){if(e!=this._stateTexts){var t=[];for(var i in jp)t.push(jp[i]);for(var n in e)t.indexOf(n)>=0&&(this._stateTexts[n]=e[n]);this._changed()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errorVisible",{get:function(){return this._errorVisible},set:function(e){e!=this._errorVisible&&(this._errorVisible=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype.getCellType=function(){return Bd.STATE},Object.defineProperty(t.prototype,"staticOrder",{get:function(){return 1e3},enumerable:!1,configurable:!0}),t.prototype.getCell=function(e){var t=this._cell;return t.setIndex(e),t},t.prototype.getHeadStyleName=function(){return"rg-statebar-head"},t.prototype.getFootStyleName=function(){return"rg-statebar-foot"},t.prototype.getSumStyleName=function(){return"rg-statebar-sum"},t.prototype.getFilterStyleName=function(){return"rg-statebar-filter"},t}(lb),gb=function(e){function t(){return e.call(this,"checkBarCell")||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"getText",{get:function(){return String(this.index.dataRow)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.item.checked},enumerable:!1,configurable:!0}),t}(km),mb=function(e){function t(t){var i=e.call(this,t)||this;return i._width=20,i._exclusive=!1,i._toggleRadio=!1,i._showAll=!0,i._showGroup=!0,i._showGroupFooter=!0,i._visibleOnly=!1,i._checkableOnly=!0,i._syncHeadCheck=!1,i._headThreeStates=!1,i._useImages=!1,i._checkLocation=$d.TOP,i._itemGap=5,i._fieldIndex=-1,i._breakMergeOnEmpty=!1,i._cell=new gb,i._merged=!1,i.assignFrom(u_.checkBar),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){e!=this._width&&(this._width=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exclusive",{get:function(){return this._exclusive},set:function(e){e!=this._exclusive&&(this._exclusive=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toggleRadio",{get:function(){return this._toggleRadio},set:function(e){this._toggleRadio=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkLocation",{get:function(){return this._checkLocation},set:function(e){e!=this._checkLocation&&(this._checkLocation=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemGap",{get:function(){return this._itemGap},set:function(e){e!=this._itemGap&&(this._itemGap=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAll",{get:function(){return this._showAll},set:function(e){e!=this._showAll&&(this._showAll=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showGroup",{get:function(){return this._showGroup},set:function(e){e!=this._showGroup&&(this._showGroup=e,this._grid.itemSource.setGroupCheckable(e,e&&this._showGroupFooter),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showGroupFooter",{get:function(){return this._showGroupFooter},set:function(e){e!=this._showGroupFooter&&(this._showGroupFooter=e,this._grid.itemSource.setGroupCheckable(this._showGroup,this._showGroup&&e),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleOnly",{get:function(){return this._visibleOnly},set:function(e){e!=this._visibleOnly&&(this._visibleOnly=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkableOnly",{get:function(){return this._checkableOnly},set:function(e){e!=this._checkableOnly&&(this._checkableOnly=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkableExpression",{get:function(){return this._checkableExpression},set:function(e){e!=this._checkableExpression&&(this._checkableExpression=e,this._grid.itemSource.checkableExpression=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkableCallback",{get:function(){return this._checkableCallback},set:function(e){this._checkableCallback=e,this._grid.itemSource.checkableCallback=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"syncHeadCheck",{get:function(){return this._syncHeadCheck},set:function(e){e!=this._syncHeadCheck&&(this._syncHeadCheck=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headThreeStates",{get:function(){return this._headThreeStates},set:function(e){e!==this._headThreeStates&&(this._headThreeStates=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldName",{get:function(){return this._fieldName},set:function(e){e!=this._fieldName&&(this._fieldName=e,this._fieldIndex=this._grid.dataSource.getFieldIndex(e),this._grid.setCheckFieldIndex(this._fieldIndex),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldIndex",{get:function(){return this._fieldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useImages",{get:function(){return this._useImages},set:function(e){this._useImages!==e&&(this._useImages=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergeRule",{get:function(){return this._mergeRule},set:function(e){e!=this._mergeRule&&(this._mergeRule=e,this._mergeRuleObj&&this._mergeRuleObj.dispose(),this._mergeRuleObj=e?wb.createRule(e):null,this._changed(),this.owner._columnMergeRuleChanged(null))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakMergeOnEmpty",{get:function(){return this._breakMergeOnEmpty},set:function(e){e!=this._breakMergeOnEmpty&&(this._breakMergeOnEmpty=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusMove",{get:function(){return!!this._focusMove},set:function(e){this._focusMove=e},enumerable:!1,configurable:!0}),t.prototype.getCell=function(e){var t=this._cell;return t.setIndex(e),t._exclusive=this._exclusive,t},t.prototype.getHeadStyleName=function(){return"rg-checkbar-head"},t.prototype.getFootStyleName=function(){return"rg-checkbar-foot"},t.prototype.getSumStyleName=function(){return"rg-checkbar-sum"},t.prototype.getFilterStyleName=function(){return"rg-checkbar-filter"},t.prototype.canMerge=function(){return null!=this._mergeRuleObj},t.prototype.getCellType=function(){return Bd.CHECK},Object.defineProperty(t.prototype,"staticOrder",{get:function(){return 2e3},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"merges",{get:function(){return this._merges},enumerable:!1,configurable:!0}),t.prototype._doChanged=function(){this._grid&&(this._grid._itemCheckChanged=this._syncHeadCheck)},Object.defineProperty(t.prototype,"merged",{get:function(){return this._merged},enumerable:!1,configurable:!0}),t}(lb),yb=function(e){function t(){var t=e.call(this)||this;return t._row1=0,t._row2=0,t}return gd(t,e),t.$_setRange=function(e,t,i){return e._row1=t<=i?t:i,e._row2=t<=i?i:t,e},t.create=function(e,i){if(i&&e!==i)return t.$_setRange(new t,e.itemIndex,i.itemIndex);var n=new t;return n._row1=n._row2=e.itemIndex,n},t.temp=function(e,i){var n=t.$_TEMP;return i&&e!==i?t.$_setRange(n,e.itemIndex,i.itemIndex):(n._row1=n._row2=e.itemIndex,n)},t.createRange=function(e,i){return t.$_setRange(new t,e,i)},Object.defineProperty(t.prototype,"empty",{get:function(){return this._row2<this._row1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"r1",{get:function(){return this._row1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"r2",{get:function(){return this._row2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this._row1<=this._row2?this._row1:this._row2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this._row1<=this._row2?this._row2:this._row1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstCell",{get:function(){var e=new Wv;return e.itemIndex=this._row1<=this._row2?this._row1:this._row2,e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastCell",{get:function(){var e=new Wv;return e.itemIndex=this._row1>=this._row2?this._row1:this._row2,e},enumerable:!1,configurable:!0}),t.prototype.contains=function(e){return e>=this._row1&&e<=this._row2},t.prototype.intersectsWith=function(e){return!1},t.NULL=new t,t.$_TEMP=new t,t}(Yp),vb=function(e){function t(){var t=e.call(this)||this;return t._item=null,t._ds=null,t._fieldCount=0,t}return gd(t,e),t.prototype._doDispose=function(){this._item=null,this._ds=null,e.prototype._doDispose.call(this)},t.prototype.setDataSource=function(e){this._ds=e,this._fieldCount=e?e.fieldCount:0},t.prototype.setCell=function(e){this._item=e.item},t.prototype.setItem=function(e){this._item=e},t.prototype.clear=function(){this._item=null,this._ds=null},t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){if(this._item){switch(e){case t.ID_ROW:return this._item.index;case t.ID_DATAROW:return this._item.dataRow;case t.ID_GROUP:return this._item.parent}throw new Kp("Invalid identifier key: "+e)}},t.prototype.evaluateIndexerI=function(e,i){if(this._item){if(e==t.ID_VALUE||e==t.ID_VALUES){if(i<0||i>=this._fieldCount)throw new Kp("Data field index out of bounds:"+i);return this._item.getData(i)}throw new Kp("Invalid identifier indexer: "+e)}},t.prototype.evaluateIndexerS=function(e,i,n){if(e!=t.ID_VALUE&&e!=t.ID_VALUES)throw new Kp("Invalid identifier indexer: "+e);if(this._ds){var r=n?this._ds.getFieldIndexC(i):this._ds.getFieldIndex(i);if(r<0||r>=this._fieldCount)throw new Kp("Data field is not exists:"+i);return this._item.getData(r)}},t.ID_ROW=0,t.ID_DATAROW=1,t.ID_CHECKED=2,t.ID_VALUE=3,t.ID_VALUES=4,t.ID_GROUP=5,t.ID_PREV_VALUES=6,t.IDENTS={row:t.ID_ROW,datarow:t.ID_DATAROW,checked:t.ID_CHECKED,value:t.ID_VALUE,values:t.ID_VALUES,group:t.ID_GROUP,prevvalues:t.ID_PREV_VALUES},t}(nf),bb={},wb=function(e){function t(i){var n=e.call(this)||this;return n._runtime=t.$_runtime=t.$_runtime||new vb,n.criteria=i,n}return gd(t,e),t.createRule=function(e){var i="string"==typeof e?e:e&&e.criteria;return i?new t(i):null},t.prototype._doDispose=function(){this._runtime.clear(),this._runtime=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"criteria",{get:function(){return this._criteria},set:function(e){(e=e?e.trim():null)!=this._criteria&&(this._criteria=e,this._exprNode=e?$f.Default.parse(e,null):null,this._changed())},enumerable:!1,configurable:!0}),t.prototype.parseInit=function(e,t,i,n,r){var o=this._checkBar.breakMergeOnEmpty,s=e.fixedCount,a=e.itemCount,l=e.dataSource.rowCount;if(!((n=Math.min(a-i,n))<1||l<=0)){this._runtime.setDataSource(e.dataSource);for(var u=null;i<a&&(u=e.getItem(i),!this.$_isRow(u,!1));)r[i]=i+1,i++;if(!(i>=a)){this._runtime.setItem(u);var c=this._exprNode.evaluate(this._runtime),h=u.checked,d=i;if(r[d]=d+1,!(u.dataRow>=l)){this._runtime.setItem(u);for(var p=i+1;p<a;p++)if(u=e.getItem(p),this.$_isRow(u,!1)){if(u.dataRow>=l)break;this._runtime.setItem(u);var f=this._exprNode.evaluate(this._runtime),_=u.checked;if(p==s||void 0===f&&o||(f instanceof Date&&c instanceof Date?+f!=+c:f!=c)||_!=h){if(p>=n)break;d=p,c=f,h=_}r[p]=d+1}else{if(p>=n)break;c=bb,d=p,r[p]=d+1}}}}},t.prototype.parseBounds=function(e,t,i,n,r){var o=this._checkBar.breakMergeOnEmpty,s=!1,a=e.itemCount;if(!(a<1)){var l,u,c,h=e.fixedCount,d=bb,p=Math.max(0,i),f=p,_=-1;if(this._runtime.setDataSource(e.dataSource),p>0&&r[p]<=0){var g=e.getItem(p);if(this.$_isRow(g,s)){for(this._runtime.setItem(g),u=this._exprNode.evaluate(this._runtime),c=g.checked,p--;p>=0&&(g=e.getItem(p),this.$_isRow(g,s))&&(this._runtime.setItem(g),d=this._exprNode.evaluate(this._runtime),l=g.checked,!(p==h||void 0===d&&o||(d instanceof Date&&u instanceof Date?+d!=+u:d!=u)||c!=l));)p--;for(var m=f-1;m>p;m--)r[m]=p+2;f-1>p&&(_=p+1)}else{for(r[p]=p+1,m=f-1;m>p;m--)r[m]=p+2;for(f-1>p+1&&(_=p+2),p--;p>=0&&r[p]<=0&&!this.$_isRow(e.getItem(p),s);)r[p]=p+1,p--}}for(p=Math.max(0,i);p<=n&&r[p]>0;)p++;for(;p<=n&&!this.$_isRow(e.getItem(p),s);)r[p]=p+1,p++;if(p<n){for(f=p,g=e.getItem(p),this._runtime.setItem(g),u=this._exprNode.evaluate(this._runtime),c=g.checked,p++;p<a;)if(g=e.getItem(p),this.$_isRow(g,s)){if(this._runtime.setItem(g),d=this._exprNode.evaluate(this._runtime),l=g.checked,p==h||void 0===d&&o||(d instanceof Date&&u instanceof Date?+d!=+u:d!=u)||c!=l){var y=f;for(_>=0&&(y=_,_=-1),m=f;m<p;m++)r[m]=y+1;if(p>=n)break;u=d,c=l,f=p}else r[p]=f+1;p++}else{for(y=f,_>=0&&(y=_,_=-1),m=f;m<p;m++)r[m]=y+1;for(r[p]=p+1,p++;p<a&&!this.$_isRow(e.getItem(p),s);)r[p]=p+1,p++;if(f=p,p>=n)break}if(p==a&&(d instanceof Date&&u instanceof Date?+d==+u:d==u)||c!=l)for(y=_>=0?_:f,m=f;m<p;m++)r[m]=y+1}}},t.prototype.$_isRow=function(e,t){var i=e instanceof tm&&!(e instanceof lm);if(i&&!t){var n=e.parent;i=n.expanded||n.firstItem!==e}return i},t.$_runtime=null,t}(Jy),Cb=function(e){function t(t,i){var n=e.call(this)||this;return n._checkBar=i,n._head=t.top,n._tail=t.bottom,n}return gd(t,e),t.borrow=function(e,i){var n=t.$_rooms.pop();return n?(n._head=e.top,n._tail=e.bottom):n=new t(e,i),n},t.returnTo=function(e){if(e){var i=t.$_rooms;i.indexOf(e)<0&&i.push(e)}},Object.defineProperty(t.prototype,"head",{get:function(){return this._head},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tail",{get:function(){return this._tail},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this._checkBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return null},set:function(e){},enumerable:!1,configurable:!0}),t.prototype.getHead=function(e){return e?e.set(this._head,null):e=new Wv(this._checkBar.owner,this._head,null),e},t.prototype.getTail=function(e){return e?e.set(this._tail,null):e=new Wv(this._checkBar.owner,this._tail,null),e},t.prototype.isHead=function(e){return e.itemIndex==this._head},t.prototype.isTail=function(e){return e.itemIndex==this._tail},t.prototype.contains=function(e){return e.itemIndex>=this._head&&e.itemIndex<=this._tail},t.$_rooms=new Array,t}(nv),xb=-1,Ib=65535,Eb=function(e){function t(t){var i=e.call(this)||this;return i._flags=null,i._fixedRooms=[],i._rooms=[],i._inited=!1,i._fixedCells=[],i._cells=[],i._nextId=0,i._checkBar=t,t._merges=i,i}return gd(t,e),t.prototype._doDispose=function(){this._checkBar=null,this._rooms=this._fixedRooms=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"count",{get:function(){return this._rooms.length},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this._flags=null,this._rooms=[],this._inited=!1},t.prototype.initialize=function(e){if(!this._inited){var t=this._checkBar.owner,i=t.itemSource,n=this._checkBar._mergeRuleObj;if(n){for(var r=this._flags=new Array(i.itemCount),o=t.fixedOptions.mergeRows?0:i.fixedCount,s=i.itemCount;s--;)r[s]=0;n._checkBar=this._checkBar,n.parseInit(i,-1,o,e,r)}this._inited=!0}},t.prototype.refreshRooms=function(e,t,i){if(this._nextId=0,this._inited&&this._flags&&!(t<e)){var n=this._checkBar.owner;if(n){var r=this._rooms,o=n.layoutManager.fixedItemCount,s=n.itemSource,a=this._checkBar._mergeRuleObj,l=0;if(this._fixedRooms.length=0,this._rooms.length=0,a&&(a._checkBar=this._checkBar,a.parseBounds(s,-1,e,t,this._flags)),i)for(;l<o;)if(c=this.$_checkFixedMerge(s,l,o)){var u=new Cb(c,this._checkBar);this._fixedRooms.push(u),l=c.r2+1}else l+=1;for(l=e;l<=t;){var c;if(null!=(c=this.$_checkMerge(s,l,0==r.length,o))){var h=s.getItem(c.r2);h instanceof ty||h instanceof ey||(u=new Cb(c,this._checkBar),this._rooms.push(u)),l=c.r2+1}else l+=1}}}},t.prototype.getFixedRooms=function(){return this._fixedRooms.slice()},t.prototype.getRooms=function(){return this._rooms.slice()},t.prototype.scroll=function(e){},t.prototype.getRoom=function(e){for(var t=e.rowFixed?this._fixedRooms:this._rooms,i=t.length-1;i>=0;i--)if(t[i].contains(e))return t[i];return null},t.prototype.prepareCells=function(e,t){if(e>0){for(var i=this._fixedCells,n=0;n<i.length;n++)i[n]=xb;for(;i.length<e;)i.push(xb)}var r=this._cells;for(n=0;n<r.length;n++)r[n]=xb;for(;r.length<t;)r.push(xb)},t.prototype.refreshCells=function(e,t){for(var i=this.getFixedRooms(),n=i.length-1;n>=0;n--){var r=i[n];this.addFixedCells(r.head,r.tail-r.head+1)}for(n=(i=this.getRooms()).length-1;n>=0;n--){r=i[n];var o=Math.max(0,r.head-t-e),s=r.tail-t-e;this.addCells(o,s-o+1)}},t.prototype.addFixedCells=function(e,t){for(var i=this._fixedCells,n=this._nextId++,r=e+1;r<e+t;r++)i[r]=n+Ib;return i[e]=n,n},t.prototype.addCells=function(e,t){for(var i=this._cells,n=this._nextId++,r=e+1;r<e+t;r++)i[r]=n+Ib;return i[e]=n,n},t.prototype.isMerged=function(e,t){return e<t?this._fixedCells[e]>xb:this._cells[e-t]>xb},t.prototype.isMergeRoot=function(e,t){return e<t?this._fixedCells[e]>xb&&this._fixedCells[e]<Ib:(e-=t,this._cells[e]>xb&&this._cells[e]<Ib)},t.prototype.isHidden=function(e,t){return e<t?this._fixedCells[e]>=Ib:this._cells[e-t]>=Ib},t.prototype.getMerged=function(e,t){var i,n=1;if(e<t)for(var r=(i=this._fixedCells)[e],o=e+1;o<i.length&&i[o]-Ib==r;o++,n++);else for(e-=t,r=(i=this._cells)[e],o=e+1;o<i.length&&i[o]-Ib==r;o++,n++);return n},t.prototype.getMerged2=function(e,t,i,n){for(var r=this._cells,o=r[i],s=e.itemSource,a=s.getItem(t++),l=a.isData?n:1,u=i+1;u<r.length&&r[u]-Ib==o;u++)l+=(a=s.getItem(t++)).isData?n:1;return l},t.prototype.$_checkFixedMerge=function(e,t,i){if(i>0){var n=t,r=this._flags[n];if(r<=0)return null;for(var o=t+1;o<=i;){if(o==i||this._flags[o]>r)return o>n+1?yb.createRange(n,o-1):null;o++}}return null},t.prototype.$_checkMerge=function(e,t,i,n){if(t>=0){var r=t,o=this._flags[r];if(e.getItem(r),o<=0)return null;if(i)for(;r>n&&!(this._flags[r-1]<o);)r--;for(var s=e.itemCount,a=t+1;a<s;){if(this._flags[a]>o||this._flags[a]<=0)return a>r+1?yb.createRange(r,a-1):e.getItem(r).isDataRow?null:yb.createRange(r,a-1);a++}if(a>r)return a>r+1?yb.createRange(r,a-1):e.getItem(r).isDataRow?null:yb.createRange(r,a-1)}return null},t.MERGE_ROOMS="mergeRooms",t}(Yp),Ob=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.empty=function(){return new e},e.create=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=0),new e(t,i)},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.x||0===this.y},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equals=function(e){return e===this||e&&this.x===e.x&&this.y===e.y},e.prototype.setEmpty=function(){return this.x=this.y=0,this},e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.round=function(){var e=this.clone();return e.x>>>=0,e.y>>>=0,e},e.prototype.toString=function(){return"{x: "+this.x+", y: "+this.y+"}"},e}(),Sb=function(e){function t(t,i){void 0===i&&(i=null);var n=e.call(this)||this;n._x=0,n._y=0,n._width=0,n._height=0,n._visible=!0,n._mouseEnabled=!0,n._elements=null,n._dirty=!0,n._className="",n._name=i;var r=n._dom=n._createDom(t);return r&&n._initDom(r),n}return gd(t,e),t.prototype._doDispose=function(){if(this._dom&&(this._removeEventListeners(this._dom),Bp.detach(this._dom),this._dom=null),this._elements){for(var t=0,i=this._elements;t<i.length;t++)i[t].dispose();this._elements.length=0}this._parent=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._parent&&this._parent.container},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childCount",{get:function(){return this._elements?this._elements.length:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSingleton",{get:function(){return this._parent&&1==this._parent.childCount&&this._parent._elements[0]===this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){e!=this._x&&(this._x=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){e!=this._y&&(this._y=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){(e=Math.max(0,e))!=this._width&&(this._width=e,this.sizeChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){(e=Math.max(0,e))!=this._height&&(this._height=e,this.sizeChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this._x+this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this._y+this._height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return new Ob(this._x,this._y)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return new _p(this._x,this._y,this._width,this._height)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientRect",{get:function(){return new _p(0,0,this._width,this._height)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){e!=this._visible&&(this._visible=e,this._dom&&(this._dom.style.display=this._visible?this._getCssDisplay():"none"),this.invalidate(!0),this._visibleChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseEnabled",{get:function(){return this._mouseEnabled},set:function(e){this._mouseEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLayer",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseX",{get:function(){var e=this.container;if(e){for(var t=e._currentX,i=this;i&&void 0!==i;)t-=i._x,i=i._parent;return t}return NaN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseY",{get:function(){var e=this.container;if(e){for(var t=e._currentY,i=this;i&&void 0!==i;)t-=i._y,i=i._parent;return t}return NaN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return $p(this._dom)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._dom&&this._dom.style},enumerable:!1,configurable:!0}),t.prototype.isDom=function(e){return e===this._dom},t.prototype.canHover=function(){return!0},t.prototype.getChildren=function(){return this._elements&&this._elements.concat()},t.prototype.getChild=function(e){return this._elements[e]},t.prototype.indexOf=function(e){return this._elements?this._elements.indexOf(e):-1},t.prototype.contains=function(e){return this._elements&&this._elements.indexOf(e)>=0},t.prototype.getAncestor=function(e){for(var t=this._parent;t;){if(t instanceof e)return t;t=t._parent}return null},t.prototype.addChild=function(e){return this.insertChild(-1,e)},t.prototype.insertChild=function(e,t){if(t&&!this.contains(t)){var i=this._elements||[],n=t._dom;if(e<0||e>=i.length)this._dom&&n&&this._dom.appendChild(n),i.push(t);else{if(n){var r=this._elements[e]._dom;this._dom&&r&&this._dom.insertBefore(n,r)}i.splice(e,0,t)}return this._elements=i,t._parent=this,t.$_attached(this),this.invalidate(),!0}return!1},t.prototype.removeChild=function(e){if(e&&this._elements){var t=this._elements.indexOf(e);if(t>=0)return this.removeChildAt(t)===e}return!1},t.prototype.removeChildAt=function(e){if(e>=0&&e<this.childCount){var t=this._elements[e];return this._elements.splice(e,1),this._dom&&t._dom&&this._dom.removeChild(t._dom),t._parent=null,t._dirty=!1,t.$_detached(this),this.invalidate(),t}return null},t.prototype.removeLast=function(){return this._elements&&this._elements.length>0?this.removeChildAt(this._elements.length-1):null},t.prototype.clear=function(){var e=this._elements;if((e?e.length:0)>0){for(var t=0,i=e;t<i.length;t++){var n=i[t];n._parent=null,n.$_detached(this)}if(this._elements=[],this._dom)for(;this._dom.lastChild;)this._dom.removeChild(this._dom.lastChild);return this.invalidate(),!0}return!1},t.prototype.hideAll=function(){if(this._elements)for(var e=0,t=this._elements;e<t.length;e++)t[e].visible=!1},t.prototype.invalidate=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),e||!this._dirty){this._dirty=!0;var i=this.container;i&&i.invalidateElement(this)}if(t&&this._elements)for(var n=0,r=this._elements;n<r.length;n++)r[n].invalidate(e,!0)},t.prototype.validate=function(){this._dirty=!1},t.prototype.invalidateLayout=function(){var e=this.container;e&&e.invalidateLayout()},t.prototype.getBounds=function(e){return void 0===e&&(e=null),e?e.set(this._x,this._y,this._width,this._height):new _p(this._x,this._y,this._width,this._height)},t.prototype.getClientRect=function(e){return void 0===e&&(e=null),e?e.set(0,0,this._width,this._height):new _p(0,0,this._width,this._height)},t.prototype.containsInBounds=function(e,t){return e>=this._x&&e<this._x+this._width&&t>=this._y&&t<this._y+this._height},t.prototype.containsInClient=function(e,t){return e>=0&&e<this._width&&t>=0&&t<this._height},t.prototype.parentToElement=function(e,t,i){for(var n=this;n&&n!=e;)t-=n._x,i-=n._y,n=n._parent;return new Ob(t,i)},t.prototype.translateBy=function(e,t){void 0===t&&(t=null);var i=e;for(t||(t=new _p(0,0,this._width,this._height));i&&i!==this;)t.x-=i._x,t.y-=i._y,i=i._parent;return t},t.prototype.topBy=function(e,t){for(var i=this._y+t,n=this._parent;n&&n!==e;)i+=n._y,n=n._parent;return i},t.prototype.boundsBy=function(e,t){void 0===t&&(t=null);var i=this._x,n=this._y,r=this._parent;for(t&&(i+=t.x,n+=t.y);r&&r!==e;)i+=r._x,n+=r._y,r=r._parent;return t?new _p(i,n,t.width,t.height):new _p(i,n,this._width,this._height)},t.prototype.boundsByContainer=function(e){void 0===e&&(e=null);var t=this._x,i=this._y;e&&(t+=e.x,i+=e.y);for(var n=this._parent;n&&void 0!==n._x;)t+=n._x,i+=n._y,n=n._parent;return e?new _p(t,i,e.width,e.height):new _p(t,i,this._width,this._height)},t.prototype.pointByContainer=function(e,t){for(var i=this._parent;i&&void 0!==i._x;)e+=i._x,t+=i._y,i=i._parent;return new Ob(e+this._x,t+this._y)},t.prototype.containerToElement=function(e,t){for(var i=this;i;)e-=i._x,t-=i._y,i=i._parent;return new Ob(e,t)},t.prototype.boundsByScreen=function(e){return void 0===e&&(e=null),e=this.boundsByContainer(e),this.container.toScreen(e)},t.prototype.hitTest=function(e,t){return e>=0&&e<this._width&&t>=0&&t<this._height},t.prototype.findChildAt=function(e,t,i){var n=this._elements,r=n?n.length:0;if(r>0)for(var o=r-1;o>=0;o--){var s=n[o];if(s.visible){var a=e-s._x,l=t-s._y;if((i||s._mouseEnabled)&&(s.isLayer||s.hitTest(a,l))){var u=s.findChildAt(a,l,i);if(u)return u;if(!s.isLayer&&s._mouseEnabled)return s}}}return null},t.prototype.move=function(e,t){e==this._x&&t==this._y||(this._x=e,this._y=t,this.invalidate())},t.prototype.resize=function(e,t){e==this._width&&t==this._height||(this._width=e,this._height=t,this.invalidate())},t.prototype.setBounds=function(e,t,i,n){e==this._x&&t==this._y&&i==this._width&&n==this._height||(this._x=e,this._y=t,this._width=i,this._height=n,this.sizeChanged())},t.prototype.setBoundsI=function(e,t,i,n){t>>=0,i>>=0,n>>=0,(e>>=0)==this._x&&t==this._y&&i==this._width&&n==this._height||(this._x=e,this._y=t,this._width=i,this._height=n,this.sizeChanged())},t.prototype.setRect=function(e){e.x==this._x&&e.y==this._y&&e.width==this._width&&e.height==this._height||(this._x=e.x,this._y=e.y,this._width=e.width,this._height=e.height,this.sizeChanged())},t.prototype.setRectI=function(e){var t=e.x|0,i=e.y|0,n=e.width|0,r=e.height|0;t==this._x&&i==this._y&&n==this._width&&r==this._height||(this._x=t,this._y=i,this._width=n,this._height=r,this.sizeChanged())},t.prototype.draw=function(){this._dirty&&this._dom&&(this._beforeDraw(this._dom),this._doDraw(this._dom),this._dirty=!1)},t.prototype.resetSize=function(){this._dom&&this._setSizeStyle(this._dom.style)},t.prototype.getHtml=function(){return this._dom&&this._dom.outerHTML},t.prototype.setImportantStyle=function(e,t){this._dom.style.setProperty(e,t,"important")},t.prototype._createDom=function(e){return e.createElement("div")},t.prototype._initDom=function(e){var t=e.style;t.position="absolute",t.boxSizing="border-box",this._addEventListeners(e)},t.prototype._addEventListeners=function(e){},t.prototype._removeEventListeners=function(e){},t.prototype.$_attached=function(e){this._doAttached(e)},t.prototype._doAttached=function(e){},t.prototype.$_detached=function(e){this._doDetached(e)},t.prototype._doDetached=function(e){},t.prototype._setSizeStyle=function(e){e.width=this._width+"px",e.height=this._height+"px"},t.prototype._getCssDisplay=function(){return"block"},t.prototype.resetStyleName=function(){this._setClassName(this._dom)},t.prototype._setClassName=function(e){var t=this._getCssSelector();t!=this._className&&(this._className=t,(e||this._dom).className=t||"")},t.prototype.applyBounds=function(){var e=this._dom.style;e.left=this._x+"px",e.top=this._y+"px",this._setSizeStyle(e)},t.prototype._beforeDraw=function(e){this._setClassName(e);var t=e.style;t.left=this._x+"px",t.top=this._y+"px",this._setSizeStyle(t)},t.prototype._hoverChanged=function(){},t.prototype._visibleChanged=function(){},t.prototype.sizeChanged=function(){this.invalidate(),this._doSizeChanged()},t.prototype._doSizeChanged=function(){},t}(Vf),kb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),Object.defineProperty(t.prototype,"isLayer",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype._getCssSelector=function(){},t.prototype._doDraw=function(e){},t}(Sb),Pb=function(e){function t(t,i){void 0===i&&(i=!1);var n=e.call(this,t)||this;return n._active=i,n}return gd(t,e),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!1,configurable:!0}),t}(kb);!function(e){e.NONE="none",e.SINGLE="single",e.EXTENDED="extended"}(ub||(ub={})),function(e){e.BLOCK="block",e.GROUP="group",e.ROWS="rows",e.COLUMNS="columns",e.SINGLE_ROW="singleRow",e.SINGLE_COLUMN="singleColumn",e.SINGLE="single",e.NONE="none"}(cb||(cb={})),function(e){e.CELL="cell",e.CELL_AND_BORDER="cellAndBorder",e.MASK="mask"}(hb||(hb={}));var Rb,Tb,Db,Mb=function(e){return e==cb.SINGLE_ROW||e==cb.SINGLE_COLUMN||e==cb.SINGLE},Lb=function(e){var t=e&&e.style;return t==cb.ROWS||t==cb.SINGLE_ROW},Ab=function(e){function t(t,i){var n=e.call(this)||this;return n._manager=t,n._runStyle=i,n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){return this._manager&&this._manager.grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runStyle",{get:function(){return this._runStyle},enumerable:!1,configurable:!0}),t.prototype.setValues=function(e,t){var i=this.grid.dataSource,n=this._getRows(),r=this.grid,o={};if(n&&n.rows&&n.rows.length>0&&n.fields&&n.fields.length>0){for(var s=n.rows,a=0;a<s.length;a++)if(!(s[a]<0)){for(var l=[],u=0;u<n.fields.length;u++)(r.getWritable(r.getItemIndexOfRow(s[a]),r.columnByField(n.fields[u]))||t&&r.copyOptions.cutReadOnlyCell)&&l.push(n.fields[u]);l.length&&(o[s[a]]=l.slice())}i.fillValue(o,e)}},t.prototype.inflate=function(e,t){switch(e){case"left":this._inflateLeft(t);break;case"right":this._inflateRight(t);break;case"top":this._inflateTop(t);break;case"bottom":this._inflateBottom(t)}},t.prototype.getItems=function(e){void 0===e&&(e=!0);for(var t=this.grid,i=[],n=this.getBounds(),r=n.top,o=n.bottom,s=r;s<=o;s++){var a=t.getItem(s);a&&(!e||a.dataRow>=0)&&i.push(a)}return i},t.prototype.getItemIndices=function(e){void 0===e&&(e=!0);for(var t=this.grid,i=[],n=this.getBounds(),r=n.top,o=n.bottom,s=r;s<=o;s++){var a=t.getItem(s);a&&(!e||a.dataRow>=0)&&i.push(a.index)}return i},t.prototype.getRows=function(){for(var e=this.grid,t=[],i=this.getBounds(),n=i.top,r=i.bottom,o=n;o<=r;o++){var s=e.getItem(o);if(s&&s.dataRow>=0){var a=s.dataRow;a>=0&&t.push(a)}}return t},t.prototype._resized=function(){this._manager&&this._manager.$_itemResized(this)},t.prototype.toProxy=function(){var e=this.grid,t=this.getBounds(),i=e.getItem(t.r1),n=e.getItem(t.r2);return{style:this.style,startItem:t.r1,startRow:i?i.dataRow:-1,startColumn:t.c1.firstColumn.name,endItem:t.r2,endRow:n?n.dataRow:-1,endColumn:t.c2.lastColumn.name,startLayout:t.c1,endLayout:t.c2}},Object.defineProperty(t.prototype,"startItem",{get:function(){return this.getBounds().r1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startRow",{get:function(){var e=this.grid.getItem(this.getBounds().r1);return e?e.dataRow:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startColumn",{get:function(){return this.getBounds().c1.firstColumn.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endItem",{get:function(){return this.getBounds().r2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endRow",{get:function(){var e=this.grid.getItem(this.getBounds().r2);return e?e.dataRow:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endColumn",{get:function(){return this.getBounds().c2.firstColumn.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startLayout",{get:function(){return this.getBounds().c1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endLayout",{get:function(){return this.getBounds().c2},enumerable:!1,configurable:!0}),t}(Yp),Fb=function(e){function t(t){var i=e.call(this)||this;return i._items=[],i._locked=!1,i._grid=t,i}return gd(t,e),t.prototype._doDispose=function(){this._grid=null,this._items=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exclusiveMode",{get:function(){return this._grid.displayOptions.selectionMode!==ub.EXTENDED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"single",{get:function(){return 1==this._items.length&&this._items[0].single},enumerable:!1,configurable:!0}),t.prototype.lock=function(){this._locked=!0},t.prototype.unlock=function(){this._locked=!1},t.prototype.getItem=function(e){return this._items[e]},t.prototype.getItemByIndex=function(e,t){for(var i=this._items.length-1;i>=0;i--){var n=this._items[i];if((!t||n instanceof t)&&n.contains(e.itemIndex,e.layout))return n}},t.prototype.getItems=function(){return this._items.slice()},t.prototype.lastItem=function(){return this._items[this._items.length-1]},t.prototype.add=function(e,t,i,n){if(this._locked)return null;if(i==cb.NONE)return this.clear(!0),null;this.exclusiveMode&&this.clear(!0);var r=null;switch(i){case cb.COLUMNS:r=new jb(this,i,e.layout.first,t.layout.last);break;case cb.SINGLE_COLUMN:r=new jb(this,i,e.layout.first,e.layout.first);break;case cb.ROWS:r=new Nb(this,i,e.itemIndex,t.itemIndex);break;case cb.SINGLE_ROW:r=new Nb(this,i,e.itemIndex,e.itemIndex);break;case cb.BLOCK:r=new $b(this,i,e,t);break;case cb.GROUP:(e=e.clone()).layout=e.layout.root.first,(t=t.clone()).layout=t.layout.root.last.source,r=new $b(this,i,e,t);break;case cb.SINGLE:r=new $b(this,i,e,e)}return r&&this.$_addItem(r,n)},t.prototype.remove=function(e){if(!this._locked){var i=this._items.indexOf(e);i>=0&&(this._items.splice(i,1),this.fireEvent(t.REMOVED,e),this._changed())}},t.prototype.clear=function(e){this._locked||this._items.length>0&&(this._items.length=0,this.fireEvent(t.CLEARED,e))},t.prototype.selectBlock=function(e,t){t&&this.clear(!0),this.containsCell(e)||this.$_addItem(new $b(this,cb.BLOCK,e,e,!0),!0)},t.prototype.selectRow=function(e,t){t&&this.clear(!0),this.containsItem(e,Nb)||this.$_addItem(new Nb(this,cb.ROWS,e,e),!0)},t.prototype.containsItem=function(e,t){for(var i=0,n=this._items.length;i<n;i++){var r=this._items[i];if((!t||r instanceof t)&&r.containsItem(e))return!0}return!1},t.prototype.containsLayout=function(e,t){for(var i=0,n=this._items.length;i<n;i++){var r=this._items[i];if((!t||r instanceof t)&&r.containsLayout(e))return!0}return!1},t.prototype.containsCell=function(e){return this.contains(e.itemIndex,e.layout)},t.prototype.contains=function(e,t){for(var i=0,n=this._items.length;i<n;i++)if(this._items[i].contains(e,t))return!0;return!1},t.prototype.normalize=function(){},t.prototype.canResize=function(e){return e&&!Mb(e._runStyle)},t.prototype._changed=function(e,i){void 0===i&&(i=!0),this.fireEvent(t.CHANGED,e,i)},t.prototype.$_addItem=function(e,i){if(!e)throw new Error("item is null");return this._items.indexOf(e)<0&&(this._items.push(e),this.fireEvent(t.ADDED,e,i),this._changed(e,i)),e},t.prototype.$_itemResized=function(e){this.fireEvent(t.RESIZED,e),this._changed(e)},t.prototype.$_ended=function(e){this.fireEvent(t.ENDED,e)},t.CHANGED="onSelectionChanged",t.ADDED="onSelectionAdded",t.REMOVED="onSelectionRemoved",t.CLEARED="onSelectionCleared",t.RESIZED="onSelectionResized",t.ENDED="onSelectionEnded",t}(Vf),$b=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s._startIndex=n.clone(),s._endIndex=r.clone(),s.move=o,Bp.isDebugging()&&s._startIndex.layout,Bp.isDebugging()&&s._endIndex.layout,s}return gd(t,e),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endIndex",{get:function(){return this._endIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._runStyle||cb.BLOCK},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"single",{get:function(){return Wv.areEquals(this._startIndex,this._endIndex)},enumerable:!1,configurable:!0}),t.prototype.getBounds=function(){var e=this.grid;this._startIndex.normalize(e),this._endIndex.normalize(e);var t=this._startIndex.clone(),i=this._endIndex.clone();if(this._runStyle===cb.GROUP&&(t.layout.root.vindex>i.layout.root.vindex&&(t=this._endIndex.clone(),i=this._startIndex.clone()),t.layout=t.layout.root.first,i.layout=i.layout.root.last),Wv.areEquals(t,i))return qv.create(t);var n=e.activeCellLayout._dataCells,r=t.layout,o=i.layout,s=void 0,a=void 0;return r.col<=o.col?(s=n[0][r.col],a=n[n.length-1][o.col]):(s=n[0][o.col],a=n[n.length-1][r.col]),qv.createRange(t.itemIndex,s,i.itemIndex,a)},t.prototype.containsItem=function(e){var t=Math.min(this._startIndex.itemIndex,this._endIndex.itemIndex),i=Math.max(this._startIndex.itemIndex,this._endIndex.itemIndex);return e>=t&&e<=i},t.prototype.containsLayout=function(e){if(!e)return!1;if(this.single)return this._startIndex.layout===e;var t=e.distance,i=this._startIndex.layout.distance,n=this._endIndex.layout.distance;return i<n?t>=i&&t<=n:t>=n&&t<=i},t.prototype.contains=function(e,t){return this.getBounds().contains(e,t)},t.prototype.resizeTo=function(e){var t=this.grid,i=t.displayOptions;t.isValid(e)&&!Wv.areEquals(e,this._endIndex)&&(i.selectAtSingleRow&&(e.itemIndex=this.startItem),this._endIndex.assign(e),this._resized())},t.prototype.moveRow=function(e){this._startIndex.itemIndex+=e,this._endIndex.itemIndex+=e},t.prototype.intersectsWith=function(e){return this.getBounds().intersectsWith(e.getBounds())},t.prototype.mergeWith=function(e){},t.prototype.getData=function(e){if(void 0===e&&(e=-1),0==e)return null;var t,i=this.grid,n=this.getBounds(),r=this.single?[n.c1.firstColumn]:i.collectDataColumns(n.c1,n.c2);if(!r||(t=r.length)<1)return null;for(var o=n.r1,s=n.r2,a=[],l=o;l<=s;l++){var u=i.getItem(l);if(u&&u.isDataRow){var c={};c.__rowId=u.dataRow;for(var h=0;h<t;h++){var d=r[h];c[d.fieldName]=u.getData(d.dataIndex)}if(a.push(c),e>0&&a.length==e)break}}return a},t.prototype._inflateLeft=function(e){this._startIndex.layout.distance<=this._endIndex.layout.distance?e.layout!==this._startIndex.layout&&(this._startIndex.layout=e.layout,this._resized()):e.layout!==this._endIndex.layout&&(this._endIndex.layout=e.layout,this._resized())},t.prototype._inflateRight=function(e){this._startIndex.layout.distance>this._endIndex.layout.distance?e.layout!==this._startIndex.layout&&(this._startIndex.layout=e.layout,this._resized()):e.layout!==this._endIndex.layout&&(this._endIndex.layout=e.layout,this._resized())},t.prototype._inflateTop=function(e){var t=this.grid,i=Math.max(0,Math.min(t.itemCount-1,e.itemIndex));this._startIndex.itemIndex<=this._endIndex.itemIndex?i!==this._startIndex.itemIndex&&(this._startIndex.itemIndex=i,this._resized()):i!==this._endIndex.itemIndex&&(this._endIndex.itemIndex=i,this._resized())},t.prototype._inflateBottom=function(e){var t=this.grid,i=Math.max(0,Math.min(t.itemCount-1,e.itemIndex));this._startIndex.itemIndex>this._endIndex.itemIndex?i!==this._startIndex.itemIndex&&(this._startIndex.itemIndex=i,this._resized()):i!==this._endIndex.itemIndex&&(this._endIndex.itemIndex=i,this._resized())},t.prototype._getRows=function(){var e=this.grid,t=e.collectDataColumns(this._startIndex.layout,this._endIndex.layout);if(t&&!(t.length<1)){for(var i=Math.min(this._startIndex.itemIndex,this._endIndex.itemIndex),n=Math.max(this._startIndex.itemIndex,this._endIndex.itemIndex),r=[],o=[],s=i;s<=n;s++)r.push(e.getItem(s).dataRow);for(var a=0,l=t;a<l.length;a++){var u=l[a];o.push(u.dataIndex)}return{rows:r,fields:o}}},t.prototype.toString=function(){return this._startIndex+" ~ "+this._endIndex},t}(Ab),Nb=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o._startRow=n,o._endRow=r,o}return gd(t,e),Object.defineProperty(t.prototype,"startRow",{get:function(){return this._startRow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endRow",{get:function(){return this._endRow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topRow",{get:function(){return Math.min(this._startRow,this._endRow)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomRow",{get:function(){return Math.max(this._startRow,this._endRow)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._runStyle||cb.ROWS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"single",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getBounds=function(){var e=this.grid,t=e.itemCount;return this._startRow=Math.max(0,Math.min(t-1,this._startRow)),this._endRow=Math.max(0,Math.min(t-1,this._endRow)),this._startRow<=this._endRow?qv.createRange(this._startRow,e.activeCellLayout.first,this._endRow,e.activeCellLayout.last):qv.createRange(this._endRow,e.activeCellLayout.first,this._startRow,e.activeCellLayout.last)},t.prototype.contains=function(e,t){return this.containsItem(e)},t.prototype.containsItem=function(e){return e>=this.topRow&&e<=this.bottomRow},t.prototype.containsLayout=function(e){return!0},t.prototype.resizeTo=function(e){var t=Math.max(0,e.itemIndex);t!=this._endRow&&(this._endRow=Math.max(0,Math.min(this.grid.itemCount-1,t)),this._resized())},t.prototype.moveRow=function(e){this._startRow+=e,this._endRow+=e},t.prototype.intersectsWith=function(e){return this.getBounds().intersectsWith(e.getBounds())},t.prototype.mergeWith=function(e){},t.prototype.getData=function(e){if(void 0===e&&(e=-1),0==e)return null;var t=this.grid,i=t.collectDataColumns(t.getVisibleLayout(0),t.getVisibleLayout(t.visibleLayoutCount-1));if(!i)return null;var n=i.length;if(n<1)return null;for(var r=Math.max(0,Math.min(this._startRow,this._endRow)),o=Math.min(t.itemCount-1,Math.max(this._startRow,this._endRow)),s=[],a=r;a<=o;a++){var l=t.getItem(a);if(l&&l.isDataRow){var u={};u.__rowId=l.dataRow;for(var c=0;c<n;c++){var h=i[c];u[h.fieldName]=l.getData(h.dataIndex)}if(s.push(u),e>0&&s.length==e)break}}return s},t.prototype._inflateLeft=function(e){},t.prototype._inflateRight=function(e){},t.prototype._inflateTop=function(e){var t=e.itemIndex;t!=this.topRow&&(this._startRow<=this._endRow?this._startRow=Math.max(0,Math.min(this.grid.itemCount-1,t)):this._endRow=Math.max(0,Math.min(this.grid.itemCount-1,t)),this._resized())},t.prototype._inflateBottom=function(e){var t=e.itemIndex;t!=this.bottomRow&&(this._startRow>this._endRow?this._startRow=Math.max(0,Math.min(this.grid.itemCount-1,t)):this._endRow=Math.max(0,Math.min(this.grid.itemCount-1,t)),this._resized())},t.prototype._getRows=function(){var e=this.grid,t=e.activeCellLayout,i=e.collectDataColumns(t.first,t.last);if(i&&!(i.length<1)){for(var n=Math.max(0,Math.min(this._startRow,this._endRow)),r=Math.min(e.itemCount-1,Math.max(this._startRow,this._endRow)),o=[],s=[],a=n;a<=r;a++)o.push(e.getItem(a).dataRow);for(var l=0,u=i;l<u.length;l++){var c=u[l];s.push(c.dataIndex)}return{rows:o,fields:s}}},t}(Ab),jb=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o._startLayout=n,o._endLayout=r,o}return gd(t,e),Object.defineProperty(t.prototype,"startLayout",{get:function(){return this._startLayout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endLayout",{get:function(){return this._endLayout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftLayout",{get:function(){return this._startLayout.col<=this._endLayout.col?this._startLayout:this._endLayout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightLayout",{get:function(){return this._startLayout.col>this._endLayout.col?this._startLayout:this._endLayout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._runStyle||cb.COLUMNS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"single",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getBounds=function(){var e=this.grid.activeCellLayout,t=this._startLayout,i=this._endLayout;if(t.col>i.col){var n=t;t=i,i=n}t=e.getTopOf(t),i=e.getBottomOf(i,!0);var r=this.grid.itemCount-1;return qv.createRange(0,t,r,i)},t.prototype.contains=function(e,t){return this.containsLayout(t)},t.prototype.containsItem=function(e){return!0},t.prototype.containsLayout=function(e){return e.col>=this.leftLayout.col&&e.col<=this.rightLayout.col},t.prototype.resizeTo=function(e){e.layout!==this._endLayout&&(this._endLayout=e.layout,this._resized())},t.prototype.moveRow=function(e){},t.prototype.intersectsWith=function(e){return this.getBounds().intersectsWith(e.getBounds())},t.prototype.mergeWith=function(e){},t.prototype.getData=function(e){if(void 0===e&&(e=-1),0==e)return null;var t=this.grid,i=t.collectDataColumns(this._startLayout,this._endLayout);if(!i)return null;for(var n=t.itemCount,r=[],o=0;o<n;o++){var s=t.getItem(o);if(s&&s.isDataRow){var a={};a.__rowId=s.dataRow;for(var l=0,u=i.length;l<u;l++)a[i[l].fieldName]=s.getData(i[l].dataIndex);if(r.push(a),e>0&&r.length==e)break}}return r},t.prototype._inflateLeft=function(e){var t=e.layout;t!==this.leftLayout&&(this._startLayout.distance<=this._endLayout.distance?this._startLayout=t:this._endLayout=t,this._resized())},t.prototype._inflateRight=function(e){var t=e.layout;t!==this.rightLayout&&(this._startLayout.distance>this._endLayout.distance?this._startLayout=t:this._endLayout=t,this._resized())},t.prototype._inflateTop=function(e){},t.prototype._inflateBottom=function(e){},t.prototype._getRows=function(){var e=this.grid,t=e.collectDataColumns(this._startLayout,this._endLayout);if(t){for(var i=e.itemCount,n=[],r=[],o=0;o<i;o++)n.push(e.getItem(o).dataRow);for(var s=0,a=t;s<a.length;s++){var l=a[s];r.push(l.dataIndex)}return{rows:n,fields:r}}},t}(Ab),Bb=function(e){function t(t){return e.call(this,t,"selectionView")||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-selection"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none")},t}(kb),Vb=function(e){function t(t){var i=e.call(this,t,"selectionMask")||this;return i._toped=!1,i._bottomed=!1,i._lefted=!1,i._righted=!1,i._view=new Bb(t),i.addChild(i._view),i}return gd(t,e),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!1,configurable:!0}),t.prototype.prepare=function(){this._toped=this._bottomed=this._lefted=this._righted=!1},t.prototype.updateElement=function(){var e=0,t=0,i=this.width,n=this.height;this._lefted&&(e-=10,i+=10),this._righted&&(i+=10),this._toped&&(t-=10,n+=10),this._bottomed&&(n+=10),this._view.setBounds(e,t,i,n)},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("overflow","hidden"),this.setImportantStyle("pointer-events","none")},t}(kb),Hb=function(e){function t(t,i){var n=e.call(this,t.doc,i)||this;return n._pool=[],n._views={},n._rangeRect=new _p,n._grid=t,n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.addView=function(e){var t=e.$_hash,i=this._views[t];return i||(i=this._pool.pop()||new Vb(this.doc),this._views[t]=i),i._item=e,this.addChild(i),i},t.prototype.removeView=function(e){var t=e.$_hash,i=this._views[t];i&&(this.removeChild(i),this._pool.push(i),delete this._views[t])},t.prototype.clearViews=function(){for(var e in this._views){var t=this._views[e];this.removeChild(t),this._pool.push(t)}this._views={}},t.prototype.layout=function(){var e=this._grid.layoutManager,t=new _p,i=Object.keys(this._views);for(var n in this._views){var r=this._views[n],o=r.item,s=!1;if((1!==i.length||!o.single||!Wv.areEquals(o._startIndex,this._grid.focusedIndex,!0))&&(r.prepare(),o instanceof Nb?(s=this.$_getSelectionRowsRect(e,o,r,t),r._lefted=!0,r._righted=!0):o instanceof jb?(s=this.$_getSelectionColumnsRect(e,o,r,t),r._toped=!0,r._bottomed=!0):s=this.$_getSelectionRangeRect(e,o,r,t),s)){var a=e.contentBounds.y+e.footerBounds.y;t.bottom>a&&(r._bottomed=!0,t.bottom=a)}r.visible=s,r.visible&&(r.setRectI(t),r.updateElement(),r.invalidate())}},t.prototype.$_getSelectionRowsRect=function(e,t,i,n){var r,o,s=this._grid,a=t.getBounds(),l=a.r1,u=a.r2,c=e.itemCount,h=e.fixedItemCount,d=s.topIndex;if(h>0){if(l>=d+h+c||u<0||l>=h&&u<d+h)return!1;var p=e.fixedHeight+s.fixedOptions.rowBarHeight;l<h?r=e.getTableItemBounds(Math.max(0,l)):((r=e.getTableItemBounds(Math.max(0,l-d))).y<p&&(i._toped=!0),r.y=Math.max(r.y,p)),u<h?o=e.getTableItemBounds(u):l<=h&&u<h+d?o=e.getTableItemBounds(Math.min(h+d,h)-1):u>=d?(o=e.getTableItemBounds(Math.min(e.itemCount+h-1,u-d))).y=Math.max(o.y,p):o=r}else{if(!(c>0))return!1;if(l>=d+c||u<d)return!1;p=l-d,r=e.getTableItemBounds(Math.max(0,p)),o=e.getTableItemBounds(Math.min(c-1,u-d)),p<0&&(i._toped=!0)}return n.copy(r.union(o)),n.offset(e.fixedContentBounds.x,e.contentBounds.y+e.bodyBounds.y),n.right=e.rightLayoutCount>0?e.rightContentBounds.right:e.contentBounds.right,!0},t.prototype.$_getSelectionColumnsRect=function(e,t,i,n,r){var o=this._grid,s=t.getBounds(),a=e.fixedLayoutCount,l=e.rightLayoutCount,u=s.c1.col,c=s.c2.col,h=o.fixedOptions.rightBarWidth,d=e.getDataRect(s.c1),p=e.getDataRect(s.c2);if(n.left=Math.min(d.x,p.x),n.right=Math.max(d.right,p.right),n.y=e.contentBounds.y+e.headerBounds.bottom+e.summaryBounds.height,n.height=Math.min(e.dataBounds.height,e.footerBounds.y),r&&r.copy(n),u>=a){var f=e.fixedContentBounds.right;n.x<f&&(i._lefted=!0,n.left=Math.max(n.left,f)),n.right<f&&(i._righted=!0,n.width=0)}if(l>0){var _=e.rightFirstLayout,g=e.rightContentBounds;n.left>g.left?n.width=u>=_?p.right-d.left:c>=_?Math.max(0,p.right-g.left-(p.left-g.left-h==0?3:0)):0:c<_&&n.right>=g.left&&(n.right=Math.min(n.right,g.x),i._righted=!0)}return!0},t.prototype.$_getSelectionRangeRect=function(e,t,i,n,r){var o=this._rangeRect;return!!this.$_getSelectionRowsRect(e,t,i,o)&&(n.y=o.y,n.bottom=o.bottom,this.$_getSelectionColumnsRect(e,t,i,o,r),n.x=o.x,n.right=o.right,r&&(r.y=n.y,r.height=n.height),!0)},t}(kb),Ub=function(){function e(t){this._format=t,this._reader=Gp.getReader(t),this._writer=i_.getFormatter(t),e.validateDateFormat(t)}return e.getConverter=function(t){var i=e.Formatters;if(i[t])return i[t];var n=new e(t);return i[t]=n},e.validateDateFormat=function(e){if(e=e&&e.trim()){var t=e.indexOf("a")>=0||e.indexOf("A")>=0;if(t&&e.indexOf("H")>=0)throw"Invalid datetime read format - 'H' 'a'    : "+e;if(e.indexOf("h")>=0&&!t)throw"Invalid datetime read format - 'h'  'a'   : "+e}},Object.defineProperty(e.prototype,"format",{get:function(){return this._format},enumerable:!1,configurable:!0}),e.prototype.getDate=function(e){return this._reader.toDate(e,!0)},e.prototype.getDateNull=function(e){try{return this.getDate(e)}catch(VY){return Bp.log("getDateNull Fail string => ".concat(e)),null}},e.prototype.getText=function(e){return this._writer.getText(e)},e.DEFAULT_FORMAT="yyyy/MM/dd",e.Formatters={},e.Default=e.getConverter(e.DEFAULT_FORMAT),e}(),Wb=Bp.isSafari?1:0,Gb=function(e){function t(i,n){var r=e.call(this)||this;if(r._textCase=Hd.DEFAULT,r._readOnly=!1,r._textReadOnly=!1,r._allowEmpty=!1,r._isMobile=Bp.isMobile(),r._isTablet=Bp.isTablet(),r._started=!1,r._dateConverter=Ub.Default,r._boolConverter=Up.Default,r._cellBounds=new _p,r._checkHangeul=!1,r._composing=!1,r._grid=i,r._options=i.editorOptions,r._parentElement=n,r._editor=r._createEditor(n),r._editor.className=t.EDITOR_CSS+r._getInputSelector(),r._container&&(r._container.className=t.CONTAINER_CSS),r._editor.$_owner=r,r._editIndex=i.getIndex(),r._editor){var o=i.container;o.$_addListener(r._editor,"focus",function(e){this._grid.$_setEditFocused(!0,e)}.bind(r),!1),o.$_addListener(r._editor,"focusin",function(e){this._grid.$_setEditFocused(!0,e)}.bind(r),!1),o.$_addListener(r._editor,"blur",function(e){this._grid.$_setEditFocused(!1,e)}.bind(r),!1),o.$_addListener(r._editor,"focusout",function(e){this._grid.$_setEditFocused(!1,e)}.bind(r),!1)}return r.setVisible(!1,!0),r.$_setEditorId(r._editor),r}return gd(t,e),t.$_copyProc=function(e,t){if(!e.isDisabled()){var i=e._grid;e.editing||i.copyToClipboard(t,null)}},t.copyCutProc=function(e,t){t.preventDefault();var i=e._editor,n=$p(e._editor);return 67==t.keyCode||45==t.keyCode?(n.execCommand("copy"),!0):88==t.keyCode&&(i.value="cut",i.setSelectionRange(0,3),n.execCommand("cut"),i.value="",!0)},t.prototype._copyHandler=function(e){t.$_copyProc(this,e)},t.prototype._pasteHandler=function(e){if(!this.isDisabled()){var t=this._grid.pasteOptions;try{var i,n=(e.originalEvent||e).clipboardData;if(null!=(i=n?n.getData("text/plain"):window.clipboardData.getData("text"))){if(this.visible)return this._doPaste(e,i),this._doChanged(),void e.stopPropagation();e.preventDefault(),this._grid.pasteFromClipboard(i,e)}}catch(r){if(r instanceof Wy){if(t.throwValidationError)throw r}else if(r instanceof Uy)alert(r.message);else if(r)throw r}}},t.prototype._doPaste=function(e,t){},t.initDefault=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=Bp.assign.apply(Bp,yd([{}],t,!1));e.assignFrom(n),n=null},t.getEditorType=function(e){return"string"==typeof e?e:e?e.type:"line"},t.getEditorType2=function(e,t){return"string"==typeof e?e:e&&e.type?e.type:"string"==typeof t?t:t&&t.type?t.type:"line"},t.prototype._doDispose=function(){this.unprepare(),this._editor=Bp.detach(this._editor),this._container=Bp.detach(this._container),this._container=null,this._grid=null,this._controller=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"native",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonCount",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasList",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emptyValue",{get:function(){return this._emptyValue},set:function(e){e!=this._emptyValue&&(this._emptyValue=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textCase",{get:function(){return this._textCase},set:function(e){e!=this._textCase&&(this._textCase=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(e){e!=this._datetimeFormat&&(this._datetimeFormat=e,this._dateConverter=e?Ub.getConverter(e):Ub.Default)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todayChar",{get:function(){return this._todayChar},set:function(e){e!=this._todayChar&&(this._todayChar=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nowChar",{get:function(){return this._nowChar},set:function(e){e!=this._nowChar&&(this._nowChar=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(e){e!=this._booleanFormat&&(this._booleanFormat=e,e?(this._saveBoolConverter||(this._saveBoolConverter=new Up(e)),this._saveBoolConverter.format=e,this._boolConverter=this._saveBoolConverter):this._boolConverter=Up.Default)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){return this._editor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return parseInt(this._container.style.width)>Wb&&parseInt(this._container.style.height)>Wb},enumerable:!1,configurable:!0}),t.prototype.setVisible=function(e,t){void 0===t&&(t=!1);var i=t?!e:this.visible;if(!e&&(this._container.style.width=Wb+"px",this._container.style.height=Wb+"px",Bp.isMobile())){var n=this._grid;if(n){var r=n.container._containerDom,o=$p(this._container);this._editor===o.activeElement&&r&&r.focus({preventScroll:!0})}else this._editor.blur()}e!=i&&this._doVisibleChanged(e)},t.prototype._doVisibleChanged=function(e){this.setEditorZIndex(e)},Object.defineProperty(t.prototype,"readOnly",{get:function(){return this._readOnly},set:function(e){var t=Fp(this._container);this._editor instanceof t.HTMLInputElement&&(this._editor.readOnly=this._readOnly=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textReadOnly",{get:function(){return this._textReadOnly},enumerable:!1,configurable:!0}),t.prototype._setTextReadOnly=function(e){e!=this._textReadOnly&&(this._textReadOnly=e,this._changed())},Object.defineProperty(t.prototype,"allowEmpty",{get:function(){return this._allowEmpty},enumerable:!1,configurable:!0}),t.prototype._setAllowEmpty=function(e){e!=this._allowEmpty&&(this._allowEmpty=e,this._changed())},Object.defineProperty(t.prototype,"editing",{get:function(){return this._started},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editIndex",{get:function(){return this._editIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._editor.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listing",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.hasButton=function(e,t){return!1},t.prototype.applyOptions=function(e){e&&this.assignFrom(e)},t.prototype.setEditIndex=function(e){this._editIndex.assign(e)},t.prototype.setController=function(e){this._controller=e},t.prototype.prepare=function(){!this.native&&this._editor&&this._editor.removeAttribute("type")},t.prototype.unprepare=function(){},t.prototype.beginEdit=function(e,t){this._started||(this._started=this._doBeginEdit())&&(e&&this.clear(),t&&this.selectAll())},t.prototype.endEdit=function(){this._started&&(this._doEndEdit(),this._started=!1)},t.prototype.isEdited=function(){return!1},t.prototype.isDisabled=function(){return!this._grid||this._grid.container.disabled},t.prototype.caretToLast=function(){},t.prototype.commit=function(){this._doCommit()},t.prototype.setReadOnly=function(e){this._editor.readOnly=this._readOnly=e},t.prototype.getEditValue=function(e,t){},t.prototype.getEditListItem=function(){},t.prototype.setEditValue=function(e){this._oldValue=e},t.prototype.setCellEditValue=function(e,t){!this.readOnly&&this._requestStart(t)&&(this.setEditValue(e),this._doChanged())},t.prototype.getEditText=function(){return""},t.prototype.selectAll=function(e){void 0===e&&(e=!1),this._grid.$_editFocused&&(!e&&Bp.isMobile()||this._selectAll())},t.prototype.clear=function(){var e=Fp(this._container);this._editor instanceof e.HTMLInputElement&&(this._editor.value="")},t.prototype.setFocus=function(){var e=!Bp.isMobile();this._grid.accessibility&&this.attach(this._grid.getEditContainer(this.editIndex)),!this._grid.handler._draggable&&this._editor.focus({preventScroll:e})},t.prototype.setEditorTitle=function(e){},t.prototype.setBounds=function(e,t,i,n,r){},t.prototype.setCellBounds=function(e,t,i,n){this._cellBounds.set(e,t,i,n)},t.prototype.closeList=function(e){},t.prototype.dropDownList=function(e){},t.prototype.buttonClicked=function(e,t){!this.listing&&this.dropDownList(!1)},t.prototype.buttonDown=function(e,t){},t.prototype.buttonUp=function(e,t){},t.prototype.skipMaskChar=function(e){return!1},t.prototype.setButtonStyle=function(e,t,i,n,r){return!1},t.prototype.attach=function(e){Bp.addChild(e,this._container)},t.prototype.detach=function(){Bp.detach(this._container)},t.prototype.setInert=function(e){var t=this._container;e?(this._inertTimer&&clearTimeout(this._inertTimer),t.removeAttribute("inert"),this.editor.removeAttribute("aria-hidden")):(this._inertTimer&&clearTimeout(this._inertTimer),this._inertTimer=setTimeout(function(){t.setAttribute("inert","")},0),this.editor.setAttribute("aria-hidden","true"))},t.prototype.initOptions=function(){this._emptyValue=void 0,this.booleanFormat=null,this._todayChar=null,this._nowChar=null,this.datetimeFormat=null,this._textCase=Hd.DEFAULT,this._checkHangeul=!1,this._composing=!1},t.prototype.$_setEditorId=function(e){},t.prototype._changed=function(){},t.prototype.$_setController=function(e){this._controller=e},t.prototype._editField=function(){return this._grid.dataSource?this._grid.dataSource.getField(this._editIndex.dataField):null},t.prototype._isDateEditor=function(){return!1},t.prototype._requestStart=function(e){return this._started?this._started:(this.selectAll(),this._controller.onEditorStart(this))},t.prototype._valToStr=function(e){var t=this.editIndex,i="";try{if(void 0!==e||this._mask){var n=t.grid.dataSource.getField(t.dataField);if(n)switch(n.dataType){case vd.DATETIME:e&&(i=this._dateConverter.getText(e)),this._mask&&(i=this._mask.writeBuffer(i));break;case vd.BOOLEAN:i=this._boolConverter.toText(e);break;case vd.NUMBER:isNaN(e)||(i=Bp.toStr(e));break;case vd.OBJECT:var r=t.column._objectKey||n.objectKey;e&&(i=r?e[r]:null!=e&&"object"==typeof e?JSON.stringify(e):"");break;default:i=this._mask?this._mask.writeBuffer(e):e}else i=e}}catch(o){i=e}return null==i?"":i},t.prototype._strToVal=function(e){e=Bp.toStr(e);var t=this._editIndex,i=t.dataColumn&&this._textCase==Hd.DEFAULT?t.dataColumn.textInputCase:this._textCase;try{var n=t.grid.dataSource.getField(t.dataField);if(n){var r=n.dataType;if(r==vd.DATETIME||e&&this._isDateEditor()&&r==vd.TEXT){var o=r==vd.DATETIME,s=null;return e&&e==this._nowChar&&(s=new Date),!s&&e&&e==this._todayChar&&(s=new Date).setHours(0,0,0,0),s||(this._mask&&(e=this._mask.getStripValue()),s=this._dateConverter.getDate(e)),o?!s||isNaN(s.getFullYear())?void 0:s:s?this._dateConverter.getText(s):void 0}if(r==vd.BOOLEAN)return this._boolConverter.toBoolEx(e);if(r==vd.NUMBER)return parseFloat(e);r==vd.TEXT&&this._mask&&(e=this._mask.getStripValue())}return i===Hd.UPPER?e?e.toLocaleUpperCase():e:i===Hd.LOWER&&e?e.toLocaleLowerCase():e}catch(a){return}},t.prototype._dispatchKeyDown=function(e){return this._controller,this._controller.onEditorKeyDown(this,e)},t.prototype._dispatchKeyPress=function(e){return this._controller,this._controller.onEditorKeyPress(this,e)},t.prototype._dispatchKeyUp=function(e){return this._controller,this._controller.onEditorKeyUp(this,e)},t.prototype._dispatchChange=function(){this._controller.onEditorChange(this)},t.prototype._dispatchSearch=function(e){this._controller.onEditorSearch(this,e)},t.prototype._dispatchSearchCellButtonClick=function(e){return this._controller.onSearchCellButtonClick(this,e)},t.prototype._dispatchCommit=function(){this._controller.onEditorCommit(this)},t.prototype._sendToParent=function(e,t,i){void 0===t&&(t=void 0);try{var n=Bp.ctrlKey(e);if(2==t){if(this._dispatchKeyPress(e))return e.preventDefault&&(e.preventDefault(),e.stopImmediatePropagation()),!0}else if(3==t){if(this._dispatchKeyUp(e))return e.preventDefault&&(e.preventDefault(),e.stopImmediatePropagation()),!0;try{var r=this._controller._grid,o=r.editOptions;if(o.maxLengthToNextCell){var s=o.skipReadOnly,a=r.activeTool,l=this.maxLength,u=this.editIndex.clone(),c=Bp.included(e.keyCode,38,33,40,34,113,9,13);if(!this._checkHangeul&&!c&&!n&&!e.altKey&&r&&r.isEditing(u)&&l>0&&!this._composing&&e.keyCode>47){var h=this._mask?this._mask.getStripValue():this._editor.value;if(this instanceof Qb&&this.maxLengthExceptComma){var d=this.getEditValue();isNaN(d)&&null!=d||(h=String(d))}if(h&&h.length>=l)return r.getBodyViewAt(u).spanRight(r.layoutManager,u),u.right(),s&&a._checkReadOnly(u)&&(a._skipReadOnly(u,1)||(u=this.editIndex.clone())),Wv.areEquals(u,this.editIndex)||a.setFocused(u,!0,!0),!0}}}catch(p){if(p instanceof Wy)throw p;return!0}}else if(this._dispatchKeyDown(e))return e.preventDefault&&(e.preventDefault(),e.stopImmediatePropagation()),!0;return!1}finally{}},t.Unselected={},t.InvalidFormat={},t.EDITOR_CSS="rg-editor ",t.CONTAINER_CSS="rg-editor-container",t}(Vf),zb=function(){function e(e,t){this._includedFormat=!1,this._showInvalidFormatMessage=!0,this._overwrite=!1,this._allowEmpty=!1,this._restrictNull=!1,this._definitions={9:/[0-9 ]/,0:/[\d]/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/},this._tests=null,this._defBuffer=[],this._editor=e,t&&this.setOptions(t)}return e.prototype.dispose=function(){return this._definitions=null,this._tests=null,this._editor._editor&&(this._editor._editor.onclick=null),this._editor=null,null},Object.defineProperty(e.prototype,"includedFormat",{get:function(){return this._includedFormat},set:function(e){e!=this._includedFormat&&(this._includedFormat=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeHolder",{get:function(){return this._placeHolder},set:function(e){e!=this._placeHolder&&(this._placeHolder=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editMask",{get:function(){return this._editMask},set:function(e){e!=this._editMask&&(this._editMask=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definitions",{get:function(){return this._definitions},set:function(e){e!=this._definitions&&(this._definitions=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"invalidFormatMessage",{get:function(){return this._invalidFormatMessage},set:function(e){e!=this._invalidFormatMessage&&(this._invalidFormatMessage=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showInvalidFormatMessage",{get:function(){return this._showInvalidFormatMessage},set:function(e){e!=this._showInvalidFormatMessage&&(this._showInvalidFormatMessage=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overWrite",{get:function(){return this._overwrite},set:function(e){e!=this._overwrite&&(this._overwrite=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowEmpty",{get:function(){return this._allowEmpty},set:function(e){e!=this._allowEmpty&&(this._allowEmpty=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restrictNull",{get:function(){return this._restrictNull},set:function(e){e!=this._restrictNull&&(this._restrictNull=e,this._changed())},enumerable:!1,configurable:!0}),e.prototype.clickHandler=function(e){this.restrictNull&&this._moveCaret()},e.prototype.clearBuffer=function(e,t){e=arguments.length>0?e:0,t=arguments.length>1?t:this._tests.length;for(var i=e;i<t;i++)this._buffer[i]=this.$_getPlaceHolder(i),this._defBuffer[i]=""},e.prototype.writeBuffer=function(e,t){if(void 0===t&&(t=!1),e){t&&this.clearBuffer();for(var i=0,n=0,r=this._tests.length;i<r;i++)if(this._tests[i]&&this._tests[i]instanceof RegExp)for(var o=void 0;o=e[n++];)if(!this._editor.skipMaskChar(o)&&this._tests[i].test(o)){this._buffer[i]=o,this._defBuffer[i]=o;break}}return this._buffer&&this._buffer.join("")},e.prototype.getStripValue=function(){var e=[],t=[];if(""==this._defBuffer.join(""))return null;if(this.includedFormat)for(var i=0,n=this._buffer.length;i<n;i++){var r=this._buffer[i];!this._tests[i]||this._tests[i].test(r)?e.push(r):r==this.$_getPlaceHolder(i)&&this._tests[i].test(" ")&&e.push(" ")}else for(i=0,n=this._buffer.length;i<n;i++)this._tests[i]&&this._tests[i]instanceof RegExp&&this._tests[i].test(this._buffer[i])&&(t.length>0&&(e=e.concat(t),t=[]),e.push(this._buffer[i]));return e.join("")},e.prototype.setOptions=function(e){if("string"==typeof e)this.$_parseMask(e);else if(e.definitions&&this.$_parseDefinitions(e.definitions),e.placeHolder&&(this._placeHolder=e.placeHolder),e.editMask&&this.$_parseMask(e.editMask),null!=e.includedFormat&&(this._includedFormat=e.includedFormat),e.invalidFormatMessage&&(this._invalidFormatMessage=e.invalidFormatMessage),null!=e.allowEmpty&&(this._allowEmpty=e.allowEmpty),null!=e.showInvalidFormatMessage&&(this._showInvalidFormatMessage=e.showInvalidFormatMessage),null!=e.overwrite&&(this._overwrite=e.overwrite),null!=e.overWrite&&(this._overwrite=e.overWrite),null!=e.restrictNull&&(this._restrictNull=e.restrictNull),this._restrictNull&&this._editor){var t=this._editor._editor;!t.onclick&&(t.onclick=this.clickHandler.bind(this))}},e.prototype.checkValid=function(){var e=[];if(this.allowEmpty){for(var t=0,i=this._tests.length;t<i;t++)e[t]=this.$_getPlaceHolder(t);if(e.join("")===this._buffer.join(""))return!0}for(t=0,i=this._tests.length;t<i;t++){var n=this._buffer[t];if(this._tests[t]&&!this._tests[t].test(n)&&n==this.$_getPlaceHolder(t)&&!this._tests[t].test(" "))return!1}return!0},e.prototype._changed=function(){},e.prototype._moveCaret=function(e,t){for(var i=this._editor._editor,n=e=arguments.length>0?e:i.selectionStart,r=t=arguments.length>1?t:i.selectionEnd,o=e-1;o>=0;o--){if(this._tests[o]&&this._tests[o].test(this._buffer[o])){n=o+1;break}n=o}for(o=t-1;o>=0;o--){if(this._tests[o]&&this._tests[o].test(this._buffer[o])){r=o+1;break}r=o}if(n!=e||r!=t){for(o=n;o<=e&&!this._tests[o];o++)n++;for(o=r;o<=t&&!this._tests[o];o++)r++;return i.setSelectionRange(n,r),!0}return n!=e||r!=t},e.prototype.$_setCaret=function(e,t){this._editor._editor.setSelectionRange(e,t)},e.prototype.$_parseDefinitions=function(e){for(var t in e)"string"==typeof e[t]&&(this._definitions[t]=new RegExp(e[t]))},e.prototype.$_parseMask=function(e){var t=this._tests=[],i=this._definitions,n=e.split("");this._editMask=e,this._buffer=[];for(var r=0,o=n.length;r<o;r++)t.push(i[n[r]]),this._buffer.push(i[n[r]]?this.$_getPlaceHolder(r):n[r])},e.prototype.$_getPlaceHolder=function(e){return this._placeHolder&&this._placeHolder.length>e?this._placeHolder[e]:this._tests[e]?"_":this._editMask&&this._editMask.length>e?this._editMask[e]:"_"},e.prototype.$_seekPrev=function(e){for(;--e>=0&&!this._tests[e];);return Math.max(0,e)},e.prototype.$_seekNext=function(e){for(;++e<this._editMask.length&&!this._tests[e];);return Math.min(this._editMask.length,e)},e.prototype.$_shiftL=function(e,t){var i=this._editMask.length,n=this._buffer;if(e>=0)for(var r=e,o=this.$_seekNext(t);i>r;r++)if(this._tests[r]){if(!(i>o&&this._tests[r].test(n[o])))break;n[r]=n[o],this._defBuffer[r]=this._defBuffer[o],n[o]=this.$_getPlaceHolder(o),this._defBuffer[o]="",o=this.$_seekNext(o)}},e.prototype.$_shiftR=function(e){for(var t,i,n=this._editMask.length,r=this._buffer,o=e,s=this.$_getPlaceHolder(e);n>o;o++)if(this._tests[o]){if(t=this.$_seekNext(o),i=r[o],this._defBuffer[o]=s,r[o]=s,!(n>t&&this._tests[t].test(i)))break;s=i}},e.prototype.keydown=function(e){var t=this._editor.editor;if(!t.readOnly){var i=e.which||e.keyCode,n=t.selectionStart,r=t.selectionEnd;if(46===i||8===i)n==r&&(n=46!==i?this.$_seekPrev(n):r=this.$_seekNext(n-1),r=46===i?this.$_seekNext(r):r),this.clearBuffer(n,r),!this._overwrite&&this.$_shiftL(n,r-1),t.value=this.writeBuffer(),this.$_setCaret(Math.max(0,n),Math.max(0,n));else if(39===i||35===i)return this._moveCaret();this._pStart=t.selectionStart}},e.prototype.keyPress=function(e){var t=this._editor.editor;if(!t.readOnly){this.restrictNull&&this._moveCaret();var i,n=t.selectionStart,r=t.selectionEnd,o=e.which||e.keyCode;this.clearBuffer(n,r),n!==r&&this.$_shiftL(n,r-1);var s=this.$_seekNext(n-1);this._editMask&&this._editMask.length>s&&this._tests[s]&&this._tests[s].test(i=String.fromCharCode(o))&&(!this._overwrite&&this.$_shiftR(n),this._buffer[s]=i,this._defBuffer[s]=i,t.value=this.writeBuffer(),s=this.$_seekNext(s),this.$_setCaret(Math.max(0,s),Math.max(0,s))),this._pStart=t.selectionStart}},e.prototype.input=function(e){var t=this._editor.editor;if(!t.readOnly){var i=t.value;/[---]/.test(i)&&(t.value=t.value.replace(/[---]/g,""),null!=this._pStart&&t.setSelectionRange(this._pStart,this._pStart))}},e}(),Yb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._maxLength=0,t._fontSize=0,t._modified=!1,t}return gd(t,e),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){e!=this._maxLength&&(this._maxLength=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize=isNaN(e)?0:Math.max(0,e)},enumerable:!1,configurable:!0}),t.prototype._createContainer=function(e){var t=e.createElement("div"),i=t.style;return t.spellcheck=!1,i.position="absolute",i.width="0px",i.height="0px",i.padding="0px",i.margin="0px",t},t.prototype.initOptions=function(){e.prototype.initOptions.call(this),this._maxLength=0},Object.defineProperty(t.prototype,"readonly",{set:function(e){this._editor.readOnly=this._readOnly=e},enumerable:!1,configurable:!0}),t.prototype.isEdited=function(){return this._modified},t.prototype.setVisible=function(t,i){e.prototype.setVisible.call(this,t,i);var n=this._container.style;t?(n.border="",n.boxShadow=""):t||(n.border="none",n.boxShadow="none")},t.prototype.setEditIndex=function(t){e.prototype.setEditIndex.call(this,t);var i=this._editor.style;Bp.isMobile()?i.fontSize=Math.max(this.fontSize,16)+"px":this.fontSize>0&&(i.fontSize=this.fontSize+"px");var n=t.valueColumn;if(n)switch(this._textCase==Hd.DEFAULT?n.textInputCase:this._textCase){case Hd.LOWER:this._editor.style.textTransform="lowercase";break;case Hd.UPPER:this._editor.style.textTransform="uppercase";break;default:this._editor.style.textTransform="none"}},t.prototype.getEditText=function(){return this._editor.value},t.prototype.setEditValue=function(t){e.prototype.setEditValue.call(this,t),this._editor.value=this._valToStr(t)},t.prototype.getEditValue=function(e,t){void 0===e&&(e=!0);var i=this._editField(),n=this._emptyValue;try{var r=i.dataType,o=this._editor.value;if(r==vd.TEXT)o||void 0===this._emptyValue||(o=this._emptyValue),void 0===(n=this._strToVal(o))&&(n="");else{if(r===vd.OBJECT){var s=this._editIndex.dataColumn.objectKey||i.objectKey,a=this._editIndex.item.getData(i.index)||{};return a[s]=o,a}if(Bp.isWhiteSpace(o))if(void 0!==this._emptyValue)n=this._strToVal(this._emptyValue);else switch(r){case vd.NUMBER:isNaN(this._oldValue)&&(n=NaN);break;case vd.DATETIME:null===this._oldValue&&(n=null);case vd.BOOLEAN:}else n=this._strToVal(o)}if(n===Gb.InvalidFormat)return n;n=i.readValue(n)}catch(l){if(e)throw l;n=this._emptyValue}return n},t.prototype._selectAll=function(){var e=this._editor;if(e.select&&e.value){var t=e.value;e.value="",e.value=t,e.select()}},t.prototype._setSelectionRange=function(e,t){try{var i=this._editor;(!Bp.isMobile()||!this.hasList)&&null!=i.selectionStart&&i.setSelectionRange(e,t)}catch(n){Bp.log("setSelectionRange fail type => ".concat(this._editor.getAttribute("type")))}},t.prototype._doBeginEdit=function(){if(this._modified=!1,this.visible)return Bp.isMobile()&&this.caretToLast(),!0},t.prototype._doEndEdit=function(){this._modified=!1},t.prototype._doCommit=function(){},t.prototype.$_createEditor=function(e,t){var i=$p(e);this._container=this._createContainer(i),e.appendChild(this._container);var n="$$_rg_editor"+this.$_hash,r=i.createElement("label");r.setAttribute("for",n);var o=r.style;o.display="none",o.position="absolute",o.width=o.height="0px";var s=i.createElement(t);s.id=n,o=s.style,s.autocomplete="off",o.position="absolute",o.boxSizing="border-box",o.margin="0px",o.padding="0px 2px",o.wordWrap="normal",o.overflow="hidden",o.resize="none",o.border="none",o.outline="none",o.left="0px",o.top="0px",o.width="100%",o.height="100%",o["-webkit-user-modify"]="read-write-plaintext-only",o["white-space"]="pre",o["-webkit-transform"]="translateZ(0)",s.tabIndex=-1,this._container.appendChild(s),this._container.appendChild(r),s.onkeydown=this._keyDownHandler.bind(this),s.onkeyup=this._keyUpHandler.bind(this),s.onkeypress=this._keyPressHandler.bind(this),s.oninput=this._inputHandler.bind(this),s.onpaste=this._pasteHandler.bind(this),s.oncopy=this._copyHandler.bind(this),s.oncut=this._copyHandler.bind(this);var a=this._grid.container;return a.$_addListener(s,"compositionstart",this._compositionstartHandler.bind(this),!1),a.$_addListener(s,"compositionupdate",this._compositionupdateHandler.bind(this),!1),a.$_addListener(s,"compositionend",this._compositionendHandler.bind(this),!1),s},t}(Gb),qb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._doDispose=function(){this._editor.$_owner=null,this._editor.onkeydown=null,this._editor.onkeyup=null,this._editor.onkeypress=null,this._editor.oninput=null,this._editor.onpaste=null,this._editor.oncopy=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._editor.value},set:function(e){!this._editor||e==this._editor.value&&e==this._controller.getData(this._editIndex)||(this._editor.value=e,this._doChanged())},enumerable:!1,configurable:!0}),t.prototype.setMask=function(e){this._mask=null,e&&(this._mask=new zb(this,e))},t.prototype.setAlignment=function(e){this._container.style.textAlign="left"},t.prototype._createEditor=function(t){var i=e.prototype.$_createEditor.call(this,t,"input");return this._defMaxLength=i.maxLength>0?i.maxLength:1e6,i},t.prototype.initOptions=function(){e.prototype.initOptions.call(this),this._editor.readOnly=this._readOnly=!1,this._mask&&(this._mask=this._mask.dispose())},t.prototype.applyOptions=function(t){e.prototype.applyOptions.call(this,t),t.mask&&this.setMask(t.mask)},t.prototype.caretToLast=function(){var e=Bp.toStr(this._editor.value).length;this._setSelectionRange(e,e)},t.prototype.setEditIndex=function(t){e.prototype.setEditIndex.call(this,t),this._editor.maxLength=this.maxLength>0?this.maxLength:this._defMaxLength},t.prototype.setEditorZIndex=function(e){var t=this._editor.style,i=this._grid.displayOptions.baseZindex;e?t.zIndex=String(i+0):t.removeProperty("z-index")},t.prototype._doChanged=function(){this._requestStart(),this._started&&(this._textReadOnly||!this._editor.readOnly||this.allowEmpty&&""===this.text)&&(this._modified=!0,this._dispatchChange())},t.prototype.setBounds=function(e,t,i,n,r){Bp.setBounds(this._container,e,t,i,n),0==i||0==n?this._editor.style.width="100%":r>0&&(this._editor.style.height=Math.round(n-4)+"px",this._editor.style.width=r+"px")},t.prototype._doPaste=function(t,i){if(this._mask){t.preventDefault();var n=this._editor,r=n.value,o=n.selectionStart,s=n.selectionEnd;r=r.substr(0,o)+i+r.substr(s),n.value=this._mask.writeBuffer(r,!0)}else e.prototype._doPaste.call(this,t,i)},t.prototype._keyDownHandler=function(e){if(!this.isDisabled()){var t=this._editor,i=e.keyCode,n=Bp.ctrlKey(e);if(n){if(this.visible&&Bp.included(i,89,90,121,122))return;if(Bp.isIE){if(86===i&&t.readOnly)return e.preventDefault(),this._pasteHandler(e),!1;if((88===i||67===i||45===i)&&""==t.value&&Gb.copyCutProc(this,e))return!1}}switch(this._inputValue=t.value,i){case 8:case 46:this._sendToParent(e)||(!this.visible&&this._requestStart()?t.readOnly&&!this.allowEmpty||!this._controller._getData(this._editIndex)||(this._mask?(e.preventDefault(),e.stopImmediatePropagation(),this._mask.keydown(e),this._doChanged()):this.text=""):this._mask&&(e.preventDefault(),e.stopImmediatePropagation(),this._mask.keydown(e),this._doChanged()),8===i&&t.readOnly&&(e.preventDefault(),e.stopImmediatePropagation()));break;case 9:return!this._sendToParent(e);case 37:if(!this.visible||0==t.selectionEnd&&t.selectionEnd==t.selectionStart)return!this._sendToParent(e);if(t.readOnly&&Bp.isChrome)return!this._sendToParent(e);e.stopImmediatePropagation();break;case 39:if(!this.visible||t.selectionEnd==t.value.length&&t.selectionEnd==t.selectionStart)return!this._sendToParent(e);if(t.readOnly&&Bp.isChrome)return!this._sendToParent(e);if(!Bp.specialKey(e)&&this._mask&&this._mask.restrictNull){var r=t.selectionStart;this._mask._moveCaret(r+1,r+1)&&(e.preventDefault(),e.stopImmediatePropagation())}e.stopImmediatePropagation();break;case 36:if(!this.visible)return!this._sendToParent(e);e.stopImmediatePropagation();break;case 35:if(!this.visible)return!this._sendToParent(e);if(this._mask&&this._mask.restrictNull){var o=t.value?t.value.length-1:0;this._mask._moveCaret(o,o)&&(e.preventDefault(),e.stopImmediatePropagation())}e.stopImmediatePropagation();break;case 32:if(!this.visible||n||e.altKey)return!this._sendToParent(e);break;case 38:case 33:case 40:case 34:case 13:case 27:case 113:case 45:return e.preventDefault(),e.stopImmediatePropagation(),!this._sendToParent(e);case 229:this._sendToParent(e);break;default:return!this._sendToParent(e,null,!0)}return Bp.isFirefox?!n&&!e.altKey&&229!==i&&i>=32&&(i<112||i>130)&&this._requestStart():Bp.isIE,!0}},t.prototype._keyUpHandler=function(e){if(!this.isDisabled()){var t=e.keyCode;switch(8!=t&&46!=t||Bp.ieOld&&this.visible&&!this._editor.readOnly&&this._editor.value!=this._inputValue&&this._doChanged(),e.keyCode){case 37:case 39:case 36:case 35:case 32:this.visible||this._sendToParent(e,3);break;default:this._sendToParent(e,3)}}},t.prototype._keyPressHandler=function(e){if(!this.isDisabled()){var t=e.which||e.keyCode,i=Bp.isMac&&e.metaKey,n=Bp.ctrlKey(e);this._sendToParent(e,2),Bp.isFirefox?n||e.altKey||!(0==t||t>=32)||(this._requestStart()?this._mask&&(this._mask._pStart=e.target.selectionStart,this._mask.keyPress(e),this._doChanged(),e.preventDefault()):e.preventDefault()):!i||122!==t&&121!==t?(!i||99!==t&&118!==t&&120!==t)&&(i&&e.shiftKey&&32===t||t>=32&&(this._requestStart()?this._mask&&(this._mask._pStart=e.target.selectionStart,this._mask.keyPress(e),this._doChanged(),e.preventDefault()):e.preventDefault())):e.preventDefault()}},t.prototype._compositionstartHandler=function(e){this.isDisabled()||(this._composing=!0)},t.prototype._compositionendHandler=function(){this._composing=!1},t.prototype._compositionupdateHandler=function(){this._composing=!0,!this._started&&this._requestStart(),this._started&&!this._editor.readOnly&&(this._checkHangeul=!0)},t.prototype._changeHandler=function(e){},t.prototype._inputHandler=function(e){this.isDisabled()||(!Bp.isIE||this._started||this._composing)&&"historyUndo"!==e.inputType&&"historyRedo"!==e.inputType&&(this._mask&&this._mask.input(e),this._doChanged())},t.prototype._getInputSelector=function(){return null},t}(Yb),Kb=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),Object.defineProperty(t.prototype,"inputCharacters",{get:function(){return this._inputCharacters},set:function(e){this._inputCharacters=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignoreCharacters",{get:function(){return this._ignoreCharacters},set:function(e){this._ignoreCharacters=e},enumerable:!1,configurable:!0}),t.prototype.initOptions=function(){this._inputCharacters=null,this._ignoreCharacters=null,e.prototype.initOptions.call(this)},t.prototype.initDefaultOptions=function(){},t.prototype._inputHandler=function(t){this.$_resetValue(t),e.prototype._inputHandler.call(this,t)},t.prototype._keyDownHandler=function(t){return this._pStart=t.target.selectionStart,e.prototype._keyDownHandler.call(this,t)},t.prototype._createEditor=function(t){var i=e.prototype._createEditor.call(this,t);return i.tabIndex=-1,i},t.prototype._getInputSelector=function(){return t.INPUT_CSS},t.prototype.$_resetValue=function(e){var t,i,n=this,r=this._editor,o=r.value,s=function(t){t.test(o)&&(i=!0,"insertFromPaste"===e.inputType?(o=o.replace(t,""),n._pStart+=e.data.replace(t,"").length):o=n._inputValue?n._inputValue.replace(t,""):o.replace(t,""))};this.visible&&((t=this.inputCharacters)&&s.call(this,new RegExp("[^"+t+"]","g")),(t=this.ignoreCharacters)&&s.call(this,new RegExp("["+t+"]","g")),i&&(r.value=o,null!=this._pStart&&r.setSelectionRange(this._pStart,this._pStart)),this._pStart=null)},t.INPUT_CSS="rg-text-editor",t}(qb),Xb=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),t.prototype._createEditor=function(t){var i=e.prototype._createEditor.call(this,t);return i.setAttribute("type","password"),i.tabIndex=-1,i},t.prototype._getInputSelector=function(){return t.INPUT_CSS},t.prototype.initDefaultOptions=function(){},t.prototype.prepare=function(){},t.INPUT_CSS="rg-password-editor",t}(qb),Zb=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),t.prototype._doDispose=function(){this._editor.onkeydown=null,this._editor.onkeyup=null,this._editor.onkeypress=null,this._editor.oninput=null,this._editor.onpaste=null,this._editor.oncopy=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"minHeight",{get:function(){return this._minHeight},set:function(e){e!=this._minHeight&&(this._minHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._minWidth},set:function(e){this._minWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"altEnterNewLine",{get:function(){return this._altEnterNewLine},set:function(e){e!=this._altEnterNewLine&&(this._altEnterNewLine=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._editor.value},enumerable:!1,configurable:!0}),t.prototype.setAlignment=function(e){this._container.style.textAlign="left"},t.prototype.initOptions=function(){e.prototype.initOptions.call(this),this._minHeight=0,this._height=0,this._minWidth=0,this._width=0,this._altEnterNewLine=!1,this._editor.style.setProperty("overflow","hidden"),this.setReadOnly(!1)},t.prototype.initDefaultOptions=function(){},t.prototype.setEditIndex=function(t){e.prototype.setEditIndex.call(this,t),this._editor.maxLength=this.maxLength>0?this.maxLength:2e9},t.prototype.setCellEditValue=function(t){e.prototype.setCellEditValue.call(this,t,!1)},t.prototype.setEditorZIndex=function(e){function t(e,t,i){var n=t.style;e?n.zIndex=String(i+0):n.removeProperty("z-index")}var i=this._grid.displayOptions.baseZindex;t(e,this._editor,i),this._grid.accessibility&&t(e,this._container,i)},t.prototype._doChanged=function(){this._requestStart(),this._started&&!this._editor.readOnly&&(this._modified=!0,this._dispatchChange(),this.$_resetBounds())},t.prototype.$_resetBounds=function(){var e,t,i=Bp.getSize(this._container),n=this._editor,r=this._grid.getEditCellBounds(this,this._editIndex);this._height<0?e=r.height+(Bp.isMobile()?3:1):this._height>0&&(e=this._height),this._width<0?t=r.width+(Bp.isMobile()?3:1):this._width>0&&(t=this._width);var o=i.cx,s=i.cy,a=i.width,l=Math.round(i.height),u=(e&&n.scrollHeight-n.clientHeight)>0?Bp.isMac?0:15:0,c=(t&&n.scrollWidth-n.clientWidth)>0?Bp.isMac?0:15:0;e?(n.style.overflowY="auto",l=e):n.scrollHeight+c>l&&(l=n.scrollHeight+6+c),t?(n.style.overflowX="auto",a=t):n.scrollWidth+u>a&&(a=n.scrollWidth+6+u);var h=isNaN(this._minHeight)?0:this._minHeight;h>0&&(l=Math.max(l,h));var d=isNaN(this._minWidth)?0:this._minWidth;d>0&&(a=Math.max(a,d)),i=Bp.getSize(this._parentElement),a=Math.min(i.width,a),l=Math.min(i.height,l),o+a>i.width&&(o=i.width-a),s+l>i.height&&(s=i.height-l),Bp.setBounds(this._container,Math.max(o,0),Math.max(s,0),a,l)},t.prototype._createEditor=function(t){var i=e.prototype.$_createEditor.call(this,t,"textarea"),n=$p(t),r=i.style;r.padding="0px";var o=this._dummyEditor=n.createElement("input");return(r=o.style).width="1px",r.height="1px",r.position="absolute",r.top="0px",r.zIndex="-1",r.border="none",o.tabIndex=-1,Bp.isWin&&this._container.appendChild(o),i},t.prototype.setBounds=function(e,t,i,n){Bp.setBounds(this._container,e,t,i,n),e>Bp.$_INVISIBLE_EDIT_BOUNDS.x&&this.$_resetBounds()},t.prototype._getInputSelector=function(){return t.INPUT_CSS},t.prototype._compositionstartHandler=function(e){this.isDisabled()||(this._composing=!0,this._requestStart())},t.prototype._compositionendHandler=function(){this._composing=!1},t.prototype._compositionupdateHandler=function(){this._composing=!0},t.prototype._keyDownHandler=function(e){if(!this.isDisabled()){var t=this._editor,i=e.keyCode;if(Bp.ctrlKey(e)){if(this.visible&&(90===i||89===i))return;if(Bp.isIE){if(86===i&&t.readOnly)return e.preventDefault(),this._pasteHandler(e),!1;if((88===i||67===i||45===i)&&""==t.value&&Gb.copyCutProc(this,e))return!1}}switch(i){case 8:case 46:this._sendToParent(e)||!this.visible&&this._requestStart()&&(e.preventDefault(),e.stopImmediatePropagation(),!this._editor.readOnly&&this._controller.getData(this._editIndex)&&(this._editor.value="",this._modified=!0,this._dispatchChange()));break;case 9:return!this._sendToParent(e);case 37:if(!this.visible||0==t.selectionEnd&&t.selectionEnd==t.selectionStart)return!this._sendToParent(e);break;case 39:if(!this.visible||t.selectionEnd==t.value.length&&t.selectionEnd==t.selectionStart)return!this._sendToParent(e);break;case 36:case 35:case 38:case 33:case 40:case 34:if(!this.visible)return!this._sendToParent(e);e.stopImmediatePropagation();break;case 32:if(!this.visible)return!this._sendToParent(e);break;case 13:var n=Bp.ctrlKey(e);if(this.altEnterNewLine){if(!(e.altKey&&this.editing||e.shiftKey))return!this._sendToParent(e)}else if(!(n&&this.editing||e.shiftKey))return!this._sendToParent(e);if((this.altEnterNewLine&&e.altKey||!this.altEnterNewLine&&n)&&!e.shiftKey){e.preventDefault(),e.stopImmediatePropagation();var r=t.value;if(r)try{this._grid.container._dummyFocus=!0,Bp.isWin&&this._dummyEditor&&this._dummyEditor.focus();var o=t.selectionEnd;r=r.substring(0,o)+"\r\n"+r.substring(o),t.value=r,t.setSelectionRange(o+1,o+1),Bp.isWin&&t.focus(),this._doChanged()}finally{this._grid.container._dummyFocus=!1}}break;case 27:case 113:case 45:return e.preventDefault(),e.stopImmediatePropagation(),!this._sendToParent(e);case 229:break;default:return this._sendToParent(e,null,!0),!0}return e.keyCode,!0}},t.prototype._keyUpHandler=function(e){if(!this.isDisabled()){var t=e.keyCode;switch(8!=t&&46!=t||Bp.ieOld&&this.visible&&!this._editor.readOnly&&this._editor.value!=this._inputValue&&this._doChanged(),e.keyCode){case 37:case 39:case 36:case 35:case 32:this.visible||this._sendToParent(e,3);break;default:this._sendToParent(e,3)}}},t.prototype._keyPressHandler=function(e){var t=e.which||e.keyCode,i=Bp.isMac&&e.metaKey;this.isDisabled()||(!i||122!==t&&121!==t?(!i||99!==t&&118!==t)&&(i&&e.shiftKey&&32===t||t>=32&&!this._requestStart()&&e.preventDefault()):e.preventDefault())},t.prototype._inputHandler=function(e){this.isDisabled()||"historyUndo"!==e.inputType&&"historyRedo"!==e.inputType&&this._doChanged()},t.INPUT_CSS="rg-multiline-editor",t}(Yb),Jb=/[---]/g,Qb=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._regxAll=/[\d]|,|\.|\-|\+|e|E/,n._regxPos=/[\d]|,|\.|\+|e|E/,n._regxInt=/[\d]|,|\+|\-/,n._regxPosInt=/[\d]|,|\+/,n._regx=n._regxAll,n._decLen=void 0,n._decimalFormatter=void 0,n._isMultiple=!1,n._active=!1,n._stepChanged=!1,n._editor.style["ime-mode"]="disabled",n._editor.style["-webkit-ime-mode"]="disabled",n._editor.style["-moz-ime-mode"]="disabled",n._editor.style["-ms-ime-mode"]="disabled",n}return gd(t,e),Object.defineProperty(t.prototype,"positiveOnly",{get:function(){return this._positiveOnly},set:function(e){e!=this._positiveOnly&&(this._positiveOnly=e,this.$_resetRistrict())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"integerOnly",{get:function(){return this._integerOnly},set:function(e){e!=this._integerOnly&&(this._integerOnly=e,this.$_resetRistrict())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editFormat",{get:function(){return this._editFormat},set:function(e){if(e!=this._editFormat)if(this._editFormat=e,e){var t=this._decimalFormatter=new a_(e);t&&(this._decSep=t.separator||r_.messages.decimalSeparator,this._groupSep=t.groupSep||r_.messages.thousandsSeparator,this._decLen=Math.max(t.minDigits,t.maxDigits))}else this._decimalFormatter=void 0,this._decSep=r_.messages.decimalSeparator,this._groupSep=r_.messages.thousandsSeparator,this._decLen=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multipleChar",{get:function(){return this._multipleChar},set:function(e){e!=this._multipleChar&&(this._multipleChar=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addString",{get:function(){return this._addString},set:function(e){e!=this._addString&&(this._addString=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLengthExceptComma",{get:function(){return this._maxLengthExceptComma},set:function(e){e!=this._maxLengthExceptComma&&(this._maxLengthExceptComma=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxIntegerLength",{get:function(){return this._maxIntegerLength},set:function(e){e!=this._maxIntegerLength&&(this._maxIntegerLength=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blankWhenSpace",{get:function(){return this._blankWhenSpace},set:function(e){e!=this._blankWhenSpace&&(this._blankWhenSpace=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){e!==this._step&&0!=e&&(this._step=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){e!==this._delay&&(this._delay=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textReadOnly",{get:function(){return this._textReadOnly},set:function(e){this._setTextReadOnly(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showStepButton",{get:function(){return this._showStepButton},set:function(e){this._showStepButton=e},enumerable:!1,configurable:!0}),t.prototype.setMask=function(e){this._mask=null},t.prototype.initOptions=function(){e.prototype.initOptions.call(this),this.editFormat=void 0,this._positiveOnly=!1,this._integerOnly=!1,this._multipleChar=void 0,this._addString="000",this._blankWhenSpace=!1,this._maxLengthExceptComma=!1,this._maxIntegerLength=0,this._step=1,this._min=this._max=void 0,this._delay=100,this._active=!1,this._direction="vertical",this._showStepButton=!1,this._textReadOnly=!1,this.$_resetRistrict()},t.prototype.initDefaultOptions=function(){var e=this._grid;e&&Gb.initDefault(this,u_.editor.numberCellEditor,e.editorOptions.numberCellEditor)},t.prototype.hasButton=function(e,t){return null!=t.showStepButton&&t.showStepButton},Object.defineProperty(t.prototype,"buttonCount",{get:function(){return 2},enumerable:!1,configurable:!0}),t.prototype.setEditIndex=function(t){e.prototype.setEditIndex.call(this,t),this._editor.maxLength=this.maxLengthExceptComma||this.maxLength<=0?this._defMaxLength:this.maxLength},t.prototype._inputHandler=function(t){t.data&&t.data.match(Jb)?t.target.value=this._inputValue:(this._editFormat&&this.$_editFormatting(t),e.prototype._inputHandler.call(this,t))},t.prototype._keyPressHandler=function(t){var i=t.keyCode||t.which;if(Bp.isFirefox){if(t.ctrlKey||0===t.charCode)return void e.prototype._keyPressHandler.call(this,t)}else if(Bp.isSafari&&Bp.ctrlKey(t)&&Bp.included(i,99,118,120))return void e.prototype._keyPressHandler.call(this,t);var n=!0,r=String.fromCharCode(t.keyCode||t.charCode);(!this._regx.test(r)||t.target.value&&t.target.value.indexOf(this._decSep)>=0&&r==this._decSep)&&(this._multipleChar&&r===this._multipleChar||(n=!1,(!this.blankWhenSpace||" "!==r)&&t.preventDefault()));var o=t.target.selectionStart,s=t.target.selectionEnd,a=t.target.value,l=new RegExp("\\"+this._groupSep,"g"),u=a?a.split(""):[];if(u.splice(o,s-o,r===this._multipleChar?this._addString:r),u=u.join("").replace(l,""),this.maxLength>0&&n&&this.maxLengthExceptComma&&a){var c=u&&"-"===u[0];c&&(u=u.substr(1)),u.length>this.maxLength&&t.preventDefault(),u=c?"-"+u:u}if(this._maxIntegerLength>0&&r!==this._decSep){var h=Math.floor(this.$_strToNum(u));if(!isNaN(h)){var d=Math.abs(h).toString().length;this._maxIntegerLength<d&&t.preventDefault()}}this._isMultiple=r==this._multipleChar,e.prototype._keyPressHandler.call(this,t)},t.prototype._keyDownHandler=function(t){if(!this.isDisabled()){var i=t.keyCode||t.charCode;if(this._isMultiple=!1,(8===i||46===i)&&this.editing&&this._editFormat){var n=t.target,r=n.value,o=r.length,s=r&&r.split(""),a=n.selectionStart,l=n.selectionEnd;if(a!==l)return e.prototype._keyDownHandler.call(this,t);var u=r[8===i?a-1:a];if(u===this._groupSep||u===this._decSep)if(u===this._decSep&&a===(8===i?r.length:r.length-1));else{s.splice(8===i?a-2:a+1,1),n.value=s.join(""),this.$_editFormatting(t),r=n.value;var c=o-(8===i?r.length:o);n.setSelectionRange(a-c,l-c),this._doChanged(),t.preventDefault()}}return e.prototype._keyDownHandler.call(this,t)}},t.prototype._compositionstartHandler=function(e){this.isDisabled()||this._requestStart()},t.prototype._dispatchChange=function(){this.visible&&(this.$_resetValue(),e.prototype._dispatchChange.call(this))},t.prototype.setEditValue=function(e){var t=parseFloat(e);isNaN(t)?this._editor.value="":this._editFormat&&"number"==typeof t?this._editor.value=this._decimalFormatter.getText(e):this._editor.value=t},t.prototype.getEditValue=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1),this.$_resetValue();var i=this._emptyValue;try{var n=this._editor.value;if(n=n&&n.trim()){var r=new RegExp("\\"+this._groupSep,"g"),o=new RegExp("[\\"+this._decSep+"]+","g");n=(n=(n=(n=(n=(n=n.replace(r,"")).replace(o,".")).replace(/\++/g,"+")).replace(/\-+/g,"-")).replace(/\+\-/g,"+")).replace(/\-\+/g,"-")}n?(i=parseFloat(n),t&&(i=null!=this._max?Math.min(i,this._max):i,i=null!=this._min?Math.max(i,this._min):i)):i=null!=i?i:void 0}catch(s){if(e)throw s}return i},t.prototype.setCellEditValue=function(e){!this.readOnly&&this._requestStart()&&("string"!=typeof e&&"number"!=typeof e||(e=this.$_strToNum(e),this.setEditValue(e),this._doChanged()))},t.prototype.buttonDown=function(e,t){var i,n=t.target;Bp.stopEvent(t),"up"===n.$_editButtonType?i=this.step:"down"===n.$_editButtonType&&(i=-this.step),i&&(this.$_changeStepValue(i),this._active=!0,setTimeout(function(){this._active&&!this._stepTimer&&(this._stepTimer=setInterval(function(){this.$_changeStepValue(i)}.bind(this),this._delay))}.bind(this),300))},t.prototype.buttonUp=function(e,t){this._active=!1,clearInterval(this._stepTimer),this._stepTimer=null},t.prototype.setButtonStyle=function(e,t,i,n,r){var o=e.style;i?(0===t?o.top="0px":o.removeProperty("top"),0===t?o.removeProperty("bottom"):o.bottom="0px",o.right=n+"px",o.height="9px"):(o.top="0px",o.removeProperty("bottom"),o.right=n+r*t+"px",o.height="100%"),o.width=r+"px";var s=0===t?"rg-button-step-up":"rg-button-step-down";return e.className=s,e.$_editButtonType=0===t?"up":"down",!0},t.prototype._getInputSelector=function(){return t.INPUT_CSS},t.prototype.setFocus=function(){!this._stepChanged&&e.prototype.setFocus.call(this)},t.prototype.$_strToNum=function(e){e=""+e;var t=new RegExp("\\"+this._decSep,"g"),i=new RegExp("\\"+this._groupSep,"g"),n="-"===e[0];e=e.replace(i,"").replace(t,".").replace(/\+/g,"");var r=parseFloat(e);return isNaN(r)?NaN:n?-Math.abs(r):r},t.prototype.$_formatNum=function(e,t,i){var n=e,r=n<0||0==n&&1/n==-1/0?"-":"",o=Math.max(t,i);o=isNaN(o)?2:o;var s=parseInt(n=Math.abs(+n||0).toFixed(o))+"",a=s.length>3?s.length%3:0;if(n.indexOf(".")>=0){for(var l=n.split(".")[1].split("");l.length>0&&"0"===l[l.length-1]&&l.length>t;)l.splice(l.length-1,1);n=l.join(""),o=l.length}return r+(a?s.substr(0,a)+this._groupSep:"")+s.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+this._groupSep)+(o?this._decSep+n:"")},t.prototype.$_editFormatting=function(e){var t=e.target,i=t.value,n=i&&"-"===i[0],r=i&&i[i.length-1]==this._decSep,o=t.selectionStart,s=t.selectionEnd;this._isMultiple&&this._addString&&(i=i.replace(new RegExp("\\"+this._multipleChar,"gi"),this._addString),o+=this._addString.length,s+=this._addString.length);var a,l=i.split(this._decSep);l.length>1&&(l.length=2,l[1]=l[1].substr(0,this._decimalFormatter._maxDigits),i=l.join(this._decSep)),a=2==l.length?Math.min(l[1].length,null!=this._decLen?this._decLen:99):0;var u=this.$_strToNum(i);if(!isNaN(u)){if(this.maxLength>0||this.maxIntegerLength>0){u=Math.abs(u);var c=String(u).split(".");this.maxIntegerLength>0&&(c[0]=c[0].substr(0,this.maxIntegerLength));var h=c.join(".");this.maxLength>0&&(h=h.substr(0,this.maxLength)),u=parseFloat(h),n&&(u=-u)}i=this.$_formatNum(u,a,this._decimalFormatter.maxDigits);var d=(i=r&&this._decLen&&i.indexOf(this._decSep)<0?i+this._decSep:i).length,p=t.value.length;1==Math.abs(d-p)&&(d>p?(o++,s++):i.indexOf(this._decSep)>=o-1&&(o--,s--)),t.value=i,t.setSelectionRange(Math.max(o,0),Math.max(s,0))}},t.prototype.$_resetValue=function(){if(this.visible){var e=this._editor,t=e.selectionStart,i=e.selectionEnd,n=e.value?e.value.length:0;e.value=e.value.replace(Jb,"").trim(),(e.value?e.value.length:0)==n?e.setSelectionRange(t,i):e.setSelectionRange(i,i)}},t.prototype.$_resetRistrict=function(){this._positiveOnly&&this._integerOnly?this._regx=this._regxPosInt:this._positiveOnly?this._regx=this._regxPos:this._integerOnly?this._regx=this._regxInt:this._regx=this._regxAll},t.prototype.$_changeStepValue=function(e){var t=this.getEditValue();t=null==t||t==isNaN(t)?0:t,t+=e,null!=this._max&&(t=Math.min(this._max,t)),null!=this._min&&(t=Math.max(this._min,t)),this.setEditValue(t),this._stepChanged=!0,this._doChanged(),this._stepChanged=!1},t.INPUT_CSS="rg-number-editor",t}(qb),ew=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-editor-marquee"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),t.style.pointerEvents="none"},t.prototype._doDraw=function(e){},t.prototype.spread=function(){var e=this._dom,t=e.style,i=e.parentElement,n=Bp.getSize(i);t.left=n.left+"px",t.top=-n.top+"px",t.width=n.width+"px",t.height=n.height+"px",this._setClassName(e)},t}(Sb),tw=function(e){function t(t,i){var n=e.call(this,t,i)||this;if(n._isMobile){var r=$p(i);n._marquee=new ew(r)}return n}return gd(t,e),t.prototype.hasButton=function(e,t){return!0},Object.defineProperty(t.prototype,"buttonCount",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasList",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isShowMarquee=function(){return this._isMobile&&this._grid.editorOptions.showMarquee&&!this._isTablet},t.prototype._showMarquee=function(e){this._marquee&&(e.appendChild(this._marquee._dom),this._marquee.spread())},t.prototype.registerPositionListener=function(){this._grid.container.addPositionListener(this)},t.prototype.unRegisterPositionListener=function(){this._grid.container.removePositionListener(this)},t.prototype._centerPopup=function(e,t){var i=Bp.getSize(t),n=Bp.getSize(e),r=Fp(e),o=Bp.getZoom(e),s=r.innerHeight/o;e.appendChild(t),t.style.left=(n.width-i.width)/2+"px",t.style.top=(s-i.height)/2-n.top+"px"},t.prototype._closeMarquee=function(){this._marquee&&Bp.detach(this._marquee._dom)},t.prototype._isMarquee=function(e){return this._marquee&&e===this._marquee._dom},Object.defineProperty(t.prototype,"textReadOnly",{get:function(){return this._textReadOnly},set:function(e){this._setTextReadOnly(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowEmpty",{get:function(){return this._allowEmpty},set:function(e){this._setAllowEmpty(e)},enumerable:!1,configurable:!0}),t}(qb);!function(e){e.BUTTON="button",e.EDITOR="editor"}(Rb||(Rb={})),function(e){e.NONE="none",e.ASCENDING="ascending",e.DESCENDING="descending"}(Tb||(Tb={})),function(e){e.VALUE="value",e.LABEL="label",e.VALUE_LABEL="valueLabel",e.LABEL_VALUE="labelValue"}(Db||(Db={}));var iw,nw,rw=function(e){function t(i){var n=e.call(this)||this;return n._items=null,n._itemIndex=-1,n._viewGridInside=!1,n._selected=!1,n._clickHandler=function(e){var i=e.currentTarget,n=Bp.getChildIndex(i);n>=0&&(this._itemIndex=n,this._selected=!0,this.fireEvent(t.CLOSE_UP,!0))}.bind(n),n._nextClickHandler=function(e){var t=e.currentTarget;this.$_addMoreItems(t)}.bind(n),n._container=i,n._element=n._createList(i.doc),n}return gd(t,e),t.prototype._doDispose=function(){this._container=null,this._containerElement=null,this._items=null,Bp.clearElements(this._element),this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){if(this._items=[],e)for(var t=0,i=e.length;t<i;t++)this._items.push({label:e[t].label,value:e[t].value,item:e[t].item,index:t})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemIndex",{get:function(){return this._itemIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewGridInside",{get:function(){return this._viewGridInside||Bp.isSlotMode()},set:function(e){this._viewGridInside=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listing",{get:function(){return this._containerElement&&this._containerElement.contains(this._element)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemCount",{get:function(){return 0==this.initCount?this._items&&this._items.length:this._element.children.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueIndex",{get:function(){var e=this._items,t=this._itemIndex;return e&&t>=0&&t<e.length?e[t].index:-1},set:function(e){if(e=Math.max(-1,e),this._itemIndex=-1,e>=0)for(var t=0,i=this._items.length;t<i;t++)if(this._items[t].index==e){this._itemIndex=t;break}this._itemIndex>=0&&this.listing&&this._refreshItems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},enumerable:!1,configurable:!0}),t.prototype.setItemIndex=function(e,t,i){var n=this._element.childNodes;if((e=Math.max(-1,e))<this._items.length&&(t||e!=this._itemIndex||e>=n.length-1)){if(i&&e>=n.length-1){var r=n[n.length-1];if(r.isMoreButton){var o=e-(n.length-1);o=(Math.floor(o/this.moreItemCount)+1)*this.moreItemCount,this.$_addMoreItems(r,o)}}this._itemIndex=e,this.listing&&this._refreshItems(),this._selected=e>=0}},t.prototype.setZIndex=function(e){this._element.style.zIndex=String(e)},t.prototype.show=function(e,t,i,n,r){this._containerElement=this.viewGridInside?this._container._container:e,this.sortStyle!=Tb.NONE&&this.$_sortItems(),this._show(t,i,n,r)},t.prototype.hide=function(){Bp.detach(this._element),this._containerElement=null},t.prototype.currentIsMore=function(e){var t=this._element.childNodes[null!=e?e:this._itemIndex];return t&&t.isMoreButton},t.prototype.addMoreItems=function(){if(this.currentIsMore(null)){var e=this._element.childNodes[this._itemIndex];this.$_addMoreItems(e,0)}},t.prototype._changed=function(){},t.prototype._createList=function(e){var t=e.createElement("div");return t.className="rg-dropdownlist",t.id="rg-dropdown-list-"+ow.$$_LIST_ID++,t.setAttribute("role","listbox"),t},t.prototype.$_sortItems=function(){this.sortStyle==Tb.ASCENDING?this._items.sort(function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}):this._items.sort(function(e,t){return e.label>t.label?-1:e.label<t.label?1:0})},t.prototype._show=function(e,t,i,n){var r=this._element;if(r){var o=r.style;o.position="absolute",o.cssFloat="none",o.clear="both",o.boxSizing="border-box",o.minWidth="20px",o.minHeight="10px",o.overflow="auto",o.top="-10000px",o.maxHeight="9999px",o.removeProperty("width"),o.removeProperty("height"),this._firstChild=null,Bp.clearChildren(r),Bp.disableSelection(r),this._containerElement.appendChild(r),this._cellWidth=i,this._itemIndex=-1,this._buildItems(),this.$_resetHeight(),o.removeProperty("max-height"),this._resetWidth(i),this.$_resetPosition(e,t,i,n),this._selected=!1}},t.prototype._getListElement=function(){return this._element},t.prototype.$_resetHeight=function(){var e=this._getListElement();if(this._firstChild){var t=Fp(this._firstChild),i=Bp.getSize(this._firstChild),n=this._firstChild.currentStyle||t.getComputedStyle(this._firstChild),r=parseInt(n.marginTop.replace("px",""));r=isNaN(r)?0:r;var o=parseInt(n.marginBottom.replace("px",""));o=isNaN(o)?0:o;var s=this.dropDownCount>0?Math.min(this.dropDownCount,this._items.length):this._items.length;e.style.height=(i.height+r)*s+4+o+"px"}else e.style.height="10px"},t.prototype._resetWidth=function(e){var t=this._element,i=Bp.getSize(t),n=this.dropDownWidth,r=n,o=t.offsetWidth?t.offsetWidth+(Bp.ieOld&&"border-box"===t.style.boxSizing?17:0):0;r<=0?(t.style.removeProperty("width"),r=r<0?e:10):t.style.width=r+"px";var s=0;if(this._firstChild){var a=Fp(this._firstChild),l=this._firstChild.currentStyle||a.getComputedStyle(this._firstChild),u=parseInt(l.marginLeft.replace("px",""));u=isNaN(u)?0:u;var c=parseInt(l.marginRight.replace("px",""));c=isNaN(c)?0:c;for(var h=t.childNodes,d=0;d<h.length;d++)s=Math.max(s,h[d].scrollWidth);s+=t.offsetWidth-t.clientWidth+u+c}n<0&&(s=Math.max(s,r));var p=Bp.getBrowserSize();r=s=Math.min(s,p.width),Bp.ieOld&&(n>=0||s>r)&&(r+=20),r<i.width?t.style.overflowX="hidden":t.style.overflowX="auto",t.style.width=Math.max(r,o)+"px"},t.prototype.$_resetPosition=function(e,t,i,n){this._viewGridInside?Bp.resetPosition(this._container._container,this._container._container,this._element,e,t,i,n,this.dropDownPosition!=Rb.EDITOR):Bp.resetPosition(this._containerElement,this._container._container,this._element,e,t,i,n,this.dropDownPosition!=Rb.EDITOR)},t.prototype._resetItems=function(e,t,i,n){Bp.clearChildren(this._element),this._firstChild=null,this._buildItems(),this.$_resetHeight(),this._resetWidth(i),this.$_resetPosition(e,t,i,n)},t.prototype._buildItems=function(e,t){var i=this;void 0===e&&(e=0),void 0===t&&(t=0);var n,r=$p(this._element),o=0,s=function(e,t){var i=t&&t.value?t.value.toString():"",n=r.createElement("span");return n.style.whiteSpace="pre",n.innerHTML=i?Bp.htmlEncode(i):"&nbsp;",n.tabIndex=-1,n.className="rg-dropdown-value",Bp.disableSelection(n),e.appendChild(n),n},a=function(e,t){var n=t&&t.label?t.label.toString():"";n=i.trimLabelText?n.trim():n;var o=r.createElement("span");return!i.trimLabelText&&(o.style.whiteSpace="pre"),o.innerHTML=n?Bp.htmlEncode(n):"&nbsp;",o.tabIndex=-1,o.className="rg-dropdown-label",Bp.disableSelection(o),e.appendChild(o),o},l=function(e,t){var i=r.createElement("span");i.style.whiteSpace="pre",i.innerHTML=t?Bp.htmlEncode(t):"&nbsp;",i.tabIndex=-1,i.className="rg-dropdown-seperator",Bp.disableSelection(i),e.appendChild(i)},u=function(e){var t=Bp.getTextLength(e.textContent);t>o&&(n=e,o=t)},c=this._items,h=t||(this._element.children.length>0?this.moreItemCount:this.initCount);if(c&&!(c.length<1)){for(var d=e,p=c.length;d<p;d++){if(this.initCount&&d-e>=h&&d<p){var f=r.createElement("div"),_=f.style;_.position="relative",_.cssFloat="none",_.paddingTop="1px",_.paddingBottom="1px",_.paddingLeft="2px",_.paddingRight="2px",_.whiteSpace="nowrap",_.cursor="pointer",_.textAlign="center",Bp.disableSelection(f),f.nextIndex=d,f.onclick=this._nextClickHandler,f.isMoreButton=!0,f.className="rg-dropdown-more",a(f,{label:this.moreText}),this._element.appendChild(f);break}var g=c[d],m=r.createElement("div");m.setAttribute("role","option"),m.id=this._element.id+"-"+d.toString(),m.tabIndex=-1;var y=m.style;y.position="relative",y.cssFloat="none",y.paddingTop="1px",y.paddingBottom="1px",y.paddingLeft="2px",y.paddingRight="2px",y.whiteSpace="nowrap",y.cursor="default",m.className=d==this._itemIndex?"rg-dropdown-select rg-dropdown-item":"rg-dropdown-item",d===this._itemIndex?m.setAttribute("aria-selected","true"):m.removeAttribute("aria-selected"),Bp.disableSelection(m),this._element.appendChild(m),0==d&&(this._firstChild=m),m.onclick=this._clickHandler;var v=null;if(this._templateCallback)this._templateCallback(m,g);else{switch(this.displayLabels){case Db.LABEL:a(m,g);break;case Db.VALUE:s(m,g);break;case Db.LABEL_VALUE:v=a(m,g),l(m,this.separator),s(m,g);break;case Db.VALUE_LABEL:v=s(m,g),l(m,this.separator),a(m,g)}v&&this.itemColumned&&u(v)}}if(this.itemColumned&&n){var b=Math.ceil(Bp.getSize(n).width);for(d=0,p=this._element.childNodes.length;d<p;d++)(v=this._element.childNodes[d].firstChild).style.display="inline-block",v.style.width=b+"px"}}},t.prototype.$_addMoreItems=function(e,i){var n=e.nextIndex;e.parentNode&&e.parentNode.removeChild(e),this._buildItems(n,i),this._resetWidth(this._cellWidth),this.fireEvent(t.EDITOR_FOCUS)},t.prototype._refreshItems=function(){for(var e=this._element.childNodes,i=0;i<e.length;i++)(n=e[i]).className=i==this._itemIndex?"rg-dropdown-select rg-dropdown-item":"rg-dropdown-item",i==this._itemIndex?n.setAttribute("aria-selected","true"):n.removeAttribute("aria-selected"),i==this._itemIndex&&this.fireEvent(t.ACTIVE_DESCENDENT,n.id);var n,r=this._itemIndex;if(r>=0&&r<e.length)if((n=e[r]).offsetTop<this._element.scrollTop)this._element.scrollTop=n.offsetTop;else{var o=n.offsetTop+Bp.getSize(n).height;o>=this._element.scrollTop+this._element.clientHeight&&(this._element.scrollTop=o-this._element.clientHeight)}},t.prototype.$_search=function(e,t){void 0===t&&(t=!1);try{if(this._items&&this._items.length>0&&e){for(var i=this._items,n=i.length,r=this.caseSensitive?e:e.toLowerCase(),o=[],s=0;s<n;s++){if(c=i[s].label.toString())if(c=this.caseSensitive?c:c.toLowerCase(),this.partialMatch){for(var a="",l=0;l<c.length;l++){var u=Bp.hangulToChosung(c[l]);a+=Bp.hangulToChosung(r[l]).org?u.org:u.cho}if(a==r)return void this.setItemIndex(s,t,!0)}else if(c==r)return void this.setItemIndex(s,t,!0);o.push(c)}for(s=0;s<n;s++){var c=o[s];if(this.partialMatch){var h=!1;for(l=0;l<r.length;l++){var d=Bp.hangulToChosung(c[l]);if(!(d.org&&d.org==r[l]||d.cho&&d.cho==r[l])){h=!1;break}h=!0}if(h)return void this.setItemIndex(s,t,!0)}else if(c&&0==c.indexOf(r))return void this.setItemIndex(s,t,!0)}for(s=0;s<n;s++)if(c=o[s],this.partialMatch){var p=Bp.hangulToChosungAll(c),f=Bp.hangulToChosungAll(r),_=p.indexOf(f);if(a=c.substr(0,_),~_){l=0;for(var g=_,m=r.length;l<m;l++,g++)u=Bp.hangulToChosung(c[g]),a+=Bp.hangulToChosung(r[l]).org?u.org:u.cho}if(a&&a.indexOf(r)>0)return void this.setItemIndex(s,t,!0)}else if(c&&c.indexOf(r)>0)return void this.setItemIndex(s,t,!0)}this.setItemIndex(-1)}finally{t&&(this._selected=!0)}},t.CLOSE_UP="onDropDownListCloseUp",t.EDITOR_FOCUS="onDropDownListEditorFocus",t.ACTIVE_DESCENDENT="onDropDownListActiveDescendant",t}(Vf),ow=function(e){function t(t,i){var n=e.call(this,t,i)||this;n._trimLabelText=!0,n._lookup=!1,n._labeling=!1,n._domain=null,n._closing=!1,n._selectedIndex=-1,n._globalMouseHandler=function(e){var t=e.target;if(n._isMarquee(t))n.closeUp(!1,!1);else{var i=n._grid.editController._commandView;if(!(Bp.isMobile()&&i&&i._dom&&i._dom.contains(t))){for(;t;){if(t==n._list._element)return;t=t.parentElement}n.closeUp(!0,!0)}}};var r=n._list=n._createDropDown(t.container);return n._setEditorAria("aria-owns",r._element.id),n._setEditorAria("aria-expanded","false"),n._setEditorAria("aria-haspopup","true"),n._setEditorAria("role","combobox"),n._list.addListener(n),n}return gd(t,e),t.prototype._doDispose=function(){this._globalMouseHandler=null,this._list.removeListener(this),this._list.dispose(),this._list=this._items=this._values=this._labels=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"values",{get:function(){return this._values},set:function(e){(e=Bp.makeArray(e,!0))?this._values=e.map(function(e){return null!=e?String(e):e}):this._values=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){return this._labels},set:function(e){this._labels=e?e.slice():[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayLabels",{get:function(){return this._displayLabels},set:function(e){this._displayLabels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"domainOnly",{get:function(){return this._domainOnly},set:function(e){this._domainOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropDownWidth",{get:function(){return this._dropDownWidth},set:function(e){this._dropDownWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropDownPosition",{get:function(){return this._dropDownPosition},set:function(e){this._dropDownPosition=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCount",{get:function(){return this._dropDownCount},set:function(e){this._dropDownCount=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropDownWhenEnter",{get:function(){return this._dropDownWhenEnter},set:function(e){this._dropDownWhenEnter=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemSortStyle",{get:function(){return this._itemSortStyle},set:function(e){this._itemSortStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitive",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"partialMatch",{get:function(){return this._partialMatch},set:function(e){this._partialMatch=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitOnSelect",{get:function(){return this._commitOnSelect},set:function(e){this._commitOnSelect=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropDownWhenClick",{get:function(){return this._dropDownWhenClick},set:function(e){this._dropDownWhenClick=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trimLabelText",{get:function(){return this._trimLabelText},set:function(e){this._trimLabelText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"separator",{get:function(){return this._separator},set:function(e){this._separator=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemColumned",{get:function(){return this._itemColumned},set:function(e){this._itemColumned=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listCallback",{get:function(){return this._listCallback},set:function(e){this._listCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateCallback",{get:function(){return this._templateCallback},set:function(e){this._templateCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listing",{get:function(){return this._list.listing},enumerable:!1,configurable:!0}),t.prototype.dropDown=function(e,t){var i=this;if(void 0===e&&(e=!1),void 0===t&&(t=!0),!this.readOnly&&!this.listing&&!this._closing){t&&this._refreshItems(!1,!1,!0);var n=$p(this._container),r=Fp(this._container);if(e||this._items&&this._items.length>0){var o=this._list,s=this._options,a=n.body,l=Bp.getSize(this._container);if(this._grid.accessibility){var u=Bp.getSize(this._grid.container._containerDiv);l.cx=l.x-u.x+l.cx,l.cy=l.y-u.y+l.cy}o.viewGridInside=s.viewGridInside,o.displayLabels=this.displayLabels,o.separator=this.separator,o.itemColumned=this.itemColumned,o.items=this._items,this._saveIndex=this._selectedIndex,this._saveText=this._editor.value,o.caseSensitive=this._caseSensitive,o.partialMatch=this._partialMatch,o.dropDownCount=this._dropDownCount,o.dropDownWidth=this._dropDownWidth,o.dropDownPosition=this._dropDownPosition,o.sortStyle=this._itemSortStyle,o.trimLabelText=this._trimLabelText,o._templateCallback=function(){if(i._templateCallback)return function(e,t){return i._templateCallback(i._grid.handler,i.editIndex.toProxy(),e,t.value,t.label,t.item)}}();var c=this._grid.displayOptions;return o.setZIndex(c.baseZindex+3),this.isShowMarquee()?(this._showMarquee(a),o.viewGridInside=!1,o.show(a,0,0,0,null),this._centerPopup(a,o._element)):(o.show(a,l.cx+1,l.cy+l.height,this._cellBounds.width,Bp.getSize(this._editor)),this.registerPositionListener()),o.valueIndex=this._selectedIndex,this._setEditorAria("aria-expanded","true"),!Bp.isSlotMode()&&r.addEventListener(Bp.isIEMode()?"mousedown":"pointerdown",this._globalMouseHandler),!0}}return!1},t.prototype.resetPosition=function(){var e=Bp.getSize(this._container),t=this._list;if(this._grid.accessibility){var i=Bp.getSize(this._grid.container._containerDiv);e.cx=e.x-i.x+e.cx,e.cy=e.y-i.y+e.cy}t.$_resetPosition(e.cx+1,e.cy+e.height,this._cellBounds.width,Bp.getSize(this._editor))},t.prototype.closeUp=function(e,t){if(this.unRegisterPositionListener(),this.listing){this._closing=!0;var i=this._list,n=this._items;try{var r=Fp(this._container);!Bp.isSlotMode()&&r.removeEventListener(Bp.isIEMode()?"mousedown":"pointerdown",this._globalMouseHandler),this._closeMarquee(),i.hide();var o=void 0;if(e&&i.selected&&(o=i.valueIndex)>=0&&n&&n.length>o){this._selectedIndex=o;var s=this._labeling?n[o].label:n[o].value;this._editor.value=s,o==this._saveIndex&&s==this._saveText||this._dispatchChange(),t&&this._commitOnSelect&&this._dispatchCommit()}}finally{this._closing=!1,this._setEditorAria("aria-expanded","false"),this.setActiveDescendant(null)}return!0}},t.prototype.initOptions=function(){e.prototype.initOptions.call(this),this._values=[],this._labels=[],this._displayLabels=Db.LABEL,this._separator=" - ",this._itemColumned=!1,this._domainOnly=!1,this._textReadOnly=!1,this._dropDownWidth=-1,this._dropDownPosition=Rb.BUTTON,this._dropDownCount=8,this._itemSortStyle=Tb.NONE,this._caseSensitive=!1,this._partialMatch=!1,this._commitOnSelect=!0,this._dropDownWhenClick=!1,this._dropDownWhenEnter=!1,this._listCallback=null,this._templateCallback=null,this._tempItems=null,this._viewGridInside=!1,this._setEditorAria("aria-activedescendant",null)},t.prototype.initDefaultOptions=function(){var e=this._grid;e&&Gb.initDefault(this,u_.editor.dropdownCellEditor,e.editorOptions.dropdownCellEditor)},t.prototype.setEditIndex=function(t){e.prototype.setEditIndex.call(this,t),this._lookup=!1,this._labeling=!1,this._domain=null,this._items=null,this._refreshItems(!1,!1,!1)},t.prototype.setEditValue=function(t){var i=this,n=-1,r=function(t,n){var r;e.prototype.setEditValue.call(i,t?((r={})[t]=n,r):n)};this._value=t;var o=this._editIndex.dataColumn,s=o.getField(),a=o.objectKey||s.objectKey;if(t=a&&t?t[a]:t,this._lookup){var l=this._domain;if(l){var u=n=l.keys?l.keys.indexOf(t):-1;u>=0&&l.values&&l.values.length>u&&l.values[u]}else n=this._editIndex.dataColumn.getLookupIndex(t);this._labeling?r(a,l?n>=0&&l.values&&l.values.length>n?l.values[n]:t:n>=0?this._editIndex.dataColumn.getLookupLabel(t,!1):t):r(a,t)}else this._values&&this._labeling&&this._labels?(n=this._values.indexOf(t),r(a,this._labels[n]||t)):r(a,t);this._selectedIndex=n},t.prototype.isEdited=function(){var t=e.prototype.isEdited.call(this);return t&&this.domainOnly&&(t=void 0!==this.$_getEditValue(!1)),t},t.prototype._getInputSelector=function(){return t.INPUT_CSS},t.prototype._setEditorAria=function(e,t){t?this._editor.setAttribute(e,t):this._editor.removeAttribute(e)},t.prototype._createDropDown=function(e){return new rw(e)},t.prototype.setCellEditValue=function(t,i){e.prototype.setCellEditValue.call(this,t,i)},t.prototype.getEditValue=function(e,t){return void 0===e&&(e=!0),!this.isEdited()&&this._selectedIndex<0?this._value:this.$_getEditValue(e,t)},t.prototype.getEditListItem=function(){var e=this._selectedIndex;if(this.isEdited()||!(e<0))return this._list.items&&e>=0&&e<this._list.items.length?this._list.items[e].item:void 0},t.prototype.setBounds=function(t,i,n,r,o){e.prototype.setBounds.call(this,t,i,n,r,o)},t.prototype._createEditor=function(t){return e.prototype._createEditor.call(this,t)},t.prototype._textHandler=function(){this._requestStart()},t.prototype._compositionstartHandler=function(t){e.prototype._compositionstartHandler.call(this,t)},t.prototype._keyDownHandler=function(t){if(!this.isDisabled()){var i=this._list,n=i.itemIndex;switch(t.keyCode){case 8:case 46:var r=Bp.ctrlKey(t);if(!r&&!t.shiftKey&&this.domainOnly&&this.allowEmpty);else if(!r&&!t.shiftKey&&this.textReadOnly)return this._requestStart(),t.preventDefault(),!0;break;case 32:if(this.listing&&i.currentIsMore(n))return i.addMoreItems(),t.preventDefault(),!0;break;case 13:if(this.dropDownWhenEnter&&!this.listing)return this._requestStart(),t.preventDefault(),!0;if(this.listing&&i.currentIsMore(n))return i.addMoreItems(),t.preventDefault(),!0;if(this.closeUp(!0,!1))return!this._sendToParent(t);break;case 27:if(this.closeUp(!1,!1))return t.preventDefault(),!0;break;case 40:if(!t.shiftKey&&t.altKey&&!this.listing)return this._requestStart(),t.preventDefault(),!0;if(this.listing)return this._list.setItemIndex(Math.min(i.itemCount-1,n+1)),t.preventDefault(),!0;break;case 34:if(this.listing)return this._list.setItemIndex(Math.min(i.itemCount-1,n+i.dropDownCount)),t.preventDefault(),!0;break;case 38:if(t.altKey&&this.listing)return this.closeUp(!1,!1),t.preventDefault(),!0;if(this.listing)return this._list.setItemIndex(Math.max(0,n-1)),t.preventDefault(),!0;break;case 33:if(this.listing)return this._list.setItemIndex(Math.max(0,n-i.dropDownCount)),t.preventDefault(),!0}return e.prototype._keyDownHandler.call(this,t)}},t.prototype._keyPressHandler=function(t){this.isDisabled()||(e.prototype._keyPressHandler.call(this,t),t.keyCode&&this.textReadOnly&&t.preventDefault())},t.prototype._inputHandler=function(t){this.isDisabled()||(this.textReadOnly&&(t.target.value=this._oldValue||""),e.prototype._inputHandler.call(this,t))},t.prototype._requestStart=function(t){return!!e.prototype._requestStart.call(this,t)&&(this._isMobile?t&&this.dropDown():!1!==t&&this.dropDown(),!0)},t.prototype._doChanged=function(){this._selectedIndex=-1,e.prototype._doChanged.call(this),this.listing&&this._list.$_search(this._editor.value)},t.prototype.dropDownList=function(e){this.dropDown(e)&&this._setEditorAria("aria-expanded","true")},t.prototype.closeList=function(e){this.closeUp(e,!1),this._setEditorAria("aria-expanded","false")},t.prototype.$_setItems=function(e,t,i){this._items=[];for(var n=0,r=e.length;n<r;n++)this._items.push({value:e[n],label:t&&t.length>n?t[n]:e[n],item:i&&i[n]})},t.prototype._refreshItems=function(e,t,i){var n,r=this,o=function(){return r.displayLabels!==Db.VALUE&&r._labels&&r._labels.length>=r._values.length},s=function(e){if(e&&e.list){var t=[],i=[],n=[],s=e.value||"value",a=e.label||"label";e.list.forEach(function(e){t.push(e[s]),i.push(null!=e[a]?e[a]:e[s]),n.push(e)}),r.$_setItems(r._values=t,r._labels=i,n)}r._labeling=o()},a=function(){if(l.dataColumn&&l.item&&(l.dataRow>=0||Xg(u.itemState))){var e=l.dataColumn;if(e.lookupSource){for(var t=e.lookupKeyFieldIds,n=[],s=0;s<t.length-1;s++)n.push(u.getData(t[s]));var a=e.lookupSource.getTextDomain(n);a&&a.values&&a.values.length>0&&(r.$_setItems(a.keys,a.values,a.listItem),r._labeling=!0,r._lookup=!0,r._domain=a,i&&r.setEditValue(r._value))}else e.values&&e.values.length>0&&(r.$_setItems(e.values,e.labels,e.listItem),r._labeling=o(),r._lookup=!0)}},l=this.editIndex,u=l.item;if((i=i&&!!this._listCallback)&&(n=this._listCallback(this._grid.handler,this.editIndex.toProxy())),n?(this._lookup=!1,this._domain=null,n instanceof Promise?(this._items=null,n.then(function(e){e?s(e):a(),r.dropDown(!1,!1)})):s(n)):this._values&&(this._values.length>0||t)?(this.$_setItems(this._values,this._labels,null),this._labeling=o()):a(),e&&this.listing){this._list.items=this._items;var c=Bp.getSize(this._container);this._list._resetItems(c.cx+1,c.cy+c.height,this._cellBounds.width,Bp.getSize(this._editor))}},t.prototype.$_getEditValue=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);var i,n=this.text,r=qb.prototype.getEditValue.call(this,e,t),o=this._editIndex.dataColumn,s=this._selectedIndex,a=s>=0,l=o.getField(),u=l.dataType===vd.OBJECT&&(o.objectKey||l.objectKey),c=u&&r?r[u]:r;if(this._lookup){if(this._domain){if(this._labeling&&(c=(i=a?s:this._domain.values?this._domain.values.indexOf(n):-1)>=0&&this._domain.keys&&this._domain.keys.length>i?this._domain.keys[i]:c),this.domainOnly&&c&&(!this._domain.keys||this._domain.keys.indexOf(c)<0))return Gb.Unselected}else if(this._labeling&&(c=a?o.getLookupValue(s):o.getSourceValue(n)||(u?r[u]:r)),this.domainOnly&&c&&(!o.values||o.values.indexOf(c)<0))return Gb.Unselected}else if(this._labeling&&(i=a?s:this._labels?this._labels.indexOf(n):-1)>=0&&i<this._values.length&&(c=this._values[i]),this.domainOnly&&c&&(!this._values||this._values.indexOf(c)<0))return Gb.Unselected;return u?(r[u]=c,r):c},t.prototype.setActiveDescendant=function(e){this._setEditorAria("aria-activedescendant",e)},t.prototype.onDropDownListCloseUp=function(e,t){!Bp.isMobile()&&this.setFocus(),this.closeUp(t,!0)},t.prototype.onDropDownListEditorFocus=function(){this.setFocus()},t.prototype.onDropDownListActiveDescendant=function(e,t){this.setActiveDescendant(t)},t.INPUT_CSS="rg-list-editor",t.$$_LIST_ID=0,t}(tw),sw=function(e){function t(i){var n=e.call(this,i)||this;return n._selectItemIndices=[],n._acceptText=null,n._cancelText=null,n._showButtons=!1,n._showAllCheck=!1,n._acceptClickHandler=function(e){this.fireEvent(t.CLOSE_UP_2,!0)}.bind(n),n._cancelClickHandler=function(e){this.fireEvent(t.CANCEL,!1)}.bind(n),n._checkClickHandler=function(e){e.stopImmediatePropagation();var t=e.currentTarget,i=t.parentElement;if(i){var n=Bp.getChildIndex(i),r=t.checked;this.$_changeCheckIndex(i,n,r,!0)}}.bind(n),n._allCheckClickHandler=function(e){if(e.stopImmediatePropagation(),2==e.eventPhase&&e.currentTarget==this._allCheckElement)this._allCheck.checked=!this._allCheck.checked,this.$_toggleAllCheck();else if(2==e.eventPhase&&e.currentTarget==this._allCheck)return void this.$_toggleAllCheck()}.bind(n),n._divClickHandler=function(e){Bp.stopEvent(e,!0),e.currentTarget.firstElementChild.click()}.bind(n),n}return gd(t,e),Object.defineProperty(t.prototype,"valueIndices",{get:function(){return this._selectItemIndices.slice()},set:function(e){this._selectItemIndices=[],null!=e&&(this._selectItemIndices=e.slice(),this.listing&&this._refreshItems(),this._selected=!1)},enumerable:!1,configurable:!0}),t.prototype.changeCheckIndex=function(e,t,i){var n=this._listElement.childNodes;if(e>=0&&e<n.length){for(var r=n[e],o=r.getElementsByTagName("input"),s=void 0,a=0,l=o.length;a<l;a++)if("checkbox"==o[a].type){s=o[a];break}s&&(s.checked=null!=t?t:!s.checked,this.$_changeCheckIndex(r,e,s.checked,i))}},t.prototype.$_changeCheckIndex=function(e,i,n,r){var o=this._selectItemIndices;if(!(i<0||i>=this._items.length)){var s=this._items[i].index;n?o.indexOf(s)<0&&o.push(s):o.indexOf(s)>=0&&o.splice(o.indexOf(s),1),e.className="rg-multicheck-item"+(n?" rg-multicheck-select":""),e.setAttribute("aria-selected",n?"true":"false"),this._selected=!0,this.$_changeAllCheck(),r&&this.fireEvent(t.CHECK_CLICK)}},t.prototype._createList=function(){var e=this._container.doc,t=e.createElement("div");t.tabIndex=-1,t.className="rg-multicheck",t.id="rg-dropdown-list-"+ow.$$_LIST_ID++,t.setAttribute("role","listbox");var i=e.createElement("div");i.className="rg-multicheck-allcheck",this._allCheckElement=i,i.style.paddingLeft="2px",Bp.disableSelection(i),t.appendChild(i);var n=e.createElement("div");n.className="rg-multicheck-list",this._listElement=n,t.appendChild(n);var r=e.createElement("div");return r.style.textAlign="center",r.style.whiteSpace="nowrap",r.className="rg-multicheck-button",this._buttonElement=r,r.style.margin="2px",Bp.disableSelection(r),t.appendChild(r),t},t.prototype._getListElement=function(){return this._listElement},t.prototype.setZIndex=function(e){var t=this._element.style;t.zIndex=String(e),(t=this._listElement.style).zIndex=String(e)},t.prototype.$_toggleAllCheck=function(){for(var e=this._listElement.childElementCount,i=this._allCheck.checked,n=0;n<e;n++)this.changeCheckIndex(n,i,!1);this.fireEvent(t.CHECK_CLICK)},t.prototype.$_changeAllCheck=function(){if(this._showAllCheck){for(var e=!0,t=this._listElement.children,i=0;i<t.length;i++){var n=t[i].firstElementChild;e=e&&n.checked}this._allCheck.checked=e}},t.prototype._show=function(e,t,i,n){var r=this._element;if(r){var o=r.style;o.position="absolute",o.cssFloat="none",o.clear="both",o.boxSizing="border-box",o.minWidth="20px",o.minHeight="10px",o.overflow="visible",o.removeProperty("width"),o.removeProperty("height"),(o=this._listElement.style).position="relative",o.cssFloat="none",o.clear="both",o.boxSizing="border-box",o.minWidth="20px",o.minHeight="10px",o.overflow="auto",(o=this._buttonElement.style).position="relative",o.cssFloat="none",o.clear="both",o.boxSizing="border-box",o.marginLeft="0px",o.marginRight="0px",this._firstChild=null,Bp.clearChildren(this._listElement),Bp.disableSelection(this._listElement),this._containerElement.appendChild(r),this._buildItems(),this.$_buildButtons(),this.$_resetHeight(),this._resetWidth(i),this.$_resetPosition(e,t,i,n),this._itemIndex=-1,this._selectItemIndices.length&&this.setItemIndex(this._selectItemIndices.slice().sort(function(e,t){return e-t})[0]),this._selected=!1}},t.prototype._resetWidth=function(t){e.prototype._resetWidth.call(this,t);var i=this._element,n=Math.floor(Bp.getSize(this._buttonElement).width),r=Bp.getSize(i).width;isNaN(n)||(r=Math.max(r,n)),i.style.width=r+"px"},t.prototype._resetItems=function(e,t,i,n){Bp.clearChildren(this._listElement),this._firstChild=null,this._buildItems(),this.$_buildButtons(),this.$_resetHeight(),this._resetWidth(i),this.$_resetPosition(e,t,i,n)},t.prototype._buildItems=function(){var e,i=this._container.doc,n=0,r=function(e,t,n){var r=t?t.value.toString():"",o=i.createElement("label");return o.style.whiteSpace="pre",o.innerHTML=r?Bp.htmlEncode(r):"&nbsp;",o.htmlFor=n&&n.id,o.tabIndex=-1,o.className="rg-dropdown-value",Bp.disableSelection(o),e.appendChild(o),o}.bind(this),o=function(e,t,n){var r=t?t.label.toString():"";r=this._trimLabelText?r.trim():r;var o=i.createElement("label");return!this._trimLabelText&&(o.style.whiteSpace="pre"),o.innerHTML=r?Bp.htmlEncode(r):"&nbsp;",o.htmlFor=n&&n.id,o.tabIndex=-1,o.className="rg-dropdown-label",Bp.disableSelection(o),e.appendChild(o),o}.bind(this),s=function(e,t){var n=i.createElement("span");n.style.whiteSpace="pre",n.style.pointerEvents="none",n.innerHTML=t?Bp.htmlEncode(t):"&nbsp;",n.tabIndex=-1,n.className="rg-dropdown-separator",Bp.disableSelection(n),e.appendChild(n)}.bind(this),a=function(t){var i=Bp.getTextLength(t.textContent);i>n&&(e=t,n=i)}.bind(this),l=this._items;if(l&&!(l.length<1)){for(var u=0,c=l.length;u<c;u++){var h=l[u],d=i.createElement("div");d.setAttribute("role","option"),d.id=this._element.id+"-"+u.toString();var p=d.style;p.position="relative",p.cssFloat="none",p.paddingTop="1px",p.paddingBottom="1px",p.paddingLeft="2px",p.paddingRight="2px",p.whiteSpace="nowrap",p.cursor="default";var f=this._selectItemIndices.indexOf(l[u].index)>=0;d.className="rg-multicheck-item"+(f?" rg-multicheck-select":""),Bp.disableSelection(d),this._listElement.appendChild(d),0==u&&(this._firstChild=d),d.onclick=this._divClickHandler;var _=i.createElement("input");_.id="$multiCheck_item_"+t.$_checkId++,_.type="checkBox",_.onclick=this._checkClickHandler,_.checked=f,d.setAttribute("aria-selected",f?"true":"false"),d.appendChild(_);var g=null;if(this._templateCallback){var m=document.createElement("div");m.style.display="inline-block",d.appendChild(m),this._templateCallback(m,h)}else switch(this.displayLabels){case Db.LABEL:o(d,h,_);break;case Db.VALUE:r(d,h,_);break;case Db.LABEL_VALUE:g=o(d,h,_),s(d,this.separator),r(d,h,_);break;case Db.VALUE_LABEL:g=r(d,h,_),s(d,this.separator),o(d,h,_)}g&&this.itemColumned&&(a(g),d._span=g)}if(this.itemColumned&&e){var y=Math.ceil(Bp.getSize(e).width);if(y>0)for(u=0,c=this._listElement.childNodes.length;u<c;u++)(g=this._listElement.childNodes[u]._span)&&(g.style.display="inline-block",g.style.width=y+"px")}}},t.prototype.setButtonOptions=function(e,t,i,n,r){this._acceptText=e,this._cancelText=t,this._showButtons=i,this._showAllCheck=n,this._allCheckText=r,this.$_buildButtons()},t.prototype.$_buildButtons=function(){var e=this._container.doc;if(this._buttonElement){this._buttonElement.style.display=this._showButtons?"":"none",Bp.clearChildren(this._buttonElement);var i=e.createElement("label"),n=i.style;i.innerHTML=this._acceptText,i.onclick=this._acceptClickHandler,i.className="rg-multicheck-accept",n.cursor="pointer",Bp.disableSelection(i),this._buttonElement.appendChild(i),n=(i=e.createElement("label")).style,i.innerHTML=this._cancelText,i.onclick=this._cancelClickHandler,i.className="rg-multicheck-cancel",n.marginLeft="2px",n.cursor="pointer",Bp.disableSelection(i),this._buttonElement.appendChild(i);var r=this._allCheckElement;if(r.onclick=this._allCheckClickHandler,Bp.clearChildren(r),this._showAllCheck){r.style.display="";var o=e.createElement("input");o.type="checkbox",o.id="$multiCheck_item_"+t.$_checkId++,o.onclick=this._allCheckClickHandler,this._allCheck=o,r.appendChild(o);var s=e.createElement("label");s.innerHTML=this._allCheckText,s.htmlFor=o.id,s.tabIndex=-1,Bp.disableSelection(s),r.appendChild(s),this.$_changeAllCheck()}else r.style.display="none"}},t.prototype._refreshItems=function(){for(var e=this._listElement.childNodes,t=-1,i=0;i<e.length;i++){t=i<this._items.length?this._items[i].index:-1;var n=e[i];i===this._itemIndex?(Bp.addClassName(n,"rg-multicheck-selectitem"),this.fireEvent(rw.ACTIVE_DESCENDENT,n.id)):Bp.removeClassName(n,"rg-multicheck-selectitem")}if((t=this._itemIndex)>=0&&t<e.length)if((n=e[t]).offsetTop<this._listElement.scrollTop)this._listElement.scrollTop=n.offsetTop;else{var r=n.offsetTop+Bp.getSize(n).height;r>=this._listElement.scrollTop+this._listElement.clientHeight&&(this._listElement.scrollTop=r-this._listElement.clientHeight)}},t.CLOSE_UP_2="onMultiCheckListCloseUp",t.CANCEL="onMultiCheckListCancel",t.CHECK_CLICK="onMultiCheckListCheckClick",t.$_checkId=0,t}(rw),aw=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._showButtons=!0,n._showAllCheck=!1,n._setEditorAria("aria-multiselectable","true"),n}return gd(t,e),Object.defineProperty(t.prototype,"showButtons",{get:function(){return this._showButtons},set:function(e){this._showButtons=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"acceptText",{get:function(){return this._acceptText||r_.messages.checkListAcceptText},set:function(e){this._acceptText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cancelText",{get:function(){return this._cancelText||r_.messages.checkListCancelText},set:function(e){this._cancelText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allCheckText",{get:function(){return this._allCheckText||r_.messages.checkListAllCheckText},set:function(e){this._allCheckText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAllCheck",{get:function(){return this._showAllCheck},set:function(e){this._showAllCheck=e},enumerable:!1,configurable:!0}),t.prototype._createDropDown=function(e){return new sw(e)},t.prototype.setMask=function(e){this._mask=null},t.prototype.dropDown=function(e,t){var i=this;if(void 0===e&&(e=!1),void 0===t&&(t=!0),!this.readOnly&&!this.listing&&!this._closing){t&&this._refreshItems(!1,!1,!0);var n=$p(this._container),r=Fp(this._container);if(e||this._items&&this._items.length>0){var o=this._list,s=this._options;this._selectedIndices=function(e,t,i){if(!t)return[];var n=t.split(i);return e.map(function(e,t){if(n.indexOf(e.value)>=0)return t}).filter(function(e){return null!=e})}(this._items,this._value,this._editIndex.dataColumn.valueSeparator)||[],o.viewGridInside=s.viewGridInside,o.displayLabels=this.displayLabels,o.separator=this.separator,o.itemColumned=this.itemColumned,o.items=this._items;var a=Bp.getSize(this._container);if(this._grid.accessibility){var l=Bp.getSize(this._grid.container._containerDiv);a.cx=a.x-l.x+a.cx,a.cy=a.y-l.y+a.cy}this._saveIndices=this._selectedIndices.slice(),this._saveText=this._editor.value,o.caseSensitive=this.caseSensitive,o.dropDownCount=this.dropDownCount,o.dropDownWidth=this.dropDownWidth,o.dropDownPosition=this.dropDownPosition,o.setButtonOptions(this.acceptText,this.cancelText,this.showButtons,this.showAllCheck,this.allCheckText),o.sortStyle=this.itemSortStyle,o.valueIndices=this._selectedIndices.slice(),o.trimLabelText=this.trimLabelText,o._templateCallback=function(){if(i._templateCallback)return function(e,t){return i._templateCallback(i._grid.handler,i.editIndex.toProxy(),e,t.value,t.label,t.item)}}();var u=this._grid.displayOptions;o.setZIndex(u.baseZindex+3);var c=n.body;return this.isShowMarquee()?(o.viewGridInside=!1,this._showMarquee(c),o.show(c,0,0,0,null),this._centerPopup(c,o._element)):(o.show(c,a.cx+1,a.cy+a.height,this._cellBounds.width,Bp.getSize(this._editor)),this.registerPositionListener()),!Bp.isSlotMode()&&r.addEventListener(Bp.isIEMode()?"mousedown":"pointerdown",this._globalMouseHandler),!0}}return!1},t.prototype.getCheckValues=function(e,t,i){for(var n=[],r=0,o=e.length;r<o;r++)e[r]>=0&&e[r]<t.length&&n.push(this._labeling&&!i?t[e[r]].label:t[e[r]].value);return n},t.prototype.closeUp=function(e,t){if(this.unRegisterPositionListener(),this.listing){this._closing=!0;try{var i=this._list,n=this.editIndex&&this.editIndex.dataColumn,r=Fp(this._container);!Bp.isSlotMode()&&r.removeEventListener(Bp.isIEMode()?"mousedown":"pointerdown",this._globalMouseHandler),this._closeMarquee(),i.hide(),e&&i.selected?(this._selectedIndices=i.valueIndices.slice(),this._editor.value=this.getCheckValues(this._selectedIndices,this._items).join(n.valueSeparator),Bp.equalArrays(this._saveIndices,this._selectedIndices)&&this._editor.value==this._saveText||(this._dispatchChange(),t&&this.commitOnSelect&&this._dispatchCommit())):this._selectedIndices=this._saveIndices.slice()}finally{this._closing=!1}return!0}return!1},t.prototype.initOptions=function(){e.prototype.initOptions.call(this),this._showButtons=!0,this._showAllCheck=!1},t.prototype.initDefaultOptions=function(){var e=this._grid;e&&Gb.initDefault(this,u_.editor.multiCheckCellEditor,e.editorOptions.multiCheckCellEditor)},t.prototype.applyOptions=function(t){e.prototype.applyOptions.call(this,t)},t.prototype.setEditValue=function(e){var t=this,i=[],n=-1,r=this._editIndex.dataColumn,o=r.getField(),s=r.objectKey||o.objectKey,a=function(e){Gb.prototype.setEditValue.call(t,e),t._editor.value=null==e?"":e};s&&e&&(e=e[s]);var l=Bp.isArray(e)?e:e?e.split(this._editIndex.dataColumn.valueSeparator):[];if(this._value=e,this._lookup){var u=this._domain;if(u)for(var c=0,h=l.length;c<h;c++)(n=u.keys.indexOf(l[c]))>=0&&i.push(n<u.values.length?u.values[n]:l[c]);this._labeling?a(u?i.join(this._editIndex.dataColumn.valueSeparator):this._editIndex.dataColumn.getLookupLabel(e,!1)):a(e)}else if(this._values){for(c=0,h=l.length;c<h;c++)(n=this._values.indexOf(l[c]))>=0&&i.push(this._labels&&n>=0&&this._labels.length>n?this._labels[n]:l[c]);this._labeling&&this._labels?a(i.join(this._editIndex.dataColumn.valueSeparator)):a(e)}else a(e)},t.prototype.setCellEditValue=function(t,i){e.prototype.setCellEditValue.call(this,t,i)},t.prototype.getEditValue=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=!1),this.isEdited()||this._list.selected?this.$_getEditValue(e,t):this._value},t.prototype.getEditListItem=function(){var e=this;if(this.isEdited()||!(this._selectedIndices.length<0)){var t=this._list.items.map(function(t,i){if(e._selectedIndices.indexOf(i)>=0)return t&&t.item}).filter(function(e){return null!=e});return t&&t.length>0?t:void 0}},t.prototype._keyDownHandler=function(t){if(!this.isDisabled()){var i=this._list;return Bp.ctrlKey(t)&&65==t.keyCode&&this.listing?(t.preventDefault(),i._allCheck.checked=!i._allCheck.checked,i.$_toggleAllCheck(),!0):32===t.keyCode&&this.listing?(i.changeCheckIndex(i.itemIndex,null,!0),t.preventDefault(),!0):e.prototype._keyDownHandler.call(this,t)}},t.prototype._keyPressHandler=function(t){e.prototype._keyPressHandler.call(this,t),this._list._selected=!1},t.prototype._inputHandler=function(t){e.prototype._inputHandler.call(this,t),this._list._selected=!1},t.prototype.$_getEditValue=function(e,t){function i(e,t,i,n,r){var o=[],s=t&&t.split(r.valueSeparator);if(s&&s.length>0)for(var a=0,l=s.length;a<l;a++)n.indexOf(s[a])>=0&&n.indexOf(s[a])<i.length?o.push(i[n.indexOf(s[a])]):(i.indexOf(s[a])>=0||!e.domainOnly)&&o.push(s[a]);return o}void 0===e&&(e=!1),void 0===t&&(t=!1);var n=this._strToVal(this.text),r=qb.prototype.getEditValue.call(this,e,t),o=this._editIndex.dataColumn,s=o.getField(),a=s.dataType===vd.OBJECT&&(o.objectKey||s.objectKey),l=a?r[a]:r,u=this._selectedIndices.slice(),c=[],h=this._list.selected;if(this._lookup){if(this._domain){if(this._labeling){if(h)for(var d=0,p=u.length;d<p;d++)u[d]<this._domain.keys.length&&c.push(this._domain.keys[u[d]]);else n&&(c=i(this,n,this._domain.keys,this._domain.values,o));l=c.join(o.valueSeparator)}}else if(this._labeling&&void 0===(l=h?o.getLookupValues(u):o.getSourceValues(n))&&(l=r),this.domainOnly&&l){if(!o.values)return Gb.Unselected;for(d=(l=Bp.isArray(l)?l:l&&l.split?l.split(o.valueSeparator):[l]).length-1;d>=0;d--)o.values.indexOf(l[d])<0&&l.splice(d,1)}}else{if(this._labeling){if(h)for(d=0,p=u.length;d<p;d++)u[d]<this._values.length&&c.push(this._values[u[d]]);else n&&(c=i(this,n,this._values,this._labels,o));l=c.join(o.valueSeparator)}if(this.domainOnly&&l){if(!this._values)return Gb.Unselected;for(d=(l=Bp.isArray(l)?l:l&&l.split?l.split(o.valueSeparator):[l]).length-1;d>=0;d--)this._values.indexOf(l[d])<0&&l.splice(d,1)}}return l=Bp.isArray(l)?l.join(o.valueSeparator):l,a?(r[a]=l,r):l},t.prototype._getInputSelector=function(){return t.INPUT_CSS},t.prototype.onMultiCheckListCloseUp=function(e,t){!this._isMobile&&this.setFocus(),this.closeUp(t,!0)},t.prototype.onMultiCheckListCheckClick=function(e){this._editor.value=this.getCheckValues(e._selectItemIndices,this._items).join(this.editIndex.dataColumn.valueSeparator),this._selectedIndices=e._selectItemIndices.slice(),this._saveIndices=e._selectItemIndices.slice(),this._modified=!0,this._dispatchChange(),!this._isMobile&&this._editor.focus()},t.prototype.onMultiCheckListCancel=function(){this._controller.cancelEditor(!0)},t.INPUT_CSS="rg-multicheck-editor",t}(ow),lw=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._searchLength=1,n._searchDelay=1e3,n._useCtrlEnterKey=!1,n._useEnterKey=!1,n._initCount=0,n._moreItemCount=25,n._reInquery=!0,n._timer=void 0,n._editor.setAttribute("aria-autocomplate","list"),n.assignFrom(u_.editor.searchCellEditor),n}return gd(t,e),Object.defineProperty(t.prototype,"searchLength",{get:function(){return this._searchLength},set:function(e){this._searchLength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchDelay",{get:function(){return this._searchDelay},set:function(e){this._searchDelay=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useCtrlEnterKey",{get:function(){return this._useCtrlEnterKey},set:function(e){this._useCtrlEnterKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useEnterKey",{get:function(){return this._useEnterKey},set:function(e){this._useEnterKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initCount",{get:function(){return this._initCount},set:function(e){this._initCount=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"moreItemCount",{get:function(){return this._moreItemCount},set:function(e){this._moreItemCount=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"moreText",{get:function(){return this._moreText||r_.messages.searchEditorMoreText},set:function(e){this._moreText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reInquery",{get:function(){return this._reInquery},set:function(e){this._reInquery=e},enumerable:!1,configurable:!0}),t.prototype.fillItems=function(e,t,i,n){if(this.listing&&e==this.getEditText()){if(n&&!t){t=[],i=[];var r=n.value||"value",o=n.label||"label";n.list.forEach(function(e){t.push(e[r]),i.push(e[o]||e[r])})}return this.values=t,this.labels=i,this._tempItems=n&&n.list,this._refreshItems(!0,!0,!1),this._list.$_search(this._editor.value,!0),!0}return!1},t.prototype.initOptions=function(){e.prototype.initOptions.call(this),this.initCount=0,this.moreItemCount=25},t.prototype.initDefaultOptions=function(){var e=this._grid;e&&Gb.initDefault(this,u_.editor.searchCellEditor,e.editorOptions.searchCellEditor)},t.prototype.$_setItems=function(t,i){e.prototype.$_setItems.call(this,t,i,this._tempItems),(!this.values||this.values.length<=0)&&(this.values=t,this.labels=i)},t.prototype._keyDownHandler=function(t){if(!this.isDisabled()){var i=13==t.keyCode,n=Bp.ctrlKey(t);if(i&&(i=n?this.useCtrlEnterKey:this.useEnterKey&&(!this._items||this._items.length<1)),i&&this.editing){Bp.stopEvent(t),this.$_stopTimer();var r=this.getEditText();return(n||r&&r!=this._searchKey)&&(this.listing||this.dropDown(!0),this._searchKey=r,this._dispatchSearch(r)),!0}return e.prototype._keyDownHandler.call(this,t)}},t.prototype._inputHandler=function(t){this.isDisabled()||(e.prototype._inputHandler.call(this,t),this.$_search())},t.prototype._doEndEdit=function(){e.prototype._doEndEdit.call(this),this.$_stopTimer(),this._searchKey=null},t.prototype.$_getEditValue=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);var i=this.text,n=qb.prototype.getEditValue.call(this,e,t),r=this._selectedIndex,o=r>=0;if(this._labeling){var s=o?r:this._labels?this._labels.indexOf(i):-1;s>=0&&s<this._values.length&&(n=this._values[s])}return this.domainOnly&&n&&(!this._values||this._values.indexOf(n)<0)?Gb.Unselected:n},t.prototype.dropDown=function(t){var i=this._list;return i&&(i.initCount=this.initCount,i.moreItemCount=this.moreItemCount,i.moreText=this.moreText),e.prototype.dropDown.call(this,!0)},t.prototype.buttonClicked=function(e){this.dropDown();var t=this.getEditText(),i=this._dispatchSearchCellButtonClick(t);i&&"object"==typeof i&&(i.values||i.list)&&this.fillItems(t,i.values,i.labels,i)},t.prototype._getInputSelector=function(){return t.INPUT_CSS},t.prototype.isShowMarquee=function(){return!1},t.prototype._requestStart=function(t){return e.prototype._requestStart.call(this,!0)},t.prototype.$_search=function(){var e=this.getEditText();e&&e.length>=this._searchLength?this.$_startTimer():this.$_stopTimer()},t.prototype.$_startTimer=function(){this.$_stopTimer(),!this.reInquery&&this.listing&&this._list._items.length>0||(this._timer=setTimeout(function(){var e=this.getEditText();e&&e!=this._searchKey&&(this._searchKey=e,this.$_stopTimer(),this._dispatchSearch(e,!0))}.bind(this),this._searchDelay))},t.prototype.$_stopTimer=function(){this._timer&&clearTimeout(this._timer)},t.INPUT_CSS="rg-search-editor",t}(ow),uw=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._values=null,n._items=null,n._labels=null,n._sortStyle=Tb.NONE,n._itemIndex=-1,n._displayLabels=null,n._separator=null,n._itemColumned=!1,n._trimLabelText=!0,n.$_selectChanged=null,n._handled=!1,n._globalKeyDownHandler=function(e){var t=Fp(this._container);if(!(e.target instanceof t.HTMLTableCellElement))return this._keyDownHandler(e)}.bind(n),n}return gd(t,e),t.prototype._dodispose=function(){this._editor&&this._editor.removeEventListener("change",this.$_selectChanged),this._values=null,this._labels=null,this._items=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"native",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonCount",{get:function(){return 1},enumerable:!1,configurable:!0}),t.prototype.hasButton=function(e,t){return null==e||e},t.prototype._createEditor=function(e){var t=$p(e);this._container=this._createContainer(t),e.appendChild(this._container);var i=t.createElement("select"),n=i.style;return i.setAttribute("aria-hidden","true"),n.position="absolute",n.boxSizing="border-box",n.margin="0px",n.padding="0px",n.wordWrap="normal",n.overflow="hidden",n.resize="none",n.border="none",n.outline="none",n.left="0px",n.top="0px",n.width="100%",n.height="100%",this.$_selectChanged=function(e){var t=e.target;this._itemIndex!==t.selectedIndex&&(this._dispatchChange(),this._dispatchCommit())}.bind(this),i.addEventListener("change",this.$_selectChanged),this._container.appendChild(i),i},t.prototype._getInputSelector=function(){return t.INPUT_CSS},t.prototype.initOptions=function(){e.prototype.initOptions.call(this),this._values=[],this._labels=[],this._items=[],this._itemIndex=-1},t.prototype.initDefaultOptions=function(){},t.prototype.setEditIndex=function(t){e.prototype.setEditIndex.call(this,t),this._refreshItems(),this._resetPosition()},t.prototype.setEditValue=function(t){e.prototype.setEditValue.call(this,t),this._itemIndex=-1;for(var i=this._editor.options,n=0,r=i.length;n<r;n++)i[n].value===t?(this._itemIndex=n,i[n].selected=!0):i[n].selected=!1},t.prototype.prepare=function(){var e=Fp(this._container);this._handled||(!Bp.isSlotMode()&&e.addEventListener("keydown",this._globalKeyDownHandler),this._handled=!0)},t.prototype.unprepare=function(){var e=Fp(this._container);!Bp.isSlotMode()&&e.removeEventListener("keydown",this._globalKeyDownHandler),this._handled=!1},t.prototype._keyDownHandler=function(t){if(!this.isDisabled()){var i=t.keyCode,n=Bp.isIE&&this.visible;switch(i){case 40:if(t.altKey)return this._requestStart(),!0;if(n)return!1;break;case 13:case 38:case 33:case 34:case 36:case 35:if(n)return!1}return e.prototype._keyDownHandler.call(this,t)}},t.prototype._resetPosition=function(){var e=this._grid.getEditCellBounds(this,this._editIndex);e.x--,e.y--,this.setBounds(e.x,e.y,0,0,0)},t.prototype._refreshItems=function(e,t){void 0===t&&(t=!1);var i=this.editIndex,n=i.item;if(this._values&&(this._values.length>0||t))this.$_setItems(this._values,this._labels);else if(i.dataColumn&&i.item&&(i.dataRow>=0||Xg(n.itemState))){var r=i.dataColumn;if(r.lookupSource){for(var o=r.lookupKeyFieldIds,s=[],a=0;a<o.length-1;a++)s.push(n.getData(o[a]));var l=r.lookupSource.getTextDomain(s);l&&l.values&&l.values.length>0&&this.$_setItems(l.keys,l.values)}else r.values&&r.values.length>0&&this.$_setItems(r.values,r.labels)}},t.prototype.$_setItems=function(e,t){this._items=[];for(var i=this._editor,n=i.options,r=$p(i),o=n.length-1;o>=0;o--)n.remove(o);o=0;for(var s=e.length;o<s;o++){var a=r.createElement("option");a.value=e[o],a.text=t&&t.length>o?t[o]:e[o],this._items.push({value:a.value,label:a.text}),i.options.add(a,null)}},t.prototype.getEditValue=function(){return this.$_getEditValue()},t.prototype.$_getEditValue=function(){return this._editor.value},t.INPUT_CSS="rg-nlist-editor",t}(qb);!function(e){e.NONE="none",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second"}(iw||(iw={})),function(e){e.DAY="day",e.MONTH="month",e.YEAR="year"}(nw||(nw={}));var cw,hw,dw=/[---]/g,pw=function(e){if(!e)return null;(e=String(e))&&(e=e.replace(/[^0-9]/g,""));var t=parseInt(e.substr(0,4)),i=parseInt(e.substr(4,2));if(isNaN(t)||t<=0||isNaN(i)||i<0)return null;var n=new Date(t,0,1),r=4-n.getDay()+1;return n.setDate(r),n.getFullYear()==t&&i--,r=7*i,n.setDate(n.getDate()+r),n},fw=function(e,t,i){var n,r=function(e){var i=new Date(e),n=i.getDay();n=n<t?-3-n:4-n;var r=i.getDate();return i.setDate(r+n),i},o=e.getFullYear(),s=r(new Date(o,0,1)),a=r(new Date(o,e.getMonth(),e.getDate())),l=s.getFullYear(),u=a.getFullYear();return u<o?(s=r(new Date(l,0,1)),n=Math.ceil((a.valueOf()-s.valueOf())/6048e5)+(s.getFullYear()===u?1:0)):n=u>o?1:Math.ceil((a.valueOf()-s.valueOf())/6048e5)+(l===u?1:0),String(u)+(null!=i?i:"")+(n<10?"0"+n:String(n))},_w=function(e){function t(t){var i=e.call(this)||this;return i._tooltips=[],i._items=[],i._enabled=!0,i._owner=t,i}return gd(t,e),t.prototype._doDispose=function(){this._owner=null,this._tooltips=null,this._items=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"tooltips",{get:function(){return this._tooltips},set:function(e){this._tooltips=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._items&&this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return this._styleName||""},set:function(e){this._styleName=e},enumerable:!1,configurable:!0}),t.prototype.load=function(e){this.clear()},t.prototype.clear=function(){this._items=[],this._tooltips=[]},t.prototype.contains=function(e){return!1},t.prototype.getTooltip=function(e){return null},t}(Yp),gw=function(e){function t(t,i){var n=e.call(this,t)||this;return i&&n.load(i),n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.load=function(t){if(e.prototype.load.call(this,t),t){var i=Bp.makeArray(t.dates,!0);t.tooltips=Bp.makeArray(t.tooltips,!0);for(var n=0,r=i.length;n<r;n++){var o=i[n],s=void 0;if(o instanceof Date||"number"==typeof o)(s=new Date(o)).setHours(0,0,0,0);else if("string"==typeof o){4!==o.length&&8!==o.length||!/^[0-9]*$/.test(o)||(o=4===o.length?o.replace(/(\d{2})(\d{2})/,"$1/$2"):o.replace(/(\d{4})(\d{2})(\d{2})/,"$1/$2/$3"));var a=o.split(/[.//-]/);if(2==a.length)try{s=parseInt(a[0]).toString()+"/"+parseInt(a[1]).toString()}catch(l){Bp.log("  (".concat(o,")"))}else 3==a.length&&(s=Gp.getSimpleDateNull(o))}s&&(this._items.push(s),t.tooltips[n]&&this._tooltips.push(t.tooltips[n]))}null!=t.enabled&&(this.enabled=!!t.enabled),this.styleName=t.styleName}},t.prototype.getItemIndex=function(e){for(var t=0,i=this._items.length;t<i;t++){var n=this._items[t];if(n instanceof Date&&n.getFullYear()===e.getFullYear()&&n.getMonth()===e.getMonth()&&n.getDate()===e.getDate())return t;if(n===e.getMonth()+1+"/"+e.getDate())return t}return-1},t.prototype.contains=function(e){return this.getItemIndex(e)>=0},t.prototype.getTooltip=function(e){var t=this.getItemIndex(e);return t>=0?this._tooltips[t]:null},t}(_w),mw=function(e){function t(t,i){var n=e.call(this,t)||this;return i&&n.load(i),n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.load=function(t){e.prototype.load.call(this,t),t&&(this._items=Bp.makeArray(t.days,!0),this._tooltips=Bp.makeArray(t.tooltips,!0),this.enabled=!!t.enabled,this.styleName=t.styleName)},t.prototype.contains=function(e){return e instanceof Date&&this._items.indexOf(e.getDay())>=0},t.prototype.getTooltip=function(e){var t=e instanceof Date?this._items.indexOf(e.getDay()):this._items.indexOf(e);return t>=0?this._tooltips[t]:null},t}(_w),yw=function(e){function t(){var t=e.call(this)||this;return t._items=[],t._count=-1,t}return gd(t,e),t.prototype._doDispose=function(){this._editor=null,this._items=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){return this._editor},set:function(e){this._editor=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return-1==this._count},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),t.prototype.setNull=function(){this.clear()},t.prototype.clear=function(){for(var e=0,t=this._items.length;e<t;e++)this._items[e].clear();this._items=[],this._count=-1},t.prototype.load=function(e){if(this.clear(),e){for(var t=0,i=(e=Bp.isArray(e)?e:[e]).length;t<i;t++){var n=e[t],r=void 0;switch(n.type){case"day":r=new mw(this,n);break;case"date":r=new gw(this,n)}r.count>0&&this._items.push(r)}this._count=this._items.length}else this._count=-1},t.prototype.contains=function(e){for(var t=0,i=this._items.length;t<i;t++)if(this._items[t].contains(e))return this._items[t];return null},t}(Yp),vw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dropDownPosition=Rb.BUTTON,t.selected=!1,t._viewGridInside=!1,t._date=new Date,t}return gd(t,e),Object.defineProperty(t.prototype,"viewGridInside",{get:function(){return this._viewGridInside||Bp.isSlotMode()},set:function(e){this._viewGridInside=e},enumerable:!1,configurable:!0}),t.prototype.$_resetPosition=function(e,t,i,n){this._viewGridInside?Bp.resetPosition(this._container._container,this._container._container,this._element,e,t,i,n,this.dropDownPosition!=Rb.EDITOR):Bp.resetPosition(this._containerElement,this._container._container,this._element,e,t,i,n,this.dropDownPosition!=Rb.EDITOR)},t}(Vf),bw=function(e){function t(i,n){var r=e.call(this)||this;return r.minWidth=0,r.maxWidth=0,r.showToday=!0,r.showWeeks=!1,r.startWeek=0,r.weekSelectable=!1,r.weekSeparator="",r._currentMode=nw.DAY,r._focused=!0,r._canceled=!1,r._touchs=null,r._applyTouchs=null,r._clickHandler=function(e){var i=r.$_getCellDate(r._currDate,e.currentTarget.$_day+1);if(r._editor.containsRange(i)){var n=r.holidays&&r.holidays.contains(i);n&&!n.enabled||(r.date=new Date(i),r.selected=!0,r.focused=!0,r._editor.$_selectDate(r._date),!r.showButtons&&r._editor.timeSelectType===iw.NONE&&r.fireEvent(t.CLOSE_UP,!0))}},r._dblClickHandler=function(e){r.fireEvent(t.CLOSE_UP,!0)},r._yearWeekClickHandler=function(e){var i,n=e.currentTarget.$_yearWeek;n&&(i=pw(n)),i&&r._editor.containsRange(i)&&(r._date=new Date(i),r.selected=!0,r._editor.$_selectDate(r._date),!r.showButtons&&r.fireEvent(t.CLOSE_UP,!0))},r._mouseupHandler=function(e){!this._isMobile&&this._editor.setFocus()}.bind(r),r._timeWheelHandler=function(e){Bp.stopEvent(e),r._doTimeWheel(e)},r._timeClickHandler=function(e){Bp.stopEvent(e),r._doTimeClick(e)},r._touchStartHandler=function(e){r._touchs=[],r._applyTouchs=[],r._swipeTimer=clearInterval(r._swipeTimer),1!=e.touches.length&&(r._touchId=void 0),r._touchId=e.touches[0].identifier;var t=e.touches[0];r._touchs.push({x:t.clientX,y:t.clientY,t:e.timeStamp}),r._applyTouchs.push({x:t.clientX,y:t.clientY,t:e.timeStamp})},r._touchEndHandler=function(e){r._checkSwipe(e.target),r._touchs=r._applyTouchs=null},r._touchMoveHandler=function(e){if(!(e.touches.length>1)){Bp.stopEvent(e);var t=r._touchs,i=r._applyTouchs,n=e.touches[0],o={x:n.clientX,y:n.clientY,t:e.timeStamp};t.push(o),i.push(o);var s=i[0].y,a=i[i.length-1].y;Math.abs(s-a)>13&&(r._applyTouchs=[],r._doTimeScroll(e.target,s-a))}},r._checkSwipe=function(e){var t=r._touchs,i=t.length;if(!(i<2)){for(var n=t[i-1],o=t[i-2],s=i-3;s>=0&&!(n.t-o.t>100);s--)o=t[s];var a=o.x,l=o.y,u=n.x,c=n.y,h=Math.sqrt(Math.pow(a-u,2)+Math.pow(l-c,2))/Math.max(16,n.t-o.t),d=.998;if(h>.1){var p=Math.log(.1/h)/Math.log(d),f=h*(1-Math.pow(d,p+1))/(1-d),_="right",g=Math.round(180*Math.atan2(c-l,u-a)/Math.PI);return g<0&&(g=360+g),g>45&&g<=135?_="bottom":g>135&&g<=225?_="left":g>225&&g<=315&&(_="top"),r.onSwipeHandler(p,f,_,e)}return!1}},r.$_scrollRow=function(){Bp.getTimer()-r._swipeStarted<r._swipeDuration?r._doTimeScroll(r._swipeTarget,r._swipeDistance):r._swipeTimer=clearInterval(r._swipeTimer)},r.$_nextMonth=function(e){Bp.incMonth(r._currDate,1),r.$_buildCalendar()},r.$_prevMonth=function(e){Bp.incMonth(r._currDate,-1),r.$_buildCalendar()},r.$_nextYearMonth=function(e){Bp.incYear(r._currDate,1),r.$_buildMonths()},r.$_prevYearMonth=function(e){Bp.incYear(r._currDate,-1),r.$_buildMonths()},r.$_nextYear=function(){var e=r._yearTable.tBodies[0].rows[2].cells[3],t=parseInt(e.getAttribute("year"));r.$_buildYear(t)},r.$_prevYear=function(){var e=r._yearTable.tBodies[0].rows[0].cells[0],t=parseInt(e.getAttribute("year"))-4;r.$_buildYear(t)},r._editor=n,r._container=i,r._element=r.$_createPicker(n),r._element.addEventListener(Bp.isIEMode()?"mousedown":"pointerup",r._mouseupHandler),r}return gd(t,e),t.prototype.onSwipeHandler=function(e,t,i,n){this._swipeDuration=e,this._swipeStarted=Bp.getTimer(),this._swipeTarget=n;var r=1;switch(i){case"bottom":r=-1;case"top":this._swipeDistance=r*t/20,this._swipeTimer=setInterval(this.$_scrollRow,40)}return!0},t.prototype._doDispose=function(){var t=this;if(this._element){var i=function(e){e&&(e.removeEventListener("wheel",t._timeWheelHandler),e.removeEventListener("click",t._timeClickHandler),e.removeEventListener("touchstart",t._touchStartHandler),e.removeEventListener("touchend",t._touchEndHandler),e.removeEventListener("touchmove",t._touchMoveHandler),e.removeEventListener("dblclick",t._dblClickHandler))};this._element.removeEventListener(Bp.isIEMode()?"mousedown":"pointerup",this._mouseupHandler),i(this._hourElement.$_UL),i(this._minuteElement.$_UL),i(this._secondElement.$_UL),Bp.detach(this._element)}e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"date",{get:function(){return this._date},set:function(e){if(e){if((!this._date||this._date.getTime()!==e.getTime())&&(this._currDate=new Date(e),this._date=new Date(e),this.listing)){switch(this._currentMode){case nw.DAY:this.$_buildCalendar();break;case nw.MONTH:this.$_buildMonths();break;case nw.YEAR:this.$_buildYear(this._date.getFullYear())}this._setTime(this._date,!1)}}else null===e&&(this._date=null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listing",{get:function(){return this._containerElement&&this._containerElement.contains(this._element)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canceled",{get:function(){return this._canceled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focused",{get:function(){return this._focused},set:function(e){e!=this._focused&&(this._focused=e,this._element.style.border=e?"1px solid rgba(50, 50, 50, 1)":"1px solid rgba(50, 50, 50, 0.3)",this._element.style.boxShadow=e?"rgba(0, 0, 0, 0.8) 1px 2px 5px":"rgba(0, 0, 0, 0.5) 1px 2px 5px",this._headerElement.style.backgroundColor=e?"rgba(0, 200, 200, 0.1)":"#e8e8e8",this._calendar.tHead.style.opacity=e?"1.0":"0.5")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"today",{get:function(){return this.date=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentMode",{get:function(){return this._currentMode},set:function(e){if(this._currentMode!==e){this._currentMode=e;for(var t=this._bodyElement,i=void 0,n=this._header,r=n.$_prev,o=n.$_next,s=this._currDate||new Date;i=t.lastElementChild;)t.removeChild(i);var a=s.getMonth(),l=s.getFullYear();switch(this._currentMode){case nw.MONTH:t.appendChild(this._monthsElement),this.$_buildMonths(),r.onclick=this.$_prevYearMonth,o.onclick=this.$_nextYearMonth,r.title="".concat(l-1,"/").concat(a+1),o.title="".concat(l+1,"/").concat(a+1);break;case nw.YEAR:t.appendChild(this._yearsElement),this.$_buildYear(s.getFullYear()),r.onclick=this.$_prevYear,o.onclick=this.$_nextYear,r.title="".concat(10*Math.floor(l/10)-11,"-").concat(10*Math.floor(l/10)),o.title="".concat(10*Math.floor(l/10)+11,"-").concat(10*Math.floor(l/10)+20);break;default:t.appendChild(this._calendarElement),this.$_buildCalendar(),r.onclick=this.$_prevMonth,o.onclick=this.$_nextMonth,r.title=0==a?l-1+"/12":l+"/"+Bp.pad(a),o.title=o.title=11==a?l+1+"/01":l+"/"+Bp.pad(a+2)}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hours",{get:function(){return this._hours},set:function(e){if(e)this._hours=e.slice();else{this._hours=[];for(var t=0;t<24;t++)this._hours.push(t)}this.$_buildHourMinutes(iw.HOUR)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minutes",{get:function(){return this._minutes},set:function(e){if(e)this._minutes=e.slice();else{this._minutes=[];for(var t=0;t<60;t++)this._minutes.push(t)}this.$_buildHourMinutes(iw.MINUTE)},enumerable:!1,configurable:!0}),t.prototype.setWeekDays=function(e){this._weekDays=e.slice()},t.prototype.show=function(e,t,i,n,r){this._containerElement=!Bp.isMobile()&&this.viewGridInside?this._container._container:e,this._element.style.removeProperty("width"),this._timeContainer.style.setProperty("height","0px"),this.$_show(t,i,n,r)},t.prototype.hide=function(){this.focused=!1,Bp.detach(this._element),this._containerElement=null},t.prototype.incDay=function(e){var t;return this._date.getMonth()==this._currDate.getMonth()?(t=new Date(this._date)).setDate(this._date.getDate()+e):(t=this._currDate,t=new Date(t.getFullYear(),t.getMonth(),1)),this.date=t},t.prototype.incMonth=function(e){var t;return this._date.getMonth()==this._currDate.getMonth()?(t=new Date(this._date),Bp.incMonth(t,e)):(t=this._currDate,t=new Date(t.getFullYear(),t.getMonth(),1)),this.date=t},t.prototype.startDay=function(){var e=new Date(this._currDate),t=e.getDay()-this.startWeek;return e.setDate(e.getDate()-(t+7)%7),this.date=e},t.prototype.endDay=function(){var e=new Date(this._currDate),t=e.getDay()-this.startWeek;return e.setDate(e.getDate()+(6-t)),this.date=e},t.prototype.incHour=function(e){var t,i=new Date(this._currDate),n=i.getHours(),r=this._hours;return r?(t=r.indexOf(n))>=0?null==(n=r[t+e])&&(n=1===e?r[0]:r[r.length-1]):n=r[0]:n=(24+n+e)%24,i.setHours(n),this.$_setTime(this._hourElement,null,n,!0),this.date=i},t.prototype.incMinute=function(e){var t,i=new Date(this._currDate),n=this._minutes,r=i.getMinutes();return n?(t=n.indexOf(r))>=0?null==(r=n[t+e])&&(r=1===e?n[0]:n[n.length-1]):r=n[0]:r=(24+r+e)%24,i.setMinutes(r),this.$_setTime(this._minuteElement,null,r,!0),this.date=i},t.prototype.incSecond=function(e){var t=new Date(this._currDate),i=t.getSeconds();return i=(60+i+e)%60,t.setSeconds(i),this.$_setTime(this._secondElement,null,i,!0),this.date=t},t.prototype.setCurrentLoc=function(e){var t="focused";1===e?Bp.addClassName(this._hourElement,t):Bp.removeClassName(this._hourElement,t),2===e?Bp.addClassName(this._minuteElement,t):Bp.removeClassName(this._minuteElement,t),3===e?Bp.addClassName(this._secondElement,t):Bp.removeClassName(this._secondElement,t)},t.prototype._changed=function(){},t.prototype.$_getCellDate=function(e,t){var i=new Date(e);return i.setDate(t),i},t.prototype.$_createPicker=function(e){var t=this._container.doc,i=t.createElement("div");this._id=i.id="rg-calendar-"+ww.$$_LIST_ID++,i.tabIndex=-1;var n=i.style;return n.position="absolute",n.boxSizing="border-box",n.margin="0px",n.overflow="auto",n.zIndex=String(e._baseZindex+2),i.className="rg-calendar",this._header=this.$_createHeader(t),i.appendChild(this._header),this._bodyElement=this.$_createBody(t),i.appendChild(this._bodyElement),this._calendarElement=this.$_createCalTable(t),this._monthsElement=this.$_createMonths(t),this._yearsElement=this.$_createYears(t),this._footer=this.$_createFooter(t),i.appendChild(this._footer),i},t.prototype.$_createBody=function(e){var t=e.createElement("div");return t.className="rg-calendar-body",t},t.prototype.$_createCalTable=function(e){var t,i=e.createElement("div");(t=i.style).display="flex",t.flexDirection="row";var n=this._dateContainer=e.createElement("div");(t=n.style).display="inline-block",i.appendChild(n),this._calendar=this.$_createCalendar(e),n.appendChild(this._calendar);var r=this._timeContainer=e.createElement("div");return i.appendChild(r),(t=r.style).display="none",t.overflow="hidden",t.height="0px",r.appendChild(this._hourElement=this.$_createHour(e)),r.appendChild(this._minuteElement=this.$_createMinute(e)),r.appendChild(this._secondElement=this.$_createSecond(e)),i},t.prototype._getCell=function(e){for(var t=Fp(e);e&&!(e instanceof t.HTMLTableCellElement);)e=e.parentElement;return e},t.prototype.$_setCurrentTime=function(e,t,i){for(var n=e.parentElement.clientHeight,r=e.offsetTop,o=0,s=0;s<e.childElementCount;s++){var a=e.children[s];t&&(a.setAttribute("time-value",t[s].toString()),a[Bp.TextProp]=Bp.pad(t[s])),t[s]===i?Bp.addClassName(a,"rg-cal-time-select"):Bp.removeClassName(a,"rg-cal-time-select"),(r+=o||(o=a.clientHeight+2))>n?a.style.visibility="hidden":a.style.removeProperty("visibility")}},t.prototype._doTimeScroll=function(e,t){for(var i=Fp(this._containerElement),n=e;!(n instanceof i.HTMLUListElement)||null==n;)n=n.parentElement;if(n){var r=n.parentElement;if(!(r.scrollHeight<=r.clientHeight)){var o;switch(n.firstElementChild.getAttribute("kind")){case iw.HOUR:o=this._currDate.getHours();break;case iw.MINUTE:o=this._currDate.getMinutes();break;case iw.SECOND:o=this._currDate.getSeconds()}if(n){for(var s=[],a=0;a<n.childElementCount;a++)s.push(Number(n.children[a].getAttribute("time-value")));t>0?s.push(s.shift()):s.unshift(s.pop()),this.$_setCurrentTime(n,s,o)}}}},t.prototype._doTimeWheel=function(e){this._doTimeScroll(e.target,e.deltaY)},t.prototype._doTimeClick=function(e){var i=e.target,n=new Date(this._currDate),r=i.getAttribute("kind"),o=Number(i.getAttribute("time-value"));switch(r){case iw.HOUR:n.setHours(o);break;case iw.MINUTE:n.setMinutes(o);break;case iw.SECOND:n.setSeconds(o)}this._editor.$_selectDate(this.date=n),r===this._editor.timeSelectType&&!this.showButtons&&this.fireEvent(t.CLOSE_UP,!0)},t.prototype._changeCurrent=function(e){switch(this._currentMode){case nw.DAY:this.currentMode=e?nw.MONTH:nw.DAY;break;case nw.MONTH:this.currentMode=e?nw.YEAR:nw.DAY;break;case nw.YEAR:this.currentMode=e?nw.YEAR:nw.MONTH}},t.prototype.$_createHeader=function(e){var t=this,i=function(e,t){var i=e.createElement("span"),n=i.style;return n.position="relative",n.minWidth="17px",n.minHeight="17px",i},n=this,r=this._headerElement=e.createElement("div"),o=r.style;o.position="relative",o.display="flex",r.className="rg-cal-header";var s=r.appendChild(r.$_prev=i(e));s.className="rg-cal-prev-month",s.onclick=this.$_prevMonth;var a=e.createElement("div");(o=a.style).position="relative",o.textAlign="center",o.display="flex",o.alignItems="center",o.justifyContent="center",o.height="100%",o.flexGrow="1",r.appendChild(r.$_title=a),a.className="rg-cal-yearmonth";var l=e.createElement("div");(o=l.style).position="relative",o.fontSize="14px",l.className="rg-cal-year",a.appendChild(a.$_year=l),l.onclick=function(e){t._currentMode!==nw.YEAR&&t._changeCurrent(!0)};var u=this._todayElement=e.createElement("span");(o=u.style).position="relative",u.className="rg-cal-today-button",r.appendChild(u),u.onclick=function(e){var t=new Date;n.focused=!0,n.date=t,n.selected=!0,n.currentMode=n.viewMode||nw.DAY,n._editor.$_selectDate(n._currDate),n._setTime(t,!0)};var c=r.appendChild(r.$_next=i(e));return c.className="rg-cal-next-month",c.onclick=this.$_nextMonth,r},t.prototype.$_createFooter=function(e){var i,n=this,r=e.createElement("div"),o=r.style;return o.display="none",r.className="rg-cal-buttons",(i=this._deleteElement=e.createElement("span")).className="rg-cal-delete-button",(o=i.style).float="left",i.onclick=function(e){n.selected=!0,n.date=null,n._editor.$_selectDate(null)},r.appendChild(i),(i=this._saveElement=e.createElement("span")).className="rg-cal-save-button",(o=i.style).float="right",i.onclick=function(e){n.fireEvent(t.CLOSE_UP,!0)},r.appendChild(i),(i=this._cancelElement=e.createElement("span")).className="rg-cal-cancel-button",(o=i.style).float="right",i.onclick=function(e){n.selected=!1,n._canceled=!0,n.fireEvent(t.CLOSE_UP,!1)},r.appendChild(i),r},t.prototype.$_createCalendar=function(e){var i=t.weeksClass,n=e.createElement("table"),r=n.style;r.margin="2px",n.className="rg-cal-days-table";var o=n.createTHead();o.className="rg-cal-weeks";var s=e.createElement("tr");o.appendChild(s);var a=[],l=e.createElement("th");(r=l.style).minWidth="20px",r.textAlign="center",l.className="rg-cal-week-year-week",s.appendChild(l);var u=e.createElement("span");l.appendChild(u),o.$_weeks=l;for(var c=0;c<7;c++){var h=e.createElement("th");(r=h.style).minWidth="20px",r.textAlign="center",h.className="rg-cal-week-"+i[c],s.appendChild(h);var d=e.createElement("span");h.appendChild(d),a.push(d)}o.$_cells=a;var p=e.createElement("tbody");p.className="rg-cal-days",n.appendChild(n.$_body=p);for(var f=p.$_rows=[],_=p.$_yearweeks=[],g=0;g<6;g++){var m=e.createElement("tr");p.appendChild(m),f.push(m),m.$_cells=a=[];var y=e.createElement("td");(r=y.style).padding="1px",m.appendChild(y);var v=e.createElement("span");for(y.appendChild(y.$_span=v),_.push(y),c=0;c<7;c++){var b=e.createElement("td");(r=b.style).padding="1px",b.className="rg-cal-day rg-cal-week-"+i[(c+this.startWeek)%7],m.appendChild(b),b.onclick=this._clickHandler,b.ondblclick=this._dblClickHandler;var w=e.createElement("span");b.appendChild(b.$_span=w),b.id=this._id+"-"+g.toString()+"-"+c.toString(),a.push(b)}}return n},t.prototype.$_buildYear=function(e){for(var t=this._yearTable.tBodies[0],i=this._currDate.getFullYear(),n=e=10*Math.floor(e/10)-1,r=0;r<3;r++)for(var o=t.rows[r],s=0;s<4;s++){var a=o.cells[s];a.setAttribute("year",e.toString()),a.firstElementChild[Bp.TextProp]=Bp.htmlEncode(this.yearDisplayFormat?this.yearDisplayFormat.replace("{Y}",e+""):e+""),i===e?Bp.addClassName(a,"rg-cal-focusday"):Bp.removeClassName(a,"rg-cal-focusday"),e++}var l="".concat(this.yearDisplayFormat?this.yearDisplayFormat.replace("{Y}",n+""):n," - ").concat(this.yearDisplayFormat?this.yearDisplayFormat.replace("{Y}",--e+""):--e);this._headerElement.$_title.$_year[Bp.TextProp]=Bp.htmlEncode(l)},t.prototype.$_buildMonths=function(){for(var e=this.months,t=0,i=this._currDate.getMonth(),n=this._monthTable.tBodies[0],r=0;r<3;r++)for(var o=n.rows[r],s=0;s<4;s++){var a=o.cells[s];a.setAttribute("month",t.toString());var l=a.firstElementChild;e&&e[t]?l[Bp.TextProp]=Bp.htmlEncode(e[t]):l[Bp.TextProp]=this.monthDisplayFormat?this.monthDisplayFormat.replace("{M}",t+1+""):"".concat(t+1),i===t?Bp.addClassName(a,"rg-cal-focusday"):Bp.removeClassName(a,"rg-cal-focusday"),t++}var u=this._currDate.getFullYear(),c="".concat(this.yearDisplayFormat?this.yearDisplayFormat.replace("{Y}",u+""):u);this._headerElement.$_title.$_year[Bp.TextProp]=Bp.htmlEncode(c)},t.prototype.$_buildHourMinutes=function(e){var t,i,n=this._container.doc;switch(e){case iw.HOUR:t=this._hourElement,i=this._hours;break;case iw.MINUTE:t=this._minuteElement,i=this._minutes}var r=t.$_UL;if(r){for(;r.lastElementChild;)r.removeChild(r.lastElementChild);i.forEach(function(t){var i=n.createElement("li");i.className="rg-cal-time-item",i.setAttribute("time-value",t.toString()),i[Bp.TextProp]=Bp.pad(t,2),i.setAttribute("kind",e),r.appendChild(i)})}},t.prototype.$_monthClick=function(e,i){var n=this._getCell(e.target);if(n){var r=parseInt(n.getAttribute("month")),o=this._currDate.getDate(),s=new Date(this._currDate.getFullYear(),r+1,0).getDate();if(this._currDate.setMonth(r,Math.min(o,s)),this.viewMode===nw.MONTH)return this.selected=!0,this.date=this._currDate,this._editor.$_selectDate(this._currDate),void(this.showButtons&&!i?this.$_buildMonths():this.fireEvent(t.CLOSE_UP,!0));this._changeCurrent(!1),this.$_buildCalendar()}},t.prototype.$_createMonths=function(e){var t=this,i=e.createElement("div"),n=this._monthTable=e.createElement("table");n.className="rg-cal-month-table";var r=e.createElement("tbody");n.appendChild(r);for(var o=0;o<3;o++){var s=r.appendChild(e.createElement("tr"));s.className="rg-cal-month-row";for(var a=0;a<4;a++){var l=s.appendChild(e.createElement("td"));l.className="rg-cal-month-cell",l.appendChild(e.createElement("div"))}}return i.appendChild(n),n.onclick=function(e){t.$_monthClick(e,!1)},n.ondblclick=function(e){t.showButtons&&t.$_monthClick(e,!0)},i},t.prototype.$_yearClick=function(e,i){var n=this._getCell(e.target);if(n){var r=parseInt(n.getAttribute("year"));if(this._currDate.setFullYear(r),this.viewMode===nw.YEAR)return this.selected=!0,this.date=this._currDate,this._editor.$_selectDate(this._currDate),void(this.showButtons&&!i?this.$_buildYear(this._currDate.getFullYear()):this.fireEvent(t.CLOSE_UP,!0));this._changeCurrent(!1)}},t.prototype.$_createYears=function(e){var t=this,i=e.createElement("div"),n=this._yearTable=e.createElement("table");n.className="rg-cal-year-table";for(var r=n.appendChild(e.createElement("tbody")),o=0;o<3;o++){var s=r.appendChild(e.createElement("tr"));s.className="rg-cal-year-row";for(var a=0;a<4;a++){var l=s.appendChild(e.createElement("td"));l.className="rg-cal-year-cell",l.appendChild(e.createElement("div"))}}return i.appendChild(n),n.onclick=function(e){t.$_yearClick(e,!1)},n.ondblclick=function(e){t.showButtons&&t.$_yearClick(e,!0)},i},t.prototype.$_createTimeElt=function(e,t,i,n){var r=t.style;t.className="rg-cal-time rg-cal-time-".concat(n),r.display="inline-block",r.height="100%",r.overflow="hidden",r.position="relative";var o=e.createElement("div");o.className="rg-time-header";var s=e.createElement("div");s.className="rg-time-title",t.$_Label=s,o.appendChild(s),t.appendChild(o);var a=e.createElement("ul");a.addEventListener("wheel",this._timeWheelHandler),a.addEventListener("click",this._timeClickHandler),a.addEventListener("touchstart",this._touchStartHandler),a.addEventListener("touchend",this._touchEndHandler),a.addEventListener("touchmove",this._touchMoveHandler),a.addEventListener("dblclick",this._dblClickHandler),a.className="rg-cal-time-list";for(var l=0;l<i;l++){var u=e.createElement("li");u.className="rg-cal-time-item",u.setAttribute("time-value",l.toString()),u[Bp.TextProp]=Bp.pad(l,2),u.setAttribute("kind",n),a.appendChild(u)}t.appendChild(a),t.$_UL=a},t.prototype.$_createHour=function(e){var t=e.createElement("div");return this.$_createTimeElt(e,t,24,iw.HOUR),t},t.prototype.$_createMinute=function(e){var t=e.createElement("div");return this.$_createTimeElt(e,t,60,iw.MINUTE),t},t.prototype.$_createSecond=function(e){var t=e.createElement("div");return this.$_createTimeElt(e,t,60,iw.SECOND),t},t.prototype.$_show=function(e,t,i,n){this.focused=!1,this.selected=!1,this._canceled=!1,this.showButtons?(this._footer.style.display="",this._saveElement&&(this._saveElement[Bp.TextProp]=Bp.htmlEncode(this.saveLabel)),this._cancelElement&&(this._cancelElement[Bp.TextProp]=Bp.htmlEncode(this.cancelLabel)),this._deleteElement&&(this._deleteElement[Bp.TextProp]=Bp.htmlEncode(this.deleteLabel))):this._footer.style.display="none",this.showToday?(this._todayElement&&(this._todayElement[Bp.TextProp]=Bp.htmlEncode(this.todayLabel)),this._todayElement.style.removeProperty("display")):this._todayElement.style.setProperty("display","none");var r=this._date;this._currDate=r?new Date(r):new Date,this._today=new Date;for(var o,s=this._bodyElement;o=s.lastElementChild;)s.removeChild(o);this._bodyElement.appendChild(this._calendarElement),this.currentMode=this.viewMode||nw.DAY,this.setCurrentLoc(0),this.$_buildCalendar(),Bp.disableSelection(this._element),this._containerElement.appendChild(this._element),this._timeContainer.style.height=Bp.getSize(this._dateContainer).height+"px",this.$_setTimeSelector(),this._setTime(this._currDate,!0),this.$_resetPosition(e,t,i,n),this._element.style.setProperty("width",Math.ceil(Bp.getSize(this._element).width)+"px")},t.prototype.$_checkFocusedWeek=function(e,t,i){var n=["rg-cal-week-year-week"];this.$_isFocusedWeek(e,t.$_yearWeek)&&n.push("rg-cal-week-year-focusweek"),this.weekSelectable&&n.push("rg-week-selectable"),t.className=n.join(" ")},t.prototype.$_isFocusedWeek=function(e,t){return e&&t&&fw(e,this.startWeek)==t},t.prototype.$_isFocusedDay=function(e,t){var i=this._date;return i&&e.getFullYear()==i.getFullYear()&&e.getMonth()==i.getMonth()&&t==i.getDate()},t.prototype.$_isToday=function(e,t){var i=this._today;return i&&e.getFullYear()==i.getFullYear()&&e.getMonth()==i.getMonth()&&t==i.getDate()},t.prototype.$_setTime=function(e,t,i,n){var r=e.$_UL,o=e.$_Label;if(r){o&&t&&(o[Bp.TextProp]=Bp.htmlEncode(t));var s=[].map.call(r.children,function(e){return Number(e.getAttribute("time-value"))}),a=s.indexOf(i);if(!(a<0)){if(!this.listing||n)if(a>2){var l=s.splice(0,a-2);s.push.apply(s,l)}else a<2&&(l=s.splice(s.length-a),s.unshift.apply(s,l));this.$_setCurrentTime(r,s,i)}}},t.prototype._setTime=function(e,t){this.$_setTime(this._hourElement,this._editor.hourLabel,e.getHours(),t),this.$_setTime(this._minuteElement,this._editor.minuteLabel,e.getMinutes(),t),this.$_setTime(this._secondElement,this._editor.secondLabel,e.getSeconds(),t)},t.prototype.$_setTimeSelector=function(){var e=this._editor.timeSelectType,t=this._hourElement.style,i=this._minuteElement.style,n=this._secondElement.style;if(t.display=i.display=n.display="none",this.viewMode===nw.DAY){var r=0;switch(e){case iw.SECOND:n.display="inline-block",r++;case iw.MINUTE:i.display="inline-block",r++;case iw.HOUR:t.display="inline-block",r++}var o=this._headerElement.clientHeight+"px";this._hourElement.firstElementChild.style.height=this._minuteElement.firstElementChild.style.height=this._secondElement.firstElementChild.style.height=o,this._timeContainer.style.display=r?"inline-block":"none"}},t.prototype.$_buildCalendar=function(){var e,i,n=t.weeksClass,r=this._header,o=this._currDate,s=r.$_title,a=o.getFullYear(),l=o.getMonth(),u="";if(this.yearMonthDisplayFormat){var c=this.yearMonthDisplayFormat,h=this.months&&this.months[l];u=c.replace("{Y}",a+""),u=h?u.replace("{MM}",h).replace("{M}",h):u.replace("{MM}",Bp.pad(l+1,2)).replace("{M}",l+1+"")}else u=(this.yearDisplayFormat?this.yearDisplayFormat.replace("{Y}",a+""):a)+"&nbsp;",this.months&&this.months.length>0?u+=this.months[l]:u+=this.monthDisplayFormat?this.monthDisplayFormat.replace("{M}",(l+1).toString()):l+1;s.$_year.innerHTML=u,u=s.$_year.innerText;for(var d=this._calendar.tHead.$_cells,p=0;p<7;p++){var f=d[(p+7-this.startWeek)%7];f.innerHTML=Bp.htmlEncode(this._weekDays[p]),f.parentElement.className="rg-cal-week-"+t.weeksClass[p]}this._calendar.tHead.$_weeks.style.display=this.showWeeks?"":"none";for(var _=this._calendar.$_body,g=_.$_yearweeks,m=(p=0,g.length);p<m;p++)g[p].style.display=this.showWeeks?"":"none",g[p].onclick=this.weekSelectable?this._yearWeekClickHandler:null,g[p].ondblclick=this.weekSelectable?this._dblClickHandler:null;var y=_.$_rows,v=Bp.month_days[Bp.isLeapYear(a)?1:0][l],b=new Date(o);b.setDate(1);var w=(b.getDay()+7-this.startWeek)%7;30==v&&6==w||31==v&&w>=5?Bp.addChild(_,y[5]):Bp.removeChild(_,y[5]),28==v&&0==w?Bp.removeChild(_,y[4]):Bp.addChild(_,y[4]);var C,x,I=0,E=g[0];if(d=y[0].$_cells,w>0){var O=a,S=l-1;S<0&&(O--,S=11);var k=Bp.month_days[Bp.isLeapYear(O)?1:0][S];for(p=0;p<w;p++){(L=d[p]).removeAttribute("title");var P=new Date(this._currDate);L.$_day=p-w,P.setDate(L.$_day+1);var R=this._editor.containsRange(P);0===p&&(E.$_yearWeek=fw(P,this.startWeek),E.$_span.innerText=E.$_yearWeek.substr(4,2),this.$_checkFocusedWeek(this._currDate,E,R)),L.$_span.innerHTML=k-w+p+1,L.className="rg-cal-day rg-cal-prev-day "+(R?"":"rg-cal-disable-day ")+"rg-cal-week-"+n[(p+this.startWeek)%7]}}for(p=w;p<7;p++)(L=d[p]).removeAttribute("title"),L.$_day=I++,L.$_span.innerHTML=I,(b=new Date(this._currDate)).setDate(I),R=this._editor.containsRange(b),0===p&&(E.$_yearWeek=fw(b,this.startWeek),E.$_span.innerText=E.$_yearWeek.substr(4,2),this.$_checkFocusedWeek(this._currDate,E,R)),C=this.$_isFocusedDay(o,I),x=this.$_isToday(o,I),C&&this._editor._editor.setAttribute("aria-activedescendant",L.id),L.setAttribute("aria-label",u+" "+I.toString()),x?L.setAttribute("aria-current","date"):L.removeAttribute("aria-current"),R?L.removeAttribute("aria-disabled"):L.setAttribute("aria-disabled","true"),e="rg-cal-day "+(C?"rg-cal-focusday ":""),e+=x?"rg-cal-today ":"",e+=(i=this.holidays&&this.holidays.contains(b))?i.styleName+" rg-cal-holiday ":"",e+=R?"":"rg-cal-disable-day ",e+="rg-cal-week-"+n[(p+this.startWeek)%7],L.className=e,i&&(e=i.getTooltip(this.$_getCellDate(o,I)))&&(L.title=e);for(var T=1;T<6&&I<v;T++){d=y[T].$_cells;var D=g[T];for(p=0;p<7;p++)if(I<v)(L=d[p]).removeAttribute("title"),L.$_day=I++,(b=new Date(this._currDate)).setDate(I),R=this._editor.containsRange(b),0===p&&(D.$_yearWeek=fw(b,this.startWeek),D.$_span.innerText=D.$_yearWeek.substr(4,2),this.$_checkFocusedWeek(this._currDate,D,R)),L.$_span.innerHTML=I,C=this.$_isFocusedDay(o,I),x=this.$_isToday(o,I),C&&this._editor._editor.setAttribute("aria-activedescendant",L.id),L.setAttribute("aria-label",u+" "+I.toString()),x?L.setAttribute("aria-current","date"):L.removeAttribute("aria-current"),R?L.removeAttribute("aria-disabled"):L.setAttribute("aria-disabled","true"),e="rg-cal-day "+(C?"rg-cal-focusday ":""),e+=this.$_isToday(o,I)?"rg-cal-today ":"",e+=(i=this.holidays&&this.holidays.contains(b))?i.styleName+" rg-cal-holiday ":"",e+=R?"":"rg-cal-disable-day ",e+="rg-cal-week-"+n[(p+this.startWeek)%7],L.className=e,i&&(e=i.getTooltip(this.$_getCellDate(o,I)))&&(L.title=e);else for(var M=1;p<7;p++){var L;(L=d[p]).removeAttribute("title"),L.$_day=I++,(b=new Date(this._currDate)).setDate(I),R=this._editor.containsRange(b),L.$_span.innerHTML=M++,L.className="rg-cal-day rg-cal-next-day "+(R?"":"rg-cal-disable-day ")+"rg-cal-week-"+n[(p+this.startWeek)%7]}}},t.CLOSE_UP="onDatePickerCloseUp",t.weeksClass=["sun","mon","tue","wed","thu","fri","sat"],t}(vw),ww=function(e){function t(t,i){var n=e.call(this,t,i)||this;n._holidays=null,n._currentLoc=0,n._holidayCollection=new yw,n._closing=!1,n._regx=/[\d\-.:/apmz+ ]/i,n._globalMouseHandler=function(e){var t=e.target;if(this._isMarquee(t))this.closeUp(!1);else{for(;t;){if(t===this._list._element)return;t=t.parentElement}this.closeUp(!0)}}.bind(n),n.assignFrom(u_.editor.dateCellEditor),n._baseZindex=t.displayOptions.baseZindex,n._list=new bw(t.container,n),n._list.addListener(n);var r=n._editor;return r.setAttribute("aria-owns",n._list._element.id),r.setAttribute("aria-expanded","false"),r.setAttribute("aria-haspopup","true"),n}return gd(t,e),t.prototype._doDispose=function(){this._globalMouseHandler=null,this._holidayCollection=this._holidayCollection.dispose(),this._list=this._list&&this._list.dispose(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"editFormat",{get:function(){return this.datetimeFormat},set:function(e){e!=this.datetimeFormat&&(this.datetimeFormat=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this._minDate},set:function(e){e!=this._minDate&&(this._minDate=e?e instanceof Date?e:"string"==typeof e?this._dateConverter.getDateNull(e):null:null,this._minDate&&this._minDate.setHours(0,0,0,0),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){e!=this._maxDate&&(this._maxDate=e?e instanceof Date?e:"string"==typeof e?this._dateConverter.getDateNull(e):null:null,this._maxDate&&this._maxDate.setHours(23,59,59),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropDownPosition",{get:function(){return this._dropDownPosition},set:function(e){this._dropDownPosition=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropDownWhenClick",{get:function(){return this._dropDownWhenClick},set:function(e){e!=this._dropDownWhenClick&&(this._dropDownWhenClick=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropDownWhenEnter",{get:function(){return this._dropDownWhenEnter},set:function(e){this._dropDownWhenEnter=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showToday",{get:function(){return this._showToday},set:function(e){this._showToday=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yearDisplayFormat",{get:function(){var e=this._grid;return this._yearDisplayFormat||e&&e.editorOptions.dateCellEditor.yearDisplayFormat||r_.messages.dateEditorYearDisplayFormat},set:function(e){this._yearDisplayFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"monthDisplayFormat",{get:function(){var e=this._grid;return this._monthDisplayFormat||e&&e.editorOptions.dateCellEditor.monthDisplayFormat||r_.messages.dateEditorMonthDisplayFormat},set:function(e){this._monthDisplayFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yearMonthDisplayFormat",{get:function(){var e=this._grid;return this._yearMonthDisplayFormat||e&&e.editorOptions.dateCellEditor.yearMonthDisplayFormat||r_.messages.dateEditorYearMonthDisplayFormat},set:function(e){this._yearMonthDisplayFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"months",{get:function(){var e=this._grid;return this._months||e&&e.editorOptions.dateCellEditor.months||r_.messages.dateEditorMonths},set:function(e){this._months=Array.isArray(e)?e.slice():void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"weekDays",{get:function(){var e=this._grid;return this._weekDays||e&&e.editorOptions.dateCellEditor.weekDays||r_.messages.dateEditorWeekDays},set:function(e){this._weekDays=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showWeeks",{get:function(){return this._showWeeks},set:function(e){this._showWeeks=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWeek",{get:function(){return this._startWeek},set:function(e){e=null==e||isNaN(e=Math.floor(e))?0:e,this._startWeek=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"weekSelectable",{get:function(){return this._weekSelectable},set:function(e){this._weekSelectable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"weekSeparator",{get:function(){return this._weekSeparator},set:function(e){this._weekSeparator=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitOnSelect",{get:function(){return this._commitOnSelect},set:function(e){e!=this._commitOnSelect&&(this._commitOnSelect=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultShowDate",{get:function(){return this._defaultShowDate},set:function(e){e!=this._defaultShowDate&&(this._defaultShowDate=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultDate",{get:function(){return this._defaultDate},set:function(e){e!=this._defaultDate&&(this._defaultDate=e instanceof Date?new Date(e):e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"holidays",{get:function(){return this._holidays},set:function(e){this._holidays=e,e?(this._holidayCollection=this._holidayCollection||new yw,this._holidayCollection.editor=this,this._holidayCollection.load(e)):this._holidayCollection.setNull(),this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listing",{get:function(){return this._list.listing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showButtons",{get:function(){return this._showButtons},set:function(e){this._showButtons=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"saveLabel",{get:function(){return this._saveLabel||r_.messages.dateEditorSaveLabel},set:function(e){this._saveLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cancelLabel",{get:function(){return this._cancelLabel||r_.messages.dateEditorCancelLabel},set:function(e){this._cancelLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deleteLabel",{get:function(){return this._deleteLabel||r_.messages.dateEditorDeleteLabel},set:function(e){this._deleteLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todayLabel",{get:function(){return this._todayLabel||r_.messages.dateEditorTodayLabel},set:function(e){this._todayLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hourLabel",{get:function(){return this._hourLabel||r_.messages.dateEditorHourLabel},set:function(e){this._hourLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minuteLabel",{get:function(){return this._minuteLabel||r_.messages.dateEditorMinuteLabel},set:function(e){this._minuteLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"secondLabel",{get:function(){return this._secondLabel||r_.messages.dateEditorSecondLabel},set:function(e){this._secondLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hours",{get:function(){return this._hours},set:function(e){var t=this;if("string"==typeof e){this._hours=[];try{e.split(",").forEach(function(e){var i=e.split("-");if(1===i.length&&i[0]&&!isNaN(parseInt(i[0])))t._hours.push(parseInt(i[0]));else if(i.length=2)for(var n=parseInt(i[0]),r=parseInt(i[1]),o=n;o<r;o++)t._hours.indexOf(o)<0&&t._hours.push(o)})}catch(i){this._hours=void 0}}else this._hours=e?e.slice():null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minutes",{get:function(){return this._minutes},set:function(e){this._minutes=e?e.slice():null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeSelectType",{get:function(){return this._timeSelectType},set:function(e){this._timeSelectType=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewMode",{get:function(){return this._viewMode},set:function(e){this._viewMode=e},enumerable:!1,configurable:!0}),t.prototype.dropDown=function(e){if(!(this.readOnly||this._controller._readOnly||this.listing||this._closing)){var t=$p(this._container),i=Np(t),n=this._grid.editorOptions,r=this._list,o=t.body,s=Bp.getSize(this._container);if(this._grid.accessibility){var a=Bp.getSize(this._grid.container._containerDiv);s.cx=s.x-a.x+s.cx,s.cy=s.y-a.y+s.cy}return this._currentLoc=0,r.viewGridInside=n.viewGridInside,r.dropDownPosition=this._dropDownPosition,r.showToday=this._showToday,r.yearDisplayFormat=this.yearDisplayFormat,r.monthDisplayFormat=this.monthDisplayFormat,r.yearMonthDisplayFormat=this.yearMonthDisplayFormat,r.months=this.months,r.minDate=this._minDate,r.maxDate=this._maxDate,r.showWeeks=this._showWeeks,r.startWeek=this._startWeek||0,r.weekSelectable=this.weekSelectable,r.weekSeparator=this.weekSeparator,r.showButtons=this.showButtons,r.saveLabel=this.saveLabel,r.cancelLabel=this.cancelLabel,r.deleteLabel=this.deleteLabel,r.todayLabel=this.todayLabel,r.currentMode=nw.DAY,r.holidays=this._holidayCollection.isNull?n._holidayCollection:this._holidayCollection,r.hours=this.hours,r.minutes=this.minutes,r.viewMode=this.viewMode,r.setWeekDays(this.weekDays),this.$_setListDate(),this.isShowMarquee()?(this._showMarquee(o),r.show(o,0,0,0,null),this._centerPopup(o,r._element)):(r.show(o,s.cx+1,s.cy+s.height,this._cellBounds.width,Bp.getSize(this._editor)),this.registerPositionListener()),r.focused=e,this._editor.setAttribute("aria-expanded","true"),!Bp.isSlotMode()&&i.addEventListener(Bp.isIEMode()?"mousedown":"pointerdown",this._globalMouseHandler),!0}},t.prototype.resetPosition=function(){var e=this._list,t=Bp.getSize(this._container);if(this._grid.accessibility){var i=Bp.getSize(this._grid.container._containerDiv);t.cx=t.x-i.x+t.cx,t.cy=t.y-i.y+t.cy}e.$_resetPosition(t.cx+1,t.cy+t.height,this._cellBounds.width,Bp.getSize(this._editor))},t.prototype.closeUp=function(e){if(this.unRegisterPositionListener(),this.listing){var t=Np($p(this._container));this._closing=!0;try{t.removeEventListener(Bp.isIEMode()?"mousedown":"pointerdown",this._globalMouseHandler),this._closeMarquee(),this._list.hide(),e&&this._list.selected?(this.$_selectDate(this._list.date),(this._commitOnSelect||this._isMobile)&&this._dispatchCommit()):this._list.canceled&&this._controller.cancelEditor(!1)}finally{this._closing=!1,this._editor.setAttribute("aria-expanded","false")}return!0}},t.prototype.containsRange=function(e){return(!this._minDate||e>=this._minDate)&&(!this._maxDate||e<=this._maxDate)},t.prototype.initOptions=function(){e.prototype.initOptions.call(this),this._textReadOnly=!1,this._minDate=new Date(1970,0,1),this._maxDate=new Date(2100,11,31),this._dropDownPosition=Rb.BUTTON,this._dropDownWhenClick=!1,this._dropDownWhenEnter=!1,this._showToday=!0,this._showWeeks=!1,this._startWeek=0,this._weekSelectable=!1,this._weekSeparator="",this._commitOnSelect=!1,this._defaultShowDate=Ud.NORMAL,this._showButtons=!0,this._cancelLabel=null,this._saveLabel=null,this._deleteLabel=null,this._todayLabel=null,this._timeSelectType=iw.NONE,this._hours=null,this._minutes=null,this._viewMode=nw.DAY,this._holidayCollection&&this._holidayCollection.setNull(),this._yearDisplayFormat=this._monthDisplayFormat=this._yearMonthDisplayFormat=null},t.prototype.initDefaultOptions=function(){var e=this._grid;e&&Gb.initDefault(this,u_.editor.dateCellEditor,e.editorOptions.dateCellEditor)},t.prototype.setEditIndex=function(t){var i;e.prototype.setEditIndex.call(this,t);var n=null===(i=this._editField())||void 0===i?void 0:i.dataType;this._weekSelectable=this._weekSelectable&&n!==vd.DATE&&n!==vd.DATETIME},t.prototype.setEditValue=function(t){e.prototype.setEditValue.call(this,t),this.weekSelectable?this._date=pw(t):this._date="string"==typeof t?this._dateConverter.getDateNull(t):t},t.prototype.getEditValue=function(t,i){void 0===t&&(t=!0),void 0===i&&(i=!1);var n=e.prototype.getEditValue.call(this,t),r=this._editField().dataType;return n&&i&&(r==vd.DATE||r==vd.DATETIME)&&(n=this._minDate?Math.max(this._minDate.getTime(),n):n,(n=this._maxDate?Math.min(this._maxDate.getTime(),n):n)&&(n=new Date(n))),n},t.prototype._createEditor=function(t){return e.prototype._createEditor.call(this,t)},t.prototype._textHandler=function(){this._requestStart(!1)},t.prototype._compositionstartHandler=function(e){this.isDisabled()||this._requestStart(!1)},t.prototype._keyDownHandler=function(t){if(!this.isDisabled()){var i=this._list,n=this.listing,r=n&&i.focused,o=this._list.currentMode;switch(t.keyCode){case 13:if((t.altKey||this.dropDownWhenEnter)&&13===t.keyCode&&!n)return this._requestStart(),Bp.stopEvent(t,!0),this._list.focused=!0,this.$_setListDate(),!0;var s=!0;if(n&&r&&Bp.included(o,nw.YEAR,nw.MONTH)){if(this._viewMode!==o)return s=!1,i.currentMode=o===nw.YEAR?nw.MONTH:nw.DAY,i.currentMode===nw.DAY&&i.$_buildCalendar(),void Bp.stopEvent(t,!0);s=!0}if(s&&this.closeUp(!0))return Bp.stopEvent(t,!0),!this._sendToParent(t);break;case 27:if(this.closeUp(!1))return Bp.stopEvent(t,!0),!0;break;case 36:case 35:if(r)return Bp.stopEvent(t,!0),this.$_selectDate(36===t.keyCode?i.startDay():i.endDay()),!0;break;case 37:case 39:if(r){if(0===this._currentLoc){switch(this._list.currentMode){case nw.DAY:this.$_selectDate(i.incDay(37===t.keyCode?-1:1));break;case nw.MONTH:this.$_selectDate(i.incMonth(37===t.keyCode?-1:1));break;case nw.YEAR:this.$_selectDate(i.incMonth(37===t.keyCode?-12:12))}return Bp.stopEvent(t,!0),!0}if(this._setLocation(39===t.keyCode))return Bp.stopEvent(t,!0),!0}break;case 33:case 34:if(r){Bp.stopEvent(t,!0);var a=33===t.keyCode?-1:1,l=t.shiftKey?12:1;return o===nw.MONTH?l=12:o===nw.YEAR&&(l=120),this.$_selectDate(i.incMonth(a*l)),!0}break;case 40:case 38:if(t.altKey&&40===t.keyCode&&!n)return this._requestStart(),Bp.stopEvent(t,!0),this._list.focused=!0,this.$_setListDate(),!0;if(t.altKey&&38===t.keyCode&&n)return this.closeUp(!1),Bp.stopEvent(t,!0),!0;if(n)return Bp.stopEvent(t,!0),r?(a=40===t.keyCode?1:-1,0===this._currentLoc?o===nw.MONTH?this.$_selectDate(i.incMonth(4*a)):o===nw.YEAR?this.$_selectDate(i.incMonth(48*a)):this.$_selectDate(i.incDay(7*a)):1===this._currentLoc?this.$_selectDate(i.incHour(1*a)):2===this._currentLoc?this.$_selectDate(i.incMinute(1*a)):3===this._currentLoc&&this.$_selectDate(i.incSecond(1*a))):this._list.focused=!0,!0;break;case 84:t.altKey&&n&&(Bp.stopEvent(t,!0),this._list.date=new Date,this.$_selectDate(this._list.date));break;case 9:if(r&&this.timeSelectType!==iw.NONE&&this._setLocation(!t.shiftKey))return Bp.stopEvent(t,!0),!0}return e.prototype._keyDownHandler.call(this,t)}},t.prototype._setLocation=function(e){var t=this._timeSelectType,i=this._currentLoc,n=1;if(t!==iw.NONE){switch(t){case iw.SECOND:n++;case iw.MINUTE:n++;case iw.HOUR:n++}return e?++i:--i,!(i<0||i>=n)&&(this._list.setCurrentLoc(this._currentLoc=i),!0)}this._currentLoc=0},t.prototype._keyPressHandler=function(t){if(!this.isDisabled()){var i=this._list,n=t.keyCode||t.which,r=String.fromCharCode(n);if(r.toLocaleLowerCase()==this.todayChar){if(Bp.stopEvent(t,!0),this.listing)return i.focused=!0,this.$_selectDate(i.today),i._setTime(i.today,!0),!0}else{if(Bp.isFirefox&&(t.ctrlKey||0===n))return void e.prototype._keyPressHandler.call(this,t);if(Bp.isSafari&&Bp.ctrlKey(t)&&Bp.included(n,99,118,120))return void e.prototype._keyPressHandler.call(this,t);if(!this._regx.test(r))return void t.preventDefault()}e.prototype._keyPressHandler.call(this,t),t.keyCode&&this.textReadOnly&&t.preventDefault()}},t.prototype.$_resetValue=function(e){if(void 0===e&&(e=!1),this.visible||e){var t=this._editor,i=t.selectionStart,n=t.selectionEnd,r=t.value?t.value.length:0;t.value=t.value.replace(dw,"");var o=t.value?t.value.length:0;this._isMobile||(o==r?t.setSelectionRange(i,n):t.setSelectionRange(n,n))}},t.prototype._dispatchChange=function(){(this._isMobile||this.visible)&&(this.$_resetValue(this._isMobile),e.prototype._dispatchChange.call(this))},t.prototype._changeHandler=function(t){e.prototype._changeHandler.call(this,t)},t.prototype._requestStart=function(t){return!!e.prototype._requestStart.call(this)&&(this._isMobile?t&&this.dropDown(!1):!1!==t&&this.dropDown(!1),!0)},t.prototype.setBounds=function(t,i,n,r,o){e.prototype.setBounds.call(this,t,i,n,r,o)},t.prototype._doChanged=function(){this._isMobile?!this._controller.readOnly&&this._controller.editable&&(this._modified=!0,this._dispatchChange()):(!this._started&&this._requestStart(),this._started&&!this._controller.readOnly&&this._controller.editable&&(this._modified=!0,this._dispatchChange()))},t.prototype.dropDownList=function(e){this.dropDown(!0)},t.prototype.closeList=function(e){this.closeUp(e)},t.prototype._getInputSelector=function(){return t.INPUT_CSS},t.prototype.skipMaskChar=function(e){return" "===e},t.prototype._isDateEditor=function(){var e=this._editField().dataType;return e==vd.DATE||e==vd.DATETIME||!this.weekSelectable},t.prototype.$_selectDate=function(e){if(e){if(this._date=e,this.containsRange(e)){var t=void 0;t=this.weekSelectable?fw(e,this._startWeek,this.weekSeparator):this._dateConverter.getText(this._date),this._mask&&(t=this._mask.writeBuffer(t)),this._editor.value=t,this._doChanged()}}else this._date=null,this._mask&&this._mask.clearBuffer(),this._editor.value="",this._doChanged()},t.prototype.$_setListDate=function(){var e,t=this._defaultDate instanceof Date?new Date(this._defaultDate):this._dateConverter.getDateNull(this._defaultDate),i=this._editor.value;switch(this._mask&&(i=this._mask.getStripValue()),e=this.weekSelectable?pw(i):this._dateConverter.getDateNull(i),this._defaultShowDate){case Ud.TODAY:e=new Date;break;case Ud.NORMAL:break;case Ud.TODAY_WHEN_NULL:e=e||new Date;break;case Ud.DEFAULT_WHEN_NULL:e=e||t;break;case Ud.DEFAULT:e=t}e&&(this._list.date=e)},t.prototype.onDatePickerCloseUp=function(e,t){!this._isMobile&&this.setFocus(),this.closeUp(t)},t.INPUT_CSS="rg-date-editor",t.$$_LIST_ID=0,t}(tw),Cw=function(e){function t(t,i,n){var r=e.call(this)||this;r._focused=!1;var o=Np(t.doc);return r._jquery=o&&o.jQuery,r._editor=i,r._container=t,r._btOptions=n,r._element=r.$_createList(t.doc),r}return gd(t,e),t.prototype._doDispose=function(){this._jquery=null,this._editor=null,this._container=null,this._containerElement=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"date",{get:function(){return this._date},set:function(e){if(this._date=e,e.getTime()!==this._date.getTime()&&(this._currDate=new Date(e),this._date=new Date(e),this.listing)){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());this._jquery&&this._jquery(this._element).datepicker("update",t)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listing",{get:function(){return this._jquery&&this._jquery(this._element).data("datepicker")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focused",{get:function(){return this._focused},set:function(e){e!=this._focused&&(this._focused=e,this._element.style.border=e?"1px solid rgba(50, 50, 50, 1)":"1px solid rgba(50, 50, 50, 0.3)",this._element.style.boxShadow=e?"rgba(0, 0, 0, 0.8) 1px 2px 5px":"rgba(0, 0, 0, 0.5) 1px 2px 5px")},enumerable:!1,configurable:!0}),t.prototype.$_destroy=function(){this._jquery&&this._jquery(this._element).datepicker("destroy")},t.prototype.keydown=function(e){if(this._jquery){this._jquery(this._element).datepicker("keydown",e);var t=this._jquery(this._element).data("datepicker").viewDate;t instanceof Date&&(this.date=t,this._editor&&this._editor.selectDate(this._date))}},t.prototype.$_createList=function(e){var t=e.createElement("div");t.tabIndex=-1,t.id="rg-calendar-"+ww.$$_LIST_ID++,t.className="rg-calendar";var i=t.style;return i.position="absolute",i.cssFloat="none",i.clear="both",i.boxSizing="border-box",i.zIndex=String(this._editor._baseZindex+2),i.margin="0px",i.overflow="auto",t},t.prototype.show=function(e,t,i,n,r){if(this._containerElement=!Bp.isMobile()&&this._viewGridInside?this._container._container:e,!this.$_createCalendar())return alert("BootStrap DatePicker Not Include"),!1;this.$_show(t,i,n,r)},t.prototype.$_createCalendar=function(){var e,t=this,i=this._element,n=this._btOptions;return this._date&&(e=new Date(this._date.getFullYear(),this._date.getMonth(),this._date.getDate())),!!this._jquery&&(this._jquery(i).datepicker&&this._jquery(i).datepicker(n).datepicker("setDate",e).on("changeDate",function(e){var i=e.date;i&&!t._editor.containsRange(i)||(i?(t._date=new Date(i),t.selected=!0):(t._date=void 0,t.selected=!0),t.fireEvent(bw.CLOSE_UP,!0))}),!0)},t.prototype.$_show=function(e,t,i,n){this.focused=!1,this.selected=!1,this._containerElement.appendChild(this._element);var r=this._date;this._currDate=r?new Date(r):new Date,this.$_resetPosition(e,t,i,n),this._element.style.setProperty("width",Math.ceil(Bp.getSize(this._element).width)+"px")},t.prototype.today=function(){return this.date=new Date},t.prototype.incDay=function(e){var t;return this._date.getMonth()==this._currDate.getMonth()?(t=new Date(this._date),this._date&&t.setDate(this._date.getDate()+e)):(t=this._currDate,t=new Date(t.getFullYear(),t.getMonth(),1)),this.date=t},t.prototype.incMonth=function(e){var t;return this._date.getMonth()==this._currDate.getMonth()?(t=new Date(this._date),this._date&&Bp.incMonth(t,e)):(t=this._currDate,t=new Date(t.getFullYear(),t.getMonth(),1)),this.date=t},t.prototype.firstDay=function(){var e=new Date(this._currDate);return this._date&&e.setDate(1),this.date=e},t.prototype.lastDay=function(){var e=new Date(this._currDate);if(this._date){var t=e.getFullYear(),i=e.getMonth(),n=Bp.month_days[Bp.isLeapYear(t)?1:0][i];e.setDate(n)}return this.date=e},t}(vw),xw=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._minDate=new Date(1970,0,1),n._maxDate=new Date(2100,11,31),n._dropDownPosition=Rb.BUTTON,n._dropDownWhenClick=!1,n._commitOnSelect=!1,n._regx=/[0-9]|\.|\-|\/|a|A|p|P|m/,n._closing=!1,n._globalMouseHandler=function(e){var t=e.target;if(this._isMarquee(t))this.closeUp(!1);else{for(;t;){if(t==this._list._element)return;t=t.parentNode}this.closeUp(!0)}}.bind(n),n._baseZindex=n._grid.displayOptions.baseZindex,n}return gd(t,e),t.prototype._doDispose=function(){this._globalMouseHandler=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"list",{get:function(){return this._list},set:function(e){this._list=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"btOptions",{get:function(){return this._btOptions},set:function(e){this._btOptions=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editFormat",{get:function(){return this.datetimeFormat},set:function(e){this.datetimeFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=e?e instanceof Date?e:"string"==typeof e?this._dateConverter.getDateNull(e):null:null,this._minDate&&this._minDate.setHours(0,0,0,0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=e?e instanceof Date?e:"string"==typeof e?this._dateConverter.getDateNull(e):null:null,this._maxDate&&this._maxDate.setHours(23,59,59)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropDownWhenClick",{get:function(){return this._dropDownWhenClick},set:function(e){this._dropDownWhenClick=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitOnSelect",{get:function(){return this._commitOnSelect},set:function(e){this._commitOnSelect=e},enumerable:!1,configurable:!0}),t.prototype.resetPosition=function(){var e=this._list,t=this._grid,i=Bp.getSize(this._container);if(t.accessibility){var n=Bp.getSize(this._grid.container._containerDiv);i.cx=i.x-n.x+i.cx,i.cy=i.y-n.y+i.cy}e.$_resetPosition(i.cx+1,i.cy+i.height,this._cellBounds.width,Bp.getSize(this._editor))},t.prototype.dropDown=function(){if(!(this.readOnly||this._controller._readOnly||this.listing||this._closing)){var e=$p(this._container),t=Np(e),i=this._grid,n=this._list=new Cw(i.container,this,this._btOptions),r=e.body,o=Bp.getSize(this._container);if(i.accessibility){var s=Bp.getSize(this._grid.container._containerDiv);o.cx=o.x-s.x+o.cx,o.cy=o.y-s.y+o.cy}return n.addListener(this),n.viewGridInside=this._options&&this._options.viewGridInside,n.dropDownPosition=this._dropDownPosition,n.minDate=this._minDate,n.maxDate=this._maxDate,this.$_setListDate(),this.isShowMarquee()?(this._showMarquee(r),n.show(r,0,0,0,null),this._centerPopup(r,n._element)):(n.show(r,o.cx+1,o.cy+o.height,this._cellBounds.width,Bp.getSize(this._editor)),this.registerPositionListener()),!Bp.isSlotMode()&&t.addEventListener(Bp.isIEMode()?"mousedown":"pointerdown",this._globalMouseHandler),!0}return!1},t.prototype.closeUp=function(e){if(this.unRegisterPositionListener(),this.listing){var t=Np($p(this._container));this._closing=!0;try{!Bp.isSlotMode()&&t.removeEventListener(Bp.isIEMode()?"mousedown":"pointerdown",this._globalMouseHandler),this._closeMarquee(),e&&this._list.selected&&(this.$_selectDate(this._list.date),(this._isMobile||this._commitOnSelect)&&this._dispatchCommit())}finally{this.$_listDestroy(),this._closing=!1}return!0}return!1},t.prototype.dropDownList=function(){this.dropDown()},t.prototype.closeList=function(e){this.closeUp(e)},t.prototype.$_setListDate=function(){var e=this._editor.value;e&&this._mask&&(e=this._mask.getStripValue());var t=this._dateConverter.getDateNull(e);t&&(this._list.date=t)},t.prototype.selectDate=function(e){this.$_selectDate(e)},t.prototype.$_selectDate=function(e){if(e&&e!=this._date){if(this._date=e,this.containsRange(e)){var t=this._dateConverter.getText(this._date);this._mask&&(t=this._mask.writeBuffer(t)),this._editor.value=t,this._doChanged()}}else void 0===e&&(this._editor.value=this._mask?(this._mask.clearBuffer(),this._mask.writeBuffer(null)):"",this._doChanged())},t.prototype.containsRange=function(e){return(!this._minDate||e>=this._minDate)&&(!this._maxDate||e<=this._maxDate)},Object.defineProperty(t.prototype,"listing",{get:function(){return!!this._list&&this._list.listing},enumerable:!1,configurable:!0}),t.prototype.initOptions=function(){e.prototype.initOptions.call(this),this._dropDownWhenClick=!1,this._textReadOnly=!1,this._viewGridInside=!1,this._minDate=new Date(1970,0,1),this._maxDate=new Date(2100,11,31),this._commitOnSelect=!1},t.prototype.initDefaultOptions=function(){},t.prototype._isDateEditor=function(){return!0},t.prototype.setEditValue=function(t){e.prototype.setEditValue.call(this,t),this._date="string"==typeof t?this._dateConverter.getDateNull(t):t},t.prototype.getEditValue=function(t,i){var n=e.prototype.getEditValue.call(this,t),r=this._editField().dataType;return n&&i&&(r==vd.DATE||r==vd.DATETIME)&&(n=n.getTime(),n=this._minDate?Math.max(this._minDate.getTime(),n):n,(n=this._maxDate?Math.min(this._maxDate.getTime(),n):n)&&(n=new Date(n))),n},t.prototype._requestStart=function(t){return!!e.prototype._requestStart.call(this,t)&&(this._isMobile?t&&this.dropDown():!1!==t&&this.dropDown(),!0)},t.prototype._textHandler=function(){this._requestStart()},t.prototype._compositionstartHandler=function(){this._requestStart()},t.prototype._keyDownHandler=function(t){if(!this.isDisabled()){var i=this._list,n=this.listing,r=n&&i.focused;switch(t.keyCode){case 13:if(this.closeUp(!0))return Bp.stopEvent(t,!0),!this._sendToParent(t);break;case 27:if(this.closeUp(!1))return Bp.stopEvent(t,!0),!0;break;case 36:if(r)return Bp.stopEvent(t,!0),this.$_selectDate(i.firstDay()),!0;break;case 35:if(r)return Bp.stopEvent(t,!0),this.$_selectDate(i.lastDay()),!0;break;case 37:case 39:if(r)return Bp.stopEvent(t,!0),i&&i.keydown(t),!0;break;case 33:if(r)return Bp.stopEvent(t,!0),this.$_selectDate(i.incMonth(-1)),!0;break;case 34:if(r)return Bp.stopEvent(t,!0),this.$_selectDate(i.incMonth(1)),!0;break;case 40:if(t.altKey&&!n)return this._requestStart(),Bp.stopEvent(t,!0),!0;if(n)return Bp.stopEvent(t,!0),r?i.keydown(t):(i.focused=!0,this.$_setListDate()),!0;break;case 38:if(t.altKey&&n)return this.closeUp(!1),Bp.stopEvent(t,!0),!0;if(n)return Bp.stopEvent(t,!0),r?i.date.getDate()<=7?i.focused=!1:i.keydown(t):i.focused=!1,!0;break;case 84:t.altKey&&n&&(Bp.stopEvent(t,!0),i.date=new Date,this.$_selectDate(i.date))}return e.prototype._keyDownHandler.call(this,t)}},t.prototype._keyPressHandler=function(t){if(!this.isDisabled()){var i=this._list,n=Bp.ctrlKey(t),r=t.keyCode||t.which,o=String.fromCharCode(t.keyCode||t.charCode);if(o.toLocaleLowerCase()==this.todayChar){if(Bp.stopEvent(t,!0),this.listing)return i.focused=!0,this.$_selectDate(i.today()),!0}else{if(Bp.isFirefox&&(t.ctrlKey||0===r))return e.prototype._keyPressHandler.call(this,t);if(Bp.isSafari&&n&&Bp.included(r,99,118,120))return void e.prototype._keyPressHandler.call(this,t);if(!this._regx.test(o))return void t.preventDefault()}e.prototype._keyPressHandler.call(this,t),t.keyCode&&this.textReadOnly&&t.preventDefault()}},t.prototype.$_resetValue=function(e){if(void 0===e&&(e=!1),this.visible||e){var t=this._editor,i=t.selectionStart,n=t.selectionEnd,r=t.value?t.value.length:0;t.value=t.value.replace(dw,"");var o=t.value?t.value.length:0;this._isMobile||(o==r?t.setSelectionRange(i,n):t.setSelectionRange(n,n))}},t.prototype.setBounds=function(t,i,n,r,o){e.prototype.setBounds.call(this,t,i,n,r,o)},t.prototype._doChanged=function(){this._isMobile?!this._controller.readOnly&&this._controller.editable&&(this._modified=!0,this._dispatchChange()):(this._started&&this._requestStart(),this._started&&!this._controller.readOnly&&this._controller.editable&&(this._modified=!0,this._dispatchChange()))},t.prototype._dispatchChange=function(){(this._isMobile||this.visible)&&(this.$_resetValue(this._isMobile),e.prototype._dispatchChange.call(this))},t.prototype.onDatePickerCloseUp=function(e,t){!this._isMobile&&this.setFocus(),this.closeUp(t)},t.prototype._getInputSelector=function(){return t.INPUT_CSS},t.prototype.$_listDestroy=function(){var e=this._list&&this._list._element.parentElement;this._list&&(this._list.$_destroy(),e.removeChild(this._list._element),this._list.dispose(),delete this._list)},t.INPUT_CSS="rg-btdate-editor",t}(tw),Iw=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._minDate=new Date(1970,0,1),n._maxDate=new Date(2100,11,31),n}return gd(t,e),Object.defineProperty(t.prototype,"minDate",{get:function(){return this._minDate},set:function(e){e!=this._minDate&&(this._minDate=e?e instanceof Date?e:"string"==typeof e?this._dateConverter.getDateNull(e):null:null,this._minDate&&this._minDate.setHours(0,0,0,0),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){e!=this._maxDate&&(this._maxDate=e?e instanceof Date?e:"string"==typeof e?this._dateConverter.getDateNull(e):null:null,this._maxDate&&this._maxDate.setHours(23,59,59),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"native",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonCount",{get:function(){return 1},enumerable:!1,configurable:!0}),t.prototype._createEditor=function(t){var i=e.prototype._createEditor.call(this,t);return i.setAttribute("type","date"),i.tabIndex=this._isMobile?-1:0,i},t.prototype._getInputSelector=function(){return t.INPUT_CSS},t.prototype.initOptions=function(){e.prototype.initOptions.call(this)},t.prototype.initDefaultOptions=function(){},t.prototype.hasButton=function(e,t){return null==e||e},t.prototype.setVisible=function(t,i){void 0===i&&(i=!1),e.prototype.setVisible.call(this,t,i),this.visible&&this._editor.click()},t.prototype.setEditIndex=function(t){e.prototype.setEditIndex.call(this,t);var i=this._editor;i.min=this._minDate?this.$_toInputDate(this._minDate):"",i.max=this._maxDate?this.$_toInputDate(this._maxDate):""},t.prototype.setEditValue=function(e){this._date="string"==typeof e?this._dateConverter.getDateNull(e):e,this._editor.value=this.$_toInputDate(this._date)},t.prototype._keyDownHandler=function(t){if(!this.isDisabled())return 40===t.keyCode&&t.altKey?(this._requestStart(),!0):e.prototype._keyDownHandler.call(this,t)},t.prototype.setBounds=function(t,i,n,r,o){e.prototype.setBounds.call(this,t,i,n,r,0),this._editor&&Bp.isiOS&&(this._editor.style.minWidth=n+"px",this._editor.style.width=n+"px")},t.prototype.$_toInputDate=function(e){return e?t.Formatter.getText(e):""},t.INPUT_CSS="rg-ndate-editor",t.Formatter=i_.getFormatter("yyyy-MM-dd"),t}(qb),Ew=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.lastLayout=function(){throw new Error("Method not implemented.")},t.prototype.getText=function(e,t,i,n){throw new Error("Method not implemented.")},t.prototype.getCellText=function(e,t){throw new Error("Method not implemented.")},t.prototype.getRows=function(e,t,i){throw new Error("Method not implemented.")},t.prototype.getCell=function(e,t,i){throw new Error("Method not implemented.")},t}(Yp),Ow=function(e){function t(t,i,n){var r=e.call(this)||this;return r._colCount=0,r._blockPaste=!1,r._lines=[],r._colCount=0,r._blockPaste=!1,r._parse(t,i,n),r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._lines.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colCount",{get:function(){return this._colCount},set:function(e){this._colCount=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0==this._lines.length||0==this._colCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"single",{get:function(){return 1==this._lines.length&&1==this._colCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blockPaste",{get:function(){return this._blockPaste},set:function(e){this._blockPaste=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},enumerable:!1,configurable:!0}),t.prototype.get=function(e){return this._lines[e]},t.prototype._parse=function(e,t,i){var n,r,o,s,a,l=this._lines,u=[],c=e.length,h=0,d="";if(""===e)u.push(e),l.push(u),this._colCount=1;else{for(;h<c;)a=!1,n=e.charAt(h),r=h<c-1?e.charAt(h+1):"",'"'==n?s?o&&'"'==r?(d+=n,h++):o?o=!1:d+=n:(s=!0,o=!0):o||"\r"!=n&&"\n"!=n&&"\t"!=n?(s=!0,d+=n):("\t"==n&&(u.push(d),a=!0),"\r"!=n&&"\n"!=n||(u.push(d),this._colCount=Math.max(this._colCount,u.length),l.push(u),u=[],"\r"==n&&"\n"==r&&h++),d="",s=!1),h++;o&&(d='"'+d),(d.length>0||a)&&u.push(d),u.length>0&&(this._colCount=Math.max(this._colCount,u.length),l.push(u))}if(t&&t instanceof $b&&!t.single&&(!i||1===this._colCount&&1===l.length)){var p=t.startIndex,f=t.endIndex;if(p&&f){var _=t.grid,g=p.layout,m=f.layout,y=p.itemIndex,v=f.itemIndex;if(g.col>m.col){var b=g;g=m,m=b}if(y>v){var w=y;y=v,v=w}g=_.activeCellLayout.getTopOf(g);for(var C=(m=_.activeCellLayout.getBottomOf(m,!0)).col-g.col+1,x=0,I=y;I<=v;I++){var E=_.getItem(I);E&&E.isDataRow&&x++}var O=(m.row-g.row+1)*x;h=0;for(var S=0,k=l.length;S<k;S++){for(var P=l[S].slice(),R=P.length;R<C;R++)l[S].push(P[h]),h=h>=P.length?0:h;this._colCount=Math.max(this._colCount,l[S].length)}for(h=0,S=l.length;S<O;S++)l.push(l[h++]),h=h>=l.length?0:h;this._blockPaste=!0,this._startIndex=Wv.temp(_,y,g)}}},t}(Yp),Sw=function(e){function t(){var t=e.call(this)||this;return t._lastLayout=null,t}return gd(t,e),t.prototype._doDispose=function(){return e.prototype._doDispose.call(this)},t.prototype.lastLayout=function(){return this._lastLayout},t.prototype.getText=function(e,t,i,n){var r,o,s,a,l,u=e.grid,c=this._rangeToCells(e,null,t,n),h=[];if(u.copyOptions.includeHeaderText)for(s=0;s<c.length;s++){var d=[];for(a=0;a<c[s].length;a++)(r=Bp.cast(c[s][a],vv))?d.push(Bp.addQuot(r.header.displayText)):d.push("");h.push(d.join("\t"))}if(!i){i=[];for(var p=t.r1,f=t.r2;p<=f;p++)i.push(p)}return i.forEach(function(t){var i=u.getItem(t);if(i.dataRow>=0||Zg(i.itemState))for(s=0;s<c.length;s++){var n=[];for(a=0;a<c[s].length;a++)(r=Bp.cast(c[s][a],vv))&&!r.blankWhenCopy?(o=Wv.temp(u,t,r).clone(),n.push(e.getData(o))):n.push("");l=0!=n.join("\t").length,h.push(n.join("\t"))}}),h.join("\r\n")+(l?"":"\r\n")},t.prototype.getCellText=function(e,t){var i="";return e.grid.copyOptions.includeHeaderText&&(i=t.valueColumn.header.displayText+"\r\n"),i+e.getData(t)},t.prototype.getRows=function(e,t,i){if(null==t)return null;var n,r=i.grid,o=r.pasteOptions,s=r.getSelection(),a=i.dataColumn;if(s&&s.single&&!r.isTree()&&a&&a.mergeEdit&&r.editOptions.commitByCell){var l=r.getMergedItems(i.itemIndex,a,!0,!0),u=new Wv(r,l[0],a),c=new Wv(r,l[l.length-1],a);s=new $b(r.selections,cb.BLOCK,u,c),n=!0}else{if(o.selectBlockPaste&&r.selections.count>1)return void alert("multi selection paste not supported");s=o.selectBlockPaste&&s}var h=new Ow(t,s,n);if(h.empty)return null;if(h.single)return h.get(0)[0];h.blockPaste&&h.startIndex&&i.assign(h.startIndex);for(var d=r.activeCellLayout._dataCells,p=d[0][i.layout.col],f=d[d.length-1][Math.min(d[0].length-1,i.layout.col+h.colCount-1)],_=new Wv(r,i.itemIndex,p),g=new Wv(r,i.itemIndex,f),m=qv.create(_,g),y=this._rangeToCells(e,h,m,null),v=void 0,b=void 0,w=void 0,C=void 0,x=[],I=0,E=h.rowCount;I<E;){var O={columns:[],values:[]};for(v=0;v<y.length&&I<E;v++,I++){var S=y[v],k=h.get(I);for(O.columns.push(S),O.values.push(C=[]),w=Math.min(k.length,S.length),b=0;b<w;b++)S[b]?C.push(k[b]):C.push("")}x.push(O)}return x},t.prototype.getCell=function(e,t,i){if(!t)return null;var n=new Ow(t);return n.empty?null:n.get(0)[0]},t.prototype._rangeToCells=function(e,t,i,n){i.normalizeData(),this._lastLayout=null;var r=i.c1,o=i.c2,s=e.grid.activeCellLayout._dataCells,a=r===o?r.row:0,l=r===o?r.row:s.length-1,u=[];if(n){for(var c=[],h=a;h<=l;h++){for(var d=[],p=0;p<s[0].length;p++){var f=s[h][p];n.indexOf(f)>=0?(d.push(f.firstColumn),c[p]=c[p]||f):d.push(null)}u.push(d)}for(p=s[0].length-1;p>=0;p--)for(h=a;h<=l;h++)!c[p]&&u[h].splice(p,1)}else for(h=a;h<=l;h++){d=[];var _=r.source,g=o.source,m=_.col,y=g.col+g._defColSpan-1;for(p=m;p<=y;p++)(f=s[h][p])instanceof Sv?d.push(f.firstColumn):d.push(null);u.push(d)}return this._lastLayout=s[l][o.col],u},t}(Ew),kw=function(e){function t(t){var i=e.call(this)||this;return i._values=null,i._dataRow=-1,i._grid=t,i}return gd(t,e),Object.defineProperty(t.prototype,"isLeaf",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._grid.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return!!(1&this._getExtents())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return Jd.ROW},enumerable:!1,configurable:!0}),t.prototype._getExtents=function(){return 0},t.prototype._setExtents=function(e){},Object.defineProperty(t.prototype,"values",{set:function(e){this._values=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRow",{get:function(){return this._dataRow},set:function(e){this._dataRow=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataId",{get:function(){return this.dataSource.getRowId(this._dataRow)},enumerable:!1,configurable:!0}),t.prototype.getRowObject=function(){for(var e={},t=this.dataSource,i=this._dataRow>=0&&t.getRow(this._dataRow),n=0,r=t.fieldCount;n<r;n++){var o=t.getOrgFieldName(n),s=this._values.hasOwnProperty(n)?this._values[n]:i&&i[n];e[o]=s}return e},t.prototype.getRowData=function(){for(var e=[],t=this.dataSource,i=this._dataRow>=0&&t.getRow(this._dataRow),n=0,r=t.fieldCount;n<r;n++){var o=this._values.hasOwnProperty(n)?this._values[n]:i&&i[n];e[n]=o}return e},t.prototype.getData=function(e){return e=this.dataSource.getFieldIndex(e),this._values.hasOwnProperty(e)||this._dataRow<0?this._values[e]:this.dataSource.getRow(this._dataRow)[e]},t.prototype.setIndex=function(e){this._setIndex(e)},t}(em),Pw=function(e){function t(t,i){var n=e.call(this,t)||this;return n._item=i,n}return gd(t,e),t.prototype._doDispose=function(){return e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!1,configurable:!0}),t}(Wv),Rw=function(){function e(e){this._grid=e,this._data=new Sw,this._appendingItem=new kw(e),this._appendingIndex=new Pw(e,this._appendingItem)}return e.prototype.dispose=function(){return null},Object.defineProperty(e.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appendingIndex",{get:function(){return this._appendingIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPasting",{get:function(){return this._pasting},enumerable:!1,configurable:!0}),e.prototype.getDataRoots=function(){var e=this._grid._activeCellLayout._dataCells,t=[];if(!e.length||!e[0].length)return t;for(var i=0,n=e[0].length;i<n;i++)t.push(e[0][i].dataRoot);return t},e.prototype.getData=function(e){var t,i,n=this.grid,r=e.layout.firstColumn,o=n.getItem(e.itemIndex),s=n.copyOptions,a=s.datetimeFormat?i_.getFormatter(s.datetimeFormat):null,l=s.booleanFormat?n_.getFormatter(s.booleanFormat):null,u=s.copyTextCallback;if(!o||!(Zg(o.itemState)||o.dataRow>=0))return"";if(i=e.value,r&&!r.blankWhenCopy){if(null==(t=u?u.call(this,n,e.itemIndex,r,i):void 0))if(s.copyDisplayText||r instanceof wv)t=n.getDisplayText(e);else switch(r instanceof bv?r.valueType:vd.TEXT){case vd.DATETIME:case vd.DATE:t=i?a?a.getText(i):String(i):"";break;case vd.BOOLEAN:t=null!=i?l?l.formatValue(i):String(i):"";break;case vd.NUMBER:t=null==i||isNaN(i)?"":String(i);break;case vd.OBJECT:t=i&&"object"==typeof i?JSON.stringify(i):"";break;default:t=s.lookupDisplay&&r instanceof bv&&(r.lookupDisplay||r.labelField)?Tm.getText(o,r):null!=i?String(i):""}return Bp.addQuot(t)}return""},e.prototype.copyEmtpyToClipboard=function(){return""},e.prototype.copyToClipboard=function(e,t,i){return this._data.getText(this,e,t,i)},e.prototype.copyCellToClipboard=function(e){return this._data.getCellText(this,e)},e.prototype.pasteCellFromClipboard=function(e,t){if((e=this._correctIndex(e))&&this._grid.isValid(e)&&null!=t){var i=this._data.getCell(this,t,e);this._pasteSingleCell(e,i)}},e.prototype.pasteFromClipboard=function(e,t){var i=e.clone(),n=this.grid.pasteOptions.forceAppend;if((e=this._correctIndex(e))&&this._grid.isValid(e)){if(null!=t){var r=this._data.getRows(this,t,e);null!=r&&("string"==typeof r?this._pasteSingleCell(e,r):1!=r.length||n?(r.length>1||1===r.length&&n)&&this._pasteMultiLines(e,r):this._pasteSingleLine(e,r[0]))}Wv.areEquals(e,i)||this._grid.setFocusedIndex(i,!1,!1)}},e.prototype._correctIndex=function(e){if(e){var t=this._grid;if(e.normalize(t),this._grid.isValid(e)&&t.pasteOptions.selectionBase&&t.selections.count>0){var i=t.selections.getItem(0).getBounds().firstCell;e.column=i.column,e.itemIndex=i.itemIndex}}return e},e.prototype._convertValue=function(e,t,i,n,r,o){var s,a=void 0,l=i.dataIndex,u=e.getField(l),c=this._grid,h=function(){var e=c.body.getIndexCellStyle(o).editor||i.editor||{};"string"==typeof e&&(e={type:e});var t=c.delegate.getCellEditor(Gb.getEditorType(e));return t.initOptions(),t.initDefaultOptions(),t.applyOptions(e),t};switch(u.dataType){case vd.NUMBER:a=NaN;var d=void 0;if(n){var p=void 0;(t.applyNumberFormat||t.applyMaxLength)&&(p=s=h());var f=i.name;if(t.applyNumberFormat){var _=p&&p.editFormat||i.numberFormat||c.formatOptions.numberFormat;_&&(d=new a_(_))}var g=t.numberCharExpOfCol(f);g&&(n=n.replace(g,""));var m=t.numberSeparatorOfCol(f);if(m&&(n=n.replace(m,".")),a=d?+parseFloat(n).toFixed(d.maxDigits):parseFloat(n),t.applyMaxLength){var y=String(a).split(".");p&&p.maxIntegerLength>0&&(y[0]=y[0].substr(0,p.maxIntegerLength)),n=y.join("."),p&&p.maxLength>0&&(n=n.substr(0,p.maxLength)),a=parseFloat(n)}}else""==n&&(a=null);break;case vd.DATETIME:a=null;var v=t.dateReaders;if(n&&v)for(var b=0;b<v.length&&!(a=v[b].toDate(n,!1));b++);null===a&&(a=new Date(n),isNaN(a.getTime())&&(a=null)),null===a&&(a=u.readValue(n));break;case vd.BOOLEAN:a=void 0;var w=t.boolReader;n&&w&&(a=w.toBoolStrict(n)),void 0===a&&(a=u.readValue(n));break;default:if(n=String(n))if((s=h())instanceof ow){var C=t.checkDomainOnly&&s.domainOnly,x=t.convertLookupLabel,I=-1,E=[],O=[];if(C||x)if(s.values&&s.values.length>0)O=s.values,E=s.labels;else if(i.lookupSource){var S=i.lookupSource,k=i.lookupKeyFieldIds,P=[];for(b=0;b<k.length-1;b++)P.push(r[k[b]]);var R=S.getTextDomain(P);O=R&&R.keys,E=R&&R.values}else i.values&&i.values.length>0&&(O=i.values,E=i.labels);n=x&&O&&E&&O.indexOf(n)<0&&(I=E.indexOf(n))>=0?O[I]:n,n=O&&O.indexOf(n)>=0?n:C?"":n}else s instanceof ww?(s.mask&&s.mask.writeBuffer(n,!0),n=null==(a=s._strToVal(n))?void 0:a):(t.applyMaxLength&&s&&s instanceof qb&&s.maxLength>0&&(n=n.substr(0,s.maxLength)),i.textInputCase==Hd.LOWER?n=n.toLocaleLowerCase():i.textInputCase==Hd.UPPER&&(n=n.toLocaleUpperCase()));a=n}if(t.applyEditMask||t.applyInputChars){if(s||(s=h()),t.applyEditMask&&"string"==typeof a){var T=s.mask;T&&(T.clearBuffer(),T.writeBuffer(a,!0),a=T.checkValid()?T.getStripValue():null)}if(t.applyInputChars&&s instanceof Kb){var D=s.inputCharacters,M=void 0;s.inputCharacters&&(M=new RegExp("[^"+D+"]","g")).test(a)&&(a=a.replace(M,"")),(D=s.ignoreCharacters)&&(M=new RegExp("["+D+"]","g")).test(a)&&(a=a.replace(M,""))}}return a},e.prototype._fireRowsPasted=function(e){for(var t=this._grid,i=[],n=0;n<e.length;n++)i.push(t.getItemIndexOfRow(e[n]));i.length>0&&t._fireItemsPasted(i)},e.prototype._cellWritable=function(e,t,i){var n=this._grid,r=n._fireCellPasting(e,i.value,i);if("boolean"==typeof r)return r;if(!n.pasteOptions.checkReadOnly)return!0;var o=n.body.getIndexCellStyle(e);if(o&&(null!=o.readOnly||null!=o.editable))return null!=o.editable?o.editable&&!o.readOnly:!o.readOnly;var s=n.body.getRowStyle(e.item,e.itemIndex<n.fixedOptions.rowCount);if("object"==typeof s&&(null!=s.readOnly||null!=s.editable))return null!=s.editable?s.editable&&!s.readOnly:!s.readOnly;var a=n.fixedOptions;if((e.colFixed||e.rightFixed)&&!a.editable||e.rowFixed&&!a.rowEditable)return!1;var l,u=e.item&&e.item.itemState;switch(t||u){case Mg.NORMAL:case Mg.FOCUSED:case Mg.UPDATING:l=n.canUpdate(e.item,e.dataField);break;default:l=!0}var c=this.grid.getBodyCellAt(e,!1);if(c&&c.renderer2&&c.renderer2.canEdit())return l&&!e.dataColumn.readOnly;if(!c){var h=o.renderer||e.dataColumn.renderer;if(h&&"check"===("string"==typeof h?h:h.type)){var d=null==h.editable||h.editable;return l&&d&&!e.dataColumn.readOnly}}return l&&e.dataColumn.isWritable()},e.prototype._pasteSingleCell=function(e,t){var i,n=this._grid,r=n.dataSource,o=e.dataColumn,s=n.pasteOptions;if(null!=t&&r&&o&&!n.editOptions.readOnly&&e.item.canEdit()){t.lastIndexOf("\r\n")==t.length-1&&(t=t.substr(0,t.length-2)),t.lastIndexOf("\n")==t.length-1&&(t=t.substr(0,t.length-1));var a={text:t,value:this._convertValue(r,s,o,t,e.item&&e.item.getRowData(),e),oldValue:e.item.getData(e.dataField)};if(this._cellWritable(e,null,a))if(n.isItemEditing()||/*!grid.editOptions.commitByCell &&*/
s.startEdit&&n.edit(e)){i=e.item;var l=[],u=[];u[e.dataField]=a.value,l[e.dataField]=i.getData(e.dataField),n.setCellUpdateEventLock(s.noEditEvent);try{i.setData(o.dataIndex,a.value)}finally{n.setCellUpdateEventLock(!1)}n.validateCellCommit(e,a.value),n.editOptions.commitByCell&&n.commit(!1,!1,!0),n._fireEditItemPasted(i,[e.dataField],l,u),n.refreshView()}else{this._pasting=!0;try{var c=n.validationManager,h=s.forceRowValidation,d=s.forceColumnValidation;i=e.item;var p=this._appendingItem.values=h||d?i.getRowData():[];p[o.dataIndex]=a.value;var f=Zg(i.itemState);if(this._appendingItem.dataRow=i.dataRow,this._appendingItem.setIndex(i.index),this._appendingIndex.column=null,this._appendingIndex.itemIndex=e.itemIndex,h&&c.validateRow(this._appendingItem,f,!0,!0),d){this._appendingIndex.column=o;try{c.validateCell(this._appendingIndex,f,!0)}catch(_){if(!(_ instanceof Wy))throw _;if(pp(_.level,n.editOptions.commitLevel)<0)throw _}}c.clearInvalidCell(this._appendingIndex),n.updatePastedRow(i,p,!h)}finally{this._pasting=!1}}}},e.prototype._pasteSingleLine=function(e,t){var i,n,r,o,s,a,l,u=this._grid,c=u.dataSource,h=u.pasteOptions,d=u.editOptions,p=!1;if(c&&!d.readOnly&&c){if(u.isItemEditing()||/*!editOptions.commitByCell && */
h.startEdit&&u.edit(e)){var f=[],_=[],g=[],m=e.column;for(n=e.item,r=Math.min(t.columns.length,t.values.length),o=0;o<r;o++){var y=t.columns[o],v=t.values[o];for(s=0;s<v.length;s++){l=y[s];var b=v[s];if(l&&l instanceof bv){var w=Wv.temp(u,e.itemIndex,l);n.getData(l.dataIndex);var C={text:b,value:i=this._convertValue(c,h,l,b,n&&n.getRowData(),w),oldValue:e.item.getData(e.dataField)};u.setCellUpdateEventLock(h.noEditEvent);try{(a=this._cellWritable(w,null,C))&&n.setData(l.dataIndex,C.value)}finally{u.setCellUpdateEventLock(!1)}a&&(e.column=l,u.validateCellCommit(e,C.value),f.push(l.dataIndex),_[l.dataIndex]=e.item.getData(e.dataField),g[l.dataIndex]=C.value,p=!0)}}}if(p)d.commitByCell&&u.commit(!1),u._fireEditItemPasted(n,f,_,g),e.column=m,u.refreshView();else{var x=e.item;x&&!Zg(x.itemState)&&u.cancel()}}else{this._pasting=!0;try{var I=u.validationManager,E=h.forceRowValidation,O=h.forceColumnValidation,S=this._appendingItem;for(n=e.item,S.setIndex(n.index),S.dataRow=n.dataRow,this._appendingIndex.column=null,this._appendingIndex.itemIndex=e.itemIndex,g=S.values=E||O?n.getRowData():[],r=Math.min(t.columns.length,t.values.length),y=void 0,v=void 0,o=0;o<r;o++)for(y=t.columns[o],v=t.values[o],s=0;s<v.length;s++)(l=y[s])&&l instanceof bv&&(w=Gv.tempItem(u,S,l),i=this._convertValue(c,h,l,v[s],S&&S.getRowData(),w),C={text:v[s],value:i,oldValue:e.item.getData(e.dataField)},(a=this._cellWritable(w,null,C))&&(g[l.dataIndex]=C.value,p=!0));if(p){var k=Zg(n.itemState);if(E&&I.validateRow(S,k,!0,!0),O)for(o=0;o<r;o++)for(y=t.columns[o],v=t.values[o],s=0;s<v.length;s++){this._appendingIndex.column=y[s];try{I.validateCell(this._appendingIndex,k,!0)}catch(P){if(!(P instanceof Wy))throw P;if(pp(P.level,d.commitLevel)<0)throw P}}I.clearInvalidCells(n.dataId),u.updatePastedRow(n,g,!E)}}finally{this._pasting=!1}}u.selections.clear(!0),p&&u.selections.add(e,new Wv(u,e.itemIndex,this._data.lastLayout()),cb.BLOCK,!0)}},e.prototype._pasteMultiLines=function(e,t){var i=this._grid,n=i.dataSource;if(n){var r=i.pasteOptions,o=r.forceAppend,s=r.checkReadOnly;if(s&&i.editOptions.readOnly)return;var a=r.noDataEvent,l=t.length,u=e.itemIndex,c=n.fieldCount,h=i.getDataColumns(!1),d=h.length,p=i.validationManager,f=r.forceRowValidation,_=r.forceColumnValidation,g=this._appendingItem,m=this._appendingIndex,y=void 0,v=void 0,b=void 0,w=void 0,C=r.eventEachRow,x=[];r.commitEdit&&i.commit(!1)||i.cancel();var I=i.itemCount;a&&n.beginUpdate();var E=void 0,O=void 0,S=!0;if(!i.isTree()){var k=i.itemSource;E=k.filterMode,O=k.sortMode,k.filterMode=Id.EXPLICIT,k.sortMode=xd.EXPLICIT,S=k.isFiltered(null)&&k.filterMode!==E||k.sorted&&k.sortMode!==O}try{for(this._pasting=!0,y=0;y<l&&u<I&&!o;y++)try{if((W=i.getItem(u)).itemState==Mg.APPENDING)break;for(;W&&W.dataRow<0;)u++,W=i.getItem(u);if(null==W)break;var P=t[y],R=g.values=f||_?W.getRowData():[],T=f||_?W.getRowData():[],D=!1,M=[];for(g.setIndex(W.index),g.dataRow=W.dataRow,b=Math.min(P.columns.length,P.values.length),v=0;v<b;v++){var L=P.columns[v],A=P.values[v];for(w=0;w<A.length;w++)if((B=L[w])&&B instanceof bv){var F=Gv.tempItem(i,g,B),$=this._convertValue(n,r,B,A[w],g&&g.getRowData(),F),N={text:A[w],value:$,oldValue:W.getData(B.dataIndex)};(V=this._cellWritable(F,null,N))&&(D=D||V||!s,M.push(B.dataIndex),T[B.dataIndex]=W.getData(B.dataIndex),R[B.dataIndex]=N.value)}}if(D)try{m.column=null,m.itemIndex=W.index;var j=Zg(W.itemState);if(f&&p.validateRow(g,j,!0,!0),_)for(w=0;w<d;w++){var B=h[w];m.column=B;try{p.validateCell(m,j,!0)}catch(z){if(!(z instanceof Wy))throw z;if(pp(z.level,i.editOptions.commitLevel)<0)throw z}}i.updatePastedRow(W,R,!f),p.clearInvalidCells(g.dataId),C&&i._fireEditItemPasted(W,M,T,R),x.push(W.dataRow)}catch(z){if(r.stopOnError)throw z}u++}catch(Y){throw u=Math.max(e.itemIndex,u-1),i.setFocusedIndex(e,!1),i.selections.clear(!0),i.selections.add(e,new Wv(i,u,this._data.lastLayout()),cb.BLOCK,!0),Y}if(y<l&&r.enableAppend){for(;y<l;y++){P=t[y],R=g.values=[],T=[],g.dataRow=-1,g.setIndex(-1);try{for(M=[],b=Math.min(P.columns.length,P.values.length),v=0;v<b;v++)for(L=P.columns[v],A=P.values[v],w=0;w<A.length;w++){var V;if((B=L[w])&&B instanceof bv)F=Gv.tempItem(i,g,B),$=this._convertValue(n,r,B,A[w],R,F),N={text:A[w],value:$,oldValue:void 0},(V=this._cellWritable(F,Mg.APPENDING,N))&&(M.push(B.dataIndex),R[B.dataIndex]=N.value,T[B.dataIndex]=void 0)}if(r.fillColumnDefaults)for(w=0;w<d;w++)(B=h[w]).dataIndex>-1&&void 0===R[B.dataIndex]&&void 0!==B.defaultValue&&(R[B.dataIndex]=B.defaultValue);if(r.fillFieldDefaults)for(w=0;w<c;w++)if(void 0===R[w]){var H=n.getField(w);void 0!==H.defaultValue&&(R[w]=H.defaultValue)}try{if(this._appendingIndex.column=null,this._appendingIndex.itemIndex=-1,f&&p.validateRow(g,!0,!0,!0),r.forceColumnValidation)for(w=0;w<d;w++){B=h[w],this._appendingIndex.column=B;try{p.validateCell(this._appendingIndex,!0,!0)}catch(z){if(!(z instanceof Wy))throw z;if(pp(z.level,i.editOptions.commitLevel)<0)throw z}}var U=i.appendPastedRow(R);if(C){var W=i.getItem(i.getItemIndexOfRow(U));i._fireEditItemPasted(W,M,T,R)}x.push(U)}catch(z){if(r.stopOnError)throw z}}catch(Y){throw u=Math.max(e.itemIndex,i.itemCount-1),i.setFocusedIndex(e,!1),i.selections.clear(!0),i.selections.add(e,new Wv(e.grid,u,this._data.lastLayout()),cb.BLOCK,!0),Y}}u=a?-1:i.itemCount}this._fireRowsPasted(x)}catch(z){throw this._fireRowsPasted(x),z}finally{if(this._pasting=!1,a&&(n.endUpdate(S),u<0&&(u=n.rowCount)),!i.isTree()){var G=i.itemSource;S&&(G.filterMode=E,G.sortMode=O,G._refreshItems())}}o&&x.length>0&&((e=e.clone()).itemIndex=u-x.length),i.setFocusedIndex(e,!1),i.selections.clear(!0),i.selections.add(e,new Wv(e.grid,u-1,this._data.lastLayout()),cb.BLOCK,!0)}},e}(),Tw=function(e){function t(t){var i=e.call(this,t)||this;return i._cellButtonWidth=16,i._editButtonWidth=16,i._editButtonHeight=16,i._errorIconWidth=16,i._showChangeMarker=!1,i._formatter={numberFormatter:null,datetimeWriter:null,booleanFormatter:null,textFormatter:null,prefix:"",suffix:"",text:null},i._buttonHeight=16,i._dataCell=new Tm,i._hiddenCell=new Dm,i._literalCell=new Mm,i._seriesCell=new Lm,i._cs=new mv,i._rowCs=new Qg,i}return gd(t,e),t.prototype._doDispose=function(){this._dataCell=this._dataCell.dispose(),this._hiddenCell=this._hiddenCell.dispose(),this._literalCell=this._literalCell.dispose(),this._seriesCell=this._seriesCell.dispose(),this._cs=null,this._rowCs=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"cellStyleCallback",{get:function(){return this._cellStyleCallback},set:function(e){e!==this._cellStyleCallback&&(this._cellStyleCallback=e,this.refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowStyleCallback",{get:function(){return this._rowStyleCallback},set:function(e){e!==this._rowStyleCallback&&(this._rowStyleCallback=e,this.refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabelCallback",{get:function(){return this._ariaLabelCallback},set:function(e){this._ariaLabelCallback=e,this.refreshOwner()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellButtonWidth",{get:function(){return this._cellButtonWidth},set:function(e){e!=this._cellButtonWidth&&(this._cellButtonWidth=e,this.refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editButtonWidth",{get:function(){return this._editButtonWidth},set:function(e){e!=this._editButtonWidth&&(this._editButtonWidth=e,this.refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editButtonHeight",{get:function(){return this._editButtonHeight},set:function(e){e!=this._editButtonHeight&&(this._editButtonHeight=e,this._buttonHeight=Math.max(16,e),this.refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errorIconWidth",{get:function(){return this._errorIconWidth},set:function(e){e!=this._errorIconWidth&&(this._errorIconWidth=e,this.refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonHeight",{get:function(){return this._buttonHeight},enumerable:!1,configurable:!0}),t.prototype.getCell=function(e){return this.getCellAt(e.item,e.column)},t.prototype.getCellAt=function(e,t){var i,n=this._grid;if(t instanceof bv?e.index<0||e instanceof kw?(i=this._hiddenCell,this._hiddenCell.setItem(e)):i=this._dataCell:i=t instanceof wv?this._seriesCell:t instanceof Cv?this._literalCell:this._dataCell,i.setIndex2(n,e?e.index:-1,t),t instanceof bv){var r=n.validationManager.getError(i.index);r?(i.error=r.message,i.errorLevel=r.level):(i.error=null,i.errorLevel=Ld.IGNORE)}return i},t.prototype.getIndexCellStyle=function(e,t){var i=this.getCell(e);return this.getCellStyle(i,this._cs.clear(),!1,t)},t.prototype.getCellStyle=function(e,t,i,n){void 0===n&&(n=!0);var r,o=e.valueColumn,s=this._cellStyleCallback;s&&(r=s(this._grid.handler,e),t.assign(r)),o&&(r=o.getCellStyle(e),t.assign(r));var a=this.getUserCellStyle(e.index.dataRow,e.valueColumn.name);a&&t.assign(a);var l=t.styleName||o&&o.styleName||"";return n&&(t.styleName="rg-data-cell "+(i?"rg-merged-cell ":"")+l),t},t.prototype.getCellFormatters=function(e,t,i,n){if(t?(t.numberFormatter=t.numberFormatter||e.numberFormatter,t.datetimeWriter=t.datetimeWriter||e.datetimeWriter,t.booleanFormatter=t.booleanFormatter||e.boolFormatter,t.textFormatter=t.textFormatter||e.textFormatter,t.prefix=t.prefix||e.prefix,t.suffix=t.suffix||e.suffix):((t=this._formatter).numberFormatter=e.numberFormatter,t.datetimeWriter=e.datetimeWriter,t.booleanFormatter=e.boolFormatter,t.textFormatter=e.textFormatter,t.prefix=e.prefix,t.suffix=e.suffix,t.text=null),i){var r=i.grid,o=r.body.getCell(i);t=(n=r.body.getCellStyle(o,n)).toFormatter(t)}return t},t.prototype.getRowStyle=function(e,i,n,r){void 0===n&&(n=!1),void 0===r&&(r=!0);var o=this._grid,s=this._rowCs;if(s.clear(),r){var a=this._rowStyleCallback;if(a){var l=a(o.handler,e,i)||{};s.assign(l)}var u=this.getUserCellStyle(e.dataRow,-1);u&&s.assign(u)}if(!s.styleName){var c=t.ROW_STYLE;e.index%2&&o.displayOptions.useAlternateRowStyle&&(c+=t.ALTERNATE_ROW_STYLE),i&&(c+=t.FIXED_ROW_STYLE),n||(c+=t.STATE_ROW_STYLES[e.rowState]||""),e.checked&&(c+=t.CHECKED_ROW_STYLE),s.styleName=c}return s},t.prototype.addUserCellStyle=function(e,t,i){var n=this._grid,r=n.getItemOfRow(e,!0);r&&n.itemSource.addCellStyle(r.dataId,t,i)&&n.refreshView()},t.prototype.removeUserCellStyle=function(e,t){var i=this._grid,n=null!=e?i.getItemOfRow(e,!0):null;(n||null==e)&&i.itemSource.removeCellStyle(n?n.dataRowId:null,t)&&i.refreshView()},t.prototype.getUserCellStyle=function(e,t){var i=this._grid,n=i.getItemOfRow(e,!0);if(n)return i.itemSource.getUserCellStyle(n.dataId,t)},t.prototype._prepareUpdate=function(){var e=this._grid=this.owner;this._ds=e.dataSource,this._showChangeMarker=e.displayOptions.showChangeMarker},t.ROW_STYLE=" rg-data-row",t.ALTERNATE_ROW_STYLE=" rg-alternate-row",t.FIXED_ROW_STYLE=" rg-fixed-row",t.CHECKED_ROW_STYLE=" rg-checked-row",t.STATE_ROW_STYLES={created:" rg-created-row",deleted:" rg-deleted-row",createAndDeleted:" rg-deleted-row",updated:" rg-updated-row"},t}(Im),Dw=function(e){function t(t){var i=e.call(this)||this;return i._grid=t,i}return gd(t,e),t.prototype._doDispose=function(){return this._grid=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),t.prototype._changed=function(){this._grid&&this._grid.optionsChanged(this)},t.prototype._invalidateOwner=function(){this._grid&&this._grid.invalidate()},t.prototype._layoutOwner=function(){this._grid&&this._grid.invalidateLayout()},t.prototype._refreshOwner=function(){this._grid&&this._grid.refreshView()},t}(Yp),Mw=function(e){function t(t){var i=e.call(this,t)||this;return i._colCount=0,i._rightCount=0,i._rowCount=0,i._rightFixed=!0,i._exceptFromFiltering=!0,i._exceptFromSorting=!0,i._editable=!0,i._rowEditable=!0,i._resizable=!1,i._rowResizable=!1,i._movable=!1,i._colBarWidth=3,i._rightBarWidth=3,i._rowBarHeight=3,i._mergeRows=!1,i._blankRows=!1,i.assignFrom(u_.fixed),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"colCount",{get:function(){return this._colCount},set:function(e){(e=Math.max(0,e))!=this._colCount&&(this._colCount=e,this.grid&&this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightCount",{get:function(){return this._rightCount},set:function(e){(e=Math.max(0,e))!=this._rightCount&&(this._rightCount=e,this.grid&&this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._rowCount},set:function(e){(e=Math.max(0,e))!=this._rowCount&&(this._rowCount=e,this.$_resetItemSource())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightFixed",{get:function(){return this._rightFixed},set:function(e){e!=this._rightFixed&&(this._rightFixed=e,this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exceptFromFiltering",{get:function(){return this._exceptFromFiltering},set:function(e){e!=this._exceptFromFiltering&&(this._exceptFromFiltering=e,this.$_resetItemSource())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exceptFromSorting",{get:function(){return this._exceptFromSorting},set:function(e){e!=this._exceptFromSorting&&(this._exceptFromSorting=e,this.$_resetItemSource())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this._editable},set:function(e){e!=this._editable&&(this._editable=e,this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowEditable",{get:function(){return this._rowEditable},set:function(e){e!=this._rowEditable&&(this._rowEditable=e,this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this._resizable},set:function(e){e!=this._resizable&&(this._resizable=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowResizable",{get:function(){return this._rowResizable},set:function(e){e!=this._rowResizable&&(this._rowResizable=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"movable",{get:function(){return this._movable},set:function(e){e!=this._movable&&(this._movable=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colBarWidth",{get:function(){return this._colBarWidth},set:function(e){(e=Math.max(0,e))!=this._colBarWidth&&(this._colBarWidth=e,this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightBarWidth",{get:function(){return this._rightBarWidth},set:function(e){(e=Math.max(0,e))!=this._rightBarWidth&&(this._rightBarWidth=e,this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowBarHeight",{get:function(){return this._rowBarHeight},set:function(e){(e=Math.max(0,e))!=this._rowBarHeight&&(this._rowBarHeight=e,this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergeRows",{get:function(){return this._mergeRows},set:function(e){e!=this._mergeRows&&(this._mergeRows=e,this.grid._columnMergeRuleChanged(null))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blankRows",{get:function(){return this._blankRows},set:function(e){e!=this._blankRows&&(this._blankRows=e,this.$_resetItemSource(!0))},enumerable:!1,configurable:!0}),t.prototype._refreshOwner=function(){e.prototype._refreshOwner.call(this),this.grid&&this.grid.invalidateColumns()},t.prototype.$_resetItemSource=function(e){var t,i=this.grid;i&&(t=i.itemSource)?(t.setFixed(this._rowCount,!this._exceptFromSorting,!this._exceptFromFiltering,e),this._dirty=!1):this._dirty=!0},t.ROW_BAR_STYLE="rg-fixed-row-bar",t.ROW_BAR_CELL_STYLE="rg-fixed-row-bar-cell",t.COLUMN_BAR_STYLE="rg-fixed-column-bar",t}(Dw),Lw=function(e){function t(t){var i=e.call(this,t)||this;return i._refreshMode=Xd.ALL,i._columnResizable=!0,i._columnMovable=!0,i._columnResizeThreshold=3,i._minCellWidth=8,i._defaultColumnWidth=100,i._fitStyle=jd.NONE,i._rowResizable=!1,i._eachRowResizable=!1,i._autoClearHeights=!0,i._rowHeight=0,i._refCalcHeights=!0,i._dataHeights=null,i._minTableRowHeight=23,i._minRowHeight=23,i._maxRowHeight=0,i._hscrollBar=!0,i._vscrollBar=!0,i._liveScroll=!0,i._scrollDuration=0,i._hscrollDuration=0,i._hintDelay=0,i._showTooltip=!1,i._tooltipEllipsisOnly=!1,i._rowChangeDelay=0,i._horzPageScroll=!1,i._showEmptyMessage=!1,i._focusVisible=!0,i._focusType=ip.LAYER,i._rowFocusType=Vd.NONE,i._groupFocusVisible=!1,i._wheelEnabled=!0,i._wheelScrollLines=3,i._wheelScrollHorz=16,i._wheelAccelDelay=0,i._wheelAccelScroll=null,i._wheelDeltaY=0,i._wheelEventPropagate=!0,i._rightClickable=!0,i._remergeWhenColumnMoved=!0,i._editItemMerging=!1,i._showInnerFocus=!0,i._toastZIndex=3e3,i._popupDropdownCount=0,i._popupViewDistance=0,i._selectionMode=ub.SINGLE,i._selectionStyle=cb.BLOCK,i._selectionDisplay=hb.CELL,i._selectAndImmediateDrag=!1,i._altSelectAndImmediateDrag=!1,i._selectAtSingleRow=!1,i._rowHoverType=Vd.NONE,i._rowBlockType=Vd.NONE,i._showEmptyTooltip=!1,i._showChangeMarker=!0,i._showNativeEditButton=!1,i._baseZindex=2e3,i._useAlternateRowStyle=!0,i._useFocusClass=!1,i._watchDisplayChange=!0,i._syncGridHeight=op.NONE,i._groupFocusLevel=-1,i._selectionRemovable=!1,i.assignFrom(u_.display),Bp.isMobile()&&(i._selectionStyle=cb.NONE),(Bp.ieNine||Bp.ieTen)&&(i._focusType=ip.LINE),t.setWatchTimer(i._watchDisplayChange),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"refreshMode",{get:function(){return this._refreshMode},set:function(e){e!=this._refreshMode&&(this._refreshMode=e,this.grid.setNeedRefresh(!0),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnResizable",{get:function(){return this._columnResizable},set:function(e){this._columnResizable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnMovable",{get:function(){return this._columnMovable},set:function(e){this._columnMovable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnResizeThreshold",{get:function(){return this._columnResizeThreshold},set:function(e){this._columnResizeThreshold=Math.min(Math.max(3,e),10)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultColumnWidth",{get:function(){return this._defaultColumnWidth},set:function(e){e!=this._defaultColumnWidth&&(this._defaultColumnWidth=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fitStyle",{get:function(){return this._fitStyle},set:function(e){e!=this._fitStyle&&(this._fitStyle=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fitStyleIncludeFixed",{get:function(){return this._fitStyleIncludeFixed},set:function(e){e!=this._fitStyleIncludeFixed&&(this._fitStyleIncludeFixed=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowResizable",{get:function(){return this._rowResizable},set:function(e){this._rowResizable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eachRowResizable",{get:function(){return this._eachRowResizable},set:function(e){this._eachRowResizable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoClearHeights",{get:function(){return this._autoClearHeights},set:function(e){e!=this._autoClearHeights&&(this._autoClearHeights=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refCalcHeights",{get:function(){return this._refCalcHeights},set:function(e){e!=this._refCalcHeights&&(this._refCalcHeights=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowHeight",{get:function(){return this._rowHeight},set:function(e){e!=this._rowHeight&&(this._rowHeight=e,this._autoClearHeights&&this.grid&&this.grid.clearRowHeights(!1),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataHeights",{get:function(){return this._dataHeights},set:function(e){e&&e.length>0?this._dataHeights=e.slice():this._dataHeights=null,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minTableRowHeight",{get:function(){return this._minTableRowHeight},set:function(e){(e=Math.max(t.MIN_TABLE_ROW_HEIGHT,e))!=this._minTableRowHeight&&(this._minTableRowHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minRowHeight",{get:function(){return this._minRowHeight},set:function(e){(e=Math.max(t.MIN_TABLE_ROW_HEIGHT,e))!=this._minRowHeight&&(this._minRowHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxRowHeight",{get:function(){return this._maxRowHeight},set:function(e){(e=Math.max(0,e))!=this._maxRowHeight&&(this._maxRowHeight=e,this._autoClearHeights&&this.grid&&this.grid.clearRowHeights(!1),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minCellWidth",{get:function(){return this._minCellWidth},set:function(e){(e=Math.max(0,e))!=this._minCellWidth&&(this._minCellWidth=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hscrollBar",{get:function(){return this._hscrollBar},set:function(e){e!=this._hscrollBar&&(this._hscrollBar=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vscrollBar",{get:function(){return this._vscrollBar},set:function(e){e!=this._vscrollBar&&(this._vscrollBar=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"liveScroll",{get:function(){return this._liveScroll},set:function(e){e!=this._liveScroll&&(this._liveScroll=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollDuration",{get:function(){return this._scrollDuration},set:function(e){this._scrollDuration=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hscrollDuration",{get:function(){return this._hscrollDuration},set:function(e){this._hscrollDuration=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintDelay",{get:function(){return this._hintDelay},set:function(e){this._hintDelay=Math.max(e,0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTooltip",{get:function(){return this._showTooltip},set:function(e){this._showTooltip=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipEllipsisOnly",{get:function(){return this._tooltipEllipsisOnly},set:function(e){this._tooltipEllipsisOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowChangeDelay",{get:function(){return this._rowChangeDelay},set:function(e){this._rowChangeDelay=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"horzPageScroll",{get:function(){return this._horzPageScroll},set:function(e){this._horzPageScroll=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emptyMessage",{get:function(){return this._emptyMessage},set:function(e){e!=this._emptyMessage&&(this._emptyMessage=e,this.grid.setEmptyMessage(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showEmptyMessage",{get:function(){return this._showEmptyMessage},set:function(e){e!=this._showEmptyMessage&&(this._showEmptyMessage=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusVisible",{get:function(){return this._focusVisible},set:function(e){e!=this._focusVisible&&(this._focusVisible=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusType",{get:function(){return this._focusType},set:function(e){e!==this.focusType&&(this._focusType=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowFocusType",{get:function(){return this._rowFocusType},set:function(e){e!=this._rowFocusType&&(this._rowFocusType=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupFocusVisible",{get:function(){return this._groupFocusVisible},set:function(e){e!==this._groupFocusVisible&&(this._groupFocusVisible=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupFocusLevel",{get:function(){return this._groupFocusLevel},set:function(e){e!=this._groupFocusLevel&&(this._groupFocusLevel=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelEnabled",{get:function(){return this._wheelEnabled},set:function(e){this._wheelEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelScrollLines",{get:function(){return this._wheelScrollLines},set:function(e){this._wheelScrollLines=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelScrollHorz",{get:function(){return this._wheelScrollHorz},set:function(e){this._wheelScrollHorz=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelAccelDelay",{get:function(){return this._wheelAccelDelay},set:function(e){this._wheelAccelDelay=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelAccelScroll",{get:function(){return this._wheelAccelScroll},set:function(e){this._wheelAccelScroll=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelDeltaY",{get:function(){return this._wheelDeltaY},set:function(e){this._wheelDeltaY=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelEventPropagate",{get:function(){return this._wheelEventPropagate},set:function(e){this._wheelEventPropagate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightClickable",{get:function(){return this._rightClickable},set:function(e){this._rightClickable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remergeWhenColumnMoved",{get:function(){return this._remergeWhenColumnMoved},set:function(e){this._remergeWhenColumnMoved=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editItemMerging",{get:function(){return this._editItemMerging},set:function(e){e!=this._editItemMerging&&(this._editItemMerging=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInnerFocus",{get:function(){return this._showInnerFocus},set:function(e){e!=this._showInnerFocus&&(this._showInnerFocus=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toastZIndex",{get:function(){return this._toastZIndex},set:function(e){this._toastZIndex=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupDropdownCount",{get:function(){return this._popupDropdownCount},set:function(e){this._popupDropdownCount=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(e){e!=this._selectionMode&&(this._selectionMode=e,this.grid.clearAddSelection())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionStyle",{get:function(){return this._selectionStyle},set:function(e){e!=this._selectionStyle&&(this.grid.selections.clear(!0),this._selectionStyle=e,this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionDisplay",{get:function(){return this._selectionDisplay},set:function(e){e!=this._selectionDisplay&&(this._selectionDisplay=e,this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectAndImmediateDrag",{get:function(){return this._selectAndImmediateDrag},set:function(e){this._selectAndImmediateDrag=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"altSelectAndImmediateDrag",{get:function(){return this._altSelectAndImmediateDrag},set:function(e){this._altSelectAndImmediateDrag=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectAtSingleRow",{get:function(){return this._selectAtSingleRow},set:function(e){this._selectAtSingleRow=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowHoverType",{get:function(){return this._rowHoverType},set:function(e){e!=this._rowHoverType&&(this._rowHoverType=e,this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowBlockType",{get:function(){return this._rowBlockType},set:function(e){e!=this._rowBlockType&&(this._rowBlockType=e,this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowBlockCallback",{get:function(){return this._rowBlockCallback},set:function(e){e!==this._rowBlockCallback&&(this._rowBlockCallback=e,this._rowBlockType!=Vd.NONE&&this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showEmptyTooltip",{get:function(){return this._showEmptyTooltip},set:function(e){this._showEmptyTooltip=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChangeMarker",{get:function(){return this._showChangeMarker},set:function(e){e!=this._showChangeMarker&&(this._showChangeMarker=e,this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollMessageCallback",{get:function(){return this._scrollMessageCallback},set:function(e){this._scrollMessageCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNativeEditButton",{get:function(){return this._showNativeEditButton},set:function(e){e!=this._showNativeEditButton&&(this._showNativeEditButton=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseZindex",{get:function(){return this._baseZindex},set:function(e){this._baseZindex=Math.max(e,0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useAlternateRowStyle",{get:function(){return this._useAlternateRowStyle},set:function(e){e!=this._useAlternateRowStyle&&(this._useAlternateRowStyle=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useFocusClass",{get:function(){return this._useFocusClass},set:function(e){e!=this._useFocusClass&&(e||(this.grid.setFocusedClass(this.grid.focusedIndex,!1),this.grid.setFocusedRowClass(this.grid.focusedIndex,!1)),this._useFocusClass=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editButtonHeight",{get:function(){return this.grid.body.editButtonHeight},set:function(e){this.grid.body.editButtonHeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"watchDisplayChange",{get:function(){return this._watchDisplayChange},set:function(e){e!=this._watchDisplayChange&&(this._watchDisplayChange=e,this.grid.setWatchTimer(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"syncGridHeight",{get:function(){return this._syncGridHeight},set:function(e){e!=this._syncGridHeight&&(this._syncGridHeight=e,e!==op.ALWAYS&&this.grid.recallHeight(),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupViewDistance",{get:function(){return this._popupViewDistance},set:function(e){this._popupViewDistance=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowHeightCallback",{get:function(){return this._rowHeightCallback},set:function(e){this._rowHeightCallback=e,this.grid.clearRowHeights(!1),this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionRemovable",{get:function(){return this._selectionRemovable},set:function(e){this._selectionRemovable=e},enumerable:!1,configurable:!0}),t.MIN_TABLE_ROW_HEIGHT=15,t}(Dw),Aw=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.width=e,this.height=t}return e.empty=function(){return new e},e.create=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=0),new e(t,i)},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.width||0===this.height},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.width,this.height)},e.prototype.equals=function(e){return e===this||e&&this.width===e.width&&this.height===e.height},e.prototype.setEmpty=function(){return this.width=this.height=0,this},e.prototype.set=function(e,t){return this.width=e,this.height=t,this},e.prototype.round=function(){var e=this.clone();return e.width>>>=0,e.height>>>=0,e},e.prototype.toString=function(){return"{width: "+this.width+", height: "+this.height+"}"},e.EMPTY=new e,e}(),Fw=function(e){function t(t,i){return void 0===i&&(i=null),e.call(this,t,i)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){for(var e=this.parent;e;){if(e instanceof oE)return e;e=e.parent}return null},enumerable:!1,configurable:!0}),t.prototype.measure=function(e,t,i){return this._setClassName(this._dom),this._doMeasure(e,t,i)},t.prototype.layoutContent=function(e){(this.grid._loading||this.visible)&&(this._doPrepareContent(e),this._doLayoutContent(e))},t.prototype._getCssSelector=function(){return""},t.prototype._getCssDisplay=function(){return"table"},t.prototype._doDraw=function(e){this._doRender(e)},t.prototype._doMeasure=function(e,t,i){return new Aw(t,i)},t.prototype._doPrepareContent=function(e){},t.prototype._doLayoutContent=function(e){},t.prototype._doRender=function(e){},t}(Sb),$w=function(e){function t(t,i,n){void 0===n&&(n=null);var r=e.call(this,t,n)||this;return r._ff=Bp.isFirefox,r._chromium=Bp.isChromium,r._textProp=Bp.TextProp,r._cursor="default",r._model=i,r}return gd(t,e),t.prototype._doDispose=function(){this._model=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),t.prototype.setCursor=function(e){e!==this._cursor&&(this._cursor=e,this._dom.style.cursor=e)},t}(Fw),Nw=function(e){function t(t){return e.call(this,t,"emptyGridView")||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.setMessage=function(e){this._span.innerHTML=e||r_.messages.displayEmptyMessage},t.prototype.setFocus=function(){var e=this._span;e.tabIndex=-1,e.focus()},t.prototype._createDom=function(t){var i=e.prototype._createDom.call(this,t),n=this._span=t.createElement("span");return n.role="gridcell",i.appendChild(n),i},t.prototype._getCssSelector=function(){return"rg-empty-grid"},t.prototype._doDraw=function(e){this.setMessage(this.grid.displayOptions.emptyMessage)},t}(Fw),jw=function(e){function t(t,i,n){void 0===n&&(n=null);var r=e.call(this,t,i,n)||this;return r._explicitWidth=NaN,r}return gd(t,e),t.prototype._doDispose=function(){this._tbody=this._thead=this._table=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"tableRowCount",{get:function(){return this._tbody.childElementCount},enumerable:!1,configurable:!0}),t.prototype.getCellPoint=function(e,t){return(t=t||new Ob).x+=e.offsetLeft,t.y+=e.offsetTop,t},t.prototype._getTableHidden=function(){return!0},t.prototype._getTableCaption=function(){return""},t.prototype._createDom=function(e){var t=e.createElement("div"),i=this._table=e.createElement("table"),n=i.createCaption();n.textContent="grid table ";var r=n.style;return r.width=r.height="0px",r.overflow="hidden",r.setProperty("padding","0px","important"),r.boxSizing="border-box",(r=i.style).setProperty("table-layout","fixed","important"),r.setProperty("width","100%","important"),i.className="rg-table",t.appendChild(i),this._thead=e.createElement("thead"),i.appendChild(this._thead),this._tbody=e.createElement("tbody"),i.appendChild(this._tbody),t},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),t[kd]=this[Sd],t.style.overflow="hidden"},t.prototype._doPrepareContent=function(e){var t=this._getExplicitWidth(e);Bp.equalNumbers(t,this._explicitWidth)||(this._table.style.width=t>0?t+"px":"100%",this._explicitWidth=t),this._doPrepareTableExtents(e),this._doPrepareTable(e)},t.prototype._doDraw=function(e){this._doRender(e),this._doRenderTable(this._tbody)},t.prototype._visibleChanged=function(){e.prototype._visibleChanged.call(this),this.visible?!this._table.parentElement&&this._dom.appendChild(this._table):Bp.detach(this._table)},t.prototype._getExplicitWidth=function(e){return NaN},t.prototype._doPrepareTableExtents=function(e){this._initExec||(this._initExec=!0,e.grid.accessibility&&this._getTableHidden()&&this._getTableHidden()&&this._table.setAttribute("aria-hidden","true"))},t.prototype._doPrepareTable=function(e){this._doPrepareTableHead(e,this._thead),this._doPrepareTableRows(e,this._tbody)},t.prototype._doPrepareTableHead=function(e,t){var i,n=$p(t);0==t.childElementCount?(i=n.createElement("tr"),t.appendChild(i),this._getTableHidden()&&i.setAttribute("aria-hidden","true"),(l=i.style).setProperty("border","0px none","important")):i=t.lastElementChild;for(var r=this._getCellCount(e);i.childElementCount<r;)(a=n.createElement("th")).scope="col",(l=a.style).setProperty("margin","0px","important"),l.setProperty("padding","0px","important"),l.setProperty("font-size","0px","important"),l.setProperty("line-height","0px","important"),l.height="0px",i.appendChild(a);for(;i.childElementCount>r;)i.removeChild(i.lastChild);for(var o=i.children,s=0;s<o.length;s++){var a,l;(l=(a=o[s]).style).width=this._getCellWidth(e,s)+"px"}},t.prototype._prepareTableRowCells=function(e,t){for(var i=this._getCellCount(e),n=$p(t),r=t.childElementCount;r<i;){var o=n.createElement("td");t.appendChild(o);var s=this._prepareCellContent(o,r++);o.appendChild(s)}for(;t.childElementCount>i;)s=t.lastElementChild,this._cleanCellContent(s),t.removeChild(t.lastElementChild);return t.childElementCount},t.prototype._isFixedHeight=function(e){return!0},t.prototype._getMinRowHeight=function(e){return e.minRowHeight},t.prototype._doPrepareTableRow=function(e,t,i,n){this._prepareTableRowCells(e,n);var r=this._isFixedHeight(e),o=n.children,s=this._isDataTable(),a=r?this._getTableRowHeight(e,i):this._getMinRowHeight(e),l=isNaN(a)||a<2?"0px":a-2+"px",u=n.style;n[kd]=this[Sd],n.$_fix=r,n.$_hei=r?a:0,s||r?u.setProperty("height",a+"px"):u.removeProperty("height"),u.display="";for(var c=this._getStartCell(e)-this._getFirstCell(e),h=o.length;c<h&&c<=this._getEndCell(e);c++){var d=o[c];this._ff&&(d.style.height="100%");var p=d.firstElementChild;p||(p=this._prepareCellContent(d,c),d.appendChild(p));var f=p.style,_=r?l:"";!r&&s&&f.removeProperty("height"),_!=f.maxHeight&&(f.maxHeight=_),"hidden"!==f.overflow&&(f.overflow="hidden")}},t.prototype._doRenderTable=function(e){for(var t=e.children,i=0;i<t.length;i++){var n=t[i];this._renderRow(n,i)}},t.prototype._renderRow=function(e,t){this._doDrawRow(t,e);for(var i=e.children,n=0;n<i.length;n++){var r=i[n];this._renderCell(r.lastElementChild,t,n)}},t.prototype._renderCell=function(e,t,i){this._doDrawCell(t,i,e)},t.prototype._prepareCellContent=function(e,t){return $p(e).createElement("div")},t.prototype._cleanCellContent=function(e){},t.prototype._doDrawRow=function(e,t){},t.prototype._doDrawCell=function(e,t,i){},t.prototype._getTableRow=function(e,t){return this._tbody.children[t]},t.prototype._getTableRows=function(e,t,i){for(var n=[],r=0;r<i;r++)n.push(this._tbody.children[t+r]);return n},t.prototype._getTableCell=function(e,t){return this._tbody.children[e].children[t]},t.prototype.getCellContent=function(e,t){return this._tbody.children[e].children[t].firstElementChild},t.prototype.getContentAt=function(e){var t,i=e.grid.layoutManager,n=i.fixedItemCount,r=e.column?e.column.index:0;return t=n>0?e.itemIndex<n?e.itemIndex:e.itemIndex-i.topIndex+1:e.itemIndex-i.topIndex,this.getCellContent(t,r)},t.prototype._getFirstCell=function(e){return e.firstCell},t.prototype._getStartCell=function(e){return e.startCell},t.prototype._getLastCell=function(e){return e.lastCell},t.prototype._getEndCell=function(e){return e.endCell},t}($w),Bw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._isDataTable=function(){return!1},t.prototype._doPrepareTableRows=function(e,t){for(var i=Math.max(0,this._getTableRowCount(e)),n=$p(t);t.childElementCount<i;){var r=n.createElement("tr");t.appendChild(r)}for(;t.childElementCount>i;)t.removeChild(t.lastChild);for(var o=t.children,s=0;s<i;s++)(r=o[s]).style.height=this._getTableRowHeight(e,s)+"px",this._doPrepareTableRow(e,s,s,r)},t.prototype._getTableRowCount=function(e){return 1},t}(jw),Vw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._trCount=0,t._trs=1,t}return gd(t,e),t.prototype._isDataTable=function(){return!0},t.prototype._getTrs=function(e){return 1},t.prototype._getTableRowCount=function(e){var t=e.fixedItemCount,i=t+e.itemCount;return(i*=this._trs)+(t>0?1:0)},t.prototype.$_getTableIndex=function(e,t){var i=e.fixedItemCount,n=t*this._trs;return i>0&&t>=i?n+1:n},t.prototype._getTableRow=function(e,t){var i=this.$_getTableIndex(e,t);return this._tbody.children[i]},t.prototype._doPrepareTableRows=function(e,t){for(var i=e.$_getItems(),n=this._trs=this._getTrs(e),r=e.fixedItemCount,o=e.itemCount+r,s=this._trCount=Math.max(0,this._getTableRowCount(e)),a=$p(t);t.childElementCount<s;){var l=a.createElement("tr");t.appendChild(l)}for(;t.childElementCount>s;)t.removeChild(t.lastChild);var u=t.children,c=0,h=0;if(r>0){for(c=0;c<r;c++)for(var d=0;d<n;d++,h++)this._doPrepareTableRow(e,c,h,u[h]);this.$_prepareFixedBar(e,u[h++])}for(;c<o&&h<s;c++){var p=i[c].isData?n:1;for(d=0;d<p&&h<s;d++,h++)this._doPrepareTableRow(e,c,h,u[h])}},t.prototype.$_prepareFixedBar=function(e,t){var i=Fp(t),n=this._prepareTableRowCells(e,t),r=e.fixedBarHeight,o=t.style;r>0?(o.height=e.fixedBarHeight+"px",o.display=""):o.display="none";for(var s=t.children,a=0;a<n;a++){var l=s[a];l instanceof i.HTMLTableCellElement&&(l.rowSpan=1,l.style.display=""),(l=s[a].firstElementChild)&&(l.style.maxHeight="0px",l.style.overflow="hidden")}return r},t.prototype._getTableRowHeight=function(e,t){return e.getTableRowHeight(t,1)},t.prototype._getCellContent=function(e){return e.firstElementChild},t.prototype._updateCellContent=function(e,t,i){this._doUpdateCellContent(e,t,this._getCellContent(i))},t.prototype._doUpdateCellContent=function(e,t,i){},t}(jw),Hw=function(e){function t(){var t=e.call(this)||this;return t._valueSeparator=",",t}return gd(t,e),Object.defineProperty(t.prototype,"valueSeparator",{get:function(){return this._valueSeparator},set:function(e){this._valueSeparator=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.SERIES_TYPE},enumerable:!1,configurable:!0}),t.prototype._makeText=function(e,t){var i=this.valueSeparator||this.index.seriesColumn.valueSeparator;return t.getDisplayText(e,i)||""},t.SERIES_TYPE="series",t}(ay),Uw=function(e){function t(){var t=e.call(this)||this;return t._baseValue=NaN,t.$_render=function(e,t,i,n){var r=this._values;if(r&&r.length){for(var o=r.length,s=r[0],a=r[0],l=1;isNaN(s)&&l<o;)a=s=r[l++];for(;l<o;l++){var u=r[l];isNaN(u)||(u<s&&(s=u),u>a&&(a=u))}var c=isNaN(this._baseValue)?s:this._baseValue;isNaN(s)||this._renderChart(t,r,s,a,c)}}.bind(t),t}return gd(t,e),t.interfaced=function(e){return Bp.included(e.type,Ww.TYPE,Gw.TYPE,zw.TYPE)},Object.defineProperty(t.prototype,"baseValue",{get:function(){return this._baseValue},set:function(e){this._baseValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstStyle",{get:function(){return this._firstStyle},set:function(e){this._firstStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastStyle",{get:function(){return this._lastStyle},set:function(e){this._lastStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"highStyle",{get:function(){return this._highStyle},set:function(e){this._highStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lowStyle",{get:function(){return this._lowStyle},set:function(e){this._lowStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"belowStyle",{get:function(){return this._belowStyle},set:function(e){this._belowStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointStyle",{get:function(){return this._pointStyle},set:function(e){this._pointStyle=e},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){var t=$p(e),i=this._div=t.createElement("div");i.style.position="relative",i.style.height="100%",e.appendChild(i);var n=(this._svg=Gm.createSVG(i)).style;n.position="absolute",n.left=n.top="0px",n.width=n.height="100%"},t.prototype._doRenderCell=function(e,t,i,n,r){var o=this._svg;o.setAttribute("class",this._getChartStyle()),this._values=this._getValues(t),Gm.renderSVG2(e,o,this.$_render)},t.prototype._getPoints=function(e,t,i){for(var n=e.length,r=[],o=i-t,s=0;s<n;s++){var a=e[s],l=5+s/(n-1)*90,u=10+(isNaN(a)||0==o?80:80*(1-(a-t)/o));r.push(l,u)}return r},t.prototype._getBasePoint=function(e,t,i){var n=t-e;return 0+(isNaN(i)||0==n?100:100*(1-(i-e)/n))},t}(function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._getValues=function(e){return e.value||[]},t}(sy)),Ww=function(e){function t(){var i=e.call(this)||this;return i._chartStyle=t.CHART_STYLE,i.lastStyle=t.LAST_STYLE,i.highStyle=t.HIGH_STYLE,i.lowStyle=t.LOW_STYLE,i}return gd(t,e),t.interfaced=function(e){return e.type==t.TYPE},Object.defineProperty(t.prototype,"chartStyle",{get:function(){return this._chartStyle},set:function(e){this._chartStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._getChartStyle=function(){return this._chartStyle},t.prototype._renderChart=function(e,t,i,n,r){for(var o,s=isNaN(r)?n:Math.max(n,r),a=isNaN(r)?i:Math.min(i,r),l=this._getPoints(t,a,s),u=t.length,c=0;c<u-1;c++)if(e.sline(null,l[2*c]+"%",l[2*c+1]+"%",l[2*(c+1)]+"%",l[2*(c+1)+1]+"%"),o=this.pointStyle){var h=l[2*c],d=l[2*c+1];e.scircle(o,h+"%",d+"%","2")}if((o=this.firstStyle)&&(h=l[0],d=l[1],e.scircle(o,h+"%",d+"%","2")),(o=this.lastStyle)&&(h=l[2*(u-1)],d=l[2*(u-1)+1],e.scircle(o,h+"%",d+"%","2")),o=this.highStyle)for(c=0;c<u;c++)t[c]>=n&&(h=l[2*c],d=l[2*c+1],e.scircle(o,h+"%",d+"%","2"));if(o=this.lowStyle)for(c=0;c<u;c++)t[c]<=i&&(h=l[2*c],d=l[2*c+1],e.scircle(o,h+"%",d+"%","2"))},t.TYPE="sparkline",t.STYLE="rg-sparkline-renderer",t.CHART_STYLE="rg-sparkline-renderer-chart",t.LAST_STYLE="rg-sparkline-renderer-last",t.HIGH_STYLE="rg-sparkline-renderer-high",t.LOW_STYLE="rg-sparkline-renderer-low",t.STYLE_NAME="rg-renderer "+t.STYLE,t}(Uw),Gw=function(e){function t(){var i=e.call(this)||this;return i._chartStyle=t.CHART_STYLE,i._barWidth=.8,i.lastStyle=t.LAST_STYLE,i.highStyle=t.HIGH_STYLE,i.lowStyle=t.LOW_STYLE,i}return gd(t,e),t.interfaced=function(e){return e.type===t.TYPE},Object.defineProperty(t.prototype,"chartStyle",{get:function(){return this._chartStyle},set:function(e){this._chartStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"barWidth",{get:function(){return this._barWidth},set:function(e){this._barWidth=Math.min(1,Math.max(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._getChartStyle=function(){return this._chartStyle},t.prototype._renderChart=function(e,t,i,n,r){for(var o,s=isNaN(r)?n:Math.max(n,r),a=isNaN(r)?i:r,l=t.length,u=this._getBasePoint(a,s,r),c=100/l,h=0+c/2,d=s-a,p=c*this._barWidth,f=0;f<l;f++){var _=t[f];if(!isNaN(_))if(o=_<=i&&this.lowStyle?this.lowStyle:_>=n&&this.highStyle?this.highStyle:_<r&&this.belowStyle?this.belowStyle:0==f&&this.firstStyle?this.firstStyle:f==l-1&&this.lastStyle?this.lastStyle:null,isNaN(this.baseValue)&&a<0)if(s<0){var g=0,m=0===d?100:Math.max(1,Math.floor(Math.abs(_-s)/d*100));e.pbounds(o,h-p/2,g,p,m)}else g=0===d?100:Math.floor(Math.abs(a)/d*100),m=Math.max(1,Math.floor(Math.abs(_)/d*100)),_>0?e.pbounds(o,h-p/2,100-g-m,p,m):e.pbounds(o,h-p/2,100-g,p,m);else m=0==d?100:Math.max(1,Math.floor(100*(_-a)/d)),e.pbounds(o,h-p/2,u,p,-m);h+=c}},t.TYPE="sparkcolumn",t.STYLE="rg-sparkcolumn-renderer",t.CHART_STYLE="rg-sparkcolumn-renderer-chart",t.LAST_STYLE="rg-sparkcolumn-renderer-last",t.HIGH_STYLE="rg-sparkcolumn-renderer-high",t.LOW_STYLE="rg-sparkcolumn-renderer-low",t.STYLE_NAME="rg-renderer "+t.STYLE,t}(Uw),zw=function(e){function t(){var i=e.call(this)||this;return i._chartStyle=t.CHART_STYLE,i._barWidth=.8,i._belowHeight=.4,i.belowStyle=t.BELOW_STYLE,i}return gd(t,e),t.interfaced=function(e){return e.type===t.TYPE},Object.defineProperty(t.prototype,"chartStyle",{get:function(){return this._chartStyle},set:function(e){this._chartStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"barWidth",{get:function(){return this._barWidth},set:function(e){this._barWidth=Math.min(1,Math.max(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"belowHeight",{get:function(){return this._belowHeight},set:function(e){this._belowHeight=Math.min(1,Math.max(0,e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._getChartStyle=function(){return this._chartStyle},t.prototype._renderChart=function(e,t,i,n,r){for(var o=t.length,s=100/o,a=0+s/2,l=s*this._barWidth,u=0+100*(1-this._belowHeight),c=0;c<o;c++){var h=t[c];if(!isNaN(h)&&h!=r){var d=null;h<r&&this.belowStyle&&(d=this.belowStyle);var p=h<r?100:0;e.pbounds(d,Math.floor(a-l/2),Math.floor(p),Math.floor(l),Math.floor(u-p))}a+=s}},t.TYPE="sparkwinloss",t.STYLE="rg-sparkwinloss-renderer",t.CHART_STYLE="rg-sparkwinloss-renderer-chart",t.BELOW_STYLE="rg-sparkwinloss-renderer-below",t.STYLE_NAME="rg-renderer "+t.STYLE,t}(Uw),Yw=function(e){function t(t,i){void 0===i&&(i=null);var n=e.call(this,t,i)||this;return n._domIndex=-1,n._trs=1,n._fixedHeight=!1,n}return gd(t,e),t.prototype._doDispose=function(){this._item=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"itemIndex",{get:function(){return this._item.index},enumerable:!1,configurable:!0}),t.prototype.updateItem=function(e,t,i,n){this._item=e,this._domIndex=t,this._trs=i,this._fixedHeight=n},t.prototype.clearContent=function(e,t){},t.prototype._createDom=function(){return null},t.prototype.$_getDefaultRenderer=function(e,t){return ay.TYPE},t.prototype._changed=function(){this.invalidate()},t.prototype._getTableRow=function(e,t){return this.parent._getTableRow(e,this._domIndex)},t.prototype._getTableRows=function(e){return this.parent._getTableRows(e,this._domIndex,this._trs)},t.prototype._getCellContent=function(e){return this.parent.getCellContent(this._domIndex,e)},t}(Fw),qw="rg-expander-expanded",Kw="rg-expander-collapsed",Xw=function(e){function t(t,i){return void 0===i&&(i=null),e.call(this,t,i)||this}return gd(t,e),t.isExpander=function(e){var t=e.className;return"string"==typeof t&&(t==qw||t==Kw||t.indexOf("rg-tree-expanded")>=0||t.indexOf("rg-tree-collapsed")>=0)},t.prototype.resetButtons=function(e,t,i){for(var n=e.layoutManager,r=this._trs,o=this.parent._cells,s=this._getFirstCell(n),a=this._getStartCell(n)-s,l=this._getEndCell(n)-s,u=t&&i&&t.head===i.head&&e.canMergeEditing(i),c=0;c<r;c++)for(var h=o[this._domIndex+c],d=a;d<=l;d++){var p=h[d],f=p.layout,_=f.firstColumn;!f.isProxy&&this._item.isDataRow&&_ instanceof vv&&!u&&this.$_setButtons(e,p,p.cell.firstElementChild)}},t.prototype.moveCellButtons=function(e,t,i){var n=Math.min(i-t.item.index,t.rowSpan-1);if(!this.grid.canMergeEditing(t)&&n!=t.buttonsOffset){var r=t.rowIndex,o=r+n,s=e.getTableItemBounds(r),a=e.getTableItemBounds(o),l=e.grid.body.buttonHeight,u=a.y-s.y;u=Math.floor(u+(a.height-l)/2),t.buttons.style.top=u+"px",t.buttonsOffset=n}},t.prototype.cellRefresh=function(e,t,i,n,r){var o=e.layoutManager;this._updateDataCell(e,o,t,i,n,r)},t.prototype.clearContent=function(e,t){for(var i=this.parent,n=this._getFirstCell(e),r=this._getStartCell(e)-n,o=this._getEndCell(e)-n,s=0;s<t;s++)for(var a=i._cells[this._domIndex+s],l=r;l<=o;l++){var u=a[l],c=u.renderer2;c&&c.clearContent(),u.setBorderBottom(1),u.changedMarker&&(Bp.detach(u.changedMarker),u.valueChanged=!1)}},t.prototype._doLayoutContent=function(e){var t=e.grid,i=this._trs,n=t.body,r=this.parent,o=r._cells,s=this._getFirstCell(e),a=this._getStartCell(e)-s,l=this._getEndCell(e)-s,u=t.focusedIndex,c=u&&u.itemIndex==this._item.index,h=u.column,d=this._item.index;this._item instanceof ey&&(l=Math.min(l,this._item.parent.level-1));for(var p=Wv.temp(t,d),f=r._tbody.rows,_=0;_<i;_++)for(var g=o[this._domIndex+_],m=f[this._domIndex+_],y=a;y<=l;y++){var v=g[y],b=v.layout;if(!b.isProxy){var w=b.firstColumn;if(!(b instanceof Sv&&t.isRecycleMode()&&m.recycle)||v.merged||b.blanked){v.focused=c&&h===w,v.mouseEntered=!1,p.layout=b;var C=n.getCellAt(this._item,w);v.visible?(v.width=e.getCellWidth(y),v.height=e.getTableRowHeightFixed(v.trow,v.rowSpan),w instanceof vv?this._updateDataCell(t,e,n,C,w,v):this._clearDataCell(v)):w instanceof vv&&this._updateDataCell(t,e,n,C,w,v,!1)}}}},t.prototype._getFirstCell=function(e){return e._firstCell},t.prototype._getLastCell=function(e){return e._lastCell},t.prototype._getStartCell=function(e){return e.getStartCell(!1)},t.prototype._getEndCell=function(e){return this._item instanceof ty?Math.min(e.getStartCell(!1)+this._item.groupLevel,e.getEndCell(!1)):e.getEndCell(!1)},t.prototype._createRenderer=function(e,t,i,n,r){return e.delegate.createRenderer(i,n,r)},t.prototype.$_getRenderer=function(e,t,i,n,r){var o,s,a,l,u=t.valueColumn.renderer,c=i.renderer;"string"==typeof c?a=c:c&&(a=c.type,l=c),"string"==typeof u?o=u:u&&(o=u.type,s=u),c?r.userRenderer=!0:r.userRenderer&&(r.rendererChanged=!0,r.userRenderer=!1);var h=a||o||(n instanceof wv?Hw.SERIES_TYPE:this.$_getDefaultRenderer(e,t));if(!r.renderer2||r.rendererChanged||r.renderer2.type!=h)return this._createRenderer(e,t,h,s,l);r.renderer2&&c&&r.renderer2.assignFrom(c)},t.prototype.$_getCellWidth2=function(e,t,i){return e.getCellWidth2(t,i)},t.prototype.$_clearAriaProperty=function(e){e.removeAttribute("aria-activedescendant"),e.removeAttribute("aria-haspopup")},t.prototype._renderDataCell=function(e,t,i,n,r,o){var s=r.cell,a=e.doc,l=!1,u=this.$_getRenderer(e,i,n,o,r);u&&(r.renderer2&&r.renderer2.clearAndDispose(),r.renderer2=u,r.rendererChanged=!1,l=!0);var c=s.firstElementChild,h=r.renderer2;(r.heighted=this._fixedHeight)&&(c.style.maxHeight=r.height-2+"px"),!l&&h&&h._dom!=c&&(h.clearContent(),l=!0),e.accessibility&&this.$_clearAriaProperty(s),this.$_setButtons(e,r,c);var d=!1,p=r.merged&&e.findGroupItem(r.item,o.dataIndex);if(p&&o.mergeGrouped&&e.rowGroup.$_isExpanderVisible(p)){var f=r.expander;f||((f=r.expander=a.createElement("span")).style.position="absolute",f.style.display="inline-block",f.style.top="2px",f.style.left="2px",s.appendChild(f)),d=p.expanded,f.className=d?qw:Kw}else r.clearExpander();var _=h.styleName;r.expander&&(_+=" "+(d?"rg-expanded-cell":"rg-collapsed-cell")),l?h.initContent(i._index,c,_):h.checkClassName(_)?(h.clearContent(),h.initContent(i._index,c,_)):h.index.assign(i._index),h.renderCell(e,i,r);var g=t._showChangeMarker&&i.isValueChanged();if(g!=r.valueChanged){if(g){var m=r.changedMarker;m||((m=r.changedMarker=a.createElement("div")).className="rg-changed-marker",m.style.position="absolute",m.style.display="block",m.style.top="0px",r.changedMarker=m),s.appendChild(m)}else r.changedMarker&&r.valueChanged&&Bp.detach(r.changedMarker);r.valueChanged=g}tC.addEdgeMark(n.edgeMark||o.edgeMark,r,a)},t.prototype._clearDataCell=function(e){e.setClassName(""),e.setEditor(null,null),e.button=Yd.NONE,e.error=void 0,e.editable=!1,e.readonly=!0,e.setBorderBottom(1);var t=e.cell.firstElementChild;this._fixedHeight&&(t.style.maxHeight=e.height-2+"px"),e.renderer2&&e.renderer2.clearContent(),e.valueChanged=!1},t.prototype._updateDataCell=function(e,t,i,n,r,o,s){void 0===s&&(s=!0);var a=i.getCellStyle(n,o.style.clear(),o.merged);(null==n.value||""==n.value)&&r instanceof bv&&r.placeHolder&&(a.styleName+=" "+(n.dataColumn.placeHolderStyleName||"rg-data-empty-cell"));var l=e.cellGhostStyle;if(Bp.setStyle(l,o.cell),a.style){for(var u in a.style)l[u]=void 0;a.style&&Bp.setStyle(a.style,o.cell)}o.refreshFormatters(a),i.getCellFormatters(r,o),o.setEditor(a.editor,r.editor),o.button=a.button||r.button,o.buttonWidth=a.buttonWidth,o.error=n.error,o.errorLevel=n.errorLevel;var c=Wv.temp(e,o.item.index,o.dataColumn);if(o.editable=e.getEditableAt(c,o.style),o.readonly=e.getReadOnlyAt(c,o.style),o.editable&&!o.readonly||(a.styleName+=" rg-data-readonly-cell"),o.setClassName(a.styleName),!o.merged&&r instanceof bv&&r.layout.blanked&&!r.equalBlankLine)switch(n.getBlankState()){case Nd.HEAD:case Nd.BODY:o.setBorderBottom(0);break;case Nd.TAIL:case Nd.NONE:o.setBorderBottom(1)}else o.setBorderBottom(1);s?this._renderDataCell(e,i,n,a,o,r):o.renderer2&&(o.renderer2=o.renderer2&&o.renderer2.clearAndDispose())},t.prototype.$_getButtonVisible=function(e,t,i,n){if(n){var r=e.getIndex(t.item.index,t.dataColumn);return n(e.handler,r.proxy(),t.focused,t.mouseEntered)}var o=!0,s=t&&t.item,a=e.getIndex(e.focusedRow,t.dataColumn),l=t.merged?t.head.contains(e.focusedIndex):s.index===e.focusedRow&&t.dataColumn===e.focusedColumn,u=s.index===e.focusedRow,c=t.mouseEntered&&t.item.isDataRow,h=e.focusedItem&&e.focusedItem.isDataRow;switch(i){case qd.ALWAYS:o=!t.mouseEntered&&!t.focused||t.item.isDataRow;break;case qd.HIDDEN:o=!1;break;case qd.VISIBLE:o=l&&h;break;case qd.ROWFOCUSED:o=u?h:c;break;case qd.DEFAULT:default:o=l?h:c}return!u&&t.merged&&i===qd.ROWFOCUSED?t.head.contains(e.focusedIndex)?h:t.head.contains(a)?t.mouseEntered?t.item.isDataRow:h:t.mouseEntered&&t.item.isDataRow:o},t.prototype.$_buttonWidth=function(e,t){var i=0;if(t.button!=Yd.NONE){var n=t.layout.getDataColumn();this.$_getButtonVisible(e,t,n.buttonVisibility,n.buttonVisibleCallback)&&(i=t.buttonWidth||n.buttonWidth||e.body.cellButtonWidth)}return i},t.prototype.$_editButtonWidth=function(e,t){var i=0;if(t.editable&&!t.readonly){var n=t.layout,r=n.getDataColumn(),o=t.editorType,s=e.delegate.getCellEditor(o),a=e.delegate.getEditConfig(o),l=t.editor||r.editor;if("string"==typeof l&&(l={type:l}),l=Bp.assign({},a,l),s.hasButton(e.displayOptions.showNativeEditButton,l)){var u=!1;Wv.equalsTo(e.focusedIndex,t.item.index,n)&&(u=!!s&&s.listing),e.isEditing()&&t.contains(e.focusedIndex)&&e.canMergeEditing(t)&&t.$_editWidth>0&&(u=!0),(u||t.item.isDataRow&&this.$_getButtonVisible(e,t,r.editButtonVisibility,null))&&(i=e.body.editButtonWidth)}a=l=null}return i},t.prototype.$_editButtonCount=function(e,t){var i=t.editorType,n=e.delegate.getCellEditor(i);return n?n.buttonCount:0},t.prototype.$_editButtonVerti=function(e,t){if("number"===t.editorType){var i=t.editor||t.dataColumn.editor||{};return null==i.direction||"horizontal"!==i.direction}},t.prototype.$_errorWidth=function(e,t){return t.error?e.body.errorIconWidth:0},t.prototype.$_setButtons=function(e,t,i,n){var r,o,s=t.cell,a=e.doc,l=e.layoutManager,u=t.dataColumn,c=this.$_buttonWidth(e,t),h=this.$_editButtonWidth(e,t),d=this.$_errorWidth(e,t),p=h&&this.$_editButtonCount(e,t),f=h&&this.$_editButtonVerti(e,t),_=e.canMergeEditing(t),g=u&&(u.buttonVisibility===qd.ROWFOCUSED||u.editButtonVisibility===qd.ROWFOCUSED),m=0,y=0,v=void 0;if(c>0&&y++,h>0&&(y+=p),d>0&&y++,t.merged&&(s=(t=t.head).cell,i=t.cell.firstElementChild),y>0){(v=t.buttons)||((v=t.buttons=a.createElement("div")).className="rg-cell-buttons",v.style.position="absolute",v.style.overflow="hidden",s.appendChild(v));var b=e.body.buttonHeight,w=t.height,C=-100;if((r=v.style).height=b+"px",r.right="0px",t.merged){var x=t.rowIndex,I=l.getTableItemBounds(x),E=x,O=e.getIndex(e.focusedRow,t.dataColumn);if(!_&&(t.contains(e.focusedIndex)||g&&t.contains(O)||n))if(e.focusedRow<e.topIndex)C=-100,t.buttonsOffset=-1;else if(e.focusedRow>e.topIndex+l.itemCount)C=1e4,t.buttonsOffset=-1;else{E=x+(e.focusedRow-t.item.index);var S=l.getTableItemBounds(E);C=S.y-I.y,C=Math.floor(C+(S.height-b)/2),t.buttonsOffset=E-x}else C=Bp.getSize(t.cell).height,C=Math.floor((C-b)/2),t.buttonsOffset=_?0:-1}else C=Math.floor((w-b)/2),t.buttonsOffset=0;r.top=Math.floor(C)+"px",m=v.childElementCount}else t.buttons&&(t.clearButtons(),i.style.maxWidth="");for(var k=m;k<y;k++){var P=a.createElement("span");(o=P.style).position="absolute",o.display="inline-block",o.height="100%",o.top="0px",v.appendChild(P)}for(k=m;k>y;k--)v.removeChild(v.lastElementChild);var R=y>0?v.children:null;if(y=0,c>0){if(t.cellButton=R[y++],(o=t.cellButton.style).right="0px",o.width=c+"px",t.resetButtonClass(),e.accessibility){s.removeAttribute("aria-haspopup");var T=t.renderer2;T&&t.button==Yd.POPUP&&!T.itemClickable&&s.setAttribute("aria-haspopup","true")}t.$_buttonWidth=c}else t.cellButton=null,t.$_buttonWidth=0;if(h>0){t.editButtons=[];var D=t.editorType,M=e.delegate.getCellEditor(D);for(k=0;k<p;k++){var L=R[y++];M.setButtonStyle(L,k,f,c,h)||((o=L.style).right=c+h*k+"px",o.width=h+"px",t.resetEditClass(L,k)),t.editButtons.push(L)}t.$_editWidth=h*(f?1:p);var A=Wv.equalsTo(e.editController.editIndex,t.item.index,t.layout),F=e.canMergeEditing(t)&&t.contains(e.editController.editIndex);this.$_setButtonZIndex(e,t,e.isEditing()&&(A||F),M)}else t.editButtons=null,t.$_editWidth=0;if(d>0?(t.errorIcon=R[y],(o=t.errorIcon.style).right=c+t.$_editWidth+"px",o.width=d+"px",o.height="100%",t.resetErrorClass(),t.$_errorWidth=d):(t.errorIcon=null,t.$_errorWidth=0),v){var $=t.$_buttonWidth+t.$_editWidth+t.$_errorWidth,N=this.$_getCellWidth2(l,t.tcol,t.colSpan);r.width=$+"px",i.style.maxWidth=N-$+"px"}else i.style.maxWidth=""},t.prototype.$_setButtonZIndex=function(e,t,i,n){var r=t.merged?t.head:t,o=e.displayOptions.baseZindex;function s(e){!i||n&&n.native?e.removeProperty("z-index"):e.zIndex=String(o+1)}r.editButtons&&r.editButtons.forEach(function(e){s(e.style)}),r.cellButton&&s(r.cellButton.style),r.errorIcon&&s(r.errorIcon.style)},t}(Yw),Zw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return 0},t.prototype._getEndCell=function(e){return e.fixedCellCount-1},t.prototype.$_getCellWidth2=function(e,t,i){return e.getFixedCellWidth2(t,i)},t}(Xw),Jw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return e.cellCount-e.rightCellCount},t.prototype._getEndCell=function(e){return e.cellCount-1},t.prototype.$_getCellWidth2=function(e,t,i){return e.getRightCellWidth2(t,i)},t}(Xw),Qw="rowspan",eC="colspan",tC=function(){function e(e){this.cell=null,this.layout=null,this.visible=void 0,this.spanned=!1,this.rowSpan=1,this.colSpan=1,this.className="",this.width=0,this.height=0,this.text=void 0,this.cell=e}return e.addEdgeMark=function(e,t,i){if(e!==t.edgeMark){var n=t.cell;if(e){var r=t.edgeMarker;switch(r||(r=t.edgeMarker=i.createElement("div")),e){case np.LEFT_TOP:r.className="rg-edgemarker-lefttop";break;case np.LEFT_BOTTOM:r.className="rg-edgemarker-leftbottom";break;case np.RIGHT_TOP:r.className="rg-edgemarker-righttop";break;case np.RIGHT_BOTTOM:r.className="rg-edgemarker-rightbottom";break;default:r.className=e}n.appendChild(r)}else t.edgeMarker&&n.removeChild(t.edgeMarker);t.edgeMark=e}},e.prototype.dispose=function(){this.cell=null},e.prototype.setColSpan=function(e){return this.colSpan!=e&&(this.colSpan=e,e>1?this.cell.colSpan=e:this.cell.removeAttribute(eC)),this},e.prototype.setRowSpan=function(e){return this.rowSpan!=e&&(this.rowSpan=e,e>1?this.cell.rowSpan=e:this.cell.removeAttribute(Qw)),this},e.prototype.setVisible=function(e){return e!==this.visible&&(this.visible=e,this.cell.style.display=e?"":"none"),this},e.prototype.set=function(e,t,i){return this.setColSpan(e).setRowSpan(t).setVisible(i)},e.prototype.clear=function(e){return this.set(1,1,e)},e.prototype.isClickableElt=function(e){return!1},e}(),iC=function(e){function t(t){var i=e.call(this,t)||this;return i.cellButton=null,i.editButtons=null,i.errorIcon=null,i.buttons=null,i.changedMarker=null,i.expander=null,i.item=null,i.grouped=!1,i.rowIndex=-1,i.rows=0,i.trow=-1,i.tcol=-1,i.head=null,i.merged=!1,i.spanHead=null,i.heighted=!1,i.buttonsOffset=0,i.template=void 0,i.marginRight=-1,i.style=new mv,i.rendererChanged=!1,i.valueChanged=!1,i.mouseEntered=!1,i.focused=!1,i.borderBottom=1,i.readonly=void 0,i.editable=void 0,i.error=void 0,i.errorLevel=Ld.IGNORE,i.$_errorWidth=0,i.button=Yd.NONE,i.$_buttonWidth=0,i.buttonWidth=0,i.$_editWidth=0,i.edgeMarker=null,i.text=t[Bp.TextProp],i}return gd(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.renderer2=this.renderer2&&this.renderer2.clearAndDispose(),this.item=null,this.editButtons&&this.editButtons.forEach(function(e){Bp.detach(e)}),this.buttons=this.cellButton=this.editButtons=this.errorIcon=null,this.changedMarker=this.expander=null,this.layout=null},Object.defineProperty(t.prototype,"dataColumn",{get:function(){return this.layout.getDataColumn()},enumerable:!1,configurable:!0}),t.prototype.reset=function(e){return this.renderer2=this.renderer2&&this.renderer2.clearAndDispose(),this.editButtons&&this.editButtons.forEach(function(e){Bp.detach(e)}),this.buttons=this.cellButton=this.editButtons=this.errorIcon=null,this.changedMarker=this.expander=null,this.cell=e,this},t.prototype.span=function(e){this.spanned=!0,this.spanHead=e,this.clear(!1)},t.prototype.refreshFormatters=function(e){var t;this.textFormatter=null,this.numberFormatter=null,this.datetimeWriter=null,this.booleanFormatter=null,(t=e.textFormat)&&(this.textFormatter=Zy.getFormatter(t)),(t=e.numberFormat)&&(this.numberFormatter=a_.getFormatter(t)),(t=e.datetimeFormat)&&(this.datetimeWriter=i_.getFormatter(t)),(t=e.booleanFormat)&&(this.booleanFormatter=n_.getFormatter(t)),this.prefix=e.prefix,this.suffix=e.suffix,this.text=e.text},t.prototype.setClassName=function(e){return e!=this.className&&(this.cell.className=this.className=e,!0)},t.prototype.setEditor=function(e,t){this.editor=e,this.editorType=Gb.getEditorType2(e,t)},t.prototype.setBorderBottom=function(e){e!=this.borderBottom&&(this.borderBottom=e,this.cell.style.borderBottom=0==e?"0":"")},t.prototype.setMarginRight=function(e,t){t!=this.marginRight&&(this.marginRight=t,e.style.marginRight=t<=0?"":t+"px")},t.prototype.isCellButton=function(e){return e===this.cellButton},t.prototype.isEditButton=function(e){return this.editButtons&&this.editButtons.some(function(t){return t===e})},t.prototype.isButton=function(e){return e===this.cellButton||this.isEditButton(e)},t.prototype.resetButtonClass=function(){var e=this.button==Yd.POPUP?"rg-button-popup":"rg-button-action";this.cellButton.className=e},t.prototype.resetEditClass=function(e,t){var i;switch(this.editorType){case"date":case"btdate":case"ndate":i="rg-button-calendar";break;default:i="rg-button-list"}e.className=i},t.prototype.resetErrorClass=function(){var e;switch(this.errorLevel){case Ld.ERROR:e="rg-validation-error";break;case Ld.WARNING:e="rg-validation-warning";break;case Ld.INFO:e="rg-validation-info";break;default:e=""}this.errorIcon.className=e},t.prototype.clearExpander=function(){this.expander&&(this.cell.removeChild(this.expander),this.expander=null)},t.prototype.clearButtons=function(){this.buttons&&(this.cell.removeChild(this.buttons),this.buttons=null,this.$_errorWidth=this.$_buttonWidth=this.$_editWidth=0)},t.prototype.getEditIndex=function(e){var t=this.item.index;return this.merged&&(t+=this.buttonsOffset),e.set(t,this.layout.firstColumn)},t.prototype.contains=function(e){if(e.layout===this.layout){var t=e.itemIndex,i=this.item.index,n=i+this.rowSpan/this.layout._dspan;return i<=t&&t<n}return!1},t.prototype.toString=function(){return"Body Cell("+this.layout.col+", "+this.item.index+", "+this.layout.row+")"},t}(tC),nC=function(e){function t(t,i){var n=e.call(this,t,i,"bodyView")||this;return n._itemViews=[],n._cells=[],n._spanned=!1,n._ghostStyle={},n}return gd(t,e),t.prototype._doDispose=function(){for(var t=0;t<this._cells.length;t++)for(var i=this._cells[t],n=0;n<i.length;n++)i[n].dispose(),i[n]=null;this._cells=this._ghostStyle=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"fixed",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightFixed",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstCell",{get:function(){return this._cells[0][0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastCell",{get:function(){return this._cells[this.tableRowCount-1][0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spanned",{get:function(){return this._spanned},enumerable:!1,configurable:!0}),t.prototype.bodyCellByCell=function(e){for(var t=e.parentElement[Pd],i=0;i<this._cells.length;i++){var n=this._cells[i],r=n[0].item;if(r&&r.index==t)for(var o=0;o<n.length;o++){var s=n[o];if(s&&s.cell===e)return s}}},t.prototype.bodyCellAt=function(e){for(var t=0;t<this._cells.length;t++){var i=this._cells[t],n=i[0].item;if(n&&n.index==e.itemIndex)for(var r=0;r<i.length;r++){var o=i[r];if(o&&o.layout===e.layout)return o}}},t.prototype.layoutByCell=function(e){var t=this.bodyCellByCell(e);return t&&t.layout},t.prototype.columnByCell=function(e){var t=this.bodyCellByCell(e);return t&&t.layout&&t.layout._columnObj},t.prototype.cellByLayout=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0);for(var n=t;n<this._cells.length;n++)for(var r=this._cells[n],o=i;o<r.length;o++){var s=r[o];if(s&&s.layout===e)return s}},t.prototype.getCellRectAt=function(e,t,i){var n=this.getCellAt(e,t);return n&&this.getCellRect(e,n,i)},t.prototype.getCellRect=function(e,t,i){i&&t.merged&&(t=t.head);var n=t.layout,r=t.trow,o=t.rowSpan,s=i||o>1&&o==n.getDataSpan()?o:t.item.isData?n._dspan:1,a=e.getTableRowBounds(r,s),l=t.tcol,u=t.colSpan;return this.fixed?(a.x=e.getFixedCellPoint(l),a.width=e.getFixedCellWidth2(l,u)):this.rightFixed?(a.x=e.getRightCellPoint(l),a.width=e.getRightCellWidth2(l,u)):(a.x=e.getCellPoint(l),a.width=e.getCellWidth2(l,u)),a},t.prototype.getRowView=function(e){for(var t=0,i=this.childCount;t<i;t++){var n=this.getChild(t);if(n._item===e)return n}},t.prototype.getRowIndex=function(e){return this._cells[e][0].item.index},t.prototype.getViewIndex=function(e){return this._cells[e][0].rowIndex},t.prototype.cleanRows=function(e,t){this.$_cleanRowViews(e),this.$_cutTailBodyCells(t),this.$_cleanTableRows(t)},t.prototype.getLowerOf=function(e){for(var t=this._cells,i=e.trow,n=e.tcol,r=i+1;r<t.length;r++){var o=t[r][n];if(!o.spanned)return o;if(o.spanHead.trow===o.trow)return o.spanHead}},t.prototype.isBottomCell=function(e){for(var t=this._cells,i=e.rowIndex,n=e.trow,r=e.tcol,o=n+1;o<t.length;o++){var s=t[o][r];if(s.rowIndex!=i)break;if(!s.spanned||s.spanHead.trow===s.trow)return!1}return!0},t.prototype.getUpperOf=function(e){for(var t=this._cells,i=e.trow,n=e.tcol,r=i-1;r>=0;r--){var o=t[r][n];if(!o.spanned)return o;if(o.spanHead.trow===o.trow)return o.spanHead}},t.prototype.isTopCell=function(e){for(var t=this._cells,i=e.rowIndex,n=e.trow,r=e.tcol,o=n-1;o>=0;o--){var s=t[o][r];if(s.rowIndex!=i)break;if(!s.spanned||s.rowIndex===e.rowIndex&&s.trow!==e.trow&&s.layout.source)return!1}return!0},t.prototype.getNextVisibleCell=function(e){for(var t=this.bodyCellAt(e);t&&t.spanned;){if(!e.next())return!1;t=this.bodyCellAt(e)}return null!=t},t.prototype.getPrevVisibleCell=function(e){for(var t=this.bodyCellAt(e);t&&t.spanned;){if(!e.prev())return!1;t=this.bodyCellAt(e)}return null!=t},t.prototype.tdClone=function(e){var t=this.grid,i=e&&t.isValid(e)&&this.getCellAt(t.layoutManager,e);if(i){var n=(i=i.merged?i.head:i).cell,r=n.parentElement;if(r){var o=n.cloneNode(!1);o.appendChild(n.firstElementChild.cloneNode(!1)),o.style.display="none",i.rendererChanged=!0,r.insertBefore(o,n.nextElementSibling),i.reset(o),o.setAttribute("tabindex","0");var s=[];if(r=this._table,Bp.isIE)for(;r&&r!==t.container._containerDom;)s.push({top:r.scrollTop,left:r.scrollLeft}),r=r.parentElement;if(o.style.display="",o.focus({preventScroll:!0}),Bp.detach(n),r=this._table,Bp.isIE)for(;r&&r!==t.container._containerDom;){var a=s.shift();a&&a.top!==r.scrollTop&&(r.scrollTop=a.top),a&&a.left!==r.scrollLeft&&(r.scrollLeft=a.left),r=r.parentElement}}else n.focus()}},t.prototype.refreshTdFocused=function(e,t){var i=this.grid,n=e&&i.isValid(e)&&this.getCellAt(i.layoutManager,e);if(n){n=n.merged?n.head:n;var r=this._tbody,o=Array.prototype.slice.call(r.querySelectorAll("td"));t?s.call(this,n):setTimeout(function(){s.call(this,n)}.bind(this),15)}function s(e){var t=e.cell;t&&(o.forEach(function(e){e!==t&&(e.tabIndex=-1)}),t.setAttribute("tabindex","0"),t.focus({preventScroll:!0}))}},t.prototype.cleanRecycle=function(){for(var e=this._tbody,t=0;t<e.rows.length;t++)e.rows[t].recycle=!1},t.prototype.reArrangeRows=function(e,t){for(var i=this.grid,n=this._tbody,r=this._cells,o=i.itemSource,s=0,a=e.topIndex+e.fixedItemCount,l=0;l<n.rows.length;l++)n.rows[l].recycle=!0;var u=0===e.fixedTableRowCount?0:e.fixedTableRowCount+1;if(t<0){for(;t++<0;)s+=o.getItem(a+t+e.itemCount-1).isData?this._trs:1;for(;s-- >0;)n.rows[n.rows.length-1].recycle=!1,n.insertBefore(n.rows[n.rows.length-1],n.rows[u]),r.splice.apply(r,yd([u,0],r.splice(-1),!1))}else{for(;t-- >0;)s+=o.getItem(a+t).isData?this._trs:1;for(;s-- >0;){var c=n.removeChild(n.rows[u]);c.recycle=!1,n.appendChild(c),r.push.apply(r,r.splice(u,1))}}},t.prototype._doAttached=function(e){},t.prototype._getCssSelector=function(){return"rg-body"},t.prototype._getTableHidden=function(){return!1},t.prototype._getTableCaption=function(){var e=this.grid;return e&&e.accessibility&&e.WaiOptions&&e.WaiOptions.getDescription()||""},t.prototype._isFixedHeight=function(e){return!e.isAutoRowHeights()},t.prototype._getTrs=function(e){return e.trs},t.prototype._getTableRowCount=function(t){var i=t.fixedItemCount,n=this.grid,r=this._trs;if(t.syncHeight()){for(var o=0,s=0,a=this.grid.itemCount;s<a;s++)o+=n.getItem(s).isData?r:1;return o+(i?1:0)}if(t.isAutoRowHeights())return(a=Math.max(0,Math.ceil(t._itemsBounds/t.grid.displayOptions.minTableRowHeight)+this._trs-1))+(t.grid.displayOptions.refCalcHeights?5:0);if(t.isRowGrouped()){for(var l=i+t.itemCount,u=(o=0,0);u<l;u++)o+=t.getItem(u).isData?r:1;return o+(i?1:0)}return e.prototype._getTableRowCount.call(this,t)},t.prototype.$_getTableIndex=function(e,t){var i=e.fixedItemCount;if(t>=i&&e.isRowGrouped()){var n=this._trs,r=i*n;i>0&&r++;for(var o=i;o<t;o++)e.getItem(o).isData?r+=n:r++;return r}return r=t*this._trs,i>0&&t>=i?r+1:r},t.prototype._prepareCellContent=function(e,t){return this.grid.doc.createElement("div")},t.prototype._doPrepareTableHead=function(t,i){var n=this.grid;if(n._columnsDirty||n._needPosition||n._cellLayoutDirty||t.syncHeight()){e.prototype._doPrepareTableHead.call(this,t,i),this._table.caption.innerHTML=this._getTableCaption();for(var r=this._getFirstCell(t),o=this._getLastCell(t)-r+1,s=t.cellLayouts._dataCells,a=0;a<1;a++)for(var l=s[a],u=i.children[a],c=0;c<o;c++){var h=l[c+r];h=h.isProxy?h.source:h;var d=u.children[c];h&&d&&(d[Bp.TextProp]=h.header.getDisplayText()||h.firstColumn.header.displayText)}}},t.prototype._doMeasure=function(e,t,i){return this._spanned=!1,new Aw},t.prototype.$_refreshRowCells=function(e,t,i,n,r,o,s){for(var a=this._cells,l=s.children,u=this._getFirstCell(e),c=this._getLastCell(e)-u+1,h=a.length,d=n+o;h<d;h++)a.push([]);for(var p=0;p<o;p++){var f=a[n],_=l[n];this.grid.accessibility&&(t?_.removeAttribute("aria-hidden"):_.setAttribute("aria-hidden","true")),this._ghostStyle&&Bp.setStyle(this._ghostStyle,_);for(var g=_.children,m=r[p],y=0;y<c;y++){var v=g[y],b=m[y+u],w=f[y];w?w.cell!==v?w.reset(v):w.layout!==b&&(w.rendererChanged=!0,w.layout=b,w.clear(!0)):(w=f[y]=new iC(v)).layout=b,w.spanned=!1,w.item=t,w.rowIndex=i,w.trow=n,w.tcol=y}for(n++,y=c;y<f.length;y++)Bp.isDebugging()&&f[y],f[y].dispose();f.length=c}},t.prototype.layoutRow=function(e,t,i,n,r){function o(e,t){var i=this._ghostStyle=this._ghostStyle||{};for(var n in e)i[n]=void 0;Bp.setStyle(e,t)}var s,a=e.lm,l=e.fixedItemCount,u=this.model,c=a.cellLayouts._dataCells,h=this._tbody.rows,d=r.isData?this._trs:1;this.$_refreshRowCells(a,r,i,n,c,d,this._tbody),this.childCount<=i?(s=this.$_borrowView(r),this.addChild(s)):s=this.getChild(i),this.$_setRowCellsDisplay(a,e,t,this._cells,r,i,n,d);var p=r.index,f=h[n];if(f.style.display="",f[Pd]=p,f[Rd]=n,s.updateItem(r,n,d,this._isFixedHeight(a)),r.isDataRow||r instanceof ty){var _=a.getItemBounds(i);_.width=this.width,s.setRect(_);var g=u.getRowStyle(r,p<l),m=g.styleName;if(r.isDataRow){r.setEditable(g.editable,g.readOnly);for(var y=1;y<this._trs;y++)(v=h[n+y])[Rd]=n+y,v[Pd]=p,Bp.setClassName(v,m),g.style&&o.call(this,g.style,v)}s.layoutContent(a),Bp.setClassName(f,m),g.style&&o.call(this,g.style,f)}else if(r.isData){for(y=1;y<this._trs;y++){var v;(v=h[n+y])[Rd]=n+y,v[Pd]=p}this.grid.isRecycleMode()&&h[n].recycle||s.clearContent(a,this._trs),r instanceof ey&&s.layoutContent(a)}else s.clearContent(a,1)},t.prototype.layoutFixedBar=function(e,t){var i=e.cellLayouts._dataCells,n=this._tbody,r=n.rows[t],o=this.$_prepareFixedBar(e,r),s=e.grid.hoveredCell;s&&s.trow==t&&s.rowIndex==e.fixedItemCount&&e.grid.$_setHoveredCell(null,-1),r[Rd]=t,r[Pd]=-99,r.style.display=o>0?"":"none",Bp.setClassName(r,Mw.ROW_BAR_STYLE),this.$_refreshRowCells(e,null,-1,t,i,1,n),this.$_setFixedBarCellsDisplay(e,this._cells,t);for(var a=0,l=this._cells[t];a<l.length;a++){var u=l[a];u.renderer2&&u.renderer2.clearContent(),u.className="",u.clearExpander(),u.clearButtons()}return o},t.prototype._doRender=function(e){},t.prototype._getCellCount=function(e){return e.cellCount-e.fixedCellCount-e.rightCellCount},t.prototype._getCellWidth=function(e,t){return e.getCellWidth(t)},t.prototype._getTableRowHeight=function(e,t){return e.getTableRowHeight(t,1)},t.prototype._doDrawCell=function(e,t,i){},t.prototype.getCellAt=function(e,t){var i=t.layout,n=e.fixedItemCount,r=e.topIndex,o=t.itemIndex;if((n>0&&o<n||o>=r&&o-r>=n&&o-r<n+e.itemCount)&&(o>=n&&(o-=r),(o=this.$_getTableIndex(e,o))<this._cells.length))for(var s=0;s<this._trs;s++){var a=this._cells[o+s];if(a)for(var l=0;l<a.length;l++){var u=a[l];if(u&&u.layout===i)return u}}return null},t.prototype.getCellView=function(e,t){var i=this.getCellAt(e,t);return i&&i.cell},t.prototype.spanRight=function(e,t){if(t){var i=this.getCellAt(e,t);i&&(i.spanned&&(i=i.spanHead),i&&(t.layout=this._cells[i.trow][i.tcol+i.colSpan-1].layout))}},t.prototype.spanHead=function(e,t){if(t){var i=this.getCellAt(e,t);i&&(i.spanned&&(i=i.spanHead),i&&(t.layout=i.layout))}},t.prototype.setRowViewHeight=function(e,t){var i=this.getRowView(e);i.height=e.height,i.y=t},t.prototype._doSizeChanged=function(){this.applyBounds()},t.prototype._getStartCell=function(e){return e.getStartCell(!1)},t.prototype._getEndCell=function(e){return e.getEndCell(!1)},t.prototype.$_removeView=function(e){var t=this.removeChildAt(e);t.validate(),this._itemViews.push(t)},t.prototype.$_borrowView=function(e){var t=this._itemViews.pop();return t||(t=this.createRowElement()),t},t.prototype.createRowElement=function(){return new Xw(this.doc)},t.prototype.$_setFixedBarCellsDisplay=function(e,t,i){for(var n=this._getFirstCell(e),r=this._getFirstCell(e)-n,o=this._getLastCell(e)-n,s=t[i],a=Mw.ROW_BAR_CELL_STYLE,l=r;l<=o;l++){var u=s[l];u.clear(!0),Bp.setClassName(u.cell,a)}},t.prototype.$_setRowCellsDisplay=function(e,t,i,n,r,o,s,a){var l=this._getFirstCell(e),u=this._getFirstCell(e)-l,c=this._getLastCell(e)-l,h=t.grid,d=t.fixedItemCount,p=i,f=r.isData,_=r.level;if(f||t.mergedRowGrouped)for(var g=0;g<a;g++)for(var m=(G=n[s+g]).length,y=u;y<=c;y++){var v=(z=G[y]).layout,b=v.getDataColumn(),w=v.parent,C=w&&w.vertical;if(z.merged=!1,z.head=null,z.grouped=!1,z.spanned);else if(v.isProxy){for(var x=void 0,I=s;I<s+a;I++){var E=n[I];if(!E)break;for(var O=0;O<E.length;O++)if(E[O].layout===v.source){x=E[O];break}if(x)break}x?z.span(x):z.clear(!1)}else if(!f&&y+l>=_)z.grouped=!0,z.clear(!0);else{var S=!0,k=void 0,P=1;b&&b.mergeGrouped&&b.groupLevel<=r.parent.level||r.isDataRow&&(void 0===(P=(k=v.spanCallback)?k(h.handler,v,z.item.index):void 0)&&(P=v.dataSpan),void 0===P&&(S=!1,P=v.cellSpan));var R=0;if(P>1){var T=0,D=v.vindex+1;if(C)for(P--;T++<P&&T<a&&(B=w.getVisible(D++));)R+=B._dspan,this._cells[s+g+T][y].span(z),this._spanned=!0;else{for(var M=v._dspan,L=[],A=0;A<M;A++)L.push(0);for(var F=0;F<M;F++){L[F]+=v._defColSpan;for(var $=1;$<P&&y-u+$<m;$++){var N=this._cells[s+g+F][y+$].layout;N&&!N.isProxy&&(L[F]+=N._defColSpan)}}var j=Math.max.apply(Math,L);for(S=S&&j===P;T++<P-1&&y-u+T<m&&(S||D<w.visibleCount);){var B;if(!(B=S?G[y+T].layout:w.getVisible(D++)))break;!B.isProxy&&(R+=B._defColSpan)}for(v._defColSpan+R!==P&&(R=0),T=1;T<v._defColSpan+R;T++){if(M>1&&S)for($=1;$<a&&M>$;$++)this._cells[s+g+$][y+T].span(z);G[y+T].span(z)}}}var V=v._defColSpan,H=v._dspan,U=v.merged&&v.merges;if(U&&r instanceof ey&&y>=r.parent.level&&(U=null),U)if(z.merged=U.isMerged(o,d),U.isHidden(o,d))z.set(V+R,H,!1),z.head=p[y-u];else{var W;W=r.isDataRow?(z.rows=U.getMerged(o,d))*H:U.getMerged2(h,r.index,o-d,H),z.set(V+R,W,!0),p[y-u]=z.head=z}else C?z.set(V,H+R,!0):z.set(V+R,H,!0)}}else{var G=n[s];for(y=u;y<=c;y++){var z;(z=G[y]).clear(!1),z.merged=!1,z.grouped=!0}}},t.prototype.$_refreshSpans=function(e,t,i){},t.prototype.$_cleanRowViews=function(e){for(;this.childCount>e;)this.$_removeView(this.childCount-1)},t.prototype.$_cutTailBodyCells=function(e){for(var t=this._cells,i=e;i<t.length;i++)for(var n=t[i],r=0;r<n.length;r++)n[r].dispose(),n[r]=null;t.length=e},t.prototype.$_cleanTableRows=function(e){var t=this._tbody.rows;if(this.grid.isRecycleMode())for(var i=t.length-1;i>=e;i--){var n=t[i];Bp.detach(n)}else{for(i=t.length-1;i>=this._cells.length;i--)for(var r=t[i].cells,o=r.length;o--;){for(var s=r[o];s.childElementCount>1;)s.removeChild(s.lastElementChild);s.removeAttribute(Qw),s.removeAttribute(eC)}for(i=t.length-1;i>=e;i--)(n=t[i]).childElementCount>0?(n[Rd]=-1,n.style.display="none"):Bp.detach(n)}},t.prototype.$_resetHeights=function(e,t){var i=this._tbody.children,n=0;if(e.length>0){for(var r=1;r<e.length;r++)i[n++].style.height=e[r]-e[r-1]+"px";n++}for(r=1;r<t.length;r++)i[n++].style.height=t[r]-t[r-1]+"px"},t.prototype.$_resetCellStyleHeights=function(e,t){var i=this._tbody.children,n=0;if(e.length>0){for(var r=1;r<e.length;r++)for(var o=e[r]-e[r-1],s=i[n++].cells,a=0;a<s.length;a++)s[a].style.height=o+"px";n++}for(r=1;r<t.length;r++)for(o=t[r]-t[r-1],s=i[n++].cells,a=0;a<s.length;a++)s[a].style.height=o+"px"},t.prototype.$_resetCellHeights2=function(e,t){for(var i=e.grid.body.buttonHeight,n=0,r=this._cells.length;n<r;n++)for(var o=this._cells[n],s=0,a=o.length;s<a;s++){var l=o[s],u=l.height,c=e.getTableRowHeightFixed(l.trow,l.rowSpan);if(u!=c&&(l.height=c,(l.$_buttonWidth>0||l.$_editWidth>0)&&l.buttons&&(l.buttons.style.top=Math.floor((c-i)/2)+"px")),t&&!l.heighted){var h=Math.max(0,l.height-2);l.cell.firstElementChild.style.maxHeight=h+"px",Bp.ieTen&&(l.cell.firstElementChild.style.height=h+"px")}}},t.prototype.$_focusChanged=function(e,t,i){this.$_cellStateChanged(e,t,"focused",i)},t.prototype.$_mouseEnteredChanged=function(e,t,i){this.$_cellStateChanged(e,t,"mouseEntered",i)},t.prototype.$_cellStateChanged=function(e,t,i,n){var r=e.canMergeEditing(t);if(t&&t.item,t&&n!=t[i]){var o=this.getRowView(t.item);if(o instanceof Yw){var s=this.model,a=t.dataColumn;if(t[i]=n,a&&e.getCellType(t.cell)===Bd.DATA){var l=s.getCellAt(t.item,a);if(o.$_setButtons(e,t,t.cell.firstElementChild),t.merged&&t.head){var u=t.head,c=e.layoutManager,h=this.getCellRect(c,t,!1),d=this.getCellRect(c,t,!0),p=u.renderer2;if(t.focused){var f=h.top-d.top+h.height/2-d.height/2;p.moveClickElement(f,r)}else t.mouseEntered||u.contains(e.focusedIndex)||p.moveClickElement(0,r)}o instanceof Xw&&t.renderer2&&"focused"===i&&t.renderer2.refreshFocusChanged&&o.cellRefresh(e,s,l,a,t)}}}},t.prototype.$_buttonZIndexChanged=function(e,t,i,n){var r=t&&t.item;if(r&&r.isDataRow){var o=this.getRowView(r);o instanceof Yw&&t.dataColumn&&o.$_setButtonZIndex(e,t,i,n)}},t.prototype.$_rendererChanged=function(e){for(var t=this._cells,i=0;i<t.length;i++)for(var n=t[i],r=0;r<n.length;r++)n[r].layout===e&&(n[r].rendererChanged=!0)},t}(Vw),rC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),Object.defineProperty(t.prototype,"fixed",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype._getCssSelector=function(){return"rg-fixed-body"},t.prototype._getExplicitWidth=function(e){return e.fixedWidth-e.fixedBarWidth},t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return 0},t.prototype._getEndCell=function(e){return e.fixedCellCount-1},t.prototype._getCellCount=function(e){return e.fixedCellCount},t.prototype._getCellWidth=function(e,t){return e.getFixedCellWidth(t)},t.prototype.createRowElement=function(){return new Zw(this.doc)},t}(nC),oC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),Object.defineProperty(t.prototype,"rightFixed",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype._getCssSelector=function(){return"rg-fixed-body"},t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return e.cellCount-e.rightCellCount},t.prototype._getEndCell=function(e){return e.cellCount-1},t.prototype.createRowElement=function(){return new Jw(this.doc)},t.prototype._getCellCount=function(e){return e.rightCellCount},t.prototype._getCellWidth=function(e,t){return e.getRightCellWidth(t)},t}(nC),sC=function(e){function t(t){var i=e.call(this,t)||this;return i.check=null,i.checkSpan=null,i.sort=null,i.filter=null,i.popup=null,i.textSpan=null,i.expander=null,i.rendererClass="",i.html=void 0,i.tooltip="",i.checkWidth=0,i.marginLeft=0,i.marginRight=0,i.marginTop=0,i.marginBottom=0,i.edgeMarker=null,i.textSpan=t.firstElementChild.firstElementChild,i}return gd(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.textSpan=this.cell=this.check=this.sort=this.filter=this.expander=this.checkSpan=null,this.layout=null,this.renderCallback=null},t.prototype.span=function(){this.spanned=!0,this.clear(!1)},t.prototype.clear=function(t){e.prototype.clear.call(this,t);var i=this.cell.firstElementChild,n=this.textSpan,r=i.style;return this.check=this.check&&Bp.detach(this.check),this.checkSpan=this.checkSpan&&Bp.detach(this.checkSpan),this.filter=this.filter&&Bp.detach(this.filter),this.sort=this.sort&&Bp.detach(this.sort),this.popup=this.popup&&Bp.detach(this.popup),this.expander=this.expander&&Bp.detach(this.expander),this.checkWidth=0,this.className&&(this.cell.className=this.className=""),this.rendererClass&&(i.className=this.rendererClass=""),0!=this.marginLeft&&(r.marginLeft="",this.marginLeft=0),0!=this.marginRight&&(r.marginRight="",this.marginRight=0),0!=this.marginTop&&(r.marginTop="",this.marginTop=0),0!=this.marginBottom&&(r.marginBottom="",this.marginBottom=0),this.text&&(n[Bp.TextProp]=this.text=""),this.html&&(n.innerHTML=this.html="",this.renderCallback=null),this},t.prototype.setText=function(e,t){t!=this.text&&(e[Bp.TextProp]=this.text=t,this.html="",this.renderCallback=null)},t.prototype.setHtml=function(e,t,i){if(t!=this.html)return e.innerHTML=this.html=t,this.text="",this.renderCallback=i&&Iy(e,i),!0},t.prototype.setClassName=function(e){return e!=this.className&&(this.cell.className=this.className=e,!0)},t.prototype.setRendererClassName=function(e,t){t!=this.rendererClass&&(e.className=this.rendererClass=t)},t.prototype.setDivMarigns=function(e,t,i,n,r){t!=this.marginLeft&&(e.marginLeft=t?t+"px":"",this.marginLeft=t),i!=this.marginRight&&(e.marginRight=i?i+"px":"",this.marginRight=i),n!=this.marginTop&&(e.marginTop=n?n+"px":"",this.marginTop=n),r!=this.marginBottom&&(e.marginBottom=r?r+"px":"",this.marginBottom=r)},t.prototype.getIndex=function(e){return e.set(-1,this.layout.firstColumn)},t.prototype.isClickableElt=function(e){return e===this.filter||e===this.popup||e===this.check||e===this.expander||e===this.checkSpan},t}(tC),aC=function(e){function t(t,i){var n=e.call(this,t,i,"headerView")||this;return n._fixedHeight=!0,n._rowPoints=[],n._cells=[],n._pointerEnterHandler=n.$_pointerEnter.bind(n),n._pointerLeaveHandler=n.$_pointerLeave.bind(n),n}return gd(t,e),t.renderCell=function(e,t){t[Bp.TextProp]=e.text||""},t.prototype._doDispose=function(){for(var t=0;t<this._cells.length;t++)for(var i=this._cells[t],n=0;n<i.length;n++)i[n].cell.removeEventListener("pointerenter",this._pointerEnterHandler),i[n].cell.removeEventListener("pointerleave",this._pointerLeaveHandler),i[n].dispose(),i[n]=null;this._cells=null,e.prototype._doDispose.call(this)},t.prototype.tableCellByCell=function(e){for(var t=0;t<this._cells.length;t++)for(var i=this._cells[t],n=0;n<i.length;n++){var r=i[n];if(r&&r.cell===e)return r}},t.prototype.tableCellByLayout=function(e){for(var t=0;t<this._cells.length;t++)for(var i=this._cells[t],n=0;n<i.length;n++)if(i[n].layout===e)return i[n]},t.prototype.tableCellByLayout2=function(e,t){var i=this._cells,n=i.length;if(!(n<1)){for(var r=i[0].length,o=this._getFirstCell(e),s=this._getStartCell(e)-o,a=this._getEndCell(e)-o,l=s;l<=a;l++)for(var u=0;u<n;u++)if(i[u][l].layout===t)return i[u][l];for(l=s-1;l>=0;l--)for(u=0;u<n;u++)if(i[u][l].layout===t)return i[u][l];for(l=a+1;l<r;l++)for(u=0;u<n;u++)if(i[u][l].layout===t)return i[u][l]}},t.prototype.layoutByCell=function(e){var t=this.tableCellByCell(e);return t&&t.layout},t.prototype.columnByCell=function(e){var t=this.layoutByCell(e);return t&&t._columnObj},t.prototype.getSpanRoot=function(e){for(var t=0;t<this._cells.length;t++)for(var i=this._cells[t],n=0;n<i.length;n++){var r=i[n];if(r.layout===e){if(r.spanned)if(r.layout.parent.vertical){for(var o=t-1;o>=0;o--)if(!this._cells[o][n].spanned)return this._cells[o][n].layout}else for(o=n-1;o>=0;o--)if(!i[o].spanned)return i[o].layout;return e}}},t.prototype.refresh=function(e){for(var t=e.focusedColumn,i=e.layoutManager,n=this._getFirstCell(i),r=this._getLastCell(i)-n+1,o=0;o<this._cells.length;o++)for(var s=this._cells[o],a=0;a<r;a++){var l=s[a],u=l.layout;if(l.visible){var c=l.cell;u instanceof Sv&&(c[Td]=u.isColumn(t)),l.setClassName(this.$_getCellSelector(u,c))}}},t.prototype.getRowAt=function(e){for(var t=1;t<this._rowPoints.length-1;t++)if(e<this._rowPoints[t])return t-1;return this._rowPoints.length-2},t.prototype.getLayoutHeight=function(e,t,i){var n,r;return e instanceof Dv?(n=e.hrow,r=i?e.hlen:e.hspan):(n=e.hrow,r=i?t.rowSpan:e.hspan),this._rowPoints[n+r]-this._rowPoints[n]},t.prototype.getMeasureHeights=function(){var e=new Array(this._cells.length);return e.forEach(function(e,t,i){i[t]=0}),this._cells.forEach(function(t,i){t.forEach(function(t){if(t.visible){var n=Bp.getSize(t.textSpan);e[i]=Math.max(e[i],n.height+5)}})}),e},t.prototype.getLayoutPos=function(e){return this._rowPoints[e.hrow]},t.prototype._getCssSelector=function(){return"rg-header"},t.prototype._isFixedHeight=function(){return this._fixedHeight},t.prototype._getMinRowHeight=function(e){return this._minRowHeight},t.prototype._prepareCellContent=function(e,t){var i=$p(e),n=i.createElement("div"),r=i.createElement("span");return e.addEventListener("pointerenter",this._pointerEnterHandler,!1),e.addEventListener("pointerleave",this._pointerLeaveHandler,!1),n.appendChild(r),n},t.prototype._cleanCellContent=function(e){e.removeEventListener("pointerenter",this._pointerEnterHandler,!1),e.removeEventListener("pointerleave",this._pointerLeaveHandler,!1)},t.prototype._doMeasure=function(e,t,i){var n=this.model,r=e.layoutManager.headerRows,o=n.height,s=n.heights,a=[];if(this._minRowHeight=n.minRowHeight,s&&s.length>0){for(var l=0,u=0;u<r;u++)l+=a[u]=Math.max(s[u]||this._minRowHeight,this._minRowHeight);o=l}return o=o<=0?Math.max(this._minRowHeight,e.heightMeasurer.headerHeight)*r:Math.max(this._minRowHeight*r,o),this._fixedHeight=o>=0,o=Math.max(this._minRowHeight*r,n.minHeight,o),n.setCalcHeights(a),Aw.create(t,o)},t.prototype._doPrepareTableExtents=function(t){e.prototype._doPrepareTableExtents.call(this,t);var i=this.model,n=this._rowPoints,r=this.height,o=i.getCalcHeights(),s=Math.floor(r/t.headerRows);if(n.length=this._getTableRowCount(t)+1,n[0]=0,n.length>0){for(var a=1;a<n.length-1;a++)n[a]=n[a-1]+(o[a-1]||s);n[a]=r}},t.prototype.$_refreshHeadTitle=function(e,t){for(var i=this._cells[0],n=t.children[0],r=0;n&&r<i.length;r++){var o=i[r].layout.source,s=n.children[r];s&&o&&(s[Bp.TextProp]=o.header.getDisplayText()||o.firstColumn.header.displayText)}},t.prototype._doLayoutContent=function(e){var t=e.grid,i=t.focusedColumn,n=this.model,r=e.cellLayouts._headerCells,o=r.length,s=this._getFirstCell(e),a=this._getStartCell(e)-s,l=this._getEndCell(e)-s;this.$_refreshCells(e,r,this._tbody),this.$_refreshSpans(e,o),this.$_refreshHeadTitle(e,this._thead);for(var u=0;u<o;u++)for(var c=this._cells[u],h=a;h<=l;h++){var d=c[h];if(d.visible||h===a){var p=void 0;d.layout.isProxy?(p=d.layout.source,d=this.tableCellByLayout(p)):p=d.layout;var f=d.cell;if(f[Td]=p.isColumn(i),d.setClassName(this.$_getCellSelector(p,f)),p.isNull)d.setText(d.textSpan,p.header.getDisplayText());else if(p instanceof Dv){var _=n.getCell(p);p.hideChildHeaders&&p.tiedColumn?(_=n.getCell(p.tiedColumn.layout),this._updateCell(t,n,_,d)):this._updateGroupCell(t,n,_,d)}else _=n.getCell(p),this._updateCell(t,n,_,d)}}},t.prototype._doRender=function(e){},t.prototype._getTableRowCount=function(e){return e.headerRows},t.prototype._getTableRowHeight=function(e,t){return this._rowPoints[t+1]-this._rowPoints[t]},t.prototype.$_getCellHeight=function(e){var t=e.layout.hrow,i=this._rowPoints[t];return this._rowPoints[t+e.rowSpan]-i},t.prototype._getCellCount=function(e){return e.cellCount-e.fixedCellCount-e.rightCellCount},t.prototype._getCellWidth=function(e,t){return e.getCellWidth(t)},t.prototype._getCellWidth2=function(e,t,i){return e.getCellWidth2(t,i)},t.prototype._doDrawCell=function(e,t,i){},t.prototype._doPrepareTableRow=function(t,i,n,r){e.prototype._doPrepareTableRow.call(this,t,i,n,r);var o=this.model;Bp.setClassName(r,o.getStyleName())},t.prototype.$_getCellSelector=function(e,t){var i="",n=this.grid,r=function(e){for(var t=0,i=e.items;t<i.length;t++){var o=i[t];if(o instanceof Sv&&!n.isSelectedLayout(o))return!1;if(o instanceof Dv)return r(o)}return!0};if(e instanceof Dv){i="rg-header-group-cell ".concat(e.header.styleName||"").trim();var o=1===e.visibleCount?e.first:e;n.isSelectedLayout(o)&&r(e)&&(i+=" rg-group-header-select")}else{i="rg-header-cell",t[Td]?i+=" rg-header-focus":n.isSelectedLayout(e)&&(i+=" rg-header-select");var s=e.firstColumn;i+=" ".concat(s&&s.header.styleName||"")}return i.trim()},t.prototype.$_hoverChanged=function(e,t){var i=this.grid;if(!i.container._updateRequested){var n=i.getTableCell(e.target),r=this.tableCellByCell(n),o=this.model,s=r.layout,a=o.getCell(s);r.hovered=t,s instanceof Sv?this._updateCell(this.grid,o,a,r):s instanceof Dv&&s.hideChildHeaders&&s.tiedColumn&&(a=o.getCell(s.tiedColumn.layout),this._updateCell(this.grid,o,a,r))}},t.prototype.$_pointerEnter=function(e){this.$_hoverChanged(e,!0)},t.prototype.$_pointerLeave=function(e){this.$_hoverChanged(e,!1)},t.prototype._getStartCell=function(e){return e.getStartCell()},t.prototype._getEndCell=function(e){return e.getEndCell()},t.prototype.$_refreshCells=function(e,t,i){for(var n=this._cells,r=i.children,o=r.length,s=this._getFirstCell(e),a=this._getLastCell(e)-s+1,l=n.length;l<o;l++)n.push([]);for(var u=0;u<o;u++){for(var c=n[u],h=r[u].children,d=t[u],p=0;p<a;p++){var f=h[p],_=d[p+s],g=c[p];g?g.cell!==f||g.layout!=_&&(g.layout=_,g.clear(!0)):(g=c[p]=new sC(h[p])).layout=_,g.height=this.$_getCellHeight(g),g.width=this._getCellWidth(e,p),g.spanned=!1}for(p=a;p<c.length;p++)c[p].dispose();c.length=a}for(u=o;u<n.length;u++){var m=n[u];for(p=0;p<m.length;p++)m[p].dispose(),m[p]=null}n.length=o},t.prototype.$_refreshSpans=function(e,t){for(var i=this._getFirstCell(e),n=this._getFirstCell(e)-i,r=this._getLastCell(e)-i,o=0;o<t;o++)for(var s=this._cells[o],a=s.length,l=n;l<=r;l++){var u=s[l],c=u.layout,h=c.parent,d=h&&h.vertical;if(u.spanned);else if(c.isProxy)u.clear(!1);else{var p=0,f=c.getHeaderSpan()-1;if(f>0){var _=0,g=c.vindex+1;if(d)for(;_++<f&&_<t;)p+=h.getVisible(g++)._hspan,this._cells[o+_][l].span();else for(;_++<f&&l-n+_<a&&g<h.visibleCount;)p+=h.getVisible(g++)._cspan,s[l+_].span()}(c instanceof Dv||c.isNull)&&(this.grid._columnsDirty||this.grid._cellLayoutDirty)&&u.clear(!0),d?u.set(c._cspan,c._hspan+p,!0):u.set(c._cspan+p,c._hspan,!0),u.width=this._getCellWidth2(e,l,u.colSpan)}}},t.prototype._updateCell=function(e,i,n,r){var o=e.doc,s=e.sortingOptions,a=e.filteringOptions,l=r.layout.boundColumn,u=n.checkLocation,c=u&&u!=$d.NONE,h=n.useCheckImage,d=i.checkWidth+2,p=c?i.checkHeight:0,f=l&&this.$_canSortHandleVisible(s,l,r),_=l&&l.sortDirection||bd.NONE,g=f?i.sortWidth:0,m=l&&this.$_canFilterHandleVisible(a,l,r)?i.filterWidth:0,y=l&&this.$_canPopupHandleVisible(i,l,r)?i.popupWidth:0,v=r.cell.firstElementChild,b=r.textSpan,w=r.width,C=this.$_getCellHeight(r),x=0,I=0,E=0,O=0,S=v.style;r.setRendererClassName(v,t.RENDERER_STYLE),S.maxHeight=Math.max(C-2,0)+"px";var k,P=r.check,R=r.checkSpan;if(r.checkWidth=0,c){var T=b.style;P||(P=o.createElement("input"),r.check=P,P.type="checkbox",P.tabIndex=-1,P.className="rg-header-check",(S=P.style).position="absolute",S.display="inline-block",S.verticalAlign="middle",R=o.createElement("span"),r.checkSpan=R,(S=R.style).position="absolute",S.display="inline-block",S.verticalAlign="middle"),S=(k=h?R:P).style,k.style.setProperty("display","inline-block"),Bp.addChild(v,P),Bp.addChild(v,R),Bp.setInert(P,!e.accessibility),h?P.style.setProperty("display","none"):R.style.setProperty("display","none"),P.checked=l.checked,P.indeterminate=l.indeterminate,P.title=n.text+" "+l.checked?"checked":"unchecked",R.className="".concat(t.CHECK_IMAGE_STYLE," ").concat(l.indeterminate?"indeterminate":l.checked?"checked":"unchecked");var D=-1,M=-1;switch(T.removeProperty("display"),S.removeProperty("left"),S.removeProperty("top"),u){case $d.CENTER:T.display="none",S.position="relative";break;case $d.LEFT:case $d.LEFT_EDGE:Bp.insertBefore(v,k,r.textSpan),u===$d.LEFT?(S.position="relative",r.checkWidth=d):(S.position="absolute",x+=d,D=0,M=Math.floor((C-i.checkHeight)/2));break;case $d.RIGHT:case $d.RIGHT_EDGE:Bp.insertBefore(v,r.textSpan,k),u===$d.RIGHT?(S.position="relative",r.checkWidth=d):(S.position="absolute",I+=d,D=w-d,M=Math.floor((C-i.checkHeight)/2));break;case"top":case"topEdge":Bp.insertBefore(v,k,r.textSpan),u===$d.TOP?(T.display="block",S.position="relative"):(S.position="absolute",E+=p,D=Math.floor((w-g-m-i.checkWidth)/2),M=0);break;case"bottom":case"bottomEdge":Bp.insertBefore(v,r.textSpan,k),u===$d.BOTTOM?(T.display="block",S.position="relative"):(S.position="absolute",O+=p,D=Math.floor((w-g-m-i.checkWidth)/2),M=C-i.checkHeight)}D>-1&&(S.left=D+"px"),M>-1&&(S.top=M+"px")}else b&&b.style.removeProperty("display"),P&&(Bp.detach(P),Bp.detach(R));var L=r.filter;m>0?(L?S=L.style:(L=o.createElement("span"),r.filter=L,(S=L.style).position="absolute",S.display="inline-block"),Bp.addChild(v,L),L.className="rg-header-filtering"+(l.isFiltered()?" filter-activated":""),I+=m,S.left=w-I+"px",S.top=Math.floor((C-i.filterHeight)/2)+"px",S.width=m+"px",S.height=i.filterWidth+"px"):Bp.detach(L);var A=r.sort;if(f){switch(A?S=A.style:(A=o.createElement("span"),r.sort=A,(S=A.style).position="absolute",S.display="inline-block"),Bp.addChild(v,A),_){case bd.DESCENDING:A.className="rg-header-sort-descending";break;case bd.ASCENDING:A.className="rg-header-sort-ascending";break;default:A.className="rg-header-sort-none"}I+=g,S.left=w-I+"px",S.width=g+"px",s.showSortOrder&&l.sortOrder>=0?(A[Bp.TextProp]=(l.sortOrder+1).toString(),S.top=Math.max(0,Math.floor((C-i.sortHeight-10)/2))+"px",S.height=Math.min(r.height,i.sortHeight+10)+"px",S.backgroundPositionY=Bp.isIE?"5px":"70%",S.lineHeight=Bp.isIE?"1.5em":"1em"):(A[Bp.TextProp]="",S.backgroundPositionY="center",S.top=Math.floor((C-i.sortHeight)/2)+"px",S.height=i.sortHeight+"px")}else Bp.detach(A);var F=r.popup;y>0?(F?S=F.style:(F=o.createElement("span"),r.popup=F,(S=F.style).position="absolute",S.display="inline-block"),Bp.addChild(v,F),F.className="rg-header-popup",I+=y,S.left=w-I+"px",S.top=Math.floor((C-i.popupHeight)/2)+"px",S.width=y+"px",S.height=i.popupWidth+"px"):Bp.detach(F),S=v.style,r.showTooltip=n.showTooltip,r.tooltipEllipsisOnly=n.tooltipEllipsisOnly,r.tooltip=n.tooltip,r.setDivMarigns(S,x,I,E,O);var $=l.header.realizeTemplate(),N=l.header.templateEvents;if($){var j=r.setHtml(b,$,N);r.renderCallback&&r.renderCallback.forEach(function(t){t.callback.call(null,e.handler,l.header,t.elt,j)})}else r.setText(b,n.text||"");tC.addEdgeMark(n.edgeMark,r,o)},t.prototype._updateGroupCell=function(e,t,i,n){var r=e.doc,o=n.cell.firstElementChild,s=n.textSpan,a=this.$_getCellHeight(n),l=n.layout,u=0,c=o.style;c.maxHeight=Math.max(a-2,0)+"px";var h=this.$_canExpanderHandleVisible(l),d=n.expander;if(h){n.expander||((d=n.expander=r.createElement("span")).style.position="absolute",d.style.display="inline-block"),d.className=l.expanded?"rg-column-expanded":"rg-column-collapsed";var p=d.style;p.left="2px",p.top=Math.floor((a-t.expanderHeight)/2)+"px",p.width=t.expanderWidth+"px",p.height=t.expanderHeight+"px",u+=t.expanderWidth+2,o.appendChild(n.expander)}else n.expander&&o.removeChild(n.expander);n.showTooltip=i.showTooltip,n.tooltipEllipsisOnly=i.tooltipEllipsisOnly,n.tooltip=i.tooltip,n.setDivMarigns(c,u,0,0,0);var f=l.header.realizeTemplate(),_=l.header.templateEvents;if(f){var g=n.setHtml(s,f,_);n.renderCallback&&n.renderCallback.forEach(function(t){t.callback.call(null,e.handler,l.header,t.elt,g)})}else n.setText(s,i.text||"");tC.addEdgeMark(i.edgeMark,n,r)},t.prototype.$_canPopupHandleVisible=function(e,t,i){if(null==t.header.popupMenuName)return!1;switch(e.showPopupMenu){case zd.VISIBLE:case zd.ALWAYS:return!0;case zd.HOVERED:return i.hovered;case zd.HIDDEN:return!1}},t.prototype.$_canFilterHandleVisible=function(e,t,i){var n=e.enabled&&t.hasFilters&&t.filterable&&t.filterIconVisible;if(n)switch(e.handleVisibility){case zd.HIDDEN:n=!1;break;case zd.HOVERED:n=i.hovered;break;case zd.ACTIVE_OR_HOVERED:n=t.isFiltered()||i.hovered}return n},t.prototype.$_canSortHandleVisible=function(e,t,i){switch(e.handleVisibility){case zd.VISIBLE:return t.sortOrder>=0;case zd.HOVERED:return i.hovered&&t.sortOrder>=0;case zd.ALWAYS:return t.sortable||t.sortOrder>=0;case zd.HIDDEN:return!1}},t.prototype.$_canCheckHandleVisible=function(e,t){return!1},t.prototype.$_canExpanderHandleVisible=function(e){return e.isExpandable()},t.prototype.$_checkHeight=function(){return this._dirty&&this._table.offsetHeight!=this._rowPoints[this._rowPoints.length-1]},t.prototype.$_getHeights=function(e){var t=this._tbody.rows;if(0==e.length)for(var i=0,n=this._rowPoints.length-1;i<n;i++)e[i]=0;for(i=0;i<e.length;i++)e[i]=Math.max(e[i],t[i]?t[i].offsetHeight:0)},t.prototype.$_adjustHeights=function(e){var t=this._tbody.rows,i=this._rowPoints;i[0]=0;for(var n=0,r=i.length-1;n<r;n++)t[n].style.height=e[n]+"px",i[n+1]=i[n]+e[n];return i[i.length-1]},t.prototype.$_distributeHeights=function(e,t){for(var i=t.length,n=0,r=0;r<i;r++)n+=t[r];if(e>n){var o=this._tbody.rows,s=e-n,a=s;for(r=0;r<i-1;r++){var l=Math.floor(s*t[r]/n);t[r]+=l,o[r].style.height=t[r]+"px",a-=l}t[r]+=a,o[r]&&(o[r].style.height=t[r]+"px")}},t.RENDERER_STYLE="rg-header-renderer",t.CHECK_IMAGE_STYLE="rg-header-check-image",t}(Bw),lC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getExplicitWidth=function(e){return e.fixedWidth-e.fixedBarWidth},t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return 0},t.prototype._getEndCell=function(e){return e.fixedCellCount-1},t.prototype._getCellCount=function(e){return e.fixedCellCount},t.prototype._getCellWidth=function(e,t){return e.getFixedCellWidth(t)},t.prototype._getCellWidth2=function(e,t,i){return e.getFixedCellWidth2(t,i)},t.prototype.tableCellByLayout2=function(e,t){return this.tableCellByLayout(t)},t}(aC),uC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return e.cellCount-e.rightCellCount},t.prototype._getEndCell=function(e){return e.cellCount-1},t.prototype._getCellCount=function(e){return e.cellCount-1},t.prototype._getCellWidth=function(e,t){return e.getRightCellWidth(t)},t.prototype._getCellWidth2=function(e,t,i){return e.getRightCellWidth2(t,i)},t.prototype.tableCellByLayout2=function(e,t){return this.tableCellByLayout(t)},t}(aC),cC=function(e){function t(t){var i=e.call(this)||this;return i._refreshMode=Xd.ALL,i._leftPos=0,i._rightFixed=!0,i._footerCount=0,i._headerSummaryCount=0,i._layoutCount=0,i._fixedLayoutCount=0,i._rightLayoutCount=0,i._firstLayout=0,i._lastLayout=0,i._layoutsLength=0,i._layouts=[],i._layoutPoints=[],i._fixedLayoutPoints=[],i._rightLayoutPoints=[],i._cellCount=0,i._fixedCellCount=0,i._rightCellCount=0,i._firstCell=0,i._lastCell=0,i._startCell=0,i._endCell=0,i._cellPoints=[],i._fixedCellPoints=[],i._rightCellPoints=[],i._trs=1,i._rowGrouped=!1,i._items=[],i._topIndex=0,i._itemCount=0,i._fixedItemCount=0,i._fullItemCount=0,i._fixedItemPoints=[],i._itemPoints=[],i._fixedTableRowCount=0,i._tableRowCount=0,i._fixedTableRowPoints=[],i._tableRowPoints=[],i._fixedTableItemPoints=[],i._tableItemPoints=[],i._fixedDataHeight=0,i._dataRowHeights=[],i._dataHeight=0,i._fixedBarWidth=0,i._rightBarWidth=0,i._fixedBarHeight=0,i._itemsBounds=0,i._fixedWidth=0,i._rightWidth=0,i._fixedHeight=0,i._autoRowHeights=!1,i._minRowHeight=Lw.MIN_TABLE_ROW_HEIGHT,i._minItemHeight=Lw.MIN_TABLE_ROW_HEIGHT,i._maxHeight=Lw.MIN_TABLE_ROW_HEIGHT,i._itemHeight=0,i._hscrolled=!1,i._vscrolled=!1,i._hscrollBar=!1,i._vscrollBar=!1,i._scrollBarWidth=0,i._scrollBarHeight=0,i._scrollWidth=0,i._fitStyle=void 0,i._grid=t,i}return gd(t,e),t.prototype._doDispose=function(){this._grid=null,this._rs=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerCount",{get:function(){return this._footerCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerSummaryCount",{get:function(){return this._headerSummaryCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vscrollBar",{get:function(){return this._vscrollBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hscrollBar",{get:function(){return this._hscrollBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollBarWidth",{get:function(){return this._scrollBarWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollBarHeight",{get:function(){return this._scrollBarHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataBounds",{get:function(){return this._dataBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyBounds",{get:function(){return this._bodyBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedBodyBounds",{get:function(){return this._fixedBodyBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridBounds",{get:function(){return this._gridBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerBounds",{get:function(){return this._headerBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summaryBounds",{get:function(){return this._summaryBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerBounds",{get:function(){return this._footerBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterPanelBounds",{get:function(){return this._filterPanelBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topContentBounds",{get:function(){return this._topContentBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftContentBounds",{get:function(){return this._leftContentBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowBarBounds",{get:function(){return this._rowBarBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sideContentBounds",{get:function(){return this._sideContentBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentBounds",{get:function(){return this._contentBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedContentBounds",{get:function(){return this._fixedContentBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nonFixedBounds",{get:function(){return this._nonFixedBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightContentBounds",{get:function(){return this._rightContentBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headBounds",{get:function(){return this._headBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sumBounds",{get:function(){return this._sumBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footBounds",{get:function(){return this._footBounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedWidth",{get:function(){return this._fixedWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultItemHeight",{get:function(){return this._itemHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topIndex",{get:function(){return this._topIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedItemCount",{get:function(){return this._fixedItemCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullItemCount",{get:function(){return this._fullItemCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedTableRowCount",{get:function(){return this._fixedTableRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableRowCount",{get:function(){return this._tableRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trs",{get:function(){return this._cellLayouts.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftPos",{get:function(){return this._leftPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellLayouts",{get:function(){return this._cellLayouts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutCount",{get:function(){return this._layoutCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedLayoutCount",{get:function(){return this._fixedLayoutCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightLayoutCount",{get:function(){return this._rightLayoutCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstLayout",{get:function(){return this._firstLayout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastLayout",{get:function(){return this._lastLayout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightFirstLayout",{get:function(){return this._layoutCount-this._rightLayoutCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutsLength",{get:function(){return this._layoutsLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellCount",{get:function(){return this._cellCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedCellCount",{get:function(){return this._fixedCellCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightCellCount",{get:function(){return this._rightCellCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstCell",{get:function(){return this._firstCell},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastCell",{get:function(){return this._lastCell},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startCell",{get:function(){return this._startCell},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endCell",{get:function(){return this._endCell},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isColumnFitted",{get:function(){return!!this._fitStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollWidth",{get:function(){return this._scrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedBarWidth",{get:function(){return this._fixedBarWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightBarWidth",{get:function(){return this._rightBarWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedHeight",{get:function(){return this._fixedHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedBarHeight",{get:function(){return this._fixedBarHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowGrouped",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergedRowGrouped",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowGroupFields",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowGroupLevels",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientRect",{get:function(){return this._clientRect},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this._cellLayouts.headerRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this._cellLayouts.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topPanelVisible",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minRowHeight",{get:function(){return this._minRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minItemHeight",{get:function(){return this._minItemHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fitStyle",{get:function(){return this._fitStyle},enumerable:!1,configurable:!0}),t.prototype.syncHeight=function(){return this.grid.displayOptions.syncGridHeight!==op.NONE},t.prototype.fitSyncHeight=function(){return this._fitSyncHeight},t.prototype.getStartCell=function(e){if(void 0===e&&(e=!0),e)return this._firstCell;var t=this.grid,i=t.isRecycleMode();switch(this._refreshMode){case Xd.VISIBLE_ONLY:return this._startCell;case Xd.RECYCLE:return i?t._needRefresh&&t._horzScrolled?this._firstCell:this._startCell:this._firstCell;default:return this._firstCell}},t.prototype.getEndCell=function(e){if(void 0===e&&(e=!0),e)return this._lastCell;var t=this.grid,i=t.isRecycleMode();switch(this._refreshMode){case Xd.VISIBLE_ONLY:return this._endCell;case Xd.RECYCLE:return i?t._needRefresh&&t._horzScrolled?this._lastCell:this._endCell:this._lastCell;default:return this._lastCell}},t.prototype.getLayout=function(e){return this._layouts[e]},t.prototype.getLayoutBounds=function(e){return new _p(this._layoutPoints[e],0,this._layoutPoints[e+1]-this._layoutPoints[e],0)},t.prototype.getLayoutWidth=function(e){return this._layoutPoints[e+1]-this._layoutPoints[e]},t.prototype.getPositionToVIndex=function(e){for(var t=this._layoutPoints,i=0;i<t.length-1;i++)if(e>=t[i]&&e<t[i+1])return i;return-1},t.prototype.getFixedLayoutWidth=function(e){return this._fixedLayoutPoints[e+1]-this._fixedLayoutPoints[e]},t.prototype.getRightLayoutWidth=function(e){return this._rightLayoutPoints[e+1]-this._rightLayoutPoints[e]},t.prototype.getCellIndex=function(e){for(var t=this._cellPoints,i=0;i<t.length-1;i++)if(e>=t[i]&&e<t[i+1])return i;return-1},t.prototype.getHorzColumnIndex=function(e){for(var t=e,i=0;t;)i+=!t.group||t.group.horizontal?t.vindex:0,t=t.group;return i},t.prototype.getLeftCell=function(){return this.getCellIndex(this._leftPos)},t.prototype.getCellPoint=function(e){return this._cellPoints[e]},t.prototype.getCellWidth=function(e){return this._cellPoints[e+1]-this._cellPoints[e]},t.prototype.getCellWidth2=function(e,t){var i=this._cellPoints;return i[Math.min(i.length-1,e+t)]-i[e]},t.prototype.getFixedCellPoint=function(e){return this._fixedCellPoints[e]},t.prototype.getFixedCellWidth=function(e){return this._fixedCellPoints[e+1]-this._fixedCellPoints[e]},t.prototype.getFixedCellWidth2=function(e,t){var i=this._fixedCellPoints;return i[Math.min(i.length-1,e+t)]-i[e]},t.prototype.getRightCellPoint=function(e){return this._rightCellPoints[e]},t.prototype.getRightCellWidth=function(e){return this._rightCellPoints[e+1]-this._rightCellPoints[e]},t.prototype.getRightCellWidth2=function(e,t){var i=this._rightCellPoints;return i[Math.min(i.length-1,e+t)]-i[e]},t.prototype.$_getItems=function(){return this._items},t.prototype.getItem=function(e){return this._items[e]},t.prototype.getDataRowHeights=function(e){var t=this.grid.displayOptions,i=[],n=t.dataHeights;if(n&&n.length>0)for(var r=0;r<e;r++){var o=Math.floor(Math.max(t.minTableRowHeight,n[r]||t.minTableRowHeight));i.push(o)}return i.slice()},t.prototype._calcDefaultRowHeight=function(e){var t=this.grid.displayOptions.rowHeight,i=this._dataRowHeights=this.getDataRowHeights(this._trs);return i&&i.length>0&&(t=i.reduce(function(e,t){return e+t},0)),t<=0&&(t=e.heightMeasurer.rowHeight*this._trs),i.length>0&&this._maxHeight>0&&(t>this._maxHeight||t<this._minItemHeight)&&(this._dataRowHeights=[]),this._maxHeight>0&&(t=Math.min(this._maxHeight,t)),Math.max(this._minItemHeight,t)},t.prototype.measure=function(e,t,i,n,r){var o=this._grid;this._rs=o.itemSource,this._cellLayouts=o._activeCellLayout,this._footerCount=o.footers.visibleCount,this._headerSummaryCount=o.headerSummaries.visibleCount,this._leftPos=t,this._topIndex=i,this._focusIndex&&!o.isValid(this._focusIndex)&&this._focusIndex.normalize(o),this._prevVscrolled=this._vscrolled,this._prevHscrolled=this._hscrolled,this._doMeasure(e,n,r),this._prevVscrolled===this._vscrolled&&this._prevHscrolled===this._hscrolled||(o._columnsDirty=!0)},t.prototype.layout=function(e){var t=this._grid;t.invalidateGridObject(),this._doLayout(t,e),this._adjustLayout(t,this._gridBounds.clone()),this._prevFocused=this._focusIndex,this._focusIndex=null,this._oldSyncHeight=t.displayOptions.syncGridHeight},t.prototype.getItemHeight=function(e){var t=e.index;return t<this._fixedItemCount?this._fixedItemPoints[t+1]-this._fixedItemPoints[t]:(t-=this._fixedItemCount-this._topIndex,this._itemPoints[t+1]-this._itemPoints[t])},t.prototype.getTableItemHeight=function(e){return e<this._fixedItemCount?this._fixedTableItemPoints[e+1]-this._fixedTableItemPoints[e]:(e-=this._fixedItemCount,this._tableItemPoints[e+1]-this._tableItemPoints[e])},t.prototype.getTableItemIndex=function(e){for(var t=0;t<this._fixedItemCount;t++)if(e<=this._fixedTableItemPoints[t+1])return t;for(t=0;t<this._itemCount;t++)if(e<=this._tableItemPoints[t+1])return t+this._fixedItemCount;return-1},t.prototype.getTableItemTop=function(e){return e<this._fixedItemCount?this._fixedTableItemPoints[e]:(e-=this._fixedItemCount,this._tableItemPoints[e])},t.prototype.getTableItemBottom=function(e){return e<this._fixedItemCount?this._fixedTableItemPoints[e+1]:(e-=this._fixedItemCount,this._tableItemPoints[e+1])},t.prototype.getItemBounds=function(e){var t,i;return this._fixedItemCount>0&&e<this._fixedItemCount?(t=this._fixedItemPoints[e],i=this._fixedItemPoints[e+1]-t):(e-=this._fixedItemCount,t=this._itemPoints[e],i=this._itemPoints[e+1]-t),new _p(0,t,1e3,i)},t.prototype.getItemRect=function(e,t){void 0===t&&(t=!1);var i,n,r=(t?this._fixedContentBounds:this._bodyBounds).y;return this._fixedItemCount>0&&e<this._fixedItemCount?(i=this._fixedItemPoints[e]+r,n=this._fixedItemPoints[e+1]+r-i):(e-=this._fixedItemCount,i=this._itemPoints[e]+r,n=this._itemPoints[e+1]+r-i),new _p(0,i,1e3,n)},t.prototype.getTableItemBounds=function(e){var t,i;return this._fixedItemCount>0&&e<this._fixedItemCount?(t=this._fixedTableItemPoints[e],i=this._fixedTableItemPoints[e+1]-t):(e-=this._fixedItemCount,t=this._tableItemPoints[e],i=this._tableItemPoints[e+1]-t),new _p(0,t,1e3,i)},t.prototype.getTableRowHeightFixed=function(e,t){var i=this._fixedTableRowPoints.length;return e<i-1?this._fixedTableRowPoints[Math.min(e+t,i-1)]-this._fixedTableRowPoints[e]:(i>1&&(e-=i),this._tableRowPoints[Math.min(e+t,this._tableRowPoints.length-1)]-this._tableRowPoints[e])},t.prototype.getTableRowHeight=function(e,t){return e<this._fixedTableRowCount?this._fixedTableRowPoints[Math.min(e+t,this._fixedTableRowPoints.length-1)]-this._fixedTableRowPoints[e]:(this._fixedItemCount>0&&(e-=this._fixedItemCount*this._trs+1),this._tableRowPoints[Math.min(e+t,this._tableRowPoints.length-1)]-this._tableRowPoints[e])},t.prototype.getTableRowBounds=function(e,t){var i,n;return this._fixedTableRowCount>0&&e<this._fixedTableRowCount?(i=this._fixedTableRowPoints[e],n=this._fixedTableRowPoints[Math.min(e+t,this._fixedTableRowCount)]-i):(this._fixedTableRowCount>0&&(e-=this._fixedTableRowCount+1),i=this._tableRowPoints[e],n=this._tableRowPoints[Math.min(e+t,this._tableRowCount)]-i),new _p(0,i,1e3,n)},t.prototype.getTableRowIndex=function(e){e-=this.contentBounds.y+this.bodyBounds.y;for(var t=0;t<this._fixedTableRowCount;t++)if(e<=Math.round(this._fixedTableRowPoints[t+1]))return t;for(t=0;t<this._tableRowCount;t++)if(e<=Math.round(this._tableRowPoints[t+1]))return t+(this._fixedTableRowCount>0?this._fixedTableRowCount+1:0);return-1},t.prototype.setLeftPos=function(e,t){var i=this._grid;this._leftPos=t,this.$_calcLeftPos(),i.contentPane.x=this._contentBounds.x=this.fixedContentBounds.right-this._leftPos},t.prototype.isMergedCell=function(e){return!1},t.prototype.getMergeRoom=function(e){var t=e.layout;if(t instanceof Sv&&t.canMerge()){var i=t.merges;return i&&i.getRoom(e)}return null},t.prototype.getHeaderCellAt=function(e,t,i){void 0===i&&(i=!1);var n,r=this._grid,o=this._cellLayouts._headerCells,s=-1;if(e<this._fixedContentBounds.right){n=r.fixedHeaderView,e-=this._fixedContentBounds.x;for(var a=0;a<this._fixedCellCount;a++)if(e>=this._fixedCellPoints[a]&&e<this._fixedCellPoints[a+1]){s=a;break}}else if(e>this._rightContentBounds.x){for(n=r.rightHeaderView,e-=this._rightContentBounds.x,a=0;a<this._rightCellCount;a++)if(e>=this._rightCellPoints[a]&&e<this._rightCellPoints[a+1]){s=a+this._cellCount-this._rightCellCount;break}}else for(n=r.headerView,e-=this._contentBounds.x,a=0;a<this._cellPoints.length;a++)if(e>=this._cellPoints[a]&&e<this._cellPoints[a+1]){s=a+this._fixedCellCount;break}if(s>=0){var l=o[n.getRowAt(t-this._headerBounds.y-this._contentBounds.y)][s];return(l=n.getSpanRoot(l))&&!i?l.source:l}},t.prototype.getHeaderCellRect=function(e,t){void 0===t&&(t=!1);var i,n,r=this.grid,o=e.hcol,s=this.cellCount-this.rightCellCount;if(o<this._fixedCellCount){var a=this._fixedContentBounds.x,l=o,u=(n=r.fixedHeaderView.tableCellByLayout(e))?n.colSpan:e.cols;i=new _p(this._fixedCellPoints[l]+a,0,this._fixedCellPoints[l+u]-this._fixedCellPoints[l],0)}else o>=s?(a=this._rightContentBounds.x+this._grid.fixedOptions.colBarWidth,l=o-s,u=(n=r.rightHeaderView.tableCellByLayout(e))?n.colSpan:e.cols,i=new _p(this._rightCellPoints[l]+a,0,this._rightCellPoints[l+u]-this._rightCellPoints[l],0)):(a=this._contentBounds.x,l=o-this._fixedCellCount,u=(n=r.headerView.tableCellByLayout(e))?n.colSpan:e.cols,i=new _p(this._cellPoints[l]+a,0,this._cellPoints[l+u]-this._cellPoints[l],0));return i.y=this._contentBounds.y+r.headerView.getLayoutPos(e),i.height=r.headerView.getLayoutHeight(e,n,t),i},t.prototype.getDataRect=function(e){var t,i=(e=e.source).col,n=e instanceof Dv?e._clen:e._defColSpan,r=this.cellCount-this.rightCellCount;if(i<this._fixedCellCount){var o=this._fixedContentBounds.x,s=i;t=new _p(this._fixedCellPoints[s]+o,0,this._fixedCellPoints[s+n]-this._fixedCellPoints[s],0)}else i>=r?(o=this._rightContentBounds.x+this._grid.fixedOptions.colBarWidth,s=i-r,t=new _p(this._rightCellPoints[s]+o,0,this._rightCellPoints[s+n]-this._rightCellPoints[s],0)):(o=this._contentBounds.x,s=i-this._fixedCellCount,t=new _p(this._cellPoints[s]+o,0,this._cellPoints[s+n]-this._cellPoints[s],0));return t},t.prototype.getBodyView=function(e){var t=this.rightFirstLayout,i=(e instanceof Ev?e:e.layout).root.vindex;return i<this._fixedLayoutCount?this._grid.fixedBodyView:i>=t?this._grid.rightBodyView:this._grid.bodyView},t.prototype.$_getItemIndexByPosY=function(e,t){var i=this.grid,n=this._trs,r=-1,o=0,s=function(e,t,i){for(var s=0;s<t*n;s++)e>=i[s]&&e<i[s+1]&&(r=0===s?0:Math.floor(s/n),o=0===s?0:s%n)},a=i.bodyView.boundsByContainer();return e<i.headerView.boundsByContainer().y?r=t?i.topItem:-3:e>=a.y&&e<a.y+this.dataBounds.height?(e-=a.y,this._fixedItemCount>0&&e<this._fixedHeight?s(e,this._fixedItemCount,this._fixedTableRowPoints):(s(e,this._itemCount,this._tableRowPoints),r>=0&&(r+=i.topItem))):t?r=this._itemCount+i.topItem:(s(e,this._footerCount,i.footerView._rowPoints),r=-2),{itemIndex:r,rowIndex:o}},t.prototype.mouseToIndex=function(e,t,i,n){if(n.set(-1,null),this._layoutCount<1)return n;var r=this.grid;if(n.itemIndex=this.$_getItemIndexByPosY(i,!0).itemIndex,e){var o=r.getCellViewOf(e),s=o&&r.getBodyView(o),a=s instanceof nC&&s.layoutByCell(o);if(a)return n.layout=a,n}return n},t.prototype.mouseToIndex2=function(e,t,i){var n,r,o=this.grid,s=this.cellLayouts._dataCells,a=this.$_getItemIndexByPosY(t,i),l=a.itemIndex,u=function(e,t,i){for(var n=0;n<t;n++)if(e>=i[n]&&e<i[n+1])return n},c=s[a.rowIndex],h=this._cellCount-this._fixedCellCount-this._rightCellCount;return e>0&&(e>this._rightContentBounds.x?(r=u(e-=this._rightContentBounds.x,this._rightCellCount,this._rightCellPoints),n=c&&c[this._fixedCellCount+h+r]):(e-=this._rowBarBounds.width)<this._fixedWidth?(r=u(e,this._fixedCellCount,this._fixedCellPoints),n=c&&c[r]):(r=u(e=e-this._fixedWidth+this.leftPos,h,this._cellPoints),n=c&&c[this._fixedCellCount+r])),i&&!n&&(n=e<=0?c&&c[0]:c&&c[c.length-1]),new Wv(o,l,n&&n.source)},t.prototype.cellIsVisible=function(e){var t=e.itemIndex,i=this._fixedItemCount,n=this._cellLayouts,r=this._cellPoints;if(t>=i){if(t<this._topIndex+i)return!1;if(this._itemCount+i===0)return!1;if(0==this._fullItemCount&&t==this._topIndex+i)return!0;if(t>=this._topIndex+i+this._fullItemCount)return!1}var o=e.layout;if(n!==this.grid.activeCellLayout||!n.contains(o)||!n.getDataCellPos(o.firstColumn))return!1;var s=o.col;if(s>=(i=this._fixedLayoutCount)){if(r[s=o.col-this._fixedCellCount]<this._leftPos)return!1;if(r[s+o.cols]-this._leftPos>this._nonFixedBounds.width)return!1}return!0},t.prototype.clearFocusRequest=function(){this._focusIndex=null},t.prototype.focusIsVisible=function(e){return(e=e||this._focusIndex)&&this.cellIsVisible(e)},t.prototype.makeCellVisible=function(e){this._focusIndex=e.clone()},t.prototype.isAutoRowHeights=function(){return this._autoRowHeights},t.prototype.isRowGrouped=function(){return this._rowGrouped},t.prototype.scrollToNextCell=function(){for(var e=0;e<this._cellCount;e++)if(this._cellPoints[e]>this._leftPos)return this._cellPoints[e];return this._leftPos},t.prototype.scrollToPrevCell=function(){for(var e=this._cellCount-1;e>=0;e--)if(this._cellPoints[e]<this._leftPos)return this._cellPoints[e];return this._leftPos},t.prototype.needRelayout=function(){return this._autoRowHeights&&this._fitStyleChanged&&this._fitStyle==jd.EVEN_FILL||this.syncHeight()&&this._fitSyncChanged},t.prototype.$_calcFixedCellPoints=function(e,t){var i=this._layoutCount=t.visibleCount,n=t._cellWidths,r=this._fixedLayoutCount=Math.min(e.colCount,i);if(this._rightLayoutCount=Math.max(0,Math.min(e.rightCount,i-r-1)),this._rightFixed=e.rightFixed,this._cellCount=0,this._fixedCellCount=0,this._rightCellCount=0,this._layouts=[],this._fixedLayoutPoints=[],this._fixedWidth=0,this._rightWidth=0,this._rightBarWidth=0,this._fixedCellPoints=[],r>0){var o=this._layouts,s=this._fixedLayoutPoints,a=this._fixedCellPoints,l=0,u=0;s.push(l),a.push(l);for(var c=0;c<r;c++){for(var h=t.getVisible(c),d=h.cols,p=0;p<d;p++)l+=n[u++],a.push(l);o.push(h),s.push(l)}this._fixedCellCount=this._cellCount=u,this._fixedWidth=s[r]+(this._fixedBarWidth=e.colBarWidth)}},t.prototype.$_calcCellPoints=function(e){var t=e.visibleCount-this._fixedLayoutCount-this._rightLayoutCount,i=e._cellWidths,n=this._layoutPoints=[],r=this._cellPoints=[],o=this._fixedLayoutCount,s=this._layouts;if(this._firstCell=this._lastCell=this._cellCount,this._layoutsLength=0,t>0){var a=0,l=this._cellCount;n.push(a),r.push(a);for(var u=0;u<t;u++){for(var c=e.getVisible(u+o),h=c.cols,d=0;d<h;d++)a+=i[l++],r.push(a);s.push(c),n.push(a)}this._layoutsLength=a,this._cellCount=l,this._lastCell=l-1}},t.prototype.$_calcRightCellPoints=function(e,t){var i=t._cellWidths,n=this._layoutCount,r=this._rightLayoutPoints=[],o=this._rightCellPoints=[],s=this._layouts;if(this._rightLayoutCount>0){var a=0,l=this._cellCount;r.push(a),o.push(a);for(var u=n-this._rightLayoutCount;u<n;u++){for(var c=t.getVisible(u),h=0;h<c.cols;h++)a+=i[l++],o.push(a);s.push(c),r.push(a)}this._rightCellCount=l-this._cellCount,this._cellCount=l,this._rightWidth=r[this._rightLayoutCount]+(this._rightBarWidth=e.rightBarWidth)}},t.prototype.$_calcScrollWidth=function(e){this._scrollWidth=e.width-this._leftContentBounds.width-this._sideContentBounds.width-this._fixedContentBounds.width-this._rightContentBounds.width},t.prototype.$_calcLeftPos=function(){var e=this._focusIndex&&this._focusIndex.layout,t=this._leftPos;if(e){var i=e.root.vindex,n=this._cellPoints,r=this.grid,o=r.editOptions.focusMoveStep===Pv.GROUP;if(!r.isSwiping&&i>=this._fixedLayoutCount&&i<this.rightFirstLayout){var s=e.col-this._fixedCellCount,a=n[s],l=r.displayOptions.horzPageScroll&&"keydown"===r._eventFrom&&r._prevTop===this._topIndex;if(a<this._leftPos)l&&this._leftPos>=n[s+1]&&(a=a-(this.gridBounds.width+n[s]-n[s+1])+(this._fixedContentBounds.width+this._rightContentBounds.width)),t=a;else{var u=e.getAncestor(r.displayOptions.groupFocusLevel),c=n[s+(o?u.cols:e.cols)]-this._leftPos-this._scrollWidth;l&&n[s]-this._leftPos>=this._scrollWidth&&(c=Math.max(n[s]-n[this.getLeftCell()],c)),c>0&&(t=Math.min(a,this._leftPos+c))}}}(t=Math.max(0,Math.min(t,this._layoutsLength-this._scrollWidth)))!==this._leftPos&&(this.grid._horzScrolled=!0,this._leftPos=t),this._firstLayout=this._fixedLayoutCount,this._lastLayout=this._layoutCount>0?this._layoutCount-this._rightLayoutCount-1:-1},t.prototype.$_checkFitting=function(e,t){var i=e.fitStyle,n=this.grid,r=n.fixedOptions,o=n.activeCellLayout.count;if(i!=jd.NONE){if(o>=0&&r.colCount+r.rightCount>=o)return e.fitStyleIncludeFixed?i:void 0;var s=this._cellPoints,a=s.length;if(a>0)return i==jd.EVEN_FILL||t-s[a-1]>0?i:void 0}},t.prototype.$_fitColumns=function(e,t,i){var n=e.fitStyle,r=this._fixedLayoutCount,o=!1;if(e.fitStyleIncludeFixed&&this._fixedCellCount+this._rightCellCount>0){var s=this._layouts.slice(0,r),a=this._layouts.slice(r,this.rightFirstLayout),l=this._layouts.slice(this.rightFirstLayout),u=[{points:this._fixedLayoutPoints,layouts:s,cellPoints:this._fixedCellPoints},{points:this._layoutPoints,layouts:a,cellPoints:this._cellPoints},{points:this._rightLayoutPoints,layouts:l,cellPoints:this._rightCellPoints}],c=0;u.forEach(function(e){var t=e.points;t.length>0&&(c+=t[t.length-1])});var h=this._clientRect.width-this._leftContentBounds.width-this._sideContentBounds.width-this._scrollBarWidth;if(h=h-(this._fixedCellCount?this._fixedBarWidth:0)-(this._rightCellCount?this._rightBarWidth:0),n===jd.FILL){var d=0,p=0,f=[];u.forEach(function(e){for(var t=e.points,i=e.widths=[],n=1;n<t.length;n++){var r=t[n]-t[n-1];f.push(r),i.push(r)}});for(var _=0;_<this._layouts.length;_++)(x=(P=this._layouts[_]).fillWidth)>0?d+=x:p+=f[_];(o=d>0)&&(p=h-p,u.forEach(function(e){for(var t=e.points,i=1;i<t.length;i++){var n=e.layouts[i-1].fillWidth;t[i]=n>0?t[i-1]+n*p/d:t[i-1]+e.widths[i-1]}}))}o||u.forEach(function(e){for(var t=e.points,i=1;i<t.length;i++)t[i]=Math.round(t[i]*(h/c))}),u.forEach(function(t,i){var n=t.points,r=t.cellPoints,o=n.length,s=0;r.length=0,r.push(s);for(var a=0;a<o-1;a++){for(var l=t.layouts[a],u=n[a+1]-n[a],c=l.cols,h=s,d=l._setFitWidth(u,null,e.fitStyle),p=0;p<c-1;p++)h+=d[p],r.push(Math.round(h));s+=u,r.push(Math.round(s))}r[r.length-1]=n[o-1]}),this._layoutsLength=Bp.getLast(this._layoutPoints)||0,this._fixedWidth=this._fixedCellCount?Bp.getLast(this._fixedLayoutPoints)+this._fixedBarWidth:0,this._rightWidth=this._rightCellCount?Bp.getLast(this._rightLayoutPoints)+this._rightBarWidth:0,this._fixedContentBounds.width=this._fixedWidth,this.$_measureFixedPane(this.grid),this._contentBounds.left=this._fixedContentBounds.right,this._contentBounds.width=this._layoutsLength,this.$_measureContentPane(this.grid),this._rightContentBounds.left=this._contentBounds.right+this._scrollBarWidth,this._rightContentBounds.width=this._rightWidth,this.$_measureRightPane(this.grid),this._nonFixedBounds=new _p(this._fixedContentBounds.right,this._fixedContentBounds.y,this._layoutsLength,this._fixedContentBounds.height)}else{for(_=0;_<this._layoutCount;_++)(P=this._cellLayouts.getVisible(_)).isFixed&&P._clearFitWidth();var g=this._layoutsLength,m=this._layoutPoints,y=m.length,v=[];for(_=1;_<m.length;_++)v.push(m[_]-m[_-1]);if(y>0){var b=this._layouts;if(n==jd.FILL){var w=0,C=0;for(_=0;_<y-1;_++){var x;(x=b[_+r].fillWidth)>0?C+=x:w+=v[_]}if(o=C>0)for(w=i-w,_=1;_<y;_++){var I=(P=b[_-1+r]).fillWidth;m[_]=I>0?m[_-1]+I*w/C:m[_-1]+v[_-1]}}if(!o)for(_=1;_<y;_++)m[_]=m[_]*i/g;var E=0;for(_=0;_<y-1;_++)m[_]=Math.round(m[_]);for(_=1;_<y-1;_++){var O=m[_]-m[_-1];O<2?(E=2-O,m[_]+=2-O):E>0&&O>2+E&&(m[_]-=E,E=0)}var S=this._cellPoints=[],k=0;for(S.push(k),_=0;_<y-1;_++){for(var P=this._cellLayouts.getVisible(_+r),R=m[_+1]-m[_],T=P.cols,D=k,M=P._setFitWidth(R,null,n),L=0;L<T-1;L++)D+=M[L],S.push(Math.round(D));k+=R,S.push(Math.round(k))}S[S.length-1]=m[y-1]=i}this._layoutsLength=m[y-1]=i}},t.prototype.$_measureTopPane=function(e){this._doMeasureTopPane(e,this._topContentBounds)},t.prototype._doMeasureTopPane=function(e,t){t.height=0},t.prototype.$_measureViewHeights=function(e,t){var i;i=0,e.header.visible?(this._headerBounds=t.clone(),i=e.headerView.measure(e,t.width,t.height).height,this._headerBounds.height=i):this._headerBounds?this._headerBounds.setEmpty():this._headerBounds=new _p,this._fixedHeaderBounds=this._headerBounds.clone(),this._rightHeaderBounds=this._headerBounds.clone(),this._headBounds.y=t.y,this._headBounds.height=i,t.topBy(i),i=0,e.filterPanel.visible?(this._filterPanelBounds=t.clone(),i=e.filterPanelView.measure(e,t.width,t.height).height,this._filterPanelBounds.height=i):(this._filterPanelBounds=this._filterPanelBounds||new _p,this._filterPanelBounds.setEmpty()),this._fixedFilterBounds=this._filterPanelBounds.clone(),this._rightFilterBounds=this._filterPanelBounds.clone(),this._filterBounds.y=t.y,this._filterBounds.height=i,t.topBy(i),i=0,e.headerSummaries.canShow?(this._summaryBounds=t.clone(),i=e.headerSummaryView.measure(e,t.width,t.height).height,e.fixedHeaderSummaryView,this._summaryBounds.height=i):this._summaryBounds?this._summaryBounds.setEmpty():this._summaryBounds=new _p,this._fixedSummaryBounds=this._summaryBounds.clone(),this._rightSummaryBounds=this._summaryBounds.clone(),this._sumBounds.y=t.y,this._sumBounds.height=i,t.topBy(i),i=0,e.footers.canShow?(this._footerBounds=t.clone(),i=e.footerView.measure(e,t.width,t.height).height,this._footerBounds.height=i):this._footerBounds?this._footerBounds.setEmpty():this._footerBounds=new _p,this._fixedFooterBounds=this._footerBounds.clone(),this._rightFooterBounds=this._footerBounds.clone(),this._footBounds.y=t.bottom-this._footerBounds.height,this._footBounds.height=i;var n=this._sumBounds.bottom;i=this._footBounds.y-n,this._rowBarBounds.y=n,this._rowBarBounds.height=i},t.prototype.$_measureLeftPane=function(e){var t,i=this._leftContentBounds.clone().move();this._headBounds=i.clone(),this._sumBounds=i.clone(),this._footBounds=i.clone(),this._filterBounds=i.clone(),t=e.rowBarContainer.measure(e,i.width,i.height),this._rowBarBounds=i.clone(),this._rowBarBounds.width=t.width,this._leftContentBounds.width=t.width,i.leftBy(t.width),this._headBounds.width=this._sumBounds.width=this._footBounds.width=this._filterBounds.width=this._leftContentBounds.width},t.prototype._measureSidePane=function(e){var t=e.sideContentPane;if(e.isSidePaneVisible()){var i=this._sideContentBounds.clone(),n=t.measure(e,i.width,i.height);this._sideContentBounds.width=n.width}else t&&t.measure(e,0,0),this._sideContentBounds.width=0},t.prototype.$_measureFixedPane=function(e){var t=this._fixedContentBounds.width=this._fixedWidth,i=this._fixedContentBounds.clone().move();this._fixedHeaderBounds.x=i.x,this._fixedHeaderBounds.y=i.y,this._fixedHeaderBounds.width=i.width,i.topBy(this._fixedHeaderBounds.height),this._fixedFilterBounds.x=i.x,this._fixedFilterBounds.y=i.y,this._fixedFilterBounds.width=i.width,i.topBy(this._fixedFilterBounds.height),t>0&&(e.fixedFilterView._rowPoints=e.filterPanelView._rowPoints.slice()),this._fixedSummaryBounds.x=i.x,this._fixedSummaryBounds.y=this._fixedFilterBounds.bottom,this._fixedSummaryBounds.width=i.width,i.topBy(this._fixedSummaryBounds.height),t>0&&(e.fixedHeaderSummaryView._rowPoints=e.headerSummaryView._rowPoints.slice()),this._fixedFooterBounds.x=i.x,this._fixedFooterBounds.y=i.bottom-this._fixedFooterBounds.height,this._fixedFooterBounds.width=i.width,i.bottomBy(-this._fixedFooterBounds.height),t>0&&(e.fixedFooterView._rowPoints=e.footerView._rowPoints.slice()),this._fixedBodyBounds=i},t.prototype.$_measureRightPane=function(e){var t=this._rightWidth;this._rightContentBounds.width=t;var i=this._rightContentBounds.clone();i.x=this._rightBarWidth,i.y=0,i.width-=i.x,this._rightHeaderBounds.x=i.x,this._rightHeaderBounds.y=i.y,this._rightHeaderBounds.width=i.width,i.topBy(this._rightHeaderBounds.height),this._rightFilterBounds.x=i.x,this._rightFilterBounds.y=i.y,this._rightFilterBounds.width=i.width,i.topBy(this._rightFilterBounds.height),t>0&&(e.rightFilterView._rowPoints=e.filterPanelView._rowPoints.slice()),this._rightSummaryBounds.x=i.x,this._rightSummaryBounds.y=this._rightFilterBounds.bottom,this._rightSummaryBounds.width=i.width,i.topBy(this._rightSummaryBounds.height),t>0&&(e.rightHeaderSummaryView._rowPoints=e.headerSummaryView._rowPoints.slice()),this._rightFooterBounds.x=i.x,this._rightFooterBounds.y=i.bottom-this._rightFooterBounds.height,this._rightFooterBounds.width=i.width,i.bottomBy(-this._rightFooterBounds.height),t>0&&(e.rightFooterView._rowPoints=e.footerView._rowPoints.slice()),this._rightBodyBounds=i},t.prototype.$_measureContentPane=function(e){var t=this._layoutsLength;this._contentBounds.width=t;var i=this._contentBounds.clone();i.x=i.y=0,this._headerBounds&&(this._headerBounds.x=i.x,this._headerBounds.y=i.y,this._headerBounds.width=i.width,i.topBy(this._headerBounds.height)),this._filterPanelBounds&&(this._filterPanelBounds.x=i.x,this._filterPanelBounds.y=i.y,this._filterPanelBounds.width=i.width,i.topBy(this._filterPanelBounds.height)),this._summaryBounds&&(this._summaryBounds.x=i.x,this._summaryBounds.y=this._filterPanelBounds.bottom,this._summaryBounds.width=i.width,i.topBy(this._summaryBounds.height)),this._dataBounds=i.clone(),this._footerBounds&&(this._footerBounds.x=i.x,this._footBounds.y=this._footerBounds.y=i.bottom-this._footerBounds.height,this._footerBounds.width=i.width,i.bottomBy(-this._footerBounds.height)),this._bodyBounds=i},t.prototype.getRowHeightOfCallback=function(e,t){var i=e.getItem(t),n=e.displayOptions.rowHeightCallback;if(n){var r=n.call(this,e.handler,i.type,t),o=[],s=void 0,a=this.trs;if(null!=r){if(Array.isArray(r))for(o=r.slice(0,a),l=r.length;l<a;l++)o.push(this.minRowHeight);else{s=0;for(var l=1;l<a;l++){var u=Math.max(this.minRowHeight,l%2?Math.floor(r/a):Math.round(r/a));o.push(u),s+=u}o.push(Math.max(r-s,this.minRowHeight))}var c=o.reduce(function(e,t){return e+t},0);return i.heights=o.slice(),c}}},t.prototype.$_getItemHeight=function(e,t){var i=e.getItem(t),n=i.height;if(!isNaN(n))return n;if(this._autoRowHeights)return this._minItemHeight;if(e.displayOptions.rowHeightCallback&&Bp.included(i.type,Jd.ROW,Jd.TREE)){var r=this.getRowHeightOfCallback(e,t);if(r)return r;i.heights=null}else i.heights=null;return this._itemHeight},t.prototype.$_calcItemPoints=function(e){var t=this.grid;if(!("mousedown"===t._eventFrom&&this._focusIndex&&!1!==e&&this._topIndex<this._focusIndex.itemIndex-this._fixedItemCount-Math.max(0,this._fullItemCount-1))){e=null==e||e;var i=t.itemSource,n=this.syncHeight(),r=n?1/0:this._itemsBounds;this._topIndex=n?0:this._topIndex;var o=0,s=i?Math.min(i.fixedCount,i.itemCount):0;if(this._fixedItemCount=0,this._fixedBarHeight=0,this._fixedHeight=0,this._fixedItemPoints=[],s>0){this._fixedItemPoints.push(o);for(var a=0;a<s&&o<r;a++)o+=this.$_getItemHeight(t,a),this._fixedItemPoints.push(o),this._fixedItemCount++;this._fixedHeight=o,o+=this._fixedBarHeight=t.fixedOptions.rowBarHeight}var l=t.itemCount-this._fixedItemCount;if(this._itemPoints=[o],this._itemCount=0,this._fullItemCount=0,l>0&&o<r){var u=this._topIndex,c=-1;if(this._focusIndex&&(c=this._focusIndex.itemIndex)>=this._fixedItemCount&&c<u+this._fixedItemCount){var h=c-this._fixedItemCount;null==(d=t.topIndexChanging(u,c-this._fixedItemCount-u,!0,!1))||isNaN(d)||(h=this._topIndex+d),u=this._topIndex=h}for(a=u;a<l&&o<r;a++)o+=this.$_getItemHeight(t,a+this._fixedItemCount),this._itemCount++,this._itemPoints.push(o);if(this._fullItemCount=this._itemCount-(o>r?1:0),e&&c>=this._topIndex+this._fixedItemCount+this._fullItemCount){o=this.fixedItemCount>0?this._fixedHeight+t.fixedOptions.rowBarHeight:0;var d,p=c-this._fixedItemCount-Math.max(0,this._fullItemCount-1)-this._topIndex;for(null==(d=t.topIndexChanging(this._topIndex,p,e,!1))||isNaN(d)||(p=d),this._topIndex+=p,this._itemPoints=[o],this._itemCount=0,this._fullItemCount=0,a=this._topIndex;a<t.itemCount-this._fixedItemCount&&o<r;a++)o+=this.$_getItemHeight(t,a+this._fixedItemCount),this._itemCount++,this._itemPoints.push(o);this._fullItemCount=this._itemCount-(o>=r?1:0)}}else this._topIndex=0}},t.prototype.$_updateScrollInfo=function(e,t,i){var n=this._reqScrollBarWidth,r=this._reqScrollBarHeight,o=i?this._tableItemPoints:this._itemPoints,s=o[o.length-1],a=this._layoutsLength,l=t.fitStyle==jd.EVEN_FILL,u=this.syncHeight();this._hscrolled=a>this._scrollWidth,this._vscrolled=!u&&(this._topIndex>0||e.itemCount>this._itemCount+this._fixedItemCount||s>this._bodyBounds.height);var c=r>0&&this._hscrolled&&!l,h=n>0&&this._vscrolled;c!=h&&(c?n>0&&!u&&(h=s>this._bodyBounds.height-r):r>0&&!l&&(c=a>this._scrollWidth-n)),this._hscrollBar=c,this._vscrollBar=h,this._hscrolled=this._hscrolled||c,this._vscrolled=this._vscrolled||h,this._scrollBarWidth=h?n:0,this._scrollBarHeight=c?r:0,this._scrollWidth-=this._scrollBarWidth},t.prototype.$_recalcScrollInfo=function(e){this._scrollWidth+=this._scrollBarWidth,this._bodyBounds.height+=this._scrollBarHeight,this._gridBounds.height+=this._scrollBarHeight,this._clientRect.height+=this._scrollBarHeight,this.$_updateScrollInfo(e,e.displayOptions,!0),this._bodyBounds.height-=this._scrollBarHeight,this._gridBounds.height-=this._scrollBarHeight,this._clientRect.height-=this._scrollBarHeight},t.prototype.$_adjustVerticals=function(){var e=this._scrollBarHeight,t=this._itemPoints;if(e>0){this._leftContentBounds.height-=e,this._footBounds.y-=e,this._rowBarBounds.height-=e,this._sideContentBounds.height-=e,this._fixedContentBounds.height-=e,this._fixedFooterBounds.y-=e,this._fixedBodyBounds.height-=e,this._nonFixedBounds.height-=e,this._contentBounds.height-=e,this._footerBounds.y-=e,this._bodyBounds.height-=e,this._rightContentBounds.height-=e,this._rightFooterBounds.y-=e,this._rightBodyBounds.height-=e;for(var i=this.syncHeight()?1/0:this._bodyBounds.height;t[t.length-2]>i;)this._itemCount--,t.pop();this._fullItemCount=Math.max(0,this._itemCount-(t[this._itemCount]>=i?1:0));var n=this._focusIndex?this._focusIndex.itemIndex:-1;if(n>=0&&this._itemCount>this._fullItemCount&&n>=this._topIndex+this._fixedItemCount+this._fullItemCount){for(var r=this.grid,o=t[this._itemCount],s=0;o>i;)o-=t[++s];var a=r._prevTop+1!==this._topIndex;if(s>0&&"mousedown"!==r._eventFrom){var l=r.topIndexChanging(this._topIndex,s,!!this._focusIndex,!0);null==l||isNaN(l)||(s=l),t.splice(0,s),this._topIndex+=s,this._itemCount-=s,this._fullItemCount-=s,o=t[0];for(var u=0;u<t.length;u++)t[u]-=o;if(o=t[t.length-1],r.itemCount<this._topIndex+this._fixedItemCount+this._itemCount)this._itemCount--;else for(;o<i&&this._topIndex+this._fixedItemCount+this._itemCount<r.itemCount;)t.push(o+=this.$_getItemHeight(r,this._topIndex+this._fixedItemCount+this._itemCount)),this._itemCount++,this._fullItemCount++;a&&(this._topIndex,this._fixedItemCount,this._fullItemCount)}}}if(this._dataBounds.height=t[t.length-1],this._fullItemCount==this._itemCount){var c=t[t.length-1];this._rowBarBounds.height=c}},t.prototype.$_adjustHorizontals=function(e){this._rightContentBounds.x-=this._scrollBarWidth,this.$_calcLeftPos();var t=this._cellPoints,i=t.length,n=this._leftPos,r=n+this._nonFixedBounds.width;this._startCell=this._endCell=this._firstCell;for(var o=0;o<i;o++)if(t[o]>n){this._startCell+=o-1;break}for(o=i-2;o>=0;o--)if(t[o]<r){this._endCell+=o;break}},t.prototype.$_calcTableRowPoints=function(){var e,t,i=this._trs,n=this._items,r=this._fixedItemCount,o=this._itemCount+r,s=this._fixedTableRowPoints=[],a=this._tableRowPoints=[],l=this._dataRowHeights,u=0;if(this._fixedTableRowCount=this._tableRowCount=0,this._fixedDataHeight=this._dataHeight=0,r>0){for(var c=this._fixedItemPoints;u<r;u++){var h=c[u];if(e=n[u],s.push(h),this._fixedTableRowCount++,e.isData){t=e.heights||l;for(var d=Math.floor((c[u+1]-h)/i),p=Math.round(c[u+1]-h)/i,f=1;f<i;f++)s.push(h+=t[f-1]?t[f-1]:f%2?d:p),this._fixedTableRowCount++}}s.push(this._fixedDataHeight=this._fixedItemPoints[r])}if(this.itemCount>0){for(c=this._itemPoints;u<o;u++)if(h=c[u-r],d=c[u-r+1]-h,e=n[u],a.push(h),this._tableRowCount++,e.isData){t=e.heights||l;var _=Math.floor(d/i);for(p=Math.round(d/i),f=1;f<i;f++)a.push(h+=t[f-1]?t[f-1]:f%2?_:p),this._tableRowCount++}a.push(this._dataHeight=c[this._itemCount]),this._dataHeight+=this._fixedDataHeight}},t.prototype._doMeasure=function(e,t,i){var n=this,r=this._grid,o=r.displayOptions,s=r.fixedOptions,a=e.clone();this._refreshMode=o.refreshMode,this._autoRowHeights=o.rowHeight<0,this._items=[],this._trs=this._cellLayouts.dataRows,this._rowGrouped=this.rowGrouped||this.mergedRowGrouped,this._hscrolled=this._vscrolled=!1,this._hscrollBar=this._vscrollBar=!1,this._reqScrollBarWidth=t,this._reqScrollBarHeight=i,this._minRowHeight=o.minTableRowHeight,this._maxHeight=o.maxRowHeight,this._minItemHeight=Math.max(this._minRowHeight*this._trs,o.minRowHeight),1==this._trs&&(this._minRowHeight=this.minItemHeight),r.heightMeasurer.measure(r),this.$_calcFixedCellPoints(s,this._cellLayouts),this.$_calcCellPoints(this._cellLayouts),this.$_calcRightCellPoints(s,this._cellLayouts),this._itemHeight=this._calcDefaultRowHeight(r);var l=r.container._containerDiv;!this.syncHeight()&&this._oldSyncHeight&&this._oldSyncHeight!==r.displayOptions.syncGridHeight&&l.style.height!==r.container._orgCssHeight&&(l.style.height=r.container._orgCssHeight),n._topContentBounds=a.clone(),n.$_measureTopPane(r),a.topBy(n.topPanelVisible?n._topContentBounds.height:0),n._leftContentBounds=a.clone(),n.$_measureLeftPane(r),a.leftBy(n._leftContentBounds.width),n._sideContentBounds=a.clone(),n._measureSidePane(r),a.leftBy(n._sideContentBounds.width),n.$_measureViewHeights(r,a.clone().move()),n._fixedContentBounds=a.clone(),n.$_measureFixedPane(r),a.leftBy(n._fixedContentBounds.width),n._rightContentBounds=a.clone(),n.$_measureRightPane(r),n._rightContentBounds.x=a.right-n._rightContentBounds.width,a.width-=n._rightContentBounds.width,n._contentBounds=a.clone(),n.$_measureContentPane(r),n._clientRect=e.clone(),n._nonFixedBounds=new _p(n._fixedContentBounds.right,n._fixedContentBounds.y,e.width-n._fixedContentBounds.right-n.rightContentBounds.width,n._fixedContentBounds.height),this._itemsBounds=e.height-this._topContentBounds.height-this._headerBounds.height-this._filterPanelBounds.height-this._summaryBounds.height-this._footBounds.height+1,this.$_calcItemPoints(),this.$_calcScrollWidth(e),this.$_updateScrollInfo(r,o);var u=this._fitStyle;(this._fitStyle=this.$_checkFitting(o,this._scrollWidth))?(this.$_fitColumns(o,this.cellLayouts,this.scrollWidth),this._contentBounds.width=this._layoutsLength):r._activeCellLayout.$_clearFitWidths(),(this._fitStyleChanged=this._fitStyle!=u)&&r.clearRowHeights(!1),this.$_adjustVerticals(),this.$_adjustHorizontals(e),this._gridBounds=new _p(this._fixedContentBounds.x,this._fixedContentBounds.y,e.right-this._fixedContentBounds.x-this._scrollBarWidth,this._footerBounds.y-0),this._clientRect.width-=this._scrollBarWidth,this._clientRect.height-=this._scrollBarHeight,this._nonFixedBounds.width-=this._scrollBarWidth,this._topContentBounds.width-=this._scrollBarWidth},t.prototype.$_layoutTopPane=function(e,t){var i=this._topContentBounds;this.topPanelVisible?t.setRect(i):t.setBounds(-10,-10,1,1),this._doLayoutTopPane(e,t)},t.prototype._doLayoutTopPane=function(e,t){},t.prototype.$_layoutLeftPane=function(e,t){var i=this._leftContentBounds;function n(e,t,i,n){(e.visible=t.visible)&&(e._table.parentElement!==e._dom&&e._dom.appendChild(e._table),i&&(e.setRect(n),e.layoutContent(this)))}(e.rowBarContainer.visible=t.visible=!i.isEmpty)?(t.setRect(i),n.call(this,e.headView,e.header,!1,this._headBounds),n.call(this,e.sumView,e.headerSummaries,!0,this._sumBounds),n.call(this,e.footView,e.footers,!0,this._footBounds),n.call(this,e.filterView,e.filterPanel,!0,this._filterBounds)):[e.headView,e.sumView,e.footView,e.filterView].forEach(function(e){e&&Bp.detach(e._table)})},t.prototype._layoutSidePane=function(e,t){var i=this._sideContentBounds;t.setRect(i),(t.visible=!i.isEmpty)&&t.layoutContent(this,i.width,i.height)},t.prototype._prepareItems=function(e){for(var t=this._topIndex+this._fixedItemCount,i=0;i<this._fixedItemCount;i++){var n=this._rs.getItem(i);this._items.push(n)}var r=this.grid.bodyView,o=e?r._getTableRowCount(this):this._itemCount;for(i=0;i<o&&(n=this._rs.getItem(i+t));i++)this._items.push(n);e&&(this._itemCount=this._items.length-this._fixedItemCount)},t.prototype.$_layoutFixedPane=function(e,t){var i,n=this._fixedContentBounds;if(t.visible=!n.isEmpty){var r=e._columnsDirty||e._cellLayoutDirty||e._needPosition,o=r||e._dataChanged||e._itemCheckChanged;t.setRect(n),((i=e.fixedHeaderView).visible=e.header.visible)&&(i.setRect(this._fixedHeaderBounds),i.layoutContent(this)),((i=e.fixedHeaderSummaryView).visible=e.headerSummaries.canShow)&&(o||e.headerSummaries.dirty)&&(i.setRect(this._fixedSummaryBounds),i.layoutContent(this)),((i=e.fixedFilterView).visible=e.filterPanel.visible)&&(r||e.filterPanel.dirty)&&(i.setRect(this._fixedFilterBounds),i.layoutContent(this)),((i=e.fixedFooterView).visible=e.footers.canShow)&&(o||e.footers.dirty)&&(i.setRect(this._fixedFooterBounds),i.layoutContent(this)),(i=e.fixedBodyView).visible=!0,t.layoutContent(this,n.width,n.height)}else e.fixedHeaderView.visible=!1,e.fixedHeaderSummaryView.visible=!1,e.fixedFilterView.visible=!1,e.fixedFooterView.visible=!1,e.fixedBodyView.visible=!1},t.prototype.$_layoutRightPane=function(e,t){var i,n=this._rightContentBounds,r=e._columnsDirty||e._cellLayoutDirty||e._needPosition,o=r||e._dataChanged||e._itemCheckChanged;(t.visible=!n.isEmpty)?(this._rightFixed||this._hscrolled||(n.x=this._contentBounds.right),t.setRect(n),((i=e.rightHeaderView).visible=e.header.visible)&&(i.setRect(this._rightHeaderBounds),i.layoutContent(this)),((i=e.rightHeaderSummaryView).visible=e.headerSummaries.canShow)&&(o||e.headerSummaries.dirty)&&(i.setRect(this._rightSummaryBounds),i.layoutContent(this)),((i=e.rightFilterView).visible=e.filterPanel.visible)&&(r||e.filterPanel.dirty)&&(i.setRect(this._rightFilterBounds),i.layoutContent(this)),((i=e.rightFooterView).visible=e.footers.canShow)&&(o||e.footers.dirty)&&(i.setRect(this._rightFooterBounds),i.layoutContent(this)),(i=e.rightBodyView).visible=!0,t.layoutContent(this,n.width,n.height)):(e.rightHeaderView.visible=!1,e.rightHeaderSummaryView.visible=!1,e.rightFilterView.visible=!1,e.rightFooterView.visible=!1,e.rightBodyView.visible=!1)},t.prototype.$_layoutContentPane=function(e,t){var i,n=this._contentBounds,r=e._columnsDirty||e._cellLayoutDirty||e._needPosition,o=r||e._dataChanged||e._itemCheckChanged;(t.visible=!n.isEmpty)?(n.x-=this._leftPos,t.setRect(n),((i=e.headerView).visible=e.header.visible)&&(this._headerBounds.width=n.width,i.setRect(this._headerBounds),i.layoutContent(this)),((i=e.filterPanelView).visible=e.filterPanel.visible)&&(r||e.filterPanel.dirty)&&(this._filterPanelBounds.width=n.width,i.setRect(this._filterPanelBounds),i.layoutContent(this)),((i=e.headerSummaryView).visible=e.headerSummaries.canShow)&&(o||e.headerSummaries.dirty)&&(this._summaryBounds.width=n.width,i.setRect(this._summaryBounds),i.layoutContent(this)),((i=e.footerView).visible=e.footers.canShow)&&(o||e.footers.dirty)&&(this._footerBounds.width=n.width,i.setRect(this._footerBounds),i.layoutContent(this)),(i=e.bodyView).visible=!0,this._bodyBounds.width=n.width,t.layoutContent(this,n.width,n.height)):e.headerView.visible=e.headerSummaryView.visible=e.footerView.visible=e.bodyView.visible=!1},t.prototype.$_layoutWatingPane=function(e,t){var i=e.bounds.clone();t.setRect(i),t.layoutContent(this,i.width,i.height)},t.prototype._doLayout=function(e,t){var i;this._prepareItems(this._autoRowHeights),this.$_calcTableRowPoints(),i=e._topContentPane,this.$_layoutTopPane(e,i),i=e._leftContentPane,this.$_layoutLeftPane(e,i),i=e._fixedContentPane,this.$_layoutFixedPane(e,i),i=e._rightContentPane,this.$_layoutRightPane(e,i),i=e._contentPane,this.$_layoutContentPane(e,i)},t.prototype.$_adjustHeader=function(e,t,i,n){var r=e.fixedHeaderView,o=e.rightHeaderView,s=e.headerView,a=e.header.height,l=s.height,u=0,c=!1;if(i&&(c=r.$_checkHeight()),!c&&n&&(c=o.$_checkHeight()),!c&&t&&(c=s.$_checkHeight()),c){var h=[],d=0;i&&(r.$_getHeights(h),a>0?r.$_distributeHeights(a,h):d=Math.max(d,r.$_adjustHeights(h))),n&&(o.$_getHeights(h),a>0?o.$_distributeHeights(a,h):d=Math.max(d,o.$_adjustHeights(h))),t&&(s.$_getHeights(h),a>0?s.$_distributeHeights(a,h):d=Math.max(d,s.$_adjustHeights(h))),a<0&&(u+=d-l,this._headBounds.height=d,i&&this._fixedHeaderBounds.height!=d&&(this._fixedHeaderBounds.height=d,r.setRect(this._fixedHeaderBounds),r.$_adjustHeights(h)),n&&this._rightHeaderBounds.height!=d&&(this._rightHeaderBounds.height=d,o.setRect(this._rightHeaderBounds),o.$_adjustHeights(h)),t&&this._headerBounds.height!=d&&(this._headerBounds.height=d,s.setRect(this._headerBounds),s.$_adjustHeights(h)))}return u},t.prototype._adjustLayout=function(e,t){var i,n=this._autoRowHeights,r=e._fixedContentPane,o=e._rightContentPane,s=e._contentPane,a=e.fixedHeaderView,l=e.rightHeaderView,u=e.headerView,c=e.headView.visible,h=r.visible,d=o.visible,p=s.visible,f=0,_=0,g=this.$_adjustHeader(e,p,h&&u.visible&&a.visible,d&&l.visible);if(0!=g&&(_=this._fixedFilterBounds.y=this._rightFilterBounds.y=this._filterPanelBounds.y=this._filterBounds.y+=g,h&&(e.fixedFilterView.y=_),d&&(e.rightFilterView.y=_),p&&(e.filterPanelView.y=_),c&&(e.filterView.y=_)),0!=g&&(this._fixedSummaryBounds.y=this._rightSummaryBounds.y=this.summaryBounds.y=this._sumBounds.y=this._filterBounds.bottom),e.headerSummaries.canShow&&0!=g&&(h&&(e.fixedHeaderSummaryView.y=this._fixedSummaryBounds.y),d&&(e.rightHeaderSummaryView.y=this._rightSummaryBounds.y),p&&(e.headerSummaryView.y=this._summaryBounds.y),c&&(e.sumView.y=this._sumBounds.y)),t.topBy(this._headBounds.height+this._sumBounds.height+this._filterBounds.height),0!=g&&(_=this._sumBounds.bottom,f=Math.min(t.height,this._rowBarBounds.height),this._fixedBodyBounds.y=this.bodyBounds.y=this._rightBodyBounds.y=_,this._fixedBodyBounds.height=this._bodyBounds.height=this._rightBodyBounds.height=f),(i=e.fixedBodyView).visible&&i.setRect(this._fixedBodyBounds),(i=e.bodyView).visible&&i.setRect(this._bodyBounds),(i=e.rightBodyView).visible&&i.setRect(this._rightBodyBounds),this.$_layoutBodyRows(e,h,p,d,this._bodyBounds.height),this.$_adjustTableRowHeights(),n&&this.$_recalcScrollInfo(e),this.syncHeight()){var m=this.topContentBounds.height+this.headerBounds.height+this.footerBounds.height+this.summaryBounds.height+this.scrollBarHeight+this._filterBounds.height,y=e.container._containerDom,v=e.container._containerDiv,b=y.offsetWidth-y.clientWidth,w=v.offsetHeight,C=this._tableItemPoints[this._tableItemPoints.length-1];(this._fitSyncHeight=this.itemCount>0&&(m+C+b>=w||e.displayOptions.syncGridHeight===op.ALWAYS))?v.style.height=m+C+b+"px":(e.recallHeight(),C=w-m-b+(this.topPanelVisible?0:1));var x=new _p(0,0,y.clientWidth,y.clientHeight);e.setRect(x),this._topContentBounds.width=x.width,this.$_layoutTopPane(e,this.grid._topContentPane),this._bodyBounds.height=this._fixedBodyBounds.height=this._rightBodyBounds.height=C,e.bodyView.setRect(this._bodyBounds),e.fixedBodyView.setRect(this._fixedBodyBounds),e.rightBodyView.setRect(this._rightBodyBounds),this._contentBounds.height=this._fixedContentBounds.height=this._rightContentBounds.height=this._headerBounds.height+this._summaryBounds.height+this._bodyBounds.height+this._footerBounds.height+this._filterBounds.height,this._contentBounds.x=this._leftContentBounds.width+this._sideContentBounds.width+this._fixedContentBounds.width,this.$_layoutContentPane(e,e._contentPane),this.$_layoutFixedPane(e,e._fixedContentPane),this.$_layoutRightPane(e,e._rightContentPane),this._gridBounds.height=this._headerBounds.height+this._summaryBounds.height+this._bodyBounds.height+this._filterBounds.height,this._footBounds.y=this._footerBounds.y=this._fixedFooterBounds.y=this._rightFooterBounds.y=this._bodyBounds.bottom,e.footView.y=e.footerView.y=e.fixedFooterView.y=e.rightFooterView.y=this._bodyBounds.bottom,t=this._gridBounds.clone()}else this._fitSyncHeight=!1;if(this._topIndex>0){var I=n?this._minItemHeight:this._itemHeight;if(this._contentBounds.y+this._dataBounds.bottom+I<=this._gridBounds.bottom&&(n?this.$_fillBottomAuto(e,h,p,d,this._bodyBounds.height):this.$_fillBottomFixed(e,h,p,d,this._bodyBounds.height)),0==this._topIndex){var E=this._vscrollBar;this.$_recalcScrollInfo(e),this._vscrollBar!=E&&this._fitStyle&&(this.$_layoutBodyRows(e,h,p,d,this._bodyBounds.height,!1),this.$_adjustTableRowHeights())}}e.fixedBodyView.visible&&e.fixedBodyView.$_resetCellHeights2(this,n),e.bodyView.visible&&e.bodyView.$_resetCellHeights2(this,n),e.rightBodyView.visible&&e.rightBodyView.$_resetCellHeights2(this,n);var O=this._tableItemPoints;this._dataBounds.height=O[O.length-1],_=this._sumBounds.bottom,f=Math.min(t.height,this._dataBounds.height),this._rowBarBounds.y=_,this._rowBarBounds.height=f,h&&e._fixedContentPane.layoutBars(this,this._fixedContentBounds.width,this._fixedContentBounds.height),d&&e._rightContentPane.layoutBars(this,this._rightContentBounds.width,this._rightContentBounds.height),(i=e.headView).visible&&(i.setRect(this._headBounds),i.layoutContent(this)),(i=e.rowBarContainer).visible&&(i.setRect(this._rowBarBounds),i.layoutContent(this))},t.prototype.$_layoutBodyRows=function(e,t,i,n,r,o){function s(e,t,i,n){p._items.push(e),y.forEach(function(r,o){r&&r.layoutRow(t,v[o],i,n,e)})}function a(t,i,n,r){var o=t.height,s=[];if(!e.displayOptions.refCalcHeights||isNaN(o)){for(var a=0;a<E;a++)s[a]=0;y.forEach(function(e){for(var t=e&&e._tbody.children,i=0;t&&i<E;i++)s[i]=Math.ceil(Math.max(s[i],I,t[n+i].offsetHeight))}),t.heights=s}else if(t.heights)s=t.heights;else{var l=0,u=0;for(a=0;a<E;a++)l+=u=a%2?Math.floor(o/E):Math.round(o/E),s.push(u);s.push(w-l)}o=0;var c=s.reduce(function(e,t){return e+t},0)+3;if(c>O){var h=O/c;c=O;for(var d=0;d<s.length-1;d++)c-=s[d]=Math.max(I,Math.floor(s[d]*h));s[s.length-1]=Math.max(I,c)}for(d=0;d<E;d++)o+=s[d],r.push(i+=s[d]);return f.setRowHeight(t,o,!1),y.forEach(function(e){e&&e.setRowViewHeight(t,i-o)}),o}void 0===o&&(o=!0);var l,u=t&&this._fixedCellCount>0?e.fixedBodyView:null,c=i&&this.cellCount>0?e.bodyView:null,h=(n&&this._rightCellCount)>0?e.rightBodyView:null,d=this._dataRowHeights,p=this;if(o&&this.$_checkColumnMerging(e,this.syncHeight()),l=c||u||h){var f=e.itemSource,_=f?Math.min(f.fixedCount,f.itemCount):0,g=this._autoRowHeights,m={lm:this,grid:e,topIndex:this._topIndex,fixedItemCount:_,mergeFixed:e.fixedOptions.mergeRows,mergedRowGrouped:this.mergedRowGrouped,rowGroupFields:this.rowGroupFields},y=[u,c,h],v=[[],[],[]];y.forEach(function(e){e&&e._doPrepareContent(p)}),r=this.syncHeight()?1/0:r;var b,w,C,x,I=this._minRowHeight,E=l._trs,O=this._maxHeight>0?Math.min(Math.max(this._maxHeight,I*E),r):r,S=Math.floor(y.reduce(function(e,t){return t?Math.max(t.tableRowCount,e):e},0)/E),k=0,P=0,R=0,T=[],D=[],M=[];this._fixedTableRowCount=0,this._tableRowCount=0,this._fixedDataHeight=this._dataHeight=0,this._items=[];var L=Math.min(_,this._fixedItemCount,Math.ceil(r/I));if(this._fixedHeight=0,_>0){T.push(P),D.push(R);for(var A=k,F=0;F<L;F++)s(f.getItem(F),m,F,A),A+=E;for(F=0;F<_&&P<r;F++){x=f.getItem(F);var $=E;if(this._items.indexOf(x)<0&&s(x,m,F,k),g)R+=w=a(x,R,k,D);else{b=R,w=this._fixedItemPoints[F+1]-this._fixedItemPoints[F],C=Math.floor(w/$);for(var N=Math.round(w/$),j=x.heights||d,B=0;B<$-1;B++)D.push(R+=j[B]?j[B]:B%2?N:C);D.push(R=b+w)}this._fixedTableRowCount+=$,P+=w,T.push(P),this._fixedDataHeight=P,k+=$}this._fixedHeight=P,P<r&&(w=0,y.forEach(function(e){e&&(w=e.layoutFixedBar(p,k))}),k++,P+=w,R+=w),S=S-this._fixedItemCount-1}this._fixedItemCount=T.length?T.length-1:0;var V=e.itemCount-this._fixedItemCount,H=[P];if(M.push(P),L=Math.min(V,S,Math.ceil((r-P)/I)),this._itemCount=0,this._fullItemCount=0,V>0&&P<r){var U=this._topIndex,W=-1;for(this._focusIndex&&(W=this._focusIndex.itemIndex)>=this._fixedItemCount&&W<U+this._fixedItemCount&&(U=this._topIndex=W-this._fixedItemCount),A=k,F=0;F<L&&F+U<V&&(x=f.getItem(F+U+_));F++)s(x,m,this._fixedItemCount+F,A),A+=x.isData?E:1;for(F=U;F<V&&P<r;F++){if($=(x=f.getItem(F+_)).isData?E:1,this._items.indexOf(x)<0&&s(x,m,this._fixedItemCount+F-U,k),x.isData)if(g)R+=w=a(x,R,k,M);else{for(b=R,w=this._itemPoints[F-U+1]-this._itemPoints[F-U],C=Math.floor(w/$),N=Math.round(w/$),j=x.heights||d,B=0;B<$-1;B++)M.push(R+=j[B]?j[B]:B%2?N:C);M.push(R=b+w)}else w=this._itemPoints[F-U+1]-this._itemPoints[F-U],M.push(R+=w);this._tableRowCount+=$,P+=w,H.push(P),this._itemCount++,this._dataHeight=P,k+=$}this._fullItemCount=this._itemCount-(P>r?1:0)}g&&y.forEach(function(e){e&&e.$_resetHeights(D,M)}),Bp.ieOld&&y.forEach(function(e){e&&e.$_resetCellStyleHeights(D,M)}),this._fixedItemPoints=T,this._itemPoints=H,this._fixedTableRowPoints=D,this._tableRowPoints=M,this._dataBounds.height=H[H.length-1];var G=this._items.length=this.fixedItemCount+this._itemCount;y.forEach(function(e){e&&e.cleanRows(G,k)})}},t.prototype.$_adjustTableRowHeights=function(){if(this.fixedItemCount+this._itemCount!=0){for(var e=this._items,t=this._trs,i=this._fixedTableRowPoints,n=this._fixedTableItemPoints=[0],r=0,o=1,s=this._fixedItemCount;o<=s;o++,r++)n.push(i[o*t]);i=this._tableRowPoints,n=this._tableItemPoints=[i[0]],o=0;var a=0;for(s=this._itemCount;o<s;o++,r++)e[r].isData?n.push(i[a+=t]):n.push(i[++a])}else this._tableItemPoints=this._tableRowPoints.slice()},t.prototype.$_fillBottomFixed=function(e,t,i,n,r){for(var o=this._dataBounds.height,s=this._topIndex,a=0;(o+=this.$_getItemHeight(this.grid,s--))<this._bodyBounds.height&&s>=0;)a++;this._topIndex=Math.max(0,this._topIndex-a),this.$_calcItemPoints(!1),this._prepareItems(this._autoRowHeights),this.$_calcTableRowPoints(),this.$_layoutBodyRows(e,t,i,n,r),this.$_adjustTableRowHeights()},t.prototype.$_fillBottomAuto=function(e,t,i,n,r){for(;this._topIndex>0&&this._gridBounds.bottom-this._contentBounds.y-this._dataBounds.bottom>this._minItemHeight;){var o=this._tableItemPoints,s=o[1]-o[0];if(this._topIndex--,this.$_calcItemPoints(!1),this._prepareItems(this._autoRowHeights),this.$_calcTableRowPoints(),this.$_layoutBodyRows(e,t,i,n,r),this.$_adjustTableRowHeights(),s+(o=this._tableItemPoints)[o.length-1]+this._contentBounds.y+this._dataBounds.y>this._gridBounds.bottom){this._topIndex++,this.$_calcItemPoints(),this._prepareItems(this._autoRowHeights),this.$_calcTableRowPoints(),this.$_layoutBodyRows(e,t,i,n,r),this.$_adjustTableRowHeights();break}}},t.prototype.$_prepareColumnMerges=function(e,t,i,n){for(var r=this._fixedItemCount,o=this._itemCount,s=!1,a=0,l=e.length;a<l;a++){var u=e[a],c=u&&u.layout;c&&c.canMerge()?((h=c.merges)||((h=new av(c)).clear(),h.initialize(Jy.INIT_COUNT)),h.refreshRooms(t,i,n),h.prepareCells(r,o),h.refreshCells(r,this.topIndex),c.$_setMerged(!0),s=!0):c.$_setMerged(!1)}var h,d=this.grid.checkBar;return d.canMerge()?((h=d.merges)||((h=new Eb(d)).clear(),h.initialize(Jy.INIT_COUNT)),h.refreshRooms(t,i,n),h.prepareCells(r,o),h.refreshCells(r,this.topIndex),d._merged=!0):d._merged=!1,s},t.prototype.$_checkColumnMerging=function(e,t){void 0===t&&(t=!1);var i=e.fixedOptions,n=i.rowCount,r=this._contentBounds.height/this._minItemHeight-n,o=this._topIndex,s=n>0&&i.mergeRows,a=t?n:n+o,l=t?e.itemCount-1:Math.min(e.itemCount-1,n+o+r-1);l>=0&&this.$_prepareColumnMerges(e.getHorzColumns(),a,l,s)},t}(Yp),hC=function(e){function t(t){var i=e.call(this,t)||this;return i.summaryIndex=0,i.rowIndex=-1,i.rendererClass="",i.style=new uv,i.html=void 0,i.text=t[Bp.TextProp],i}return gd(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.layout=null,this.renderCallback=null},t.prototype.span=function(){this.spanned=!0,this.clear(!1)},t.prototype.clear=function(t){e.prototype.clear.call(this,t);var i=this.cell.firstElementChild;return this.className&&(this.cell.className=this.className=""),this.rendererClass&&(i.className=this.rendererClass=""),this.text&&(i[Bp.TextProp]=this.text=""),this.html&&(i.innerHTML=this.html="",this.renderCallback=null),this},t.prototype.refreshFormatters=function(e){var t;this.textFormatter=null,this.numberFormatter=null,this.datetimeWriter=null,this.booleanFormatter=null,(t=e.textFormat)&&(this.textFormatter=Zy.getFormatter(t)),(t=e.numberFormat)&&(this.numberFormatter=a_.getFormatter(t)),(t=e.datetimeFormat)&&(this.datetimeWriter=i_.getFormatter(t)),(t=e.booleanFormat)&&(this.booleanFormatter=n_.getFormatter(t)),this.prefix=e.prefix,this.suffix=e.suffix,this.text=e.text},t.prototype.setText=function(e){e!==this.displayText&&(this.cell.firstElementChild[Bp.TextProp]=(this.displayText=e)||"",this.renderCallback=null)},t.prototype.setHtml=function(e,t){if(e!==this.html){var i=this.cell.firstElementChild;return i.innerHTML=(this.html=e)||"",this.renderCallback=t&&Iy(i,t),!0}},t.prototype.setClassName=function(e){return e!=this.className&&(this.cell.className=this.className=e,!0)},t.prototype.setRendererClassName=function(e){e!=this.rendererClass&&(this.cell.firstElementChild.className=this.rendererClass=e)},t}(tC),dC=function(e){function t(t,i,n){var r=e.call(this,t,i,n)||this;return r._rowPoints=[],r._cells=[],r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.tableCellByCell=function(e){for(var t=0;t<this._cells.length;t++)for(var i=this._cells[t],n=0;n<i.length;n++){var r=i[n];if(r&&r.cell===e)return r}return null},t.prototype.tableCellsByLayout=function(e){for(var t=[],i=0;i<this._cells.length;i++)for(var n=this._cells[i],r=0;r<n.length;r++){var o=n[r];o&&o.layout===e&&t.push(o)}return t},t.prototype.layoutByCell=function(e){var t=this.tableCellByCell(e);return t&&t.layout},t.prototype.columnByCell=function(e){var t=this.layoutByCell(e);return t&&t._columnObj},t.prototype._getCellCount=function(e){return e.cellCount-e.fixedCellCount-e.rightCellCount},t.prototype._getCellWidth=function(e,t){return e.getCellWidth(t)},t.prototype._doDrawCell=function(e,t,i){},t.prototype._doRender=function(e){},t.prototype._getStartCell=function(e){return e.getStartCell()},t.prototype._getEndCell=function(e){return e.getEndCell()},t.prototype._prepareCellContent=function(e,t){return $p(e).createElement("div")},t.prototype._doMeasure=function(e,t,i){for(var n=e.layoutManager,r=this._getSummaryRows(n),o=this._getCollection(),s=this._getSummaryHeight(e.heightMeasurer),a=0,l=this._rowPoints=[a],u=0,c=e.layoutManager.getDataRowHeights(r),h=c.reduce(function(e,t){return e+t},0),d=0,p=o.visibleCount;d<p;d++){var f=o.getVisible(d),_=Math.max(h,f.height);_<=0&&(_=s*r),_=Math.max(f.minHeight,_);var g=f.heights;if(g&&g.length>0){for(var m=0;m<r;m++)g[m]=isNaN(g[m])||null==g?s:g[m];_=g.reduce(function(e,t){return e+t},0)}for(var y=Math.floor(_/r),v=0,b=0;b<r-1;b++)g&&g.length>0?(a+=g[b],l.push(a),v+=g[b]):c[b]?(a+=Math.round(c[b]*(_/h)),l.push(a),v+=Math.round(c[b]*(_/h))):(a+=y,l.push(a),v+=y);a+=_-v,l.push(a),u+=_}return Aw.create(t,u)},t.prototype.$_refreshHeadTitle=function(e,t){for(var i=this._cells[0],n=t.children[0],r=0;n&&r<i.length;r++){var o=i[r].layout.source,s=n.children[r];s&&o&&(s[Bp.TextProp]=(o.header.getDisplayText()||o.firstColumn.header.displayText)+" summary")}},t.prototype._doLayoutContent=function(e){var t=e.grid,i=this._getCollection(),n=this._getSummaryCount(e),r=e.cellLayouts._dataCells,o=r.length,s=this._getFirstCell(e),a=this._getStartCell(e)-s,l=this._getEndCell(e)-s;this._refreshCells(e,n,r,this._tbody),this.$_refreshSpans(e,o*n),this.$_refreshHeadTitle(e,this._thead);for(var u=0;u<n;u++)for(var c=i.getVisible(u),h=0;h<o;h++){var d=this._cells[u*o+h],p=this._getTableRow(e,u*o+h);Bp.setClassName(p,c.styleName||"");for(var f=a;f<=l;f++){var _=d[f];if(_.visible){var g=_.layout;if(g.isProxy)_.setText(""),_.setClassName(c.getCellStyleName());else if(g instanceof Dv)_.setText(""),_.setClassName(c.getCellStyleName());else{var m=c.getCell(g);this._updateCell(t,c,m,_)}}}}},t.prototype._updateCell=function(e,t,i,n){var r=i,o=r.getSummary(),s=t.getCellStyle(i,n.style.clear());if(n.setClassName(s.styleName),n.setRendererClassName(this._getRendererStyle()),n.refreshFormatters(s),o){t.getCellFormatters(o,n);var a=r.getTemplate(n),l=o.templateEvents;if(void 0===a)n.setText(r.getDisplayText(n));else{var u=n.setHtml(a,l);n.renderCallback&&n.renderCallback.forEach(function(i){i.callback.call(null,e.handler,r.valueColumn,o.summaryIndex,t,i.elt,u)})}}else n.setText("")},t.prototype._getTableRowHeight=function(e,t){return this._rowPoints[t+1]-this._rowPoints[t]},t.prototype._refreshCells=function(e,t,i,n){for(var r=this._cells,o=n.children,s=o.length,a=i.length,l=this._getFirstCell(e),u=this._getLastCell(e)-l+1,c=r.length;c<s;c++)r.push([]);c=0;for(var h=0;c<t&&h<s;c++)for(var d=this.model.getVisible(c).childIndex,p=0;p<a;p++){for(var f=r[h],_=o[h].children,g=i[p],m=0;m<u;m++){var y=g[m+l],v=f[m];v?v.cell!==_[m]||v.layout!=y&&(v.layout=y,v.clear(!0)):(v=f[m]=new hC(_[m])).layout=y,v.spanned=!1,v.summaryIndex=d,v.rowIndex=h}for(h++,m=u;m<f.length;m++)f[m].dispose();f.length=u}for(h=s;h<r.length;h++){var b=r[h];for(m=0;m<b.length;m++)b[m].dispose(),b[m]=null}r.length=s},t.prototype.$_refreshSpans=function(e,t){for(var i=this._getFirstCell(e),n=this._getFirstCell(e)-i,r=this._getLastCell(e)-i,o=e.cellLayouts._dataCells.length,s=this._rowPoints,a=0;a<t;a++)for(var l=this._cells[a],u=l.length,c=n;c<=r;c++){var h=l[c],d=h.layout,p=d.parent,f=p&&p.vertical;if(h.spanned);else if(d.isProxy)h.clear(!1);else{var _=0,g=0,m=this._getSpanOf(d,h.summaryIndex)-1,y=this._getUserSpanOf(d,h.summaryIndex);if(y){var v=y.footerCount||0,b=v>0?v*t:y.rowspan||1,w=y.colspan||1;h.set(w,b,!0);for(var C=0;C<b;C++)for(var x=0;x<w;x++){var I=this._cells[C+a]&&this._cells[C+a][x+c];I&&I!==h&&I.span()}}if(!y&&m>0){var E=0,O=d.vindex+1;if(f)for(;E++<m&&E<o&&(S=p.getVisible(O++));)g+=S._dspan,this._cells[a+E][c].span();else for(;E++<m&&c-n+E<u&&O<p.visibleCount;){var S;if(!(S=p.getVisible(O++)))break;_+=S._cspan,l[c+E].span()}}d.isNull&&h.clear(!0),!y&&h.set(d._cspan+_,d._dspan+g,!0),h.rowSpan>1&&(h.height=s[h.rowIndex+h.rowSpan]-s[h.rowIndex],h.cell.firstElementChild.style.maxHeight=h.height-2+"px")}}},t.prototype._doPrepareTableRow=function(t,i,n,r){e.prototype._doPrepareTableRow.call(this,t,i,n,r)},t}(Bw),pC=function(e){function t(t,i){return e.call(this,t,i,"footerView")||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._getCssSelector=function(){return"rg-footer"},t.prototype._getRendererStyle=function(){return"rg-footer-renderer"},t.prototype._getSummaryRows=function(e){return e.dataRows},t.prototype._getCollection=function(){return this.model},t.prototype._getSummaryHeight=function(e){return e.footerHeight},t.prototype._getSummaryCount=function(e){return e.footerCount},t.prototype._getSpanOf=function(e,t){return e.getFooterSpan(t)},t.prototype._getUserSpanOf=function(e,t){return e.getFooterUserSpan(t)},t.prototype._getTableRowCount=function(e){return e.dataRows*e.footerCount},t.prototype._getSummaryItem=function(e,t){return e.firstColumn.footers.get(t)},t}(dC),fC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-fixed-footer"},t.prototype._getExplicitWidth=function(e){return e.fixedWidth-e.fixedBarWidth},t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return 0},t.prototype._getEndCell=function(e){return e.fixedCellCount-1},t.prototype._getCellCount=function(e){return e.fixedCellCount},t.prototype._getCellWidth=function(e,t){return e.getFixedCellWidth(t)},t}(pC),_C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-fixed-footer"},t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return e.cellCount-e.rightCellCount},t.prototype._getEndCell=function(e){return e.cellCount-1},t.prototype._getCellCount=function(e){return e.rightCellCount},t.prototype._getCellWidth=function(e,t){return e.getRightCellWidth(t)},t}(pC),gC=function(e,t){return"object"==typeof e&&Object.prototype.toString.call(e).indexOf(t)>=0},mC=function(e){function t(t,i){var n=e.call(this)||this;return n._active=!1,n._completed=!1,n._dragging=!1,n._currentX=0,n._currentY=0,n._container=t,n._name=i,n}return gd(t,e),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragging",{get:function(){return this._dragging},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWhenCreated",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){return this._completed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.activate=function(){this._active||(this._doActivate(),this._active=!0)},t.prototype.deactivate=function(){this._active&&(this.cancel(),this._doDeactivate(),this._active=!1)},t.prototype.start=function(e,t,i,n){return void 0===n&&(n=null),this.cancel(),!(!this._active||!this._doStart(e,t,i,n)||(this._currentX=this._startX=t,this._currentY=this._startY=i,this._dragging=!0,this._completed=!1,this._showFeedback(t,i),0))},t.prototype.drag=function(e,t,i,n){return!(!this._dragging||(this._currentX=t,this._currentY=i,!this._doDrag(e,t,i,n))||(this._moveFeedback(t,i),0))},t.prototype.cancel=function(){try{if(this._dragging)try{this._dragging=!1,this._doCanceled(this._currentX,this._currentY)}finally{this._doEnded()}}finally{this._hideFeedback()}},t.prototype.drop=function(e,t,i,n){try{if(this._dragging)try{this._currentX=t,this._currentY=i,this._dragging=!1,this._canAccept(e,t,i,n)?(this._doCompleted(e,t,i,n),this._completed=!0):this._doCanceled(t,i)}finally{this._doEnded()}}finally{this._hideFeedback()}},t.prototype.getRequest=function(){return null},t.prototype.getNextRequest=function(e,t){return null},t.prototype.init=function(e,t,i){this._doInit(e,t,i)},Object.defineProperty(t.prototype,"currentX",{get:function(){return this._currentX},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentY",{get:function(){return this._currentY},enumerable:!1,configurable:!0}),t.prototype._showFeedback=function(e,t){},t.prototype._moveFeedback=function(e,t){},t.prototype._hideFeedback=function(){},t.prototype._doActivate=function(){},t.prototype._doDeactivate=function(){},t.prototype._doStart=function(e,t,i,n){return!0},t.prototype._doDrag=function(e,t,i,n){return!0},t.prototype._doCanceled=function(e,t){},t.prototype._canAccept=function(e,t,i,n){return!0},t.prototype._doCompleted=function(e,t,i,n){},t.prototype._doEnded=function(){},t.prototype._doInit=function(e,t,i){},t}(Yp);!function(e){e.COPY="copy",e.MOVE="move"}(cw||(cw={})),function(e){e.LINE="line",e.ROW="row",e.CELL="cell",e.GROUP="group"}(hw||(hw={}));var yC,vC=function(e){function t(t){var i=e.call(this,t)||this;return i._dropMode=cw.COPY,i._feedbackStyle=hw.LINE,i._scroll=!0,i._cursor="move",i._dropOtherElement=!1,i._dropOtherGrid=!0,i.assignFrom(u_.dataDrop),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"dragCallback",{get:function(){return this._dragCallback},set:function(e){this._dragCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"callback",{get:function(){return this._callback},set:function(e){this._callback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropMode",{get:function(){return this._dropMode},set:function(e){this._dropMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"feedbackStyle",{get:function(){return this._feedbackStyle},set:function(e){this._feedbackStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldMap",{get:function(){return this._fieldMap},set:function(e){this._fieldMap=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldMapCallback",{get:function(){return this._fieldMapCallback},set:function(e){this._fieldMapCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"proxyLabel",{get:function(){return this._proxyLabel||r_.messages.dataDropProxyLabel},set:function(e){this._proxyLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelCallback",{get:function(){return this._labelCallback},set:function(e){this._labelCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scroll",{get:function(){return this._scroll},set:function(e){this._scroll=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{get:function(){return this._cursor},set:function(e){this._cursor=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropOtherElement",{get:function(){return this._dropOtherElement},set:function(e){this._dropOtherElement=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropOtherGrid",{get:function(){return this._dropOtherGrid},set:function(e){this._dropOtherGrid=e},enumerable:!1,configurable:!0}),t.prototype.getEnabled=function(e,t,i,n,r,o){if(!this.dropOtherElement&&o||this.grid!==e&&!e.dataDropOptions.dropOtherGrid)return!1;var s=this._dragCallback;if(s)return!1!==s(e.handler,t,o||this.grid.handler,i.index,i.column);if(this.grid===e&&!o){var a=e.layoutManager;return(r-=a.contentBounds.y)<=a.footerBounds.y&&r>=a.summaryBounds.bottom}return!0},t.prototype.getLabel=function(e,t,i,n){var r=this._labelCallback,o=void 0;return r&&(o=r(e.handler,t,n||this.grid.handler,i.index,i.column)),void 0===o&&this.proxyLabel&&(o=(o=(o=(o=this.proxyLabel.replace("${rows}",t.length+"")).replace("${mode}",e==this.grid||this.dropMode==cw.MOVE?r_.messages.dataDropModeMove:r_.messages.dataDropModeCopy)).replace("${from}",t[0]+"")).replace("${to}",i.index+"")),o},t}(Dw),bC=function(e){function t(t,i){var n=e.call(this,t.container,i)||this;return n._grid=t,n}return gd(t,e),t.prototype._doDispose=function(){this._grid=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWhenCreated",{get:function(){return!1},enumerable:!1,configurable:!0}),t}(mC),wC=function(e){function t(t,i){var n=e.call(this,t.layout.grid,"columnResizeTracker")||this;n._request=t,n._feedback=i;var r=t.layout;return n._layoutX=t.x-r.domWidth,n._offset=t.offset,n}return gd(t,e),t.prototype._doDispose=function(){this._request=null,this._feedback=null,e.prototype._doDispose.call(this)},t.prototype.getRequest=function(){return this._request},t.prototype._doStart=function(e,t,i,n){var r=this.grid.layoutManager,o=r.contentBounds.y,s=r.contentBounds.bottom;return this._feedback.resize(2,s-o),this._feedback.move(t-this._offset,o),this.grid.addFeedbackElement(this._feedback),!0},t.prototype._doDrag=function(e,t,i,n){var r=this.grid.displayOptions.minCellWidth;return t>=this._layoutX+r&&t<this._layoutX+1e6&&(this._feedback.x=t,!0)},t.prototype._doCompleted=function(e,t,i,n){var r=this.grid.displayOptions.minCellWidth,o=Math.max(r,this._feedback.x-this._layoutX+this._offset);this._request.layout.changeCellWidth(o,this.grid.layoutManager.isColumnFitted)},t.prototype._doEnded=function(){this.grid.removeFeedbackElement(this._feedback),this.grid.container.setCursor("default")},t}(bC),CC=function(e){function t(t,i,n){var r=e.call(this,t.layout.grid,"columnMoveTracker")||this;return r._timer=null,r._colLoop=0,r._colPrevLoop=0,r._interval=0,r._request=t,r._layout=t.layout,r._cellFeedback=i,r._feedback=n,r}return gd(t,e),t.prototype._doDispose=function(){this._request=this._layout=this._cellFeedback=this._feedback=this._target=null,e.prototype._doDispose.call(this)},t.prototype.getRequest=function(){return this._request},t.prototype._doStart=function(e,i,n,r){var o=this.grid,s=o.layoutManager,a=this._layout.parent,l=this._request.offset,u=s.getHeaderCellRect(this._layout,!0);a.horizontal?(this._offset=l>0?l:i-u.x,this._feedback.setBounds(u.x,u.y,t.WING_SIZE,u.height)):(this._offset=l>0?l:n-u.y,this._feedback.setBounds(u.x,u.y,u.width,t.WING_SIZE)),this._request.offset=this._offset,this._feedback.visible=!1,this._cellFeedback.setBounds(u.x,u.y,u.width,u.height),this._cellFeedback.model=o.header.getCell(this._layout),this._cellFeedback.dragging=!1,o.addFeedbackElement(this._cellFeedback),o.addFeedbackElement(this._feedback);var c=this._feedback._dom.style;return c.borderLeft=c.borderRight=c.borderTop=c.borderBottom="",!0},t.prototype._doDrag=function(e,t,i,n){var r=this.grid,o=this._layout.parent,s=this.grid.layoutManager;if(i<s.contentBounds.y&&r.canGrouping())return!1;if(t<s.gridBounds.x||t>s.clientRect.right)this.$_startTimer();else{this.$_stopTimer();var a=s.getHeaderCellAt(t,i),l=this.$_findTarget(a);Bp.log("MOVE: ",this._layout.displayText+" => "+(null==l?void 0:l.displayText)),l&&!r.canMoveToLayout(l)&&(l=null),this.$_setTarget(l),this._cellFeedback.dragging=!0,o.horizontal?this._cellFeedback.x=t-this._offset:this._cellFeedback.y=i-this._offset}return!0},t.prototype._doCanceled=function(){this.$_stopTimer()},t.prototype._doCompleted=function(){this.$_stopTimer(),this._target&&(this._layout.vindex=this._target.vindex,this._layout.owner.setMoveColumn(this._layout))},t.prototype._doEnded=function(){this.$_stopTimer(),this.grid.removeFeedbackElement(this._feedback),this.grid.removeFeedbackElement(this._cellFeedback)},t.prototype.getNextRequest=function(e,t){return this.grid.activeTool.getNextRequest(this._request,this._cellFeedback,e,t)},t.prototype.$_startTimer=function(){this._timer||(this._colLoop=this._colPrevLoop=0,this._timer=setInterval(this.$_timerHandler.bind(this),60))},t.prototype.$_stopTimer=function(){this._timer&&(clearInterval(this._timer),this._timer=null)},t.prototype.$_timerHandler=function(){var e=this._grid,t=this.currentX,i=e.layoutManager,n=0;t>i.clientRect.right?(n=Math.max(0,Math.min(3,(t-i.clientRect.right)/40)),this._interval=4-n,this._colLoop++):t<i.gridBounds.x&&(n=Math.max(0,Math.min(3,(i.gridBounds.x-t)/40)),this._interval=4-n,this._colLoop++),n>0&&(this._interval=4-n),this._colLoop-this._colPrevLoop>=2*this._interval&&(this._colPrevLoop=this._colLoop,t>i.clientRect.right?e.leftCell+=1:t<i.gridBounds.left&&e.leftPos>0&&(e.leftCell-=1)),this.$_setTarget(null)},t.prototype.$_findTarget=function(e){if(e)for(var t=this._layout.parent;e;){if(e.parent===t)return e;e=e.parent}},t.prototype.$_setTarget=function(e){var t=this._request.layout,i=t.parent,n=this._feedback,r=n._dom.style,o=this.grid.layoutManager;if(this.currentX,this.currentY,this._target=e,n.visible=null!=e&&e.parent===i&&e!==t){var s=o.getHeaderCellRect(e,!0);if(i.horizontal){var a=t.hcol;r.height=s.height+"px",e.hcol<a?(r.borderRight="none",r.borderLeft="",n.x=s.x):e.hcol>a&&(r.borderLeft="none",r.borderRight="",n.x=s.right-n.width)}else{var l=t.row;r.width=s.width+"px",e.row<l?(r.borderBottom="none",r.borderTop="",n.y=s.y):e.row>l&&(r.borderTop="none",r.borderBottom="",n.y=s.bottom-n.height)}}},t.WING_SIZE=7,t}(bC),xC=function(e){function t(t,i){var n=e.call(this,t.grid,"rowResizeTracker")||this;return n._request=t,n._feedback=i,n}return gd(t,e),t.prototype._doDispose=function(){this._request=null,this._feedback=null,e.prototype._doDispose.call(this)},t.prototype.getRequest=function(){return this._request},t.prototype._doStart=function(e,t,i,n){var r=this.grid.layoutManager,o=r.leftContentBounds.x,s=r.rightContentBounds.right;return this._feedback.resize(s-o,2),this._feedback.move(o,i-this._request.offset),this.grid.addFeedbackElement(this._feedback),!0},t.prototype._doDrag=function(e,t,i,n){return i-this._request.offset-this._request.rowTop>=this.grid.displayOptions.minRowHeight&&(this._feedback.y=i-this._request.offset,!0)},t.prototype._doCompleted=function(e,t,i,n){var r=this.grid,o=r.displayOptions,s=Math.max(o.minRowHeight,i-this._request.offset-this._request.rowTop);(s=0===o.maxRowHeight?s:Math.min(o.maxRowHeight,s))>=r.layoutManager.bodyBounds.height&&(s=r.layoutManager.bodyBounds.height-1),this._request.variable?r.setRowHeight(this._request.itemIndex,s):o.rowHeight=s},t.prototype._doEnded=function(){this.grid.removeFeedbackElement(this._feedback)},t}(bC),IC=function(e){function t(t,i){var n=e.call(this,t.grid,"rowResizeTracker")||this;return n._request=t,n._feedback=i,n}return gd(t,e),t.prototype._doDispose=function(){this._request=null,this._feedback=null,e.prototype._doDispose.call(this)},t.prototype.getRequest=function(){return this._request},t.prototype._doStart=function(e,t,i,n){var r=this.grid.layoutManager,o=r.leftContentBounds.x,s=r.rightContentBounds.right;return this._feedback.resize(s-o,2),this._feedback.move(o,i-this._request.offset),this.grid.addFeedbackElement(this._feedback),!0},t.prototype._doDrag=function(e,t,i,n){return i-this._request.offset-this._request.top>=this.grid.header.minHeight&&(this._feedback.y=i-this._request.offset,!0)},t.prototype._doCompleted=function(e,t,i,n){var r=this.grid.header,o=Math.max(r.minHeight,i-this._request.offset-this._request.top);r.height=o},t.prototype._doEnded=function(){this.grid.removeFeedbackElement(this._feedback)},t}(bC),EC=function(e){function t(t,i,n){var r=e.call(this,t.grid,"rowMoveTracker")||this;return r._timer=null,r._request=t,r._proxy=i,r._line=n,r}return gd(t,e),t.updateLineFeedback=function(e,t,i,n,r,o,s,a,l){var u={index:-1,position:0,column:void 0};if(o<0||s<-20||o>=e.width||s>=e.height+20)return r.visible=!1,u;var c=r.feedbackStyle=e.dataDropOptions.feedbackStyle,h=e.layoutManager,d=h.defaultItemHeight;s-=h.contentBounds.y;var p=0,f=h.contentBounds.right,_=-1,g=-1,m=0,y=2,v=e.cellToIndex(l),b=!1,w=Bp.included(c,hw.CELL,hw.GROUP);if(s<h.summaryBounds.bottom)g=Math.max(0,h.topIndex-1),_=h.getTableItemTop(0);else if(s>=h.footerBounds.y)g=h.topIndex+h.fullItemCount,_=h.getTableItemBottom(h.fullItemCount);else{var C=s-h.summaryBounds.bottom,x=h.getTableItemIndex(C),I=h.getTableItemHeight(x);if((g=x)>=h.fixedItemCount&&(g+=h.topIndex),g!=t||w){var E=h.getTableItemTop(x);if(c===hw.ROW){_=E||0,y=I||d;var O=Math.floor(I/3);C<E+O?m=-1:C>E+2*O&&(m=1)}else if(c===hw.GROUP){if(v&&e.isValid(v)){var S=h.getDataRect(v.layout.root),k=v.layout.root.first;y=I,_=E,f=(p=S.x)+S.width,u.column=k.getDataColumn().name,b=k!==i}}else if(c===hw.CELL){if(v&&e.isValid(v)){var P=h.getBodyView(v);_=(S=P.getCellRectAt(h,v,!0)).y,y=(S=P.boundsByContainer(S)).height,f=(p=S.x)+S.width,b=v.layout!==i,u.column=v.layout.getDataColumn().name}}else C<E+I/2?(_=E,g>t&&(g=Math.max(h.topIndex,g-1)),m=-1):((_=x>-1?h.getTableItemBottom(x):a?0:-1)>=0&&g<t&&g++,m=1)}}return _+=h.contentBounds.y+h.summaryBounds.bottom,r.visible=g>t?g>t+n-1:(g>=0||c===hw.ROW)&&(g!=t||b),r.visible?(r.resize(f-p,y),0==e.itemCount&&c!==hw.ROW&&(_+=d),r.move(p,_)):g=-1,e.dataDropOptions.scroll&&(s<h.summaryBounds.bottom?e.topIndex--:s>=h.footerBounds.y&&e.topIndex++),u.index=g,u.position=m,u},t.prototype._doDispose=function(){this._request=null,this._proxy=null,this._line=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"request",{get:function(){return this._request},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceItems",{get:function(){return this._sourceItems},enumerable:!1,configurable:!0}),t.prototype.setEnabled=function(e){this._proxy.setEnabled(e)&&this._proxy.draw()},t.prototype.setLabel=function(e){this._proxy.setLabel(e)&&this._proxy.draw()},Object.defineProperty(t.prototype,"startWhenCreated",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkable",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getRequest=function(){return this._request},t.prototype._doStart=function(e,t,i,n){var r,o,s=this.grid,a=$p(e),l=s.selections.count;if(this._sourceItems=[],0===l||((o=(r=s.selections.getItem(0))&&r.style)==cb.COLUMNS||o==cb.SINGLE_COLUMN))if(s.displayOptions.selectionStyle===cb.NONE)s.selections.selectBlock(s.focusedIndex,!0);else switch(s.dataDropOptions.feedbackStyle){case hw.LINE:case hw.ROW:s.selections.selectRow(this._request.itemIndex,!0);break;case hw.CELL:case hw.GROUP:s.selections.selectBlock(s.focusedIndex,!0)}if(s.selections.count>=1){this._sourceItems=s.selections.getItem(0).getItemIndices(),a.body.appendChild(this._proxy._dom),s.addFeedbackElement(this._line);var u=this.$_updateLine(t,i,e);return this._proxy.setZIndex(s.displayOptions.baseZindex+6),this.$_updateProxy(t,i,u,e),!0}return!1},t.prototype._doDrag=function(e,t,i,n){var r=this.grid.layoutManager;e=this.$_getTarget(n,e);var o=this.$_updateLine(t,i,e);return this.$_updateProxy(t,i,o,e),(i-=r.contentBounds.y)>r.footerBounds.y||i<r.summaryBounds.bottom?this.$_startTimer():this.$_stopTimer(),!0},t.prototype._doCompleted=function(e,t,i,n){var r=this._targetRow,o=this.grid;e=this.$_getTarget(n,e);var s,a=o.container.findContainer(null,e);if(a?r.index>=0&&(s=o.canMoveRow(!0,!1)&&o.dataDropOptions.getEnabled(o,this._sourceItems,r,t,i)):s=o.canMoveRow(!1,!0)&&o.dataDropOptions.getEnabled(o,this._sourceItems,r,t,i,e),s){var l=this._request.itemIndex,u=o.dataDropOptions.callback;if(u)a?u(o.handler,this._sourceItems,o.handler,r.index,r.column):u(o.handler,this._sourceItems,e,null,null);else if(a===o.container){var c=r.index>l?r.index-(l+this._sourceItems.length-1):r.index-l,h=o.dataDropOptions.feedbackStyle;Bp.included(h,hw.CELL,hw.GROUP)||o.moveSelection(c,"mouseup")}}},t.prototype._doCanceled=function(e,t){},t.prototype._doEnded=function(){this.$_stopTimer(),this.grid.removeFeedbackElement(this._line),Bp.detach(this._proxy._dom)},t.prototype.$_getTarget=function(e,t){var i;if(Bp.isMobile()){var n=$p(e.target);i=n&&n.elementFromPoint(e.clientX,e.clientY)}return i||t},t.prototype.$_updateLine=function(e,i,n){return this._targetRow=t.updateLineFeedback(this.grid,this._request.itemIndex,this._request.layout,this._sourceItems.length,this._line,e,i,!1,n)},t.prototype.$_updateProxy=function(e,t,i,n){var r=this.grid,o=r.container.findContainer(null,n),s=o!==r.container,a=Bp.getOffset(r.container._containerDom);a.y+=t,a.x+=e+20;var l=!0;if(!s)for(var u=r.selections.getItem(0).getItems(),c=u[0].level,h=1,d=u.length;h<d;h++)if(u[h].level!==c){l=!1;break}if(l=o?l&&r.canMoveRow(!0,s)&&(s||r.dataDropOptions.getEnabled(r,this._sourceItems,i,e,t)):l&&r.canMoveRow(!1,!0)&&r.dataDropOptions.getEnabled(r,this._sourceItems,i,e,t,n),this._proxy.move(a.x,a.y),this._proxy.setEnabled(void 0!==l?l:i.index>=0),!s||!o){var p=r.dataDropOptions.getLabel(r,this._sourceItems,i,!o&&n);this._proxy.setLabel(p)}return this._proxy.draw(),l},t.prototype.$_startTimer=function(){this._timer||(this._timer=setInterval(this.$_timerHandler.bind(this),100))},t.prototype.$_stopTimer=function(){this._timer&&(clearInterval(this._timer),this._timer=null)},t.prototype.$_timerHandler=function(){var e=this.currentX,t=this.currentY;this.$_updateLine(e,t,null)},t}(bC),OC=function(e){function t(t,i,n,r){var o=e.call(this,t.index.grid,i)||this;return o._request=t,o._currX=n,o._currY=r,o}return gd(t,e),t.prototype._doDispose=function(){this._request.dispose(),this._request=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"startWhenCreated",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){var e=this._getItem().getBounds();return e.top===e.bottom},enumerable:!1,configurable:!0}),t.prototype.getRequest=function(){return this._request},t.prototype._doCanceled=function(){},t.prototype._doEnded=function(){var e=this._getItem();this.grid.selections.$_ended(e)},t.prototype.spanHome=function(e){var t=this.grid;t.getBodyViewAt(e).spanHead(t.layoutManager,e)},t.prototype.spanRight=function(e){var t=this.grid;t.getBodyViewAt(e).spanRight(t.layoutManager,e)},t.prototype.immediateDrag=function(e){var t=this.grid;return t.displayOptions.selectAndImmediateDrag||t.displayOptions.altSelectAndImmediateDrag&&e.altKey},t}(bC),SC=function(e){function t(t,i,n){var r=e.call(this,t,"blockSelectTracker",i,n)||this;return r._timer=null,r._rowPrevLoop=0,r._rowLoop=0,r._colPrevLoop=0,r._colLoop=0,r._interval=0,r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._getItem=function(){return this._item||this.grid.selections.lastItem()},t.prototype._doStart=function(e,t,i,n){var r=this.grid,o=r.selections,s=r.layoutManager,a=n&&n.shiftKey,l=Bp.ctrlKey(n),u=this._request.index;if(s.isMergedCell(u)&&!(u=r.pointToIndex(e,t,i,!0)).layout)return!1;if(a)this._item=o.count>0&&o.lastItem();else{var c=void 0;l||1===o.count&&o.lastItem()instanceof $b?c=o.lastItem():o.clear(!0),this._item=c&&c instanceof $b?c:o.add(u,u,cb.BLOCK,!0)}return!!this._item},t.prototype._doDrag=function(e,t,i,n){if(this._item){var r=this.grid;if(this.immediateDrag(n))return!1;var o=r.layoutManager;if(this._currX=t,this._currY=i,i-o.contentBounds.y>o.footerBounds.y||i<o.gridBounds.y||t<o.gridBounds.x||t>o.clientRect.right)this.$_startTimer();else{this.$_stopTimer();var s=r.pointToIndex(e,t,i,!0);s.column&&s.itemIndex>=0&&(Wv.compareHorz(s,this._item.startIndex)>=0?(this.spanRight(s),this.spanHome(this._item.startIndex)):this.spanRight(this._item.startIndex),this._item.resizeTo(s))}return!0}},t.prototype._doEnded=function(){this.$_stopTimer(),e.prototype._doEnded.call(this)},t.prototype.getNextRequest=function(e,t){return this.grid.activeTool.getNextRequest(this._request,null,e,t)},t.prototype.$_startTimer=function(){this._timer||(this._rowLoop=this._rowPrevLoop=this._colLoop=this._colPrevLoop=0,this._timer=setInterval(this.$_timerHandler.bind(this),30),this._grid.selections.lock())},t.prototype.$_stopTimer=function(){this._timer&&(clearInterval(this._timer),this._timer=null,this._grid.selections.unlock())},t.prototype.$_timerHandler=function(){var e=this._grid,t=this._currX,i=this._currY,n=e.layoutManager,r=0,o=0;i>n.footerBounds.y?(o=Math.max(0,Math.min(3,(i-n.footerBounds.y)/40)),this._interval=4-o,this._rowLoop++):i<n.gridBounds.y&&(o=Math.max(0,Math.min(3,(n.gridBounds.y-i)/40)),this._interval=4-o,this._rowLoop++),t>n.clientRect.right?(r=Math.max(0,Math.min(3,(t-n.clientRect.right)/40)),this._interval=4-r,this._colLoop++):t<n.gridBounds.x&&(r=Math.max(0,Math.min(3,(n.gridBounds.x-t)/40)),this._interval=4-r,this._colLoop++);var s=!1;if(Math.max(r,o)>0&&(this._interval=4-Math.max(r,o)),this._rowLoop-this._rowPrevLoop>=this._interval&&(this._rowPrevLoop=this._rowLoop,i>n.footerBounds.y?e.topItem+n.fullItemCount<e.itemCount&&(e.topIndex=e.topIndex+1,s=!0):i<n.gridBounds.y&&e.topItem>n.fixedItemCount&&(e.topIndex=e.topIndex-1,s=!0)),s||this._colLoop-this._colPrevLoop>=2*this._interval&&(this._colPrevLoop=this._colLoop,t>n.clientRect.right?(e.leftPos+=t-n.clientRect.right,s=!0):t<n.gridBounds.left&&e.leftPos>0&&(e.leftPos-=n.gridBounds.left-t,s=!0)),s){var a=e.pointToIndex(null,t,i,!1);a.column&&(a.itemIndex=Math.min(Math.max(0,a.itemIndex,e.topIndex),e.itemCount-1),this._item.resizeTo(a))}},t}(OC),kC=function(e){function t(t,i,n){var r=e.call(this,t,"rowsSelectTracker",i,n)||this;return r._timer=null,r._prevLoop=0,r._loop=0,r._colPrevLoop=0,r._colLoop=0,r._interval=0,r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._getItem=function(){return this._item||this.grid.selections.lastItem()},t.prototype._doStart=function(e,t,i,n){var r=this.grid,o=r.selections,s=r.layoutManager,a=n&&n.shiftKey,l=Bp.ctrlKey(n),u=this._request.index;if(s.isMergedCell(u)&&(u=r.pointToIndex(e,t,i,!0)),a)this._item=o.count>0&&o.lastItem();else{var c=void 0;l||1===o.count&&o.lastItem()instanceof Nb?c=o.lastItem():o.clear(!0),this._item=c&&c instanceof Nb?c:o.add(u,u,cb.ROWS,!0)}return!!this._item},t.prototype._doDrag=function(e,t,i,n){if(this._item){var r=this.grid;if(this.immediateDrag(n))return!1;var o=r.layoutManager;if(this._currX=t,this._currY=i,i>o.footerBounds.y||i<o.gridBounds.y||t<0||t>o.clientRect.right)this.$_startTimer();else{this.$_stopTimer();var s=this.grid.pointToIndex(e,t,i,!1);s.itemIndex>=0&&this._item.resizeTo(s)}return!0}return!1},t.prototype._doEnded=function(){this.$_stopTimer(),e.prototype._doEnded.call(this)},t.prototype.getNextRequest=function(e,t){return this.grid.activeTool.getNextRequest(this._request,null,e,t)},t.prototype.$_startTimer=function(){this._timer||(this._loop=this._prevLoop=this._colLoop=this._colPrevLoop=0,this._interval=1,this._timer=setInterval(this.$_timerHandler.bind(this),30),this._grid.selections.lock())},t.prototype.$_stopTimer=function(){this._timer&&(clearInterval(this._timer),this._timer=null,this._grid.selections.unlock())},t.prototype.$_timerHandler=function(){var e,t,i=this._grid,n=this._currX,r=this._currY,o=i.layoutManager;r>o.footerBounds.y?(e=Math.max(0,Math.min(3,(r-o.footerBounds.y)/40)),this._interval=4-e,this._loop++):r<o.gridBounds.y&&(e=Math.max(0,Math.min(3,(o.gridBounds.y-r)/40)),this._interval=4-e,this._loop++),this._loop-this._prevLoop>=this._interval?(this._prevLoop=this._loop,r>o.footerBounds.y?i.topIndex=i.topIndex+1:r<o.gridBounds.y&&(i.topIndex=i.topIndex-1),(t=i.pointToIndex(null,this._currX,this._currY,!1)).itemIndex=Math.min(Math.max(0,t.itemIndex,i.topIndex),i.itemCount-1),this._item.resizeTo(t)):(n>o.clientRect.right?(e=Math.max(0,Math.min(3,(n-o.clientRect.right)/40)),this._interval=4-e,this._colLoop++):n<0&&(e=Math.max(0,Math.min(3,(o.gridBounds.x-n)/40)),this._interval=4-e,this._colLoop++),this._colLoop-this._colPrevLoop>=2*this._interval&&(this._colPrevLoop=this._colLoop,n>o.clientRect.right?i.leftLayout=i.leftLayout+1:n<o.gridBounds.x&&i.leftPos>0&&(i.leftLayout=i.leftLayout-1),(t=i.pointToIndex(null,this._currX,this._currY,!1)).itemIndex>=0&&(t.itemIndex=Math.min(Math.max(0,t.itemIndex,i.topIndex),i.itemCount-1),this._item.resizeTo(t))))},t}(OC),PC=function(e){function t(t,i,n){var r=e.call(this,t,"columnsSelectTracker",i,n)||this;return r._timer=null,r._prevLoop=0,r._loop=0,r._rowPrevLoop=0,r._rowLoop=0,r._interval=0,r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"startWhenCreated",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype._getItem=function(){return this._item||this.grid.selections.lastItem()},t.prototype._doStart=function(e,t,i,n){var r,o=this.grid,s=o.selections,a=o.layoutManager,l=n&&n.shiftKey,u=Bp.ctrlKey(n),c=this._request.index;return a.isMergedCell(c)&&(c=o.pointToIndex(e,t,i,!0)),l?r=s.count>0&&s.lastItem():u||1===s.count&&s.lastItem()instanceof jb?r=s.lastItem():s.clear(!0),r&&s.containsLayout(c.layout,jb)?this._item=r:this._item=s.add(c,c,cb.COLUMNS,!0),!!this._item},t.prototype._doDrag=function(e,t,i,n){if(this._item){var r=this.grid.layoutManager;if(this._currX=t,this._currY=i,t<r.gridBounds.x||t>r.clientRect.right||i>r.footerBounds.y||i<0)this.$_startTimer();else{this.$_stopTimer();var o=this.grid.pointToIndex(e,t,i,!1);null!=o.column&&this._item.resizeTo(o)}return!0}return!1},t.prototype._doEnded=function(){this.$_stopTimer(),e.prototype._doEnded.call(this)},t.prototype.$_startTimer=function(){this._timer||(this._loop=this._prevLoop=this._rowLoop=this._rowPrevLoop=0,this._interval=1,this._timer=setInterval(this.$_timerHandler.bind(this),30),this._grid.selections.lock())},t.prototype.$_stopTimer=function(){this._timer&&(clearInterval(this._timer),this._timer=null,this._grid.selections.unlock())},t.prototype.$_timerHandler=function(){var e,t,i=this._grid,n=this._currX,r=this._currY,o=i.layoutManager;n>o.clientRect.right?(e=Math.max(0,Math.min(3,(n-o.clientRect.right)/40)),this._interval=4-e,this._loop++):n<o.gridBounds.x&&(e=Math.max(0,Math.min(3,(o.gridBounds.x-n)/40)),this._interval=4-e,this._loop++),this._loop-this._prevLoop>=2*this._interval?(this._prevLoop=this._loop,n>o.clientRect.right?i.leftLayout=i.leftLayout+1:n<o.gridBounds.x&&i.leftPos>0&&(i.leftLayout=i.leftLayout-1),(t=i.pointToIndex(null,this._currX,this._currY,!1)).column&&this._item.resizeTo(t)):(r>o.footerBounds.y?(e=Math.max(0,Math.min(3,(r-o.footerBounds.y)/40)),this._interval=4-e,this._rowLoop++):r<0&&(e=Math.max(0,Math.min(3,(o.gridBounds.y-r)/40)),this._interval=4-e,this._rowLoop++),this._rowLoop-this._rowPrevLoop>=this._interval&&(this._rowPrevLoop=this._rowLoop,r>o.footerBounds.y?i.topIndex=i.topIndex+1:r<o.gridBounds.y&&(i.topIndex=i.topIndex-1),(t=i.pointToIndex(null,this._currX,this._currY,!1)).column&&this._item.resizeTo(t)))},t}(OC),RC=function(e){function t(t,i){var n=e.call(this)||this;return n._clickX=0,n._clickY=0,n._mouseX=0,n._mouseY=0,n._longTimerHandler=function(){n._longPressed=!0},n._owner=t,n._name=i,n.previous=null,n}return gd(t,e),t.prototype._doDispose=function(){this._dragTracker=null,this.previous=null,this._owner=null,this._mouseEventTarget=this._clickTarget=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragTracker",{get:function(){return this._dragTracker},set:function(e){e!==this._dragTracker&&(this._dragTracker&&this._dragTracker.deactivate(),this._dragTracker=e,this._dragTracker&&this._dragTracker.activate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragging",{get:function(){return this._dragTracker&&this._dragTracker.dragging},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseX",{get:function(){return this._mouseX},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseY",{get:function(){return this._mouseY},enumerable:!1,configurable:!0}),t.prototype.findElementAt=function(e,t,i){return this._owner.findElementAt(e,t,i)},t.prototype.activate=function(e){this._doActivated(e)},t.prototype.deactivate=function(){this._doDeactivated()},t.prototype.keyDown=function(e){return this._doKeyDown(e)},t.prototype.keyUp=function(e){return this._doKeyUp(e)},t.prototype.keyPress=function(e){return this._doKeyPress(e)},t.prototype.copyHandler=function(e){return this._doCopyEvent(e)},t.prototype.pasteHandler=function(e){return this._doPasteEvent(e)},t.prototype.pointerDown=function(e){var t=this._mouseX=this._clickX=e.mouseX,i=this._mouseY=this._clickY=e.mouseY;this._longPressed=!1,this._touchEvents=[{x:t,y:i,t:e.timeStamp}],this.dragging&&this._stopDragTracker(t,i,!1,e),this._doPointerDown(e)},t.prototype.mouseDown=function(e){var t=this._mouseX=this._clickX=e.mouseX,i=this._mouseY=this._clickY=e.mouseY;this._doMouseDown(e),this.dragging&&this._stopDragTracker(t,i,!1,e)},t.prototype.pointerCancel=function(e){var t=this._mouseX=e.mouseX,i=this._mouseY=e.mouseY;this.dragging?this._stopDragTracker(t,i,!0,e):(this._dragTracker instanceof OC&&this._dragTracker._doEnded(),this._dragTracker=null),this._touchEvents=[],this._doPointerCancel(e)},t.prototype.dragFrom=function(e,t){},t.prototype.dropFrom=function(e,t){},t.prototype.cancelFrom=function(e){},t.prototype.pointerMove=function(e){var t=this._mouseX=e.mouseX,i=this._mouseY=e.mouseY,n=this.dragTracker,r=e.buttons;if(n){if(n.dragging){if(1===r){if(!n.drag(this._mouseEventTarget,t,i,e)){var o=n.getNextRequest(t,i);o&&(this._stopDragTracker(t,i,!0,e),this.dragTracker=this._getDragTracker(o,t,i),this._startDragTracker(t,i,e))}}else this._stopDragTracker(t,i,!0,e);return}var s=this.owner.getThreshold();if(Math.abs(t-this._clickX)>=s||Math.abs(i-this._clickY)>=s){if(1===r)return void this._startDragTracker(t,i,e);this._stopDragTracker(t,i,!0,e),this._dragTracker=null}}this._doPointerMove(e)},t.prototype.pointerUp=function(e){var t=this,i=this._mouseX=e.mouseX,n=this._mouseY=e.mouseY;clearTimeout(this._longTimer),this._touchEvents&&this._touchEvents.push({x:e.mouseX,y:e.mouseY,t:e.timeStamp}),this.dragging?(Bp.isMobile()&&"pointerup"===e.type&&this._checkSwipe(e),this._stopDragTracker(i,n,!1,e),this._dragTracker&&this._dragTracker.clickable&&!this._longPressed&&this._doPointerUp(e)):(this._dragTracker&&this._dragTracker._doEnded(),this._dragTracker=null,this._doPointerUp(e)),setTimeout(function(){t._longPressed=!1},100),this._touchEvents=[]},t.prototype.mouseEnter=function(e){this._doMouseEnter(e)},t.prototype.mouseLeave=function(e){this._doMouseLeave(e)},t.prototype.mouseOver=function(e){this._doMouseOver(e)},t.prototype.mouseOutside=function(){this._doMouseOutside()},t.prototype.mouseWheel=function(e){return this._doMouseWheel(e)},t.prototype.contextMenu=function(e){return this._doContextMenu(e)},t.prototype.click=function(e){this._doClick(e)},t.prototype.dblclick=function(e){this._doDblClick(e)},t.prototype.setFocus=function(e){this._doSetFocus(e)},t.prototype.focusLeave=function(e){this._doFocusLeave(e)},t.prototype.resetFocused=function(){},t.prototype.globalKeyup=function(e){this._doGlobalKeyup(e)},t.prototype.globalKeydown=function(e){this._doGlobalKeydown(e)},t.prototype.touchMove=function(e){return this._doTouchMove(e)},t.prototype._checkSwipe=function(e){},Object.defineProperty(t.prototype,"mouseEventTarget",{get:function(){return this._mouseEventTarget},enumerable:!1,configurable:!0}),t.prototype.isMouseEventTarget=function(e){return e._dom===this._mouseEventTarget},t.prototype._doActivated=function(e){},t.prototype._doDeactivated=function(){},t.prototype._doKeyDown=function(e){return!1},t.prototype._doKeyUp=function(e){return!1},t.prototype._doKeyPress=function(e){return!1},t.prototype._doCopyEvent=function(e){},t.prototype._doPasteEvent=function(e){},t.prototype._doPointerDown=function(e){},t.prototype._doPointerCancel=function(e){},t.prototype._doPointerMove=function(e){},t.prototype._doPointerUp=function(e){},t.prototype._doMouseDown=function(e){},t.prototype._doMouseEnter=function(e){},t.prototype._doMouseLeave=function(e){},t.prototype._doMouseOver=function(e){},t.prototype._doMouseOutside=function(){},t.prototype._doMouseWheel=function(e){return!1},t.prototype._doContextMenu=function(e){},t.prototype._doClick=function(e){},t.prototype._doDblClick=function(e){},t.prototype._doSetFocus=function(e){},t.prototype._doFocusLeave=function(e){},t.prototype._doGlobalKeyup=function(e){},t.prototype._doGlobalKeydown=function(e){},t.prototype._getDragTracker=function(e,t,i){return null},t.prototype._startDragTracker=function(e,t,i){void 0===i&&(i=null),this._dragTracker&&(this._dragTracker.start(this._mouseEventTarget,e,t,i)?this._doDragTrackerStarted(this._dragTracker):this._dragTracker=null)},t.prototype._stopDragTracker=function(e,t,i,n){if(this.dragging){var r=this._dragTracker;i?r.cancel():r.drop(this._mouseEventTarget,e,t,n),this._doDragTrackerFinished(r,i)}},t.prototype._doDragTrackerStarted=function(e){},t.prototype._doDragTrackerFinished=function(e,t){},t.prototype._findTableCell=function(e){return this.owner.getTableCell(e||this.mouseEventTarget)},t.prototype._doTouchMove=function(e){return!0},t}(Yp),TC=function(e){function t(){return e.call(this)||this}return gd(t,e),Object.defineProperty(t.prototype,"cursor",{get:function(){return"default"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dblClickable",{get:function(){return!1},enumerable:!1,configurable:!0}),t}(Yp);!function(e){e.LINE="line",e.PAGE="page",e.THUMB_TRACK="thumbTrack",e.THUMB_END="thumbEnd",e.SCROLL_END="scrollEnd"}(yC||(yC={}));var DC=function(e){function t(t,i,n){var r=e.call(this,t,n)||this;return r._scrollBar=i,r}return gd(t,e),t.prototype._doDispose=function(){this._scrollBar=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"scrollBar",{get:function(){return this._scrollBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertical",{get:function(){return this._scrollBar.vertical},enumerable:!1,configurable:!0}),t.prototype._doDraw=function(e){this._doRender(e)},t.prototype._doRender=function(e){},t.prototype._changed=function(){this.invalidate()},t}(Sb),MC=function(e){function t(t){return e.call(this,t,null,"scrollEdgeView")||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-scrolledge"},t}(DC),LC=function(e){function t(t){return e.call(this,t.doc,t,"scrollTrackView")||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._getCssSelector=function(){return"rg-scrolltrack"},t}(DC),AC=function(e){function t(t,i){var n=e.call(this,t.doc,t,"scrollButtonView")||this;return n._enabled=!0,n._far=i,n}return gd(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){e!=this._enabled&&(this._enabled=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"far",{get:function(){return this._far},enumerable:!1,configurable:!0}),t.prototype._getCssSelector=function(){return this.scrollBar.vertical?this._far?"rg-scroll-down":"rg-scroll-up":this._far?"rg-scroll-right":"rg-scroll-left"},t}(DC),FC=function(e){function t(t){return e.call(this,t.doc,t,"scrollThumbView")||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-scrollthumb"},t}(DC),$C=function(e){function t(t,i){void 0===i&&(i=!1);var n=e.call(this,t.doc,"scrollBarView")||this;return n._lineScrollSize=1,n._pageScrollSize=1,n._minThumbSize=20,n._min=0,n._max=0,n._pos=0,n._page=0,n._maxPosition=0,n._buttonSize=20,n._needLayout=!0,n._tipView=null,n._container=t,n._vertical=i,n._track=new LC(n),n.addChild(n._track),n._thumb=new FC(n),n.addChild(n._thumb),n._nearButton=new AC(n,!1),n.addChild(n._nearButton),n._farButton=new AC(n,!0),n.addChild(n._farButton),n}return gd(t,e),t.prototype._doDispose=function(){this._track=this._track.dispose(),this._thumb=this._thumb.dispose(),this._nearButton=this._nearButton.dispose(),this._farButton=this._farButton.dispose(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineScrollSize",{get:function(){return this._lineScrollSize},set:function(e){(e=Math.max(1,e))!=this._lineScrollSize&&(this._lineScrollSize=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageScrollSize",{get:function(){return this._pageScrollSize},set:function(e){(e=Math.max(1,e))!=this._pageScrollSize&&(this._pageScrollSize=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minThumbSize",{get:function(){return this._minThumbSize},set:function(e){(e=Math.max(8,e))!=this._minThumbSize&&(this._minThumbSize=e,this.invalidateLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertical",{get:function(){return this._vertical},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pos",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxPosition",{get:function(){return this._maxPosition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonSize",{get:function(){return this._buttonSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tipView",{set:function(e){this._tipView=e},enumerable:!1,configurable:!0}),t.prototype.layoutContent=function(){this._needLayout&&(this._needLayout=!1,this._doLayoutContent())},t.prototype.setProperties=function(e,t,i){e=Math.max(0,e),t=Math.max(e,t),e==this._min&&t==this._max&&i==this._page||(this._min=e,this._max=t,this._page=i,this._pos=Math.min(this._max,Math.max(this._min,this._pos)),this._maxPosition=Math.max(0,this._max-this._page),this.invalidate(),this._needLayout=!0)},t.prototype.setPosition=function(e,t){void 0===t&&(t=!0),(e=Math.min(this._maxPosition,Math.max(this._min,e)))!=this._pos&&(this._pos=e,this.invalidate(),this._needLayout=!0,t&&this.layoutContent())},t.prototype.ptInTrack=function(e,t,i){var n=this.containerToElement(e,t);if(this._vertical){if(n.y>=this._nearButton.height&&n.x<this._farButton.y)return!i&&n.y<this._thumb.y||i&&n.y>=this._thumb.bottom}else if(e>=this._nearButton.width&&e<this._farButton.x)return!i&&n.x<this._thumb.x||i&&n.x>=this._thumb.right;return!1},t.prototype.setText=function(e){if(this._tipView&&e){this._tipView.show(),this._tipView.setText(e);var t=void 0,i=void 0;if(this._vertical){var n=this._tipView.width();t=this.x-n-5,i=this._thumb.y}else{var r=this._tipView.height();t=this._thumb.x,i=this.y-r-5}this._tipView.move(t,i)}},t.prototype._getCssSelector=function(){return this._vertical?"rg-vscrollbar":"rg-hscrollbar"},t.prototype.draw=function(){e.prototype.draw.call(this)},t.prototype._doDraw=function(e){},t.prototype._doSizeChanged=function(){this.invalidateLayout()},t.prototype.invalidateLayout=function(){this._needLayout=!0,e.prototype.invalidateLayout.call(this)},t.prototype._doLayoutContent=function(){var e=this._vertical,t=this._buttonSize,i=this.height,n=this.width,r=(e?i:n)-2*t,o=Math.min(r,Math.max(this._minThumbSize,Math.floor(r*this._page/(this._max-this._min+1)))),s=t+Math.min(r-o,Math.max(0,Math.floor((r-o)*this._pos/(this._maxPosition-this._min))));this._track.setBounds(0,0,n,i),e?(this._nearButton.setBounds(0,0,n,t),this._farButton.setBounds(0,i-t,n,t),o<=r&&this._thumb.setBounds(2,s,n-4,o)):(this._nearButton.setBounds(0,0,t,i),this._farButton.setBounds(n-t,0,t,i),o<=r&&this._thumb.setBounds(s,2,o,i-4))},t.prototype._doScroll=function(e,i,n){this.fireEvent(t.SCROLLED,e,i,n)},t.SCROLLED="onScrollBarScrolled",t}(Sb),NC=function(e){function t(t){return e.call(this,t,"scrollThumbTracker")||this}return gd(t,e),t.prototype._doDispose=function(){this._thumb=this._thumb&&this._thumb.dispose(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"thumb",{get:function(){return this._thumb},set:function(e){this._thumb=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWhenCreated",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype._doStart=function(e,t,i,n){var r=this._thumb.scrollBar,o=r.containerToElement(t,i);return r.vertical?this._offset=o.y-this._thumb.y:this._offset=o.x-this._thumb.x,Bp.isSlotMode()&&n instanceof PointerEvent&&e.setPointerCapture(n.pointerId),!0},t.prototype._doDrag=function(e,t,i,n){return this.$_doScroll(t,i,yC.THUMB_TRACK)},t.prototype._doCompleted=function(e,t,i,n){return Bp.isSlotMode()&&n instanceof PointerEvent&&e.releasePointerCapture(n.pointerId),this.$_doScroll(t,i,yC.THUMB_END)},t.prototype._doCanceled=function(e,t){},t.prototype._doEnded=function(){},t.prototype.$_doScroll=function(e,t,i){var n=this._thumb.scrollBar,r=n._maxPosition-n._min+1,o=n._buttonSize,s=n.containerToElement(e,t);if(n.vertical){if((a=n.height-2*o-this._thumb.height)<=0)return!1;s.y-=this._offset,s.y=(s.y-o)*r/a,n._doScroll(i,0,Math.max(Math.floor(s.y),0))}else{var a;if((a=n.width-2*o-this._thumb.width)<=0)return!1;s.x-=this._offset,s.x=(s.x-o)*r/a,n._doScroll(i,0,Math.max(Math.floor(s.x),0))}return!0},t}(mC),jC=function(e){function t(){var t=e.call(this)||this;return t._active=!1,t._timer=void 0,t._ready=!1,t}return gd(t,e),Object.defineProperty(t.prototype,"active",{get:function(){return void 0!==this._timer},enumerable:!1,configurable:!0}),t.prototype.start=function(e){this._button=e,this._scrollBar=e.scrollBar,this._active=!0,setTimeout(function(){this._ready&&(this._ready=!1,clearInterval(this._timer),this._timer=setInterval(function(){this._active&&this.$_fireEvent()}.bind(this),20))}.bind(this),300),this._ready=!0,this.$_fireEvent()},t.prototype.move=function(e,t){var i=this._button.containerToElement(e,t);this._active=this._button.containsInClient(i.x,i.y)},t.prototype.stop=function(){this._ready=!1,this._timer&&(this._timer=clearInterval(this._timer))},t.prototype.$_fireEvent=function(){var e=this._button.far?1:-1,t=yC.LINE;this._scrollBar._doScroll(t,this._scrollBar.lineScrollSize*e,0)},t}(Vf),BC=function(e){function t(){var t=e.call(this)||this;return t._active=!1,t._timer=void 0,t._ready=!1,t._mouseX=0,t._mouseY=0,t}return gd(t,e),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!1,configurable:!0}),t.prototype.start=function(e,t,i,n){var r=this;this._scrollBar=e,this._far=t,this._active=!0,setTimeout(function(){r._ready&&(r._ready=!1,r._timer=setInterval(function(){r._active&&r.$_fireEvent()},50))},300),this._ready=!0;var o=this._scrollBar.containerToElement(i,n);this._mouseX=o.x,this._mouseY=o.y,this.$_fireEvent()},t.prototype.move=function(e,t){var i=this._scrollBar.containerToElement(e,t);this._mouseX=i.x,this._mouseY=i.y,this._active=this._scrollBar.ptInTrack(i.x,i.y,this._far)},t.prototype.stop=function(){this._ready=!1,this._timer&&clearInterval(this._timer)},t.prototype.$_fireEvent=function(){var e=null,t=0,i=this._scrollBar._thumb;if(this._scrollBar.vertical){var n=this._mouseY;this._far&&n>i.bottom?(e=yC.PAGE,t=1):!this._far&&n<i.y&&(e=yC.PAGE,t=-1)}else{var r=this._mouseX;this._far&&r>i.right?(t=1,e=yC.PAGE):r<i.x&&(e=yC.PAGE,t=-1)}0!=t&&this._scrollBar._doScroll(e,this._scrollBar.pageScrollSize*t,0)},t}(Yp),VC=function(e){function t(t){var i=e.call(this,t,"scrollTool")||this;return i._buttonTimer=new jC,i._trackTimer=new BC,i._thumbTracker=new NC(t),i}return gd(t,e),t.prototype._doDispose=function(){this._thumbTracker.cancel(),this._thumbTracker=this._thumbTracker.dispose(),this._buttonTimer.stop(),this._buttonTimer=this._buttonTimer.dispose(),this._trackTimer.stop(),this._trackTimer=this._trackTimer.dispose(),e.prototype._doDispose.call(this)},t.prototype._doPointerDown=function(e){var t=e.mouseX,i=e.mouseY;this._clickElement=null,this.dragTracker=null,this._buttonTimer.stop(),this._trackTimer.stop();var n=this.findElementAt(t,i,!1);if(0===e.button&&n instanceof DC)if(this._clickElement=n,n instanceof AC)this._buttonTimer.start(n);else if(n instanceof FC)this._thumbTracker.thumb=n,this.dragTracker=this._thumbTracker;else if(n instanceof LC){var r=n.scrollBar.ptInTrack(t,i,!0);this._trackTimer.start(n.scrollBar,r,t,i)}},t.prototype._doPointerMove=function(e){var t=e.mouseX,i=e.mouseY,n=this._clickElement,r=this._buttonTimer,o=this._trackTimer;1===e.buttons?n instanceof AC&&r.active?r.move(t,i):n instanceof LC&&o.active&&o.move(t,i):(r.active&&r.stop(),o.active&&o.stop())},t.prototype._doPointerUp=function(e){this._clickElement&&this._clickElement.scrollBar._doScroll(yC.SCROLL_END,0,-1),this._clickElement=null,this._buttonTimer.stop(),this._trackTimer.stop()},t}(RC),HC=function(e){function t(t){var i=e.call(this)||this;return i._container=t,i._element=i.$_createElement(t.doc),i}return gd(t,e),t.prototype._doDispose=function(){this._element=Bp.detach(this._element),this._container=null,e.prototype._doDispose.call(this)},t.prototype.show=function(){this._container._container.appendChild(this._element)},t.prototype.hide=function(){Bp.detach(this._element)},t.prototype.move=function(e,t){Bp.move(this._element,e,t)},t.prototype.setText=function(e){this._element.innerHTML=e},t.prototype.width=function(){return this._element.offsetWidth},t.prototype.height=function(){return this._element.offsetHeight},t.prototype.$_createElement=function(e){var t=e.createElement("div"),i=t.style;return i.position="absolute",i.padding="4px 4px",i.boxSizing="border-box",i.display="lnline-block",i.pointerEvents="none",i.userSelect="none",t.className="rg-scroll-tip-view",t},t}(Yp),UC=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r._contaner=n,r}return gd(t,e),Object.defineProperty(t.prototype,"container",{get:function(){return this._contaner},enumerable:!1,configurable:!0}),t.prototype._getCssSelector=function(){},t.prototype._doDraw=function(e){},t}(Sb),WC=function(e){function t(i,n,r){var o=e.call(this)||this;return o._disabled=!1,o._updateRequested=!1,o._layoutNeeded=!1,o._invalidated=!1,o._currentX=0,o._currentY=0,o._defaultCursor="default",o._drawing=!1,o._eventHandlers={},o._eventNodes=[],o._containerRender=o._render.bind(o),o._scrollTool=new VC(o),o._cursor="default",o._testWidth=NaN,o._testHeight=NaN,o._positionListener=[],o._scrollHandler=function(e){var t=$p(o._containerDom),i=Fp(o._containerDom);Bp.isSlotMode()||e.target!==t&&!Bp.isAncestorOf(e.target,o._containerDom,e)||(o._scrollTimer=o._scrollTimer&&i.cancelAnimationFrame(o._scrollTimer),o._scrollTimer=i.requestAnimationFrame(function(){o._positionListener.forEach(function(e){e.resetPosition()})}))},o.prepareContainer(i,n,r),o.invalidateLayout(),o._registerEventHandlers(o._rootElement._dom,o._containerDom,n),o.activeTool=o._defaultTool=o._createDefaultTool(),t.$_Containers[o.$_hash]=o,o}return gd(t,e),t.prototype.getMouseContainer=function(){return t.$_Containers[t.$_mouseContainer]},t.prototype.findContainer=function(e,i){for(var n in t.$_Containers){var r=t.$_Containers[n];if(r.contains(i||e.target))return r}return null},t.getActiveGrid=function(){var e=t.$_Containers[t.$_ActiveGrid];return e&&e._gridView},t.refreshGrids=function(){var e=t.$_Containers;for(var i in e){var n=e[i];(n&&n._gridView).refreshView(!0)}},t.setActiveGrid=function(e){if(e!==t.$_ActiveGrid){var i=t.$_Containers[e],n=void 0;if(i=i&&i._gridView,window.RealGrid&&(n=window.RealGrid.onActiveGridChanged)){var r=t.$_Containers[t.$_ActiveGrid];n((r=r&&r._gridView)&&r.handler,i&&i.handler)}i._fireGridActivated()}t.$_ActiveGrid=e},t.getGridInstance=function(e){if("string"==typeof e&&(e=document.getElementById(e)),gC(e,"HTMLDivElement"))for(var i in t.$_Containers){var n=t.$_Containers[i];if(n._containerDiv===e)return n.gridView}},t.clearContainer=function(e){t[e]&&delete t[e],t.$_ActiveGrid===e&&(t.$_ActiveGrid=null)},t.disposeStatic=function(){this.$_Containers=null,this.$_ActiveGrid=null},t.prototype._doDispose=function(){this._activeTool=null,this._defaultTool=this._defaultTool.dispose(),this._scrollTool=this._scrollTool.dispose(),this.$_removeListenerAll(null),Bp.detach(this._containerDom),this._containerDom=null,this._container=null,this._doc=null,Bp.clearElements(this._containerDiv),e.prototype._doDispose.call(this),delete t.$_Containers[this.$_hash]},Object.defineProperty(t.prototype,"doc",{get:function(){return this._doc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(e){e!=this._disabled&&(this._disabled=e,this._doDisabledChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeTool",{get:function(){return this._activeTool},set:function(e){if((e=e||this._defaultTool)!=this._activeTool){var t=this._activeTool;t&&t.deactivate(),this._activeTool=e,e&&e.activate(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultTool",{get:function(){return this._defaultTool},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"measurer",{get:function(){return this._measurer},enumerable:!1,configurable:!0}),t.prototype.findElementAt=function(e,t,i){return this._rootElement.findChildAt(e-this._rootElement._x,t-this._rootElement._y,i)},t.prototype.getTableCell=function(e){return null},t.prototype.setCursor=function(e){e!=this._cursor&&(this._containerDom.style.cursor=this._cursor=e)},t.prototype.setFocus=function(){this._containerDom.focus()},t.prototype.updateNow=function(){this._layoutNeeded=!0,this.invalidate(!0),this._render(Bp.getTimer())},t.prototype.toScreen=function(e){var t=Bp.getSize(this._containerDom);return e.x+=t.left,e.y+=t.top,e},t.prototype.getHtml=function(){return this._containerDom.outerHTML},t.prototype.addElement=function(e){return this._rootElement.addChild(e)},t.prototype.removeElement=function(e){return this._rootElement.removeChild(e)},t.prototype.resetSize=function(e){void 0===e&&(e=null),this.updateNow(),e&&setTimeout(e,0)},t.prototype.measureText=function(e,t,i){this._textMeasurer.className=e;var n=this._textMeasurer.style;return i?(n.fontSize=i.fontSize,n.fontFamily=i.fontFamily,n.fontWeight=i.fontWeight,n.fontStyle=i.fontStyle):(n.removeProperty("font-size"),n.removeProperty("font-family"),n.removeProperty("font-weight"),n.removeProperty("font-style")),this._textMeasurer.innerHTML=t,this._textMeasurer.offsetWidth},t.prototype.$_refreshCheckMeasurer=function(){if(!this._checkRect){var e=Bp.getSize(this._checkMeasurer),t=Np(this._doc).getComputedStyle(this._checkMeasurer);this._checkRect={width:e.width+parseInt(t.marginLeft)+parseInt(t.marginRight),height:e.height+parseInt(t.marginTop)+parseInt(t.marginBottom)}}return this._checkRect},t.prototype.measureCheckWidth=function(){return this.$_refreshCheckMeasurer().width},t.prototype.measureCheckHeight=function(){return this.$_refreshCheckMeasurer().height},t.prototype.contains=function(e){var t=e;if(t instanceof Np(this.doc).HTMLElement)for(var i=t.parentElement;i;){if(i===this._containerDom)return!0;i=i.parentElement}return!1},t.prototype.cancelOtherContainer=function(e){for(var i in t.$_Containers){var n=t.$_Containers[i];if(n!==this){var r=n._activeTool;r&&r.cancelFrom(e)}}},t.prototype.getContainerWidth=function(){return Bp.getSize(this._containerDiv).width},t.prototype._doDisabledChanged=function(){},t.prototype.prepareContainer=function(e,t,i){if(!e)throw new Error("container is null!");if(gC(e,"HTMLDivElement")?this._containerDiv=e:this._containerDiv=document.getElementById(e),!gC(this._containerDiv,"HTMLDivElement"))throw new Error(r_.messages.gridContainerNotFind+e);var n=this._doc=this._containerDiv.ownerDocument,r=Np(n),o=this._containerDiv.getElementsByClassName("rg-root");if(o&&o.length>0)throw new Error(r_.messages.gridElementAttachFail);r.requestAnimationFrame=r.requestAnimationFrame||function(e){return r.setTimeout(e,10)},r.cancelAnimationFrame=r.cancelAnimationFrame||function(e){r.clearTimeout(e)};var s=this._containerDom=n.createElement("div");this._container=this._containerDom;var a=s.style;this._cursor=a.cursor,this._containerDiv.appendChild(s),s.setAttribute("tabindex","0"),a.position="relative",a.width="100%",a.height="100%",a.boxSizing="border-box",a.overflow="hidden",a["-webkit-touch-callout"]="none",a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",this._rootElement=this._createRootElement(n),this._measurer=n.createElement("div"),this._measurer.setAttribute("inert",""),this._container.appendChild(this._measurer);var l=this._textMeasurer=n.createElement("span");l.setAttribute("inert",""),l.style.position="absolute",l.style.left="-10000px",l.style.top="-10000px",l.style.display="block",this._container.appendChild(l);var u=this._checkMeasurer=n.createElement("input");u.type="checkbox",u.title="grid check measurer",u.tabIndex=-1,u.setAttribute("inert",""),u.style.position="absolute",u.style.left="-1000px",u.style.top="-11000px",u.style.display="block",this._container.appendChild(u),this._doPrepareContainer(s,t,i)},t.prototype._doPrepareContainer=function(e,t,i){},t.prototype._createRootElement=function(e){var t=new UC(e,"root",this);return this._containerDom.appendChild(t._dom),t},t.prototype.isLayoutNeeded=function(){return this._layoutNeeded},t.prototype.invalidateLayout=function(){this._layoutNeeded||(this._layoutNeeded=!0,this.invalidate(!0))},t.prototype.invalidate=function(e){var t=Np(this._doc);this._updateRequested&&this._invalidated||!e&&this._drawing||(this._requestTimer||(this._requestTimer=t.requestAnimationFrame(this._containerRender)),this._updateRequested=!0,this._invalidated=!0)},t.prototype.invalidateElement=function(e){var t=Np(this._doc);this._drawing||this._updateRequested||(this._requestTimer||(this._requestTimer=t.requestAnimationFrame(this._containerRender)),this._updateRequested=!0)},t.prototype._render=function(e){if(!this.disposing){this._updateRequested=!1,this._drawing=!0;try{this._doBeforeRender(),this.$$_render(e)}finally{this._drawing=!1,this._invalidated=!1,this._requestTimer=null,this._doAfterRender()}}},t.prototype.$$_render=function(e){var t=this._containerDom,i=isNaN(this._testWidth)?t.clientWidth:this._testWidth,n=isNaN(this._testHeight)?t.clientHeight:this._testHeight;if(this._layoutChildren(new _p(0,0,i,n)),this._layoutNeeded)try{this._doLayout(new _p(0,0,i,n))}finally{this._layoutNeeded=!1}else this._doPrepareRender(new _p(0,0,i,n));this._doRenderHtml(new _p(0,0,i,n))},t.prototype._doLayout=function(e){},t.prototype._doAfterRender=function(){},t.prototype._doPrepareRender=function(e){},t.prototype._doRenderHtml=function(e){this._doDrawContainer(e),this._drawElement(this._rootElement),this._validateChildren(this._rootElement)},t.prototype._doDrawContainer=function(e){},t.prototype._drawElement=function(e){e.draw();for(var t=0,i=e.childCount;t<i;t++){var n=e.getChild(t);n.visible&&this._drawElement(n)}},t.prototype._validateChildren=function(e){for(var t=0,i=e.childCount;t<i;t++)e.getChild(t).validate()},t.prototype._setFocusAndScroll=function(e){e.setFocus?e.setFocus():e.focus&&e.focus({preventScroll:!0})},t.prototype._registerEventHandlers=function(e,t,i){var n=Bp.isIEMode()?"mouse":"pointer",r=Bp.isSlotMode()?t.parentElement:Fp(e);e.style.cursor=this._defaultCursor,this.$_addListener(Fp(e),"resize",this._resizeHandler.bind(this),!1),this.$_addListener(r,"".concat(n,"move"),this._pointerMoveHandler.bind(this),!1),this.$_addListener(r,"".concat(n,"up"),this._pointerUpHandler.bind(this),!1),this.$_addListener(r,"focus",this._focusHandlerFireFox.bind(this),!0),this.$_addListener(r,"focusin",this._focusinHandler.bind(this),!0),this.$_addListener(r,"focusout",this._focusoutHandler.bind(this),!0),this.$_addListener(r,"".concat(n,"down"),this._globalPointerDownHandler.bind(this),!1),this.$_addListener(r,"keyup",this._globalKeyupHandler.bind(this),!1),this.$_addListener(r,"keydown",this._globalKeydownHandler.bind(this),!1),this.$_addListener(r,"scroll",this._scrollHandler,!0),t&&(this.$_addListener(t,"keydown",this._keyDownHandler.bind(this),!1),this.$_addListener(t,"keyup",this._keyUpHandler.bind(this),!1),this.$_addListener(t,"keypress",this._keyPressHandler.bind(this),!1),(Bp.isMobile()||i)&&(this.$_addListener(t,"copy",this._copyHandler.bind(this),!1),this.$_addListener(t,"cut",this._copyHandler.bind(this),!1),this.$_addListener(t,"paste",this._pasteHandler.bind(this),!1))),this.$_addListener(e,"click",this._clickHandler.bind(this),!1),!Bp.isMobile()&&this.$_addListener(e,"dblclick",this._dblclickHandler.bind(this),!1),this.$_addListener(e,"".concat(n,"down"),this._pointerDownHandler.bind(this),!1),this.$_addListener(e,"".concat(n,"enter"),this._pointerEnterHandler.bind(this),!1),this.$_addListener(e,"".concat(n,"leave"),this._pointerLeaveHandler.bind(this),!1),this.$_addListener(e,"".concat(n,"over"),this._pointerOverHandler.bind(this),!1),this.$_addListener(e,"".concat(n,"cancel"),this._pointerCancelHandler.bind(this),!1),this.$_addListener(e,"focus",this._focusHandler.bind(this),!1),this.$_addListener(e,"contextmenu",this._contextMenuHander.bind(this),!1),this.$_addListener(e,"blur",this._blurHandler.bind(this),!1),this.$_addListener(e,"selectstart",this._selectstartHandler.bind(this),!1),this.$_addListener(e,"wheel",this._wheelHandler.bind(this),!!Bp.isPassive()&&{capture:!1,passive:!1}),this.$_addListener(e,"touchmove",this._touchMoveHandler.bind(this),!1)},t.prototype.$_addListener=function(e,t,i,n){e in this._eventHandlers||(this._eventHandlers[e]={}),t in this._eventHandlers[e]||(this._eventHandlers[e][t]=[]),this._eventHandlers[e][t].push([i,n]),e.addEventListener(t,i,n),this._eventNodes.indexOf(e)<0&&this._eventNodes.push(e)},t.prototype.$_removeListener=function(e,t,i){if(e in this._eventHandlers){var n=this._eventHandlers[e];if(t in n){for(var r=n[t],o=r.length;o--;){var s=r[o];e.removeEventListener(t,s[0],s[1]),r.splice(o,1)}i&&delete n[t]}}},t.prototype.$_removeListenerAll=function(e){void 0===e&&(e=null);for(var t=e?[e]:this._eventNodes,i=0,n=t.length;i<n;i++){var r=t[i];if(r in this._eventHandlers){var o=this._eventHandlers[r];for(var s in o)for(var a=o[s],l=a.length;l--;){var u=a[l];r.removeEventListener(s,u[0],u[1])}}}},t.prototype.$_existListener=function(e,t){var i=this._eventHandlers[e];return i&&i[t]},t.prototype.addMouseEvent=function(e){Bp.isIEMode()||(this.$_addListener(this._rootElement._dom,"mousedown",this._mouseDownHandler.bind(this),{once:!0}),this.$_addListener(this._rootElement._dom,"mouseup",this._mouseUpHandler.bind(this),{once:!0}))},t.prototype.removeMouseEvent=function(){Bp.isIEMode()||(this.$_removeListener(this._rootElement._dom,"mousedown",!0),this.$_removeListener(this._rootElement._dom,"mouseup",!0))},t.prototype._doResized=function(e){this._zoomRatio=Bp.getZoom(this._containerDiv)},t.prototype._isEnabled=function(){return this._activeTool&&!this._disabled},t.prototype._isOutChildElement=function(e){return!1},t.prototype.$_checkKeyElement=function(e){var t=Fp(e.target),i=e.target instanceof t.HTMLTableCellElement||e.target instanceof t.HTMLSpanElement;return e.target===e.currentTarget&&e.target===this._containerDom||i&&Bp.isAncestorOf(this._containerDom,e.target,e)},t.prototype.addPositionListener=function(e){this._positionListener.push(e)},t.prototype.removePositionListener=function(e){var t=this._positionListener.indexOf(e);t>=0&&this._positionListener.splice(t,1)},t.prototype._keyDownHandler=function(e){var t=this;if(this._isEnabled()&&this.$_checkKeyElement(e)){var i=e.code;if(Bp.isMobile()&&Bp.ctrlKey(e)&&Bp.included(i,"KeyC","KeyX","KeyV")){var n=document.createElement("input");n.style.position="absolute",n.style.width="0px",n.style.height="0px",n.style.top="-1000px",n.readOnly=!0,this._containerDom.appendChild(n),n.value="test",n.focus({preventScroll:!0}),n.select(),Bp.isiOS&&(e.preventDefault(),"KeyC"===i?document.execCommand("copy"):"KeyX"===i?document.execCommand("cut"):"KeyV"===i&&document.execCommand("paste")),setTimeout(function(){t.setFocus(),Bp.detach(n)},10)}else this._activeTool.keyDown(e)}},t.prototype._keyUpHandler=function(e){this._isEnabled()&&this.$_checkKeyElement(e)&&this._activeTool.keyUp(e)},t.prototype._keyPressHandler=function(e){this._isEnabled()&&this.$_checkKeyElement(e)&&this._activeTool.keyPress(e)},t.prototype._copyHandler=function(e){this._isEnabled()&&!e.defaultPrevented&&this._activeTool.copyHandler(e)},t.prototype._pasteHandler=function(e){this._isEnabled()&&!e.defaultPrevented&&this._activeTool.pasteHandler(e)},t.prototype.eventToContainer=function(e){var t=this._containerDom,i=t.getBoundingClientRect(),n=Bp.getZoom(t);return new Ob((e.clientX-i.left)/n,(e.clientY-i.top)/n)},t.prototype.toOffset=function(e){var t=this._containerDom.getBoundingClientRect();return e.mouseX=(e.clientX-t.left)/this._zoomRatio,e.mouseY=(e.clientY-t.top)/this._zoomRatio,e},t.prototype.toOffsetTouch=function(e){var t=this._containerDom.getBoundingClientRect(),i=e.touches[0]||e.changedTouches[0];return e.mouseX=(i.clientX-t.left)/this._zoomRatio,e.mouseY=(i.clientY-t.top)/this._zoomRatio,e},t.prototype._clickHandler=function(e){this._clickTimer=this._clickTimer&&clearTimeout(this._clickTimer),this._isEnabled()?this._activeTool.click(this.toOffset(e)):e.preventDefault()},t.prototype._dblclickHandler=function(e){this._isEnabled()?this._activeTool.dblclick(this.toOffset(e)):e.preventDefault()},t.prototype.$_setMouseTarget=function(e){for(var t=Fp(this._containerDom),i=e.target;i&&!(i instanceof t.HTMLElement);)i=i.parentElement||i.parentNode;this.activeTool._mouseEventTarget=i instanceof t.HTMLElement?i:null},t.prototype.$_pointerDownHandler=function(e,i){if(this._isEnabled()){t.$_mouseContainer=this.$_hash,this.toOffset(e),this._currentX=e.mouseX,this._currentY=e.mouseY;var n=this.findElementAt(this._currentX,this._currentY,!1);n&&n.getAncestor($C)&&0===e.button?(this.activeTool.setFocus(),this.activeTool!==this._scrollTool&&(this._scrollTool.previous=this.activeTool),this.activeTool=this._scrollTool):this.activeTool!==this._defaultTool&&(this._defaultTool.previous=this.activeTool,this.activeTool=this._defaultTool),this.$_setMouseTarget(e),i.call(this.activeTool,e)}else e.preventDefault();e.defaultPrevented||(this.activeTool._clickTarget=e.target)},t.prototype._pointerDownHandler=function(e){(Bp.isIEMode()||e.isPrimary)&&this.$_pointerDownHandler(e,this.activeTool.pointerDown)},t.prototype._mouseDownHandler=function(e){this.$_pointerDownHandler(e,this.activeTool.mouseDown)},t.prototype._mouseUpHandler=function(e){this.removeMouseEvent(),this.$_pointerUpHandler(e)},t.prototype._pointerMoveHandler=function(e){var i;if(this._containerDom.parentElement&&(Bp.isIEMode()||e.isPrimary)&&(this.toOffset(e),this._currentX=e.mouseX,this._currentY=e.mouseY,this._isEnabled())){i=this._activeTool,this.$_setMouseTarget(e),i.pointerMove(e);var n=i.dragTracker;if(n&&n.linkable&&t.$_mouseContainer==this.$_hash)for(var r in t.$_Containers){var o=t.$_Containers[r];o!==this&&(i=o._activeTool)&&i.dragFrom(e,n)}}},t.prototype.$_pointerUpHandler=function(e){var i=t.$_mouseContainer==this.$_hash,n=this._activeTool;try{if(this.toOffset(e),this._currentX=e.mouseX,this._currentY=e.mouseY,this._isEnabled()){var r=n.dragTracker;if(this.$_setMouseTarget(e),n.pointerUp(e),n instanceof VC&&(this.activeTool=n.previous),r&&r.linkable&&i){var o=Bp.isMobile()&&document.elementFromPoint(e.clientX,e.clientY),s=this.findContainer(e,o);if(s&&s!==this){var a=s._activeTool;a&&a.dropFrom(e,r)}}}else e.preventDefault()}finally{n&&(this.setCursor("default"),n.dragTracker=null),i&&(t.$_mouseContainer=-1)}},t.prototype._pointerUpHandler=function(e){(Bp.isIEMode()||e.isPrimary)&&((this.activeTool.dragging||!this.$_existListener(this._rootElement._dom,"mouseup")||this.activeTool._longPressed)&&(this.removeMouseEvent(),this.$_pointerUpHandler(e)),Bp.isMobile()||!Bp.isSafari||e.defaultPrevented||this.activeTool._clickTarget!==e.target||(this._clickTimer=setTimeout(function(){var t=new PointerEvent("click",{bubbles:e.bubbles,cancelable:e.cancelable,view:e.view,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,screenX:e.screenX,screenY:e.screenY});e.target.dispatchEvent(t)},50)))},t.prototype._pointerEnterHandler=function(e){this._isEnabled()&&this._activeTool.mouseEnter(this.toOffset(e))},t.prototype._pointerLeaveHandler=function(e){this._isEnabled()&&this._activeTool.mouseLeave(this.toOffset(e))},t.prototype._pointerOverHandler=function(e){this._isEnabled()&&this._activeTool.mouseOver(this.toOffset(e))},t.prototype._pointerCancelHandler=function(e){this._isEnabled()&&this._activeTool.pointerCancel(this.toOffset(e))},t.prototype._contextMenuHander=function(e){this.toOffset(e),this._currentX=e.mouseX,this._currentY=e.mouseY,this._isEnabled()&&(this.$_setMouseTarget(e),this._activeTool.contextMenu(this.toOffset(e)))},t.prototype._wheelHandler=function(e){this._isEnabled()&&(this.$_setMouseTarget(e),this._activeTool.mouseWheel(this.toOffset(e))&&Bp.stopEvent(e))},t.prototype._focusHandler=function(e){},t.prototype._blurHandler=function(e){},t.prototype._selectstartHandler=function(e){return!1},t.prototype._focusinHandler=function(e){},t.prototype._globalPointerDownHandler=function(e){Bp.isAncestorOf(this._containerDiv,e.target,e)||this._isOutChildElement(e)||this._isEnabled()&&this._activeTool.focusLeave(e)},t.prototype._globalKeyupHandler=function(e){this._activeTool.globalKeyup(e)},t.prototype._globalKeydownHandler=function(e){this._activeTool.globalKeydown(e)},t.prototype._focusoutHandler=function(e){var t=e.relatedTarget,i=e.target,n=!!this._focused,r=Bp.isAncestorOf(this._containerDiv,i,e),o=t&&Bp.isAncestorOf(this._containerDiv,t,e);if(!o){var s=!t;if((s=s||r&&!o&&!this._isOutChildElement(e))&&(this._focused=!1,this._isEnabled()&&this._activeTool.focusLeave(e)),!this._focused&&n!==!!this._focused){var a=Bp.isChromium?!e.relatedTarget&&!e.sourceCapabilities:void 0;this._focusChanged(this._focused,a,e)}}},t.prototype._focusHandlerFireFox=function(e){var t=!!this._focused;if(e.target===this._containerDom||Bp.isAncestorOf(this._containerDom,e.target,e)?this._isEnabled()&&!this._dummyFocus&&(this._focused=!0,this._activeTool.setFocus(e.target)):this._isOutChildElement(e)?this._focused=!0:this._containerDom.setAttribute("tabindex","0"),this._focused&&t!==!!this._focused){var i=Bp.isChromium?!e.relatedTarget&&!e.sourceCapabilities:void 0;this._focusChanged(this._focused,i,e)}},t.prototype._touchMoveHandler=function(e){if(!(e.touches.length>1))return this.toOffsetTouch(e),this._activeTool.touchMove(e)},t.$_Containers={},t.$_mouseContainer=-1,t.$_ActiveGrid=null,t}(Vf),GC=function(e){function t(t,i){void 0===i&&(i=null);var n=e.call(this,t,i)||this;return n._fixed=!1,n._index=new Wv,n}return gd(t,e),t.prototype._doDispose=function(){this._index&&this._index.dispose(),this._index=null,this._cellDom=Bp.detach(this._cellDom),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"fixed",{get:function(){return this._fixed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(e){Wv.areEquals(this._index,e)||(this._index.assignFrom(e),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._index.item},enumerable:!1,configurable:!0}),t.prototype.updateCell=function(e,t,i){i!=this._cellDom&&(i&&this._clearCellDom(i),this._clearCellCache(),this._cellDom=i),this.index=t.index,this._doPrepareValue(e,t),this._doUpdateContent(e,t,this._cellDom)},t.prototype.removeCellDom=function(e){void 0===e&&(e=!1),e&&this._cellDom&&this._clearCellDom(this._cellDom),this._cellDom=null,this._clearCellCache()},t.prototype._createDom=function(e){return null},t.prototype._clearCellDom=function(e){e.innerHTML=""},t.prototype._clearCellCache=function(){},Object.defineProperty(t.prototype,"valueColumn",{get:function(){return this._index.valueColumn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumn",{get:function(){return this._index.dataColumn},enumerable:!1,configurable:!0}),t.prototype._changed=function(){this.invalidate()},t.prototype._doPrepareValue=function(e,t){},t.prototype._doUpdateContent=function(e,t,i){},t.prototype._doLayoutContent=function(e){},t}(Fw);!function(e){function t(t,i){return void 0===i&&(i=null),e.call(this,t,i)||this}gd(t,e),t.prototype._doPrepareValue=function(e,t){}}(GC);var zC=function(e){function t(t,i,n){void 0===n&&(n="gridHeadCellView");var r=e.call(this,t,n)||this;return r._text="",r._styleName="",r._textChanged=!1,r._model=i,r}return gd(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),t.prototype.setStyleName=function(e,t,i){i==this._styleName&&t==this._cellDom||(this._styleName=i,this._className="",this._setClassName(e))},t.prototype._getCssSelector=function(){return this._styleName},t.prototype._clearCellCache=function(){e.prototype._clearCellCache.call(this),this._textChanged=!0},t.prototype._doPrepareValue=function(e,t){this._model.headText!=this._text&&(this._text=this._model.headText||"",this._textChanged=!0)},t.prototype._doUpdateContent=function(e,t,i){this._textChanged&&(this._textChanged=!1,i[Bp.TextProp]=this._text)},t}(GC),YC=function(e){function t(t,i){var n=e.call(this,t,i,"chekHeadCellView")||this;return n._checked=!1,n._indeterminate=!1,n}return gd(t,e),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indeterminate",{get:function(){return this._indeterminate},set:function(e){this._indeterminate=e},enumerable:!1,configurable:!0}),t.prototype._clearCellCache=function(){this._check=this._image=this._span=this._label=null},t.prototype._doUpdateContent=function(e,t,i){var n,r=e.doc,o=this.model,s=o.showAll&&!o.exclusive;if(s&&!this._check){var a=this._check=r.createElement("input");a.id="$$-grid-head-check-"+this.model.$_hash,n=a.style,a.type="checkbox",a.className="rg-checkbox",a.tabIndex=-1,n.display=o.useImages?"none":"inline-block",i.appendChild(a);var l=this._image=r.createElement("span");(n=l.style).display=o.useImages?"inline-block":"none",i.appendChild(l);var u=this._label=r.createElement("label");u.setAttribute("for",this._check.id),u[Bp.TextProp]="grid head check",(n=u.style).display="none",i.appendChild(u)}if(s?(this._check.style.display=o.useImages?"none":"inline-block",this._image.style.display=o.useImages?"inline-block":"none",this._image.className=this._checked?"rg-checkbar-head-checked":this._indeterminate?"rg-checkbar-head-indeterminate":"rg-checkbar-head-unchecked",this._check.checked=this._checked,Bp.setInert(this._check,!e.accessibility),this._check.indeterminate=this._indeterminate):(Bp.detach(this._check),Bp.detach(this._image),Bp.detach(this._label),this._check=this._image=this._label=null),this._textChanged&&(this._span||(this._span=r.createElement("span"),this._span.style.display="block",i.appendChild(this._span)),this._span[Bp.TextProp]=this._text),s&&this._span&&this._text){var c=o.useImages?this._image:this._check,h=this._span,d=c.parentElement,p=null!=o.itemGap?o.itemGap+"px":"5px";switch((n=h.style).margin="",o.checkLocation){case $d.BOTTOM:d.insertBefore(h,c),n.display="block",n.marginBottom=p;break;case $d.LEFT:d.insertBefore(c,h),n.display="inline-block",n.marginLeft=p;break;case $d.RIGHT:d.insertBefore(h,c),n.display="inline-block",n.marginRight=p;break;case $d.TOP:default:d.insertBefore(c,h),n.display="block",n.marginTop=p}}},t.prototype.$_updateContent=function(){var e=this.model;e.showAll&&!e.exclusive&&this._check&&(this._check.checked=this._checked,this._check.indeterminate=this.indeterminate,this._image.className=this._checked?"rg-checkbar-head-checked":this._indeterminate?"rg-checkbar-head-indeterminate":"rg-checkbar-head-unchecked")},t}(zC),qC=function(e){function t(t){var i=e.call(this,t.doc,null,"gridHeadView")||this;i._cells=[];var n=t.doc;return i.addChild(i._indicatorCell=new zC(n,t.rowIndicator)),i.addChild(i._stateCell=new zC(n,t.stateBar)),i.addChild(i._checkCell=new YC(n,t.checkBar)),i}return gd(t,e),t.prototype._doDispose=function(){this._cells=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"allChecked",{get:function(){return this._checkCell.checked},set:function(e){var t=this._checkCell;t.checked=e,t.$_updateContent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indeterminate",{get:function(){return this._checkCell.indeterminate},set:function(e){var t=this._checkCell;t.indeterminate=e,t.$_updateContent()},enumerable:!1,configurable:!0}),t.prototype.getHeadModel=function(e){for(var t=0;t<this._cells.length;t++)if(e===this._getTableCell(0,t))return this._cells[t].model},t.prototype.getCellType=function(e){var t=this.getHeadModel(e);return t instanceof lb?t.getCellType():void 0},t.prototype._getCssSelector=function(){return"rg-head"},t.prototype._doPrepareTableExtents=function(t){e.prototype._doPrepareTableExtents.call(this,t);var i,n=t.grid.rowBarContainer,r=n.getSectionObject();this._cells=[];for(var o=0,s=r;o<s.length;o++){var a=s[o];a instanceof pb&&(((i=this._indicatorCell).visible=i.model.visible)?(this._cells.push(i),i.width=n.rowIndicator.width):i.removeCellDom()),a instanceof _b&&(((i=this._stateCell).visible=i.model.visible)?(this._cells.push(i),i.width=n.stateBar.width):i.removeCellDom()),a instanceof mb&&(((i=this._checkCell).visible=i.model.visible)?(this._cells.push(i),i.width=n.checkBar.width):i.removeCellDom(!0))}},t.prototype._prepareCellContent=function(e,t){return this.grid.doc.createElement("div")},t.prototype._doLayoutContent=function(e){var t=e.grid,i=this._cells.length;this._getTableRowCount(e);for(var n=this._thead,r=n&&n.children[0],o=0;o<i;o++){var s=this._cells[o],a=s.model;if(a.dirty||s._dirty||t._columnsDirty){var l=a.getHeadCell(),u=this._getTableCell(0,o),c=u.firstElementChild,h=this.$_getCellSelector()+" "+a.getHeadStyleName();if(r){var d=r.children[o];d&&(d[Bp.TextProp]=a.getCellType()+" head")}s.setStyleName(u,c,h),s.updateCell(t,l,c)}}},t.prototype._doRender=function(e){},t.prototype._doDraw=function(e){this._cells.forEach(function(e){e.validate()})},t.prototype._getTableRowCount=function(e){return 1},t.prototype._getTableRowHeight=function(e,t){return this.height},t.prototype._getCellCount=function(e){return this._cells.length},t.prototype._getCellWidth=function(e,t){return this._cells[t].width},t.prototype._doPrepareTableRow=function(t,i,n,r){e.prototype._doPrepareTableRow.call(this,t,i,n,r);var o=t.grid.header.styleName;Bp.setClassName(r,o)},t.prototype.$_getCellSelector=function(){return t.CELL_CSS},t.CELL_CSS="rg-head-cell",t}(Bw),KC=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._text="",t._styleName="",t._textChanged=!1,t}return gd(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this._model},set:function(e){e!==this._model&&(this._model=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e!=this._text&&(this._text=e||"",this._textChanged=!0,this._changed())},enumerable:!1,configurable:!0}),t.prototype.setStyleName=function(e,t){t!=this._styleName&&(this._styleName=t,this._setClassName(e))},t.prototype._getCssSelector=function(){return this._styleName},t.prototype._doUpdateContent=function(e,t,i){this._textChanged&&(this._textChanged=!1,i[Bp.TextProp]=this._text)},t.prototype._doRender=function(e){},t}(GC),XC=function(e){function t(t,i,n){var r=e.call(this,t,i,n)||this;r._cells=[],r._count=0;for(var o=0;o<3;o++)r.addChild(r._cells[o]=r._createCellElement(t));return r}return gd(t,e),t.prototype._doDispose=function(){this._cells=null,e.prototype._doDispose.call(this)},t.prototype._getCellModel=function(e){for(var t=0;t<this._cells.length;t++)if(e===this._getTableCell(0,t))return this._cells[t].model},t.prototype.getCellType=function(e){var t=this._getCellModel(e);return t instanceof lb?t.getCellType():void 0},t.prototype._getCssSelector=function(){return this._domCssSelector},t.prototype._doPrepareTableExtents=function(t){e.prototype._doPrepareTableExtents.call(this,t);var i,n=t.grid.rowBarContainer,r=n.getSectionObject();this._count=0;for(var o=0,s=r;o<s.length;o++){var a=s[o];a.visible&&((i=this._cells[this._count++]).model=a,a instanceof pb?i.width=n.rowIndicator.width:a instanceof _b?i.width=n.stateBar.width:a instanceof mb&&(i.width=n.checkBar.width))}},t.prototype._prepareCellContent=function(e,t){return this.grid.doc.createElement("div")},t.prototype._doLayoutContent=function(e){for(var t=e.grid,i=this._count,n=this._thead,r=n&&n.children[0];this.childCount<i;)this.addChild(this._cells[this.childCount]);for(;this.childCount>i;)this.removeLast();for(var o=0;o<i;o++){var s=this.getChild(o),a=s.model;if(a.dirty||t._columnsDirty){var l=this._sectionCell(a),u=this._getTableCell(0,o),c=u.firstElementChild,h=this._getSectionStyleName(a);if(r){var d=r.children[o];d&&(d[Bp.TextProp]=this._getHeadTrText(a))}s.setStyleName(u,h),s.text=this._getSectionText(a),s.updateCell(t,l,c)}}},t.prototype._doRender=function(e){},t.prototype._doDraw=function(e){this._cells.forEach(function(e){e.validate()})},t.prototype._getTableRowCount=function(e){return 1},t.prototype._getTableRowHeight=function(e,t){return this.height},t.prototype._getCellCount=function(e){return this._count},t.prototype._getCellWidth=function(e,t){return this._cells[t].width},t.prototype._doPrepareTableRow=function(t,i,n,r){e.prototype._doPrepareTableRow.call(this,t,i,n,r)},t}(Bw),ZC=function(e){function t(t){return e.call(this,t,"gridFootCellView")||this}return gd(t,e),t}(KC),JC=function(e){function t(t){var i=e.call(this,t,null,"gridFootView")||this;return i._domCssSelector="rg-foot",i}return gd(t,e),t.prototype.getFootModel=function(e){return this._getCellModel(e)},t.prototype._createCellElement=function(e){return new ZC(e)},t.prototype._sectionCell=function(e){return e.getFootCell()},t.prototype._getSectionStyleName=function(e){return this.$_getCellSelector()+" "+e.getFootStyleName()},t.prototype._getHeadTrText=function(e){return e.getCellType()+" foot"},t.prototype._getSectionText=function(e){return e.footText},t.prototype.$_getCellSelector=function(){return"rg-foot-cell"},t}(XC),QC=function(e){function t(t){var i=e.call(this,t)||this;return i._datetimeFormat=i_.DEFAULT_FORMAT,i._datetimeWriter=i_.Default,i._numberFormatter=a_.getFormatter(i._numberFormat=a_.DEFAULT_FORMAT),i.assignFrom(u_.format),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"textFormat",{get:function(){return this._textFormat},set:function(e){e!=this._textFormat&&(this._textFormat=e,this._textFormatter=e?Zy.getFormatter(e):null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(e){e!=this._datetimeFormat&&(this._datetimeFormat=e,this._datetimeWriter=e?i_.getFormatter(e):null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){e!=this._numberFormat&&(this._numberFormat=e,this._numberFormatter=e?a_.getFormatter(e):null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(e){e!=this._booleanFormat&&(this._booleanFormat=e,this._boolFormatter=e?n_.getFormatter(e):null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textFormatter",{get:function(){return this._textFormatter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeWriter",{get:function(){return this._datetimeWriter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boolFormatter",{get:function(){return this._boolFormatter},enumerable:!1,configurable:!0}),t}(Dw),ex=function(e){function t(t){var i=e.call(this)||this;return i._message="",i._visible=!0,i._zIndex=void 0,i._styleName="rg-toast",i.assignFrom(t),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"message",{get:function(){return"string"==typeof this._message?this._message:this._message?this._message():void 0},set:function(e){this._message=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return this._styleName},set:function(e){this._styleName=e},enumerable:!1,configurable:!0}),t.prototype.assignFrom=function(t){"string"==typeof t?(this._message=t,this._message&&(this._visible=!0)):"boolean"==typeof t?this._visible=t:e.prototype.assignFrom.call(this,t)},t.prototype.toProxy=function(e){return{message:this.message,visible:this.visible,zIndex:this.zIndex,styleName:this.styleName}},t}(Yp),tx=function(e){function t(t){var i=e.call(this)||this;return i._minWidth=0,i._maxWidth=0,i._dropdownCount=8,i._showing=!1,i._container=t,i._element=i.$_createElement(t.doc),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._minWidth},set:function(e){this._minWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCount",{get:function(){return this._dropdownCount},set:function(e){this._dropdownCount=e},enumerable:!1,configurable:!0}),t.prototype.show=function(e){this._showing=!0;try{this.$_show(e)}finally{this._showing=!1}},t.prototype.hide=function(){var e=this._element;e&&e.parentNode&&this._container._container.removeChild(e)},t.prototype.$_createElement=function(e){var t=e.createElement("div");t.onkeydown=function(e){27==e.keyCode&&this.hide()}.bind(this),this.$_disableSelection(t);var i=this._span=e.createElement("span");return this.$_disableSelection(i),t.appendChild(i),t},t.prototype.$_show=function(e){var t=e.message;if(t){var i=this._element;if(i){var n=this._span,r=this._container._gridView.displayOptions;n.innerHTML=t,i.className=e.styleName,i.style.position="absolute",i.style.overflow="hidden",i.style.zIndex=null!=e.zIndex?e.zIndex:r.toastZIndex,this._container._container.appendChild(i);var o=Bp.getSize(i),s=Bp.getSize(this._container._container),a=o.width+10,l=o.height+10,u=s.width,c=s.height;i.style.left=(u-a)/2+"px",i.style.top=(c-l)/2+"px"}}},t.prototype.$_disableSelection=function(e){void 0!==e.onselectstart?e.onselectstart=function(){return!1}:void 0!==e.style.MozUserSelect?e.style.MozUserSelect="none":e.onmousedown=function(){return!1}},t}(Yp),ix=function(e){function t(t){var i=e.call(this)||this;return i._active=!1,i._container=t.container,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"visible",{get:function(){return this._active},enumerable:!1,configurable:!0}),t.prototype.show=function(e,t,i){if((!this._active||t)&&(this.close(),(e=e instanceof ex?e:e?new ex(e):null)&&e.visible))return this._toast||(this._toast=new tx(this._container)),this._toast.show(e),this._active=!0,void(i&&setTimeout(function(){try{i()}finally{this.close()}}.bind(this),0));i&&i()},t.prototype.close=function(){this._active&&(this._toast&&this._toast.hide(),this._active=!1)},t}(Yp),nx=function(e){function t(t){var i=e.call(this,t)||this;return i._pageSorting=!1,i._toast=new ex({visible:!1,message:i._messageCallback}),i.assignFrom(u_.sorting),i}return gd(t,e),t.prototype._doDispose=function(){this._toast=this._toast.dispose(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"enabled",{get:function(){var e=u_.sorting.enabled;return void 0!==this._enabled?this._enabled:void 0===e||e},set:function(e){e!=this._enabled&&(this._enabled=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style||u_.sorting.style||Wd.EXCLUSIVE},set:function(e){e!=this._style&&(this._style=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handleVisibility",{get:function(){return this._handleVisibility||u_.sorting.handleVisibility||zd.VISIBLE},set:function(e){e!=this._handleVisibility&&(this._handleVisibility=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitBeforeSorting",{get:function(){var e=u_.sorting.commitBeforeSorting,t=this._commitBeforeSorting;return void 0!==t?t:void 0===e||e},set:function(e){e!=this._commitBeforeSorting&&(this._commitBeforeSorting=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keepFocusedRow",{get:function(){var e=u_.sorting.keepFocusedRow,t=this._keepFocusedRow;return void 0!==t?t:void 0!==e&&e},set:function(e){e!=this._keepFocusedRow&&(this._keepFocusedRow=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textCase",{get:function(){return this._textCase||u_.sorting.textCase||wd.SENSITIVE},set:function(e){e!=this._textCase&&(this._textCase=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSortOrder",{get:function(){var e=u_.sorting.showSortOrder,t=this._showSortOrder;return void 0!==t?t:void 0!==e&&e},set:function(e){e!=this._showSortOrder&&(this._showSortOrder=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageSorting",{get:function(){return this._pageSorting},set:function(e){e!=this._pageSorting&&(this._pageSorting=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toast",{get:function(){return this._toast},set:function(e){e&&!e.message&&(e=md(md({},e),{message:this._messageCallback})),this._toast&&this._toast.assignFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullsOrder",{get:function(){return this._nullsOrder||u_.sorting.nullsOrder||lp.DEFAULT},set:function(e){e!==this._nullsOrder&&(this._nullsOrder=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outerSort",{get:function(){return this._outerSort},set:function(e){e!==this._outerSort&&(this._outerSort=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortDataRow",{get:function(){var e=u_.sorting.sortDataRow,t=this._sortDataRow;return void 0!==t?t:void 0===e||e},set:function(e){e!==this._sortDataRow&&(this._sortDataRow=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype.assignFrom=function(t){e.prototype.assignFrom.call(this,t),this.grid&&this.grid.sortOptionsChanged()},t.prototype._changed=function(){e.prototype._changed.call(this),this.grid&&this.grid.sortOptionsChanged()},t.prototype._messageCallback=function(){var e;return(null===(e=u_.sorting.toast)||void 0===e?void 0:e.message)||r_.messages.sortingToastMessage},t}(Dw),rx=function(e){function t(t,i){return void 0===i&&(i=null),e.call(this,t,i)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){for(var e=this.parent;e;){if(e instanceof oE)return e;e=e.parent}return null},enumerable:!1,configurable:!0}),t.prototype.measure=function(e,t,i){return this._doMeasure(e,t,i)},t.prototype.layoutContent=function(e,t,i){this._doLayoutContent(e,t,i)},t.prototype._doMeasure=function(e,t,i){return new Aw(t,i)},t.prototype._doLayoutContent=function(e,t,i){},t}(kb),ox=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._initDom=function(t){e.prototype._initDom.call(this,t)},t}(rx),sx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t}(rx),ax=function(e){function t(t){var i=e.call(this,t.doc,"fixedColumnBar")||this;return i._grid=t,i}return gd(t,e),t.prototype._getCssSelector=function(){return Mw.COLUMN_BAR_STYLE},t}(kb),lx=function(e){function t(t,i){return void 0===i&&(i=null),e.call(this,t,i)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.layoutBars=function(e,t,i){this._layoutBars(e,t,i)},t.prototype._doLayoutContent=function(t,i,n){this._barView||(this._barView=this._createBar(t.grid),this.addChild(this._barView),this._barView2=this._createBar(t.grid),this.addChild(this._barView2)),e.prototype._doLayoutContent.call(this,t,i,n)},t.prototype._createBar=function(e){return new ax(e)},t.prototype._layoutBars=function(e,t,i){var n=e.fixedBarWidth,r=e.footBounds.height;if(this._barView.visible=n>0,this._barView2.visible=!1,this._barView.visible){var o=Math.min(i-r,e.dataBounds.bottom);this._barView.setBounds(t-n,0,n,o),r>0&&(this._barView2.visible=!0,this._barView2.setBounds(t-n,i-r,n,r))}},t}(sx),ux=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-right-column-bar"},t}(kb),cx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._createBar=function(){return new ux(this.doc,"rightColumnBar")},t.prototype._layoutBars=function(e,t,i){var n=e.rightBarWidth,r=e.footBounds.height;if(this._barView.visible=n>0,this._barView2.visible=!1,this._barView.visible){var o=Math.min(i-r,e.dataBounds.bottom);this._barView.setBounds(0,0,n,o),r>0&&(this._barView2.visible=!0,this._barView2.setBounds(0,i-r,n,r))}},t}(lx);!function(e){function t(t,i){void 0===i&&(i=null);var n=e.call(this,t,i)||this;return n.visible=!1,n}gd(t,e),Object.defineProperty(t.prototype,"message",{get:function(){return this._message},set:function(e){e!=this._message&&(this._message=e,this._dom.innerHTML=e,this.invalidate())},enumerable:!1,configurable:!0}),t.prototype._getCssSelector=function(){return"rg-message-pane"},t.prototype._doLayoutContent=function(t,i,n){e.prototype._doLayoutContent.call(this,t,i,n)}}(rx);var hx,dx,px=function(e){function t(t){var i=e.call(this,t)||this;return i._readOnly=!1,i._editable=!Bp.isMobile(),i._checkable=!0,i._updatable=!0,i._appendable=!1,i._insertable=!1,i._deletable=!1,i._revertable=!1,i._erasable=!1,i._movable=!1,i._commitByCell=!1,i._editWhenFocused=!1,i._commitWhenNoEdit=!1,i._commitWhenExitLast=!1,i._commitWhenLeave=!1,i._crossWhenExitLast=!1,i._validateOnEdited=!0,i._hintOnError=!0,i._showInvalidFormatMessage=!0,i._confirmWhenDelete=!0,i._editWhenClickFocused=!1,i._commitLevel=Ld.IGNORE,i._useTabKey=!0,i._useArrowKeys=!0,i._skipReadOnly=!1,i._skipReadOnlyCell=!1,i._verticalMoveStep=kv.CELL,i._focusMoveStep=Pv.CELL,i._enterToTab=!1,i._enterToNextCell=!0,i._enterToNextRow=!1,i._enterToEdit=!1,i._maxLengthToNextCell=!1,i._forceInsert=!1,i._forceAppend=!1,i._checkDiff=!1,i._checkCellDiff=!1,i._strictDiff=!1,i._deletableWhenEdit=!0,i._showCommitError=!1,i._firstCellWhenInsert=!1,i._appendWhenInsertKey=!1,i._appendWhenExitLast=!1,i._showOnlyValidationMessage=!0,i._displayEmptyEditRow=!1,i._buttonClickWhenSpace=!1,i._exitGridWhenTab=tp.NONE,i._cancelWhenLastUndo=!1,i._exceptDataClickWhenButton=!1,i._removeValidateOnCommit=!1,i._validateOnlyEditColumn=!1,i._columnEditableFirst=!1,i._currentChangingFirst=!1,i._movableWhenFocusedOnly=!1,i.assignFrom(u_.edit),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"readOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=e,this._refreshOwner(),this.$_invalidateEditor())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this._editable},set:function(e){e!=this._editable&&(this._editable=e,this._refreshOwner(),this.$_invalidateEditor())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnEditableFirst",{get:function(){return this._columnEditableFirst},set:function(e){e!=this._columnEditableFirst&&(this._columnEditableFirst=e,this._refreshOwner(),this.$_invalidateEditor())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkable",{get:function(){return this._checkable},set:function(e){e!=this._checkable&&(this._checkable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updatable",{get:function(){return this._updatable},set:function(e){e!=this._updatable&&(this._updatable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appendable",{get:function(){return this._appendable},set:function(e){e!=this._appendable&&(this._appendable=e,this.displayEmptyEditRow=this._displayEmptyEditRow,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"insertable",{get:function(){return this._insertable},set:function(e){e!=this._insertable&&(this._insertable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deletable",{get:function(){return this._deletable},set:function(e){e!=this._deletable&&(this._deletable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"revertable",{get:function(){return this._revertable},set:function(e){e!=this._revertable&&(this._revertable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"erasable",{get:function(){return this._erasable},set:function(e){e!=this._erasable&&(this._erasable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"movable",{get:function(){return this._movable},set:function(e){e!=this._movable&&(this._movable=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitByCell",{get:function(){return this._commitByCell},set:function(e){e!=this._commitByCell&&(this._commitByCell=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editWhenFocused",{get:function(){return this._editWhenFocused},set:function(e){this._editWhenFocused=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitWhenNoEdit",{get:function(){return this._commitWhenNoEdit},set:function(e){this._commitWhenNoEdit=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitWhenExitLast",{get:function(){return this._commitWhenExitLast},set:function(e){this._commitWhenExitLast=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitWhenLeave",{get:function(){return this._commitWhenLeave},set:function(e){this._commitWhenLeave=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"crossWhenExitLast",{get:function(){return this._crossWhenExitLast},set:function(e){this._crossWhenExitLast=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validateOnEdited",{get:function(){return this._validateOnEdited},set:function(e){this._validateOnEdited=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintOnError",{get:function(){return this._hintOnError},set:function(e){this._hintOnError=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"removeValidateOnCommit",{get:function(){return this._removeValidateOnCommit},set:function(e){this._removeValidateOnCommit=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validateOnlyEditColumn",{get:function(){return this._validateOnlyEditColumn},set:function(e){this._validateOnlyEditColumn=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deleteRowsMessage",{get:function(){return this._deleteRowsMessage||r_.messages.deleteRowsMessage},set:function(e){this._deleteRowsMessage=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"invalidFormatMessage",{get:function(){return this._invalidFormatMessage||r_.messages.invalidFormatMessage},set:function(e){this._invalidFormatMessage=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInvalidFormatMessage",{get:function(){return this._showInvalidFormatMessage},set:function(e){this._showInvalidFormatMessage=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"confirmWhenDelete",{get:function(){return this._confirmWhenDelete},set:function(e){this._confirmWhenDelete=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editWhenClickFocused",{get:function(){return this._editWhenClickFocused},set:function(e){this._editWhenClickFocused=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitLevel",{get:function(){return this._commitLevel},set:function(e){this._commitLevel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useTabKey",{get:function(){return this._useTabKey},set:function(e){this._useTabKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useArrowKeys",{get:function(){return this._useArrowKeys},set:function(e){this._useArrowKeys=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skipReadOnly",{get:function(){return this._skipReadOnly},set:function(e){this._skipReadOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skipReadOnlyCell",{get:function(){return this._skipReadOnlyCell},set:function(e){this._skipReadOnlyCell=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticalMoveStep",{get:function(){return this._verticalMoveStep},set:function(e){this._verticalMoveStep=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusMoveStep",{get:function(){return this._focusMoveStep},set:function(e){this._focusMoveStep=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enterToTab",{get:function(){return this._enterToTab},set:function(e){this._enterToTab=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enterToNextCell",{get:function(){return this._enterToNextCell},set:function(e){this._enterToNextCell=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enterToNextRow",{get:function(){return this._enterToNextRow},set:function(e){this._enterToNextRow=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enterToEdit",{get:function(){return this._enterToEdit},set:function(e){this._enterToEdit=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLengthToNextCell",{get:function(){return this._maxLengthToNextCell},set:function(e){this._maxLengthToNextCell=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forceInsert",{get:function(){return this._forceInsert},set:function(e){this._forceInsert=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forceAppend",{get:function(){return this._forceAppend},set:function(e){this._forceAppend=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkDiff",{get:function(){return this._checkDiff},set:function(e){this._checkDiff=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkCellDiff",{get:function(){return this._checkCellDiff},set:function(e){this._checkCellDiff=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strictDiff",{get:function(){return this._strictDiff},set:function(e){this._strictDiff=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deletableWhenEdit",{get:function(){return this._deletableWhenEdit},set:function(e){this._deletableWhenEdit=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitEditingMessage",{get:function(){return this._commitEditingMessage||r_.messages.commitEditingMessage},set:function(e){this._commitEditingMessage=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCommitError",{get:function(){return this._showCommitError},set:function(e){this._showCommitError=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstCellWhenInsert",{get:function(){return this._firstCellWhenInsert},set:function(e){this._firstCellWhenInsert=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appendWhenInsertKey",{get:function(){return this._appendWhenInsertKey},set:function(e){this._appendWhenInsertKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appendWhenExitLast",{get:function(){return this._appendWhenExitLast},set:function(e){this._appendWhenExitLast=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showOnlyValidationMessage",{get:function(){return this._showOnlyValidationMessage},set:function(e){this._showOnlyValidationMessage=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayEmptyEditRow",{get:function(){return this._displayEmptyEditRow},set:function(e){var t=this.grid;this._displayEmptyEditRow=e,t.itemSource&&(this._displayEmptyEditRow&&this._appendable?t.itemSource.appendDummy():t.itemSource.cancelDummy(),this._refreshOwner())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonClickWhenSpace",{get:function(){return this._buttonClickWhenSpace},set:function(e){this._buttonClickWhenSpace=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exitGridWhenTab",{get:function(){return this._exitGridWhenTab},set:function(e){this._exitGridWhenTab=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cancelWhenLastUndo",{get:function(){return this._cancelWhenLastUndo},set:function(e){this._cancelWhenLastUndo=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exceptDataClickWhenButton",{get:function(){return this._exceptDataClickWhenButton},set:function(e){this._exceptDataClickWhenButton=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollOnEditing",{get:function(){return this._scrollOnEditing},set:function(e){this._scrollOnEditing=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentChangingFirst",{get:function(){return this._currentChangingFirst},set:function(e){this._currentChangingFirst=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"movableWhenFocusedOnly",{get:function(){return this._movableWhenFocusedOnly},set:function(e){this._movableWhenFocusedOnly=e},enumerable:!1,configurable:!0}),t.prototype.isWritable=function(){return this._editable&&!this._readOnly},t.prototype.canUpdate=function(e){return!this._readOnly&&(e||this._updatable)},t.prototype.canInsert=function(){return!this._readOnly&&this._insertable},t.prototype.canAppend=function(){return!this._readOnly&&this._appendable},t.prototype.canDelete=function(){return!this._readOnly&&this._deletable},t.prototype.$_invalidateEditor=function(){this.grid&&this.grid.requestPrepareEditor()},t}(Dw),fx=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._doDispose=function(){this._cell=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"value",{set:function(e){this._value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cell",{set:function(e){this._cell=e},enumerable:!1,configurable:!0}),t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){switch(e){case t.ID_VALUE:return this._value;case t.ID_ROW:return this._cell.itemIndex+1;case t.ID_COLUMN_HEADER:var i=this._cell&&this._cell.column;return i&&i.header&&i.header.text?i.header.text:i.displayText}throw new Kp("Invalid identifier key: "+e)},t.ID_VALUE=0,t.ID_ROW=1,t.ID_COLUMN_HEADER=2,t.IDENTS={value:t.ID_VALUE,row:t.ID_ROW,dcount:t.ID_COLUMN_HEADER},t}(nf),_x=function(e){function t(t){var i=e.call(this,t)||this;return i._months=null,i._weekDays=null,i._viewGridInside=!1,i._holidays=null,i._dateCellEditor={},i._numberCellEditor={},i._dropdownCellEditor={},i._multiCheckCellEditor={},i._searchCellEditor={},i._showMarquee=!0,i._titleExprRuntime=new fx,i.assignFrom(u_.editor),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"yearDisplayFormat",{get:function(){return this._yearDisplayFormat||r_.messages.dateEditorYearDisplayFormat},set:function(e){this._yearDisplayFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"monthDisplayFormat",{get:function(){return this._monthDisplayFormat||r_.messages.dateEditorMonthDisplayFormat},set:function(e){this._monthDisplayFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"months",{get:function(){return this._months||r_.messages.dateEditorMonths},set:function(e){this._months=e.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"weekDays",{get:function(){return this._weekDays||r_.messages.dateEditorWeekDays},set:function(e){this._weekDays=e.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dateCellEditor",{get:function(){return this._dateCellEditor},set:function(e){this._dateCellEditor=md({},e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberCellEditor",{get:function(){return this._numberCellEditor},set:function(e){this._numberCellEditor=md({},e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropdownCellEditor",{get:function(){return this._dropdownCellEditor},set:function(e){this._dropdownCellEditor=md({},e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multiCheckCellEditor",{get:function(){return this._multiCheckCellEditor},set:function(e){this._multiCheckCellEditor=md({},e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchCellEditor",{get:function(){return this._searchCellEditor},set:function(e){this._searchCellEditor=md({},e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showMarquee",{get:function(){return this._showMarquee},set:function(e){this._showMarquee=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewGridInside",{get:function(){return this._viewGridInside},set:function(e){this._viewGridInside=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleStatement",{get:function(){return this._titleStatement},set:function(e){e!=this._titleStatement&&(this._titleStatement=e,e?this._titleExprStatement?this._titleExprStatement.source=e:this._titleExprStatement=new gm(e):this._titleExprStatement=null,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"holidays",{get:function(){return this._holidays},set:function(e){e!=this._holidays&&(this._holidays=e,e?(this._holidayCollection=this._holidayCollection||new yw,this._holidayCollection.load(e)):this._holidayCollection&&this._holidayCollection.clear(),this._changed())},enumerable:!1,configurable:!0}),t}(Dw),gx=function(e){function t(t){var i=e.call(this,t)||this;return i._enabled=!0,i.assignFrom(u_.copy),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"singleMode",{get:function(){return this._singleMode},set:function(e){this._singleMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(e){this._datetimeFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(e){this._booleanFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lookupDisplay",{get:function(){return this._lookupDisplay},set:function(e){this._lookupDisplay=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"copyDisplayText",{get:function(){return this._copyDisplayText},set:function(e){this._copyDisplayText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"includeHeaderText",{get:function(){return this._includeHeaderText},set:function(e){this._includeHeaderText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"copyTextCallback",{get:function(){return this._copyTextCallback},set:function(e){this._copyTextCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cutReadOnlyCell",{get:function(){return this._cutReadOnlyCell},set:function(e){this._cutReadOnlyCell=e},enumerable:!1,configurable:!0}),t}(Dw),mx=function(e){function t(t){var i=e.call(this,t)||this;return i._enabled=!0,i._startEdit=!0,i._commitEdit=!0,i._enableAppend=!0,i._numberCharsOfCols={},i._numberSeparatorOfCols={},i._stopOnError=!0,i._throwValidationError=!0,i.assignFrom(u_.paste),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"singleMode",{get:function(){return this._singleMode},set:function(e){this._singleMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startEdit",{get:function(){return this._startEdit},set:function(e){this._startEdit=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitEdit",{get:function(){return this._commitEdit},set:function(e){this._commitEdit=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableAppend",{get:function(){return this._enableAppend},set:function(e){this._enableAppend=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forceAppend",{get:function(){return this._forceAppend},set:function(e){this._forceAppend=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillFieldDefaults",{get:function(){return this._fillFieldDefaults},set:function(e){this._fillFieldDefaults=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillColumnDefaults",{get:function(){return this._fillColumnDefaults},set:function(e){this._fillColumnDefaults=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forceRowValidation",{get:function(){return this._forceRowValidation},set:function(e){this._forceRowValidation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forceColumnValidation",{get:function(){return this._forceColumnValidation},set:function(e){this._forceColumnValidation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datetimeFormats",{get:function(){return this._datetimeFormats},set:function(e){if(e!==this._datetimeFormats)if(this._datetimeFormats=e&&e.concat(),e){this._dateReaders=[];for(var t=0;t<this._datetimeFormats.length;t++)this._dateReaders.push(new Gp(this._datetimeFormats[t]))}else this._dateReaders=null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dateReaders",{get:function(){return this._dateReaders},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(e){e!=this._booleanFormat&&(this._booleanFormat=e,this._boolReader=e&&new Up(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boolReader",{get:function(){return this._boolReader},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberChars",{get:function(){return this._numberChars},set:function(e){if(e!==this._numberChars)if(this._numberChars=e,e&&e.length>0){for(var t="[",i=0;i<e.length;i++){var n=e[i];t+="\\"==n?"\\"+n:n}t+="]",this._numberCharExp=new RegExp(t,"g")}else this._numberCharExp=null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberSeparator",{get:function(){return this._numberSeparator},set:function(e){this._numberSeparator=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberCharsOfCols",{get:function(){return this._numberCharsOfCols},set:function(e){if(e!==this._numberCharsOfCols&&(this._numberCharsOfCols=e,this._numberCharExpOfCols={},e))for(var t in e){var i=e[t];if(i instanceof Array&&i.length>0){for(var n="[",r=0,o=i.length;r<o;r++){var s=i[r];n+="\\"==s?"\\"+s:s}n+="]",this._numberCharExpOfCols[t]=new RegExp(n,"g")}else this._numberCharExpOfCols[t]=null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberCharExp",{get:function(){return this._numberCharExp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberSeparatorOfCols",{get:function(){return this._numberSeparatorOfCols},set:function(e){this._numberSeparatorOfCols=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionBase",{get:function(){return this._selectionBase},set:function(e){this._selectionBase=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectBlockPaste",{get:function(){return this._selectBlockPaste},set:function(e){this._selectBlockPaste=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stopOnError",{get:function(){return this._stopOnError},set:function(e){this._stopOnError=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noEditEvent",{get:function(){return this._noEditEvent},set:function(e){e!=this._noEditEvent&&(this._noEditEvent=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noDataEvent",{get:function(){return this._noDataEvent},set:function(e){this._noDataEvent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventEachRow",{get:function(){return this._eventEachRow},set:function(e){this._eventEachRow=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkReadOnly",{get:function(){return this._checkReadOnly},set:function(e){this._checkReadOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkDomainOnly",{get:function(){return this._checkDomainOnly},set:function(e){this._checkDomainOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"convertLookupLabel",{get:function(){return this._convertLookupLabel},set:function(e){this._convertLookupLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"applyNumberFormat",{get:function(){return this._applyNumberFormat},set:function(e){this._applyNumberFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"applyEditMask",{get:function(){return this._applyEditMask},set:function(e){this._applyEditMask=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"applyMaxLength",{get:function(){return this._applyMaxLength},set:function(e){this._applyMaxLength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"applyInputChars",{get:function(){return this._applyInputChars},set:function(e){this._applyInputChars=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"throwValidationError",{get:function(){return this._throwValidationError},set:function(e){this._throwValidationError=e},enumerable:!1,configurable:!0}),t.prototype.numberCharExpOfCol=function(e){return e&&this._numberCharExpOfCols&&this._numberCharExpOfCols[e]?this._numberCharExpOfCols[e]:this._numberCharExp},t.prototype.numberSeparatorOfCol=function(e){return e&&this._numberSeparatorOfCols&&this._numberSeparatorOfCols[e]?this._numberSeparatorOfCols[e]:this._numberSeparator},t}(Dw),yx=function(e){function t(t){var i=e.call(this,t)||this;return i._longTapDuration=500,i._doubleTapInterval=500,i._tapThreshold=10,i._showEditCommander=!1,i._showTooltip=!1,i._scrollPropagate=!0,i.assignFrom(u_.mobile),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"longTapDuration",{get:function(){return this._longTapDuration},set:function(e){e!=this._longTapDuration&&(this._longTapDuration=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doubleTapInterval",{get:function(){return this._doubleTapInterval},set:function(e){e!=this._doubleTapInterval&&(this._doubleTapInterval=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tapThreshold",{get:function(){return this._tapThreshold},set:function(e){e!=this._tapThreshold&&(this._tapThreshold=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showEditCommander",{get:function(){return this._showEditCommander},set:function(e){e!=this._showEditCommander&&(this._showEditCommander=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTooltip",{get:function(){return this._showTooltip},set:function(e){e!=this._showTooltip&&(this._showTooltip=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollOnEditing",{get:function(){return this.grid.editOptions.scrollOnEditing},set:function(e){this.grid.editOptions.scrollOnEditing=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollPropagate",{get:function(){return this._scrollPropagate},set:function(e){this._scrollPropagate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSelectionHandle",{get:function(){return this._showSelectionHandle},set:function(e){e!=this._showSelectionHandle&&(this._showSelectionHandle=e,this._changed())},enumerable:!1,configurable:!0}),t}(Dw),vx=function(e){function t(t){var i=e.call(this)||this;return i._grid=t,i}return gd(t,e),t.prototype._doDispose=function(){this._grid=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),t.prototype.canFocus=function(){return!0},t}(TC),bx=function(e){function t(t,i){var n=e.call(this,t)||this;return n._style=i,n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"style",{get:function(){return this._style},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manager",{get:function(){return this.grid.selections},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return!0},enumerable:!1,configurable:!0}),t}(function(e){function t(t){var i=e.call(this,t.grid)||this;return i._index=t,i}return gd(t,e),t.prototype._doDispose=function(){this._index.dispose(),this._index=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),t}(vx)),wx=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype._doDispose=function(){this._layout=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t,i,n){return this._layout=e,this._x=t,this._y=i,this._offset=n,this},Object.defineProperty(t.prototype,"cursor",{get:function(){return"col-resize"},enumerable:!1,configurable:!0}),t}(vx),Cx=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype._doDispose=function(){this._layout=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(e){this._offset=e},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t,i,n){return this._layout=Ev.getSource(e),this._x=t,this._y=i,null!=n&&(this._offset=n),this},Object.defineProperty(t.prototype,"cursor",{get:function(){return"default"},enumerable:!1,configurable:!0}),t}(vx),xx=function(e){function t(t){var i=e.call(this,t)||this;return i._itemIndex=-1,i._variable=!1,i._rowTop=0,i._offset=0,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"itemIndex",{get:function(){return this._itemIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variable",{get:function(){return this._variable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowTop",{get:function(){return this._rowTop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t,i,n){return this._itemIndex=e,this._variable=t,this._rowTop=i,this._offset=n,this},Object.defineProperty(t.prototype,"cursor",{get:function(){return"row-resize"},enumerable:!1,configurable:!0}),t.prototype.canFocus=function(){return!1},t}(vx),Ix=function(e){function t(t){var i=e.call(this,t)||this;return i._offset=0,i._top=0,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"top",{get:function(){return this._top},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t){return this._top=e,this._offset=t,this},Object.defineProperty(t.prototype,"cursor",{get:function(){return"row-resize"},enumerable:!1,configurable:!0}),t}(vx),Ex=function(e){function t(t){var i=e.call(this,t)||this;return i._itemIndex=-1,i._offset=0,i._layout=null,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"itemIndex",{get:function(){return this._itemIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t){return this._selStyle=e&&e.style,this._selStyle&&this._selStyle!=cb.COLUMNS&&this._selStyle!=cb.SINGLE_COLUMN?(this._itemIndex=e.getBounds().top,this._layout=e.startLayout,this._offset=t-this._itemIndex):(this._itemIndex=t,this._offset=0,this._layout=null),this},Object.defineProperty(t.prototype,"cursor",{get:function(){return this.grid.dataDropOptions.cursor},enumerable:!1,configurable:!0}),t.prototype.canFocus=function(){return this._selStyle==cb.COLUMNS||this._selStyle==cb.SINGLE_COLUMN},t}(vx),Ox=function(e){function t(t){var i=e.call(this)||this;return i._type=t,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"inputFocusable",{get:function(){return this._inputFocusable},set:function(e){this._inputFocusable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dom",{get:function(){return this._dom},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemClickable",{get:function(){return this._itemClickable},set:function(e){this._itemClickable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this._index&&this._index.grid.handler},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTooltip",{get:function(){return this._showTooltip},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refreshFocusChanged",{get:function(){return this._refreshFocusChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickOnlyFocusedCell",{get:function(){return this._clickOnlyFocusedCell},enumerable:!1,configurable:!0}),t.prototype._doRenderCell=function(e,t,i,n,r){var o={};o.focused=i.focused,this.render(e.handler,t,n,r,o)},t.prototype.tooltip=function(e,t){},t.prototype.canEdit=function(){return e.prototype.canEdit.call(this)},t.prototype.canClick=function(t){return e.prototype.canClick.call(this,t)},t.prototype.canEditClickAt=function(t){return e.prototype.canEditClickAt.call(this,t)},t.prototype.canClickSpaceKey=function(t){return e.prototype.canClickSpaceKey.call(this,t)},t.prototype.click=function(t,i,n){return e.prototype.click.call(this,t,i,n)},t.prototype.itemClick=function(t){e.prototype.itemClick.call(this,t)},t.prototype.preventDefaultEditClick=function(t){e.prototype.preventDefaultEditClick.call(this,t)},t.prototype.preventDefaultClick=function(t){e.prototype.preventDefaultClick.call(this,t)},t.prototype._doEditClick=function(t,i,n){return e.prototype._doEditClick.call(this,t,i,n)},t}(sy),Sx=function(e){function t(t,i){var n=e.call(this)||this;return n._inputFocusable=!1,n._tags={},t&&"function"==typeof t.render?(n._impl=t,n._impl.type=i,n.assignFrom(n._impl)):n._impl=null,n._itemClickable=!0,n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"inputFocusable",{get:function(){return this._inputFocusable},set:function(e){this._inputFocusable!==e&&(this._inputFocusable=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tags",{get:function(){return this._tags},set:function(e){this._tags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this.index.grid.handler},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._impl&&this._impl.type},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){this._impl&&this._impl.initContent&&this._impl.initContent.call(this,e)},t.prototype._doClearContent=function(e){this._impl&&this._impl.clearContent&&this._impl.clearContent.call(this,e)},t.prototype._doRenderCell=function(e,t,i,n,r){var o={};o.focused=i.focused,this._impl&&this._impl.render&&this._impl.render.call(this,e.handler,t,n,r,o)},t.prototype.preventDefaultEditClick=function(t){return this._impl&&this._impl.preventEditClick?this._impl.preventEditClick.call(this,t):e.prototype.preventDefaultEditClick.call(this,t)},t.prototype._doEditClick=function(t,i,n){return this._impl&&this._impl.editClick?this._impl.editClick.call(this,t,i,n):e.prototype._doEditClick.call(this,t,i,n)},t.prototype.canEditClickAt=function(t){return this._impl&&this._impl.canEditClickAt?this._impl.canEditClickAt.call(this,t):e.prototype.canEditClickAt.call(this,t)},t.prototype.preventDefaultClick=function(t){return this._impl&&this._impl.preventClick?this._impl.preventClick.call(this,t):e.prototype.preventDefaultClick.call(this,t)},t.prototype._doClick=function(t,i){return this._impl&&this._impl.click?this._impl.click.call(this,i):e.prototype._doClick.call(this,t,i)},t.prototype._doEditKey=function(t,i,n){return this._impl&&this._impl.editKey?this._impl.editKey.call(this,i,n):e.prototype._doEditKey.call(this,t,i,n)},t.prototype.canClick=function(t){return this._impl&&this._impl.canClick?this._impl.canClick.call(this,t):e.prototype.canClick.call(this,t)},t.prototype.canEdit=function(){return this._impl&&this._impl.canEdit?this._impl.canEdit.call(this):e.prototype.canEdit.call(this)},t.prototype.canEditKey=function(t){return this._impl&&this._impl.canEditKey?this._impl.canEditKey.call(this,t):e.prototype.canEditKey.call(this,t)},t}(sy),kx=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o._row=t,o._field=i,o._value=n,o._column=r,o._oldValue=Bp.deepCopy(t.getData(i)),o}return gd(t,e),t.prototype.undo=function(){this._row.setData(this._field,this._oldValue),this.$_focusCell()},t.prototype.redo=function(){this._row.setData(this._field,this._value),this.$_focusCell()},t.prototype.$_focusCell=function(){var e=this._column.grid,t=e.focusedIndex.clone();t.layout=this._column.layout,e.setFocusedIndex(t),e.makeCellVisible(t)},t}(C_),Px=function(e){function t(t){var i=e.call(this)||this;return i._editIndex=new Wv,i._starting=!1,i._needPrepare=!1,i._needDropdown=!1,i._modified=!1,i._commiting=!1,i._canceling=!1,i._resetting=!1,i._dirty=!1,i._editable=!1,i._readOnly=!1,i._grid=t,i._access=t.accessibility,i._access||(i._defaultEditor=t.delegate.getDefaultCellEditor(),i._defaultEditor&&i._defaultEditor.setController(i),i._defaultEditor&&i._internalHideEditor(i._defaultEditor)),i}return gd(t,e),t.prototype._doDispose=function(){this._grid=null,this._editIndex&&this._editIndex.dispose(),this._editIndex=null,this._editor&&this._editor.dispose(),this._editor=null,this._defaultEditor&&this._defaultEditor.dispose(),this._defaultEditor=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"readOnly",{get:function(){return this._readOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this._editable},enumerable:!1,configurable:!0}),t.prototype.onEditorStart=function(e){if(!e.visible&&!this._commiting&&!this._canceling)return this._activateEditor(!1,!1)},t.prototype.onEditorKeyDown=function(e,t){var i=Bp.ctrlKey(t);return e&&(e.textReadOnly||i||t.altKey||!this._isEditKey(t.keyCode)?e.textReadOnly?e._editor.readOnly=e.textReadOnly:229==t.keyCode&&e.setReadOnly(this._readOnly):e.setReadOnly(this._readOnly)),this._grid.activeTool.keyDown(t)},t.prototype.onEditorKeyPress=function(e,t){return this._grid.activeTool.keyPress(t)},t.prototype.onEditorKeyUp=function(e,t){return this._grid.activeTool.keyUp(t)},t.prototype.onEditorChange=function(e){if(this._modified||(this._modified=!0,this._grid._editorStarted(e,this._editIndex)),this.editing){this._grid.makeCellVisible(this._editIndex);var t=e.getEditValue(!1,!1);t=t===Gb.Unselected?e.getEditText():t,this._grid._editorChange(e,this._editIndex,t)}},t.prototype.onEditorSearch=function(e,t){this._grid._editorSearch(this._editor,this._editIndex,t)},t.prototype.onSearchCellButtonClick=function(e,t){return this._grid._searchCellButtonClick(this._editor,this._editIndex,t)},t.prototype.onEditorCommit=function(e){return this.commitEditor(!0,!1,!0,!1)},Object.defineProperty(t.prototype,"editIndex",{get:function(){return this._editIndex.clone()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editing",{get:function(){return this._editor&&this._editor.editing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editValue",{get:function(){return this._editor&&this._editor.value},enumerable:!1,configurable:!0}),t.prototype.setFocus=function(e,t){var i;if(t&&(!this._editor||t!==this._editor.editor)){var n=Fp(t),r=this._grid,o=void 0,s=null===(i=this._editor)||void 0===i?void 0:i.editor;if((t instanceof n.HTMLInputElement||t instanceof n.HTMLSelectElement||t instanceof n.HTMLTextAreaElement)&&(o=r.getTableCell(t))){var a=r.getCellType(o),l=r.getTableView(o),u=l&&l.tableCellByCell&&l.tableCellByCell(o);if(a===Bd.DATA){var c=this._grid.focusedIndex.clone(),h=this._grid.getBodyCellAt(c,!0),d=h&&h.renderer2;if((d instanceof Sy||d instanceof Sx||d instanceof Ox)&&d.inputFocusable)return;s&&(s.tabIndex=-1)}else if(a===Bd.INLINE_FILTER){if(r.isItemEditing()&&r.filterPanel.beforeCommit&&r.commit(!1),!r.isEditing())return s&&(s.tabIndex=0),void r.makeColumnVisible(u.layout&&u.layout.firstColumn)}else if(Bp.included(a,Bd.HEADER,Bd.LAYOUT_HEADER,Bd.FOOTER,Bd.SUMMARY)&&!u.isClickableElt(t)&&Bp.isFocusableTemplate(o,t))return}}this.$_focusToEditor(e,t)},t.prototype.resetEditor=function(e){if(this.editing){if(this._grid.isValid(this._editIndex)){if(this._resetBounds(),e&&this.editing){var t=this.getData(this._editIndex);this._resetting=!0;try{this._editor.setEditValue(t),this._editor.beginEdit(!1,!0)}finally{this._resetting=!1}}}else this.hideEditor();return!0}},t.prototype.invalidateEditor=function(){this._dirty=!0},t.prototype.closeList=function(e){this._editor&&this._editor.closeList(e)},t.prototype.focusedIndexChanging=function(){return!this.editing||(this.closeList(!0),this.commitEditor(!0,!1,!0,!1))},t.prototype.focusedIndexChanged=function(e,t,i){this._hideEditor(),this._grid.isValid(t)&&(i?this._prepareEditor(t):this._needPrepare=!0)},t.prototype.prepareEditor=function(e){this._needPrepare&&(this._needPrepare=!1,this._grid.isValid(e)&&(this._prepareEditor(e),this._needDropdown=!1))},t.prototype.requestPrepareEditor=function(e){this._needPrepare=!0,this._needDropdown=e},t.prototype.showEditor=function(e,t){var i=this._grid,n=this._editor;if(i&&i.isValid(e)&&e.item.canEdit()){if(n&&n.editing)return i.makeCellVisible(e),!0;if(n&&!n.editing&&(!this._showEditorTimer&&this._prepareEditor(e),i.makeCellVisible(e),this._activateEditor(!1,!0,t)))return!0}},t.prototype.showList=function(e){var t=this._grid,i=this._editor;if(i&&i.editing&&(t.makeCellVisible(e),this.cancelEditor(!0)),t&&t.isValid(e)&&(this._prepareEditor(e),t.makeCellVisible(e),i&&this._editable&&!i.editing))return i.dropDownList(!0),!0},t.prototype.caretToLast=function(){this._editor&&this._editor.caretToLast()},t.prototype.hideEditor=function(){if(this.editing){this._modified=!1,this._resetting=!0;try{this._internalHideEditor(this._editor),this._prepareEditor(this._editIndex)}finally{this._resetting=!1}}},t.prototype.commitEditor=function(e,t,i,n){if(!this.editing||this._commiting)return!0;var r=this._editor;if(!r)return!1;var o,s,a=this._grid,l=a.validationManager,u=a.editOptions,c=this._editIndex,h=c.dataColumn,d=!0,p=r._mask;this._commiting=!0;try{if(r.commit(),(this._modified||r.isEdited())&&h&&h.dataIndex>=0)try{try{if((o=p&&!p.checkValid()?Gb.InvalidFormat:r.getEditValue(!0,!0))===Gb.InvalidFormat)d=!1,u.showInvalidFormatMessage&&p&&p.showInvalidFormatMessage&&alert(p&&p.invalidFormatMessage||u.invalidFormatMessage);else if(o===Gb.Unselected)this._modified=!1,d=!0;else{var f=this._getData(c),_={text:r.getEditText(),value:o,oldValue:f},g=r.getEditListItem();g&&(_.item=g),d=this._grid.getEditValue(r,c,_),o=_.value,"boolean"!=typeof d&&(d=n||this._grid.editorCommit(c,f,o))}}catch(S){d=!1}this._grid.isItemEditing()?d&&o!==Gb.Unselected&&(this._setData(c,o),this._grid.isItemEditing(c.item)&&(o=this._getData(c),this._grid.validateCellCommit(c,o)),this._modified=!1):this._modified=!1}catch(S){s=S,d=!1}if(this._resetting=!0,d&&e)try{this._internalHideEditor(r),this._prepareEditor(c,i),r.isEdited()||this._grid.activeTool.resetFocused()}finally{this._resetting=!1}if(s){if(t)throw s;u.showCommitError&&alert(s.message||s)}}finally{this._commiting=!1}if(d&&a.isCellEditing()){var m=a.itemSource,y=m.editingItem.invalidFields;if(a.editOptions.validateOnEdited){var v=l.getError(c);if(v)return y.push(h.dataIndex),u.showCommitError&&alert(v.userMessage||v.message||v),!1;y.indexOf(h.dataIndex)>=0&&y.splice(y.indexOf(h.dataIndex),1),l.clearInvalidCell(c)}if(y.length>0)return!0;var b=a.canMergeEditing(a.getBodyCellAt(c,!0));if(!m.commit(b))return m.cancel(),!0;l.cloneError(-1,c.dataId),l.clearInvalidCells(-1);var w=Wv.temp(a,c.itemIndex,h);if(b&&o!==Gb.Unselected){var C=h.layout.merges.getRoom(c),x={},I={};I[h.fieldName]=o;for(var E=C.head;E<=C.tail;E++){var O=a.getItem(E);w.itemIndex=O.index,O.isDataRow&&(x[O.dataRow]=I),a.editOptions.validateOnEdited&&l.clearInvalidCell(w)}m.updateRows2(x)}}return d},t.prototype.cancelEditor=function(e){if(this.editing){this._canceling=!0;try{try{this._modified=!1,this._grid.editorCancel(this._editor,this._editIndex)}catch(i){throw i}this._resetting=!0;try{this._internalHideEditor(this._editor),this._prepareEditor(this._editIndex)}finally{this._resetting=!1}}finally{this._canceling=!1,this._grid.editorCanceled()}if(this._grid.editOptions.commitByCell){var t=this._grid.itemSource;t.isUpdating&&t.cancel()}}},t.prototype.fillSearchItems=function(e,t,i,n,r){this.editing&&this._editIndex.column===e&&this._editor instanceof lw&&this._editor.fillItems(t,i,n,r)},t.prototype.buttonClicked=function(e,t){var i=this._editor,n=this._grid,r=n.getBodyCellAt(e,!1),o=e.layout.getDataColumn();i&&Wv.areEquals(this._editIndex,e)&&i.hasButton(n.displayOptions.showNativeEditButton,r.editor||o.editor)&&i.buttonClicked(this._editIndex,t)},t.prototype.buttonDown=function(e,t){this._editor&&this._editor.buttonDown(e,t)},t.prototype.buttonUp=function(e,t){this._editor&&this._editor.buttonUp(e,t)},t.prototype.getData=function(e){return this._getData(e)},t.prototype.setEditValue=function(e,t){this._editor&&this._editor.setCellEditValue(e,t)},t.prototype.currentEditor=function(){return this._editor},t.prototype.detachEditors=function(){for(var e=this._grid.delegate.editors,t=0,i=Object.keys(e);t<i.length;t++)e[i[t]].detach()},t.prototype.attachEditor=function(e,t){var i=this._editor,n=this._editIndex,r=this._grid;i&&r&&r.isValid(n)&&this._access&&(i.attach(e),i.setInert(t))},t.prototype._internalHideEditor=function(e){this.closeList(!1),e.setVisible(!1,!1),e.endEdit(),!this._grid._loading&&this._grid._fireHideEditor(e.editIndex)},t.prototype.$_hideEdit=function(e,t){t&&(t.setEditIndex(e),t.setVisible(!1),this.$_focusToEditor())},t.prototype.$_getCellEditor=function(e){var t,i=this._grid,n=i.getBodyCellAt(e);if(!(t=n&&n.editor)){var r=e.valueColumn;r&&(t=r.editor)}var o=i.delegate.getCellEditor(Gb.getEditorType(t));return o&&(o.initOptions(),o.initDefaultOptions(),t&&o.applyOptions(t),o.setController(this)),o},t.prototype.resetEditable=function(e){var t=this._editor;if(!t)return!1;var i=this._grid;t.setReadOnly(!1);var n=i.editorOptions,r=e.valueColumn,o=e.item,s=i.canEditAt(e);if(n._titleExprStatement&&this._editor.setEditorTitle(e),!s)return this._editable=!1,this.$_hideEdit(e,this._editor),!1;var a=!i.canWriteAt(e);if(!a){var l=o.dataSource,u=l?l.getField(e.dataField):null;a=!u||u.dataType==vd.OBJECT&&null==(r.objectKey||u.objectKey)}return this._readOnly=a,this._editor.setReadOnly(this._readOnly),this._editor.setEditIndex(e),this._editable=!0,!0},t.prototype._prepareEditor=function(e,t){void 0===t&&(t=!0);var i=this._grid.editOptions;if(this._dirty=!1,this._grid.isValid(e)&&e.item.canEdit()&&(this._hideEditor(t),this._editor=this.$_getCellEditor(e),this._editor)){this._editIndex.assign(e);var n=this._getData(e);this.resetEditable(e)?(this._editor.prepare(),this._editor.setEditValue(n),this._editor.selectAll(),(!i.editWhenFocused&&!this._needDropdown||this._editor.editing)&&this._editor.setVisible(!1),t&&this.$_focusToEditor()):this._editor&&(this._editor.editor.value=this._editor._valToStr(n))}},t.prototype._hideEditor=function(e){if(this._editor)try{this._editor.setVisible(!1)}finally{this._editor.unprepare(),this._editor.endEdit(),this._access&&this._editor.setInert(!1),this._editor=null,this._editable=!1}},t.prototype._initEditor=function(e,t,i){this._dirty&&(this._dirty=!1,this._starting||this._prepareEditor(this._editIndex));var n=this._editor;n&&(n.endEdit(),this._resetBounds(),n.setVisible(!0,!0),n.beginEdit(e,t),e&&n.clear(),t&&n.selectAll(),i&&n.dropDownList(!1),i||this.$_focusToEditor(!0))},t.prototype.$_setEditorAttrs=function(e){var t=this._editor;if(t)for(var i in e)"callback"!=i&&(void 0===e[i]?t._editor.removeAttribute(i):t._editor.setAttribute(i,e[i]))},t.prototype._editorActivated=function(e){this._grid.editorActivated(e)},t.prototype._activateEditor=function(e,t,i){void 0===i&&(i=!1);var n=this._grid,r=this._editor,o=this._editIndex,s={},a={};if(this._editable&&r&&!r.editing&&n.$_canShowEditor(o,s,a)){s.type&&(r=this._editor=n.delegate.getCellEditor(Gb.getEditorType(s.type))||r),Bp.isEmpty(s)||(r.applyOptions(s),r.setEditIndex(o));var l=r._editor;return r.textReadOnly?r.textReadOnly&&l&&(l.readOnly=r.textReadOnly):r.setReadOnly(this._readOnly),this.$_setEditorAttrs(a),this._access&&this._editor.setInert(!0),this._initEditor(e,t,i),this._modified=!1,this._editorActivated(this._editor),this._showEditorTimer=clearTimeout(this._showEditorTimer),a&&"function"==typeof a.callback&&a.callback(),!0}return!1},t.prototype._resetBounds=function(){if(this._editor){var e=this._grid.getEditCellBounds(this._editor,this._editIndex);this._access&&(e.x=e.y=0);var t=this._grid.getEditBounds(this._editor,this._editIndex).width;Bp.isMobile()&&Bp.isiOS&&(t-=3),e.x--,e.y--,e.width++,e.height++,Bp.isMobile()&&(e.y-=1,e.height+=2),this._editor.setBounds(e.x,e.y,e.width,e.height,t),e=this._grid.getEditCellBounds(this._editor,this._editIndex),this._editor.setCellBounds(e.x,e.y,e.width,e.height)}},t.prototype.$_focusToEditor=function(e,t){var i=this._grid;if(e||i.$_editFocused){var n=this._editor||this._defaultEditor;i.$_showFocusCell=i.$_showFocusCell||t&&n&&t!==n._editor,i.container._setFocusAndScroll(n),this.editing||this._editor&&this._editor.selectAll()}},t.prototype._getData=function(e){var t=e.dataColumn,i=e.item;if(t&&i&&i.isDataRow){var n=t.dataIndex;if(n>=0)return i.getData(n)}},t.prototype._setData=function(e,t){var i=e.item;if(i){var n=e.dataColumn.dataIndex;n>=0&&(this._grid.undoable?this._grid.execute(new kx(e.item,n,t,e.column)):i.setData(n,t))}},t.prototype._isEditKey=function(e){return 8==e||e>=46&&e<=90||e>=96&&e<=111||e>=186&&e<=222||13==e&&this._grid.editOptions.enterToEdit},t}(Yp),Rx=function(e){function t(t,i,n){var r=e.call(this,t,i,n)||this;return r._col=-1,r._colChanged=!1,r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.getCellIndex=function(e){return e.parentElement[Pd]},t.prototype.refresh=function(e,t){for(var i=0;i<t;i++){var n=this._getTableCell(i);n[Td]=e.isFocusedRow(n.parentElement[Pd]),Bp.setClassName(n,this.$_getCellSelector(n))}},t.prototype._createDom=function(){return null},t.prototype._prepareContent=function(e,t){var i=$p(e).createElement("div");return this._prepareCellContent(i,e),i},t.prototype._clearCellContent=function(e){var t=e.firstElementChild;t&&Bp.detach(t)},t.prototype._prepareCellContent=function(e,t){},t.prototype._updateCellContent=function(e,t,i,n){i[this._textProp]=t.text},t.prototype._doRender=function(e){},t.prototype.$_setCol=function(e){(this._colChanged=e!=this._col)&&(this._col=e)},t.prototype._layoutCell=function(e,t,i){if(this._colChanged){i.removeAttribute("rowspan"),i.style.removeProperty("display");var n=i.firstElementChild;this._clearCellContent(n),this._prepareCellContent(n,i)}},t.prototype._getTableCell=function(e){return this.parent._tbody.children[e].children[this._col]},t.prototype.$_getCellSelector=function(e){var t=this.model.cellStyleCallback,i=this.grid,n=e.parentElement[Pd],r=i.getItem(n),o=i.getCellType(e);if(t){var s=t(this.grid.handler,o,null==r?void 0:r.index);return s?" "+s:""}return""},t}($w),Tx=function(e){function t(t,i){return e.call(this,t,i,"rowIndicatorView")||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._getCssSelector=function(){return"rg-rowindicator"},t.prototype.measureWidth=function(e){var t=this.model,i=t.width;if(0==i&&e.dataSource){var n=e.dataSource.rowCount+"";i=e.container.measureText("rg-rowindicator-cell",n)+1}return i=Math.max(t.minWidth>0?t.minWidth:i,Math.min(t.maxWidth>0?t.maxWidth:i)),t._displayWidth=i,i},t.prototype._layoutCell=function(t,i,n){if(e.prototype._layoutCell.call(this,t,i,n),i){var r=this.model.getCell(i);Bp.setClassName(n,this.$_getCellSelector(n)),this._updateCellContent(t,r,n.firstElementChild,n)}},t.prototype.$_getCellSelector=function(t){var i=this.grid,n=t.parentElement[Pd],r=t[Td],o=this.model,s="rg-rowindicator-cell";if(-99===n)return Mw.ROW_BAR_CELL_STYLE;if(r){s+=o.showFocus?" rg-rowindicator-focus":"";var a=i.getItem(n);Bp.isDebugging();var l=a&&a.itemState;Zg(l)?s+=" rg-rowindicator-inserting":l==Mg.UPDATING&&(s+=" rg-rowindicator-editing")}else i.isSelectedItem(n)&&o.showSelection&&(s+=" rg-rowindicator-select");return s+e.prototype.$_getCellSelector.call(this,t)},t}(Rx),Dx=function(e){function t(t,i){var n=e.call(this,t,i,"stateBarView")||this;return n._textMark=!1,n}return gd(t,e),t.prototype.rowOf=function(e){return e.parentElement[Pd]},t.prototype._getCssSelector=function(){return"rg-statebar"},t.prototype.measureWidth=function(e){return e.stateBar.width},t.prototype._layoutCell=function(t,i,n){if(e.prototype._layoutCell.call(this,t,i,n),i){var r=this.model,o=r.mark;this._textMark=o==Uv.TEXT;var s=r.getCell(i);Bp.setClassName(n,this.$_getCellSelector(n)),this._updateCellContent(t,s,n.firstElementChild,n)}},t.prototype._updateCellContent=function(e,t,i,n){i[Bp.TextProp]=this._textMark&&t.text||""},t.prototype.$_getCellSelector=function(t){var i=this.grid,n=i.getItem(t.parentElement[Pd]),r=t.parentElement[Pd],o=t[Td],s=this.model,a=s.mark==Uv.IMAGE,l="rg-statebar-cell ";if(-99===r)return Mw.ROW_BAR_CELL_STYLE;if(o?s.showFocus&&(l+=" rg-statebar-focus"):r>=0&&s.showSelection&&this.grid.isSelectedItem(r)&&(l+=" rg-statebar-select"),i.isItemEditing(n)&&this._error&&this.model.errorVisible)switch(this._error.level){case Ld.INFO:l+=" rg-statebar-info";break;case Ld.WARNING:l+=" rg-statebar-warning";break;case Ld.ERROR:l+=" rg-statebar-error"}else if(n&&r>=0&&a)switch(n.rowState){case jp.UPDATED:l+=" rg-statebar-updated";break;case jp.CREATED:l+=" rg-statebar-created";break;case jp.DELETED:l+=" rg-statebar-deleted";break;case jp.CREATE_AND_DELETED:l+=" rg-statebar-create-and-deleted"}return l+e.prototype.$_getCellSelector.call(this,t)},t}(Rx),Mx=function(e){function t(t,i){var n=e.call(this,t,i,"checkBarView")||this;return n._fixedCount=0,n._prevChecked=-1,n._exclusive=!1,n._typeChanged=!1,n._useImage=!1,n._imageChanged=!1,n}return gd(t,e),t.prototype.rowOf=function(e){return e.parentElement[Pd]},t.prototype._getCssSelector=function(){return"rg-checkbar"},t.prototype._doPrepareContent=function(e){var t=e.grid.checkBar;(this._typeChanged=t.exclusive!==this._exclusive)&&(this._exclusive=t.exclusive),(this._imageChanged=t.useImages!==this._useImage)&&(this._useImage=t.useImages)},t.prototype._clearCellContent=function(t){t[this._textProp]="",e.prototype._clearCellContent.call(this,t)},t.prototype._prepareCellContent=function(e,i){var n=$p(e),r=t.FOR_ID+this.rowOf(i)+"-"+this.model.$_hash,o=n.createElement("input"),s=o.style;o.type=this._exclusive?"radio":"checkbox",o.id=r,o.tabIndex=-1,o.className=this._exclusive?"rg-radio":"rg-checkbox",s.display=this._useImage?"none":"inline-block",e.appendChild(o);var a=n.createElement("span");(s=a.style).display=this._useImage?"inline-block":"none",e.appendChild(a);var l=n.createElement("label");l.setAttribute("for",r),(s=l.style).display="none",e.appendChild(l)},t.prototype.measureWidth=function(e){return this.model.width},t.prototype._layoutCell=function(t,i,n){e.prototype._layoutCell.call(this,t,i,n);var r=i&&this.model.getCell(i);Bp.setClassName(n,this.$_getCellSelector(n)),n.style.display="",n.removeAttribute("rowspan");var o=t.fixedOptions.rowCount,s=t.checkBar;if(s._merged&&i){var a=s._merges,l=i.itemIndex;if(l=l<o?l:l-t.layoutManager.topIndex,a.isMerged(l,o))if(a.isHidden(l,o))n.style.display="none",n.removeAttribute("rowspan");else{var u=a.getMerged(l,o);n.rowSpan=u}else n.removeAttribute("rowspan")}r&&this._updateCellContent(t,r,n.firstElementChild.firstElementChild,n)},t.prototype._updateCellContent=function(e,i,n,r){var o=i.item,s=n,a=e.checkBar,l=e.editOptions,u=t.FOR_ID+this.rowOf(r)+"-"+this.model.$_hash;o&&(s.checked=o.checked,s.indeterminate=o.indeterminate,s.disabled=!l.checkable||!o.checkable),s.id=u,Bp.setInert(s,!e.accessibility);var c=r.firstElementChild,h="none",d=a.showGroup&&a.fieldIndex<0&&!a.merged;o instanceof tm||o instanceof Fy?h="":o instanceof rm?a.showGroupFooter&&d&&(h=""):o instanceof im&&d&&(h=""),c.style.display=h;var p=this._useImage;this._typeChanged&&(s.setAttribute("type",this._exclusive?"radio":"checkbox"),s.className=this._exclusive?"rg-radio":"rg-checkbox");var f=s.nextElementSibling;if(this._imageChanged&&f&&(s.style.display=p?"none":"inline-block",f.style.display=p?"inline-block":"none"),p&&f){var _=this._exclusive?"rg-checkbar-radio":"rg-checkbar";!this._exclusive&&o.indeterminate?_+=" ".concat(o.indeterminate?"indeterminate":""):_+="".concat(o.checked?"-checked":"-unchecked"),_+=" ".concat(s.disabled?"disabled":""),f.className=_.trim()}var g=f.nextElementSibling;g.removeAttribute("for"),g.setAttribute("for",u),g[Bp.TextProp]=this.rowOf(r)+1+" row "+(o&&o.checkable?o.checked?"checked":"unchecked":"check disable")},t.prototype.getCheckBox=function(e){return e.firstElementChild.firstElementChild},t.prototype.$_getCellSelector=function(i){var n=t.CELL_CSS,r=i[Td],o=this.model,s=i.parentElement[Pd],a=this.grid.getItem(s);return n+=a&&a.checkable?"":" rg-checkbar-disabled",-99===s?Mw.ROW_BAR_CELL_STYLE:(r?o.showFocus&&(n+=" rg-checkbar-focus"):o.showSelection&&this.grid.isSelectedItem(s)&&(n+=" rg-checkbar-select"),n+=e.prototype.$_getCellSelector.call(this,i))},t.prototype.$_setPrevChecked=function(e){this._prevChecked=e},t.FOR_ID="$$-check-bar-cell",t.CELL_CSS="rg-checkbar-cell",t}(Rx),Lx=function(e){function t(t){var i=e.call(this,t.doc,null,"rowBarContainer")||this;i._bars=[],i._views=[],i._count=0;var n=t.doc;return i.addChild(i._indicatorView=new Tx(n,t.rowIndicator)),i.addChild(i._stateView=new Dx(n,t.stateBar)),i.addChild(i._checkView=new Mx(n,t.checkBar)),i}return gd(t,e),t.prototype._doDispose=function(){this._bars=this._views=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"rowIndicator",{get:function(){return this._indicatorView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stateBar",{get:function(){return this._stateView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkBar",{get:function(){return this._checkView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bars",{get:function(){return this._bars},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stateError",{get:function(){return this._stateView._error},set:function(e){this._stateView._error=e},enumerable:!1,configurable:!0}),t.prototype.isVisible=function(){return!!this._bars.length},t.prototype.getCellIndex=function(e){return e.parentElement[Pd]},t.prototype.refresh=function(e){var t=this;this._views&&this._views.forEach(function(i){i.visible&&i.refresh(e,t._count+(e.fixedOptions.rowCount>0?1:0))})},t.prototype.rowOf=function(e){return e.parentElement[Pd]},t.prototype.getCheckBox=function(e){return this._checkView.getCheckBox(e)},t.prototype.getCellType=function(e){var t=this._views[e.cellIndex];return t instanceof Tx?Bd.INDICATOR:t instanceof Dx?Bd.STATE:t instanceof Mx?Bd.CHECK:void 0},t.prototype.isRowIndicator=function(e){return this._views[e.cellIndex]instanceof Tx},t.prototype.getSectionObject=function(e){void 0===e&&(e=!1);var t=this.getChildren().map(function(e){return e.model});return(t=t.filter(function(t){return!e||t.visible?t:void 0})).sort(function(e,t){var i=e.displayOrder,n=t.displayOrder;return i==n?e.staticOrder-t.staticOrder:i-n})},t.prototype._getCssSelector=function(){return"rg-rowbarcontainer"},t.prototype._getFirstCell=function(e){return 0},t.prototype._getEndCell=function(e){return this._bars.length},t.prototype._isFixedHeight=function(){return!0},t.prototype._doPrepareContent=function(t){if(this._views.length){this._dirty&&this._dom.appendChild(this._table);for(var i=0,n=this._views;i<n.length;i++){var r=n[i];(r._dirty||r.model.dirty)&&r._doPrepareContent(t)}}else Bp.detach(this._table);e.prototype._doPrepareContent.call(this,t)},t.prototype._prepareCellContent=function(e,t){return this._views[t]._prepareContent(e,t)},t.prototype._getTableRowHeight=function(e,t){var i=e.fixedItemCount;return i>0&&t>i?e.getTableItemHeight(t-1):e.getTableItemHeight(t)},t.prototype._doMeasure=function(e,t,i){this.$_prepareBars(e);for(var n=0,r=0,o=this._views;r<o.length;r++){var s=o[r];n+=s.width=s.measureWidth(e)}return new Aw(n,i)},t.prototype._doLayoutContent=function(e){for(var t=e.grid,i=e.topIndex,n=e.itemCount,r=e.fixedItemCount,o=this._count=r+n,s=this._bars.length,a=t.focusedRow,l=this._views,u=this._thead,c=u&&u.children[0],h=t.displayOptions.useAlternateRowStyle,d=0;d<o;d++){var p=d<r?d:d+i,f=Wv.temp(t,p),_=this._getTableRow(e,d);Bp.setClassName(_,this.getStyleName(f.item,f.itemIndex%2&&h)),_[Pd]=p;for(var g=0;g<s;g++){var m=_.cells[g];if(m[Td]=p==a,l[g]._layoutCell(t,f,m),0===d&&c){var y=c.cells[g];y&&(y[Bp.TextProp]=this.getCellType(m)+" column")}}}r>0&&this._layoutFixedBar(t.fixedOptions,r)},t.prototype._doUpdateCellContent=function(e,t,i){i[this._textProp]=t.text},t.prototype._doRender=function(e){},t.prototype._doDraw=function(e){this._views.forEach(function(e){e.validate()})},t.prototype._getCellCount=function(e){return this._bars.length},t.prototype._getCellWidth=function(e,t){return this._views[t].width},t.prototype.$_prepareBars=function(e){for(var t=this._bars=this.getSectionObject(!0),i=this._views=[],n=0,r=t.length;n<r;n++){var o=t[n],s=void 0;(s=o instanceof pb?this._indicatorView:o instanceof _b?this._stateView:this._checkView).$_setCol(n),s._colChanged=s._colChanged||o.visChanged,i.push(s),o.visChanged=!1}this.getChildren().forEach(function(e){e instanceof Rx&&(e.visible=i.indexOf(e)>=0)})},t.prototype._layoutFixedBar=function(e,t){var i=this._tbody.children[t];i[Rd]=t,i[Pd]=-99,Bp.setClassName(i,Mw.ROW_BAR_STYLE);for(var n=0;n<i.childElementCount;n++){var r=i.children[n];r[Td]=!1;var o=this._views[n];o._colChanged&&o._layoutCell(this.grid,null,r),Bp.setClassName(r,Mw.ROW_BAR_CELL_STYLE)}},t.prototype.getStyleName=function(e,i){var n=t.ROW_STYLE;return n+=Tw.STATE_ROW_STYLES[e.rowState]||"",(n+=i?t.ALTERNATE_ROW_STYLE:"").trim()},t.ROW_STYLE="rg-row-bar",t.ALTERNATE_ROW_STYLE=" rg-alternate-row-bar",t}(Vw),Ax=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"targetElement",{get:function(){return this._targetElement},set:function(e){this._targetElement=e},enumerable:!1,configurable:!0}),t}(vx),Fx=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t}(Ax),$x=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"handle",{get:function(){return this._handle},set:function(e){this._handle=e},enumerable:!1,configurable:!0}),t}(Ax),Nx=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),Object.defineProperty(t.prototype,"request",{get:function(){return this._request},set:function(e){this._request=e},enumerable:!1,configurable:!0}),t.prototype.stop=function(){},t.prototype.end=function(e){this._doEnd(e)},t.prototype._doEnd=function(e){},t.prototype.getRequest=function(){return this._request},t}(bC),jx=function(e){function t(t){var i=e.call(this,t,"mobileBodyScrollTracker")||this;return i._tapX=NaN,i._tapY=NaN,i._vertical=!0,i}return gd(t,e),t.prototype._doDispose=function(){this._grid=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"clickable",{get:function(){return void 0===this._scrolling},enumerable:!1,configurable:!0}),t.prototype._doStart=function(e,t,i,n){var r=this._grid;if(r.isEditing())switch(r.mobileOptions.scrollOnEditing){case Zd.CANCEL:r.cancelEditor(!0);break;case Zd.COMMIT:r.commitEditor(!0);case Zd.DEFAULT:}return this._scrolling=void 0,this._dragTableItemPoints=r.layoutManager._tableItemPoints,this._dragTopIndex=r.topIndex,this._dragLeftPos=r.leftPos,this._doDrag(e,t,i,n),!0},t.prototype._doDrag=function(e,t,i,n){var r=this._grid,o=r.activeTool,s=t-this._tapX,a=i-this._tapY,l=o.findElementAt(n.mouseX,n.mouseY,!1);if(this._vertical=!(l instanceof dC)&&Math.abs(2*a)>=Math.abs(s),this._vertical){if(Math.abs(a)>10){var u=r.topIndex,c=r.layoutManager.fullItemCount,h=r.itemCount;if(c===h)return this._scrolling=!1,!1;if(void 0===this._scrolling){if(u+c>=h&&a<0||0==u&&a>0)return this._scrolling=!1,!1;this._scrolling=!0}else if(this._scrolling){for(var d=0,p=this._dragTableItemPoints;++d<p.length&&!(p[d]>=Math.abs(a)););r.topIndex=this._dragTopIndex+--d*(a>0?-1:1)}}}else Math.abs(s)>10&&(this._scrolling=!0,r.leftPos=this._dragLeftPos-s);return!0},t.prototype._doEnd=function(e){this._scrolling=void 0},t.prototype._doCanceled=function(e,t){this._scrolling=void 0},t.prototype._doInit=function(e,t,i){this._tapY=t,this._tapX=e,this._scrolling=void 0},t}(Nx),Bx=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype._doStart=function(e,t,i,n){return!0},t.prototype._doDrag=function(e,t,i,n){var r=this._grid.pointToIndex(null,t,i,!1);if(r&&r.itemIndex>=0){var o=this.request.handle,s=o.selectionMask.item;s&&s.inflate(o.dir,r)}return!0},t}(Nx),Vx=function(e){function t(t,i){var n=e.call(this,t.doc,"mobileSelectionHandle")||this;return n._dir=i,n._owner=t,n}return gd(t,e),t.prototype._doDispose=function(){this._owner=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"selectionMask",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this._dir},enumerable:!1,configurable:!0}),t.prototype._getCssSelector=function(){return t.STYLE_NAME+this._dir+"-handle"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),t.style.background="red"},t.prototype._doDraw=function(){},t.STYLE_NAME="rg-selection-handle",t}(Sb),Hx=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),t.prototype._doDispose=function(){},t.prototype.getSelectHandle=function(e){for(var t in this._views){var i=this._views[t];if(i.leftHandle._dom===e)return i.leftHandle;if(i.topHandle._dom===e)return i.topHandle;if(i.bottomHandle._dom===e)return i.bottomHandle;if(i.rightHandle._dom===e)return i.rightHandle}},t.prototype.addView=function(e){var t=e.$_hash,i=this._views[t];return i||(i=this._pool.pop()||new Ux(this.doc),this._views[t]=i),i._item=e,this.addChild(i),this.addChild(i.leftHandle),this.addChild(i.topHandle),this.addChild(i.bottomHandle),this.addChild(i.rightHandle),i},t.prototype.clearViews=function(){for(var e in this._views){var t=this._views[e];this.removeChild(t.leftHandle),this.removeChild(t.topHandle),this.removeChild(t.bottomHandle),this.removeChild(t.rightHandle),this.removeChild(t),this._pool.push(t)}this._views={}},t.prototype.layout=function(){var e=this._grid.layoutManager,t=new _p;for(var i in this._views){var n=this._views[i],r=n.item,o=!1,s=new _p;if(n.prepare(),r instanceof Nb){o=this.$_getMobileSelectionRowsRect(e,r,n,s);var a=e.gridBounds;t.set(s.x,s.y,a.width,s.height),n._lefted=!0,n._righted=!0}else r instanceof jb||(o=this.$_getMobileSelectionRangeRect(e,r,n,s,t));if(o){var l=e.footerBounds.y+e.contentBounds.y;s.bottom>l&&(n._bottomed=!0,s.bottom=l)}n.visible=o,n.visible&&(n.setRectI(s),n.updateElement(),this._layoutHandle(n,s,t),n.invalidate(!1,!0))}},t.prototype._layoutHandle=function(e,t,i){var n,r,o=13,s=this._grid.mobileOptions.showSelectionHandle;!e._lefted&&s?(e.leftHandle.visible=!0,n=i.x-6.5,r=t.y+(t.height-o)/2,e.leftHandle.setBounds(n,r,13,o)):e.leftHandle.visible=!1,n=i.x+(i.width-13)/2,r=t.y-6.5,!e._toped&&n>=t.x&&s?(e.topHandle.visible=!0,e.topHandle.setBounds(n,r,13,o)):e.topHandle.visible=!1,r=t.bottom-6.5,!e._bottomed&&n>=t.x&&s?(e.bottomHandle.visible=!0,e.bottomHandle.setBounds(n,r,13,o)):e.bottomHandle.visible=!1,!e._righted&&s?(e.rightHandle.visible=!0,n=i.right-6.5,r=t.y+(t.height-o)/2,e.rightHandle.setBounds(n,r,13,o)):e.rightHandle.visible=!1},t.prototype.$_getMobileSelectionRowsRect=function(t,i,n,r){return e.prototype.$_getSelectionRowsRect.call(this,t,i,n,r)},t.prototype.$_getMobileSelectionColumnsRect=function(t,i,n,r){return e.prototype.$_getSelectionColumnsRect.call(this,t,i,n,r)},t.prototype.$_getMobileSelectionRangeRect=function(t,i,n,r,o){return!(i instanceof $b&&i.move)&&e.prototype.$_getSelectionRangeRect.call(this,t,i,n,r,o)},t}(Hb),Ux=function(e){function t(t){var i=e.call(this,t)||this;return i._leftHandle=new Vx(i,"left"),i._topHandle=new Vx(i,"top"),i._bottomHandle=new Vx(i,"bottom"),i._rightHandle=new Vx(i,"right"),i}return gd(t,e),t.prototype._doDispose=function(){this._leftHandle=this._leftHandle.dispose(),this._topHandle=this._topHandle.dispose(),this._bottomHandle=this._bottomHandle.dispose(),this._rightHandle=this._rightHandle.dispose(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"leftHandle",{get:function(){return this._leftHandle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHandle",{get:function(){return this._topHandle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHandle",{get:function(){return this._bottomHandle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightHandle",{get:function(){return this._rightHandle},enumerable:!1,configurable:!0}),t.prototype.prepare=function(){e.prototype.prepare.call(this)},t.prototype.updateElement=function(){e.prototype.updateElement.call(this)},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("overflow","hidden"),this.setImportantStyle("pointer-events","none")},t.prototype._visibleChanged=function(){this._leftHandle.visible=this._topHandle.visible=this._bottomHandle.visible=this._rightHandle.visible=this.visible},t}(Vb),Wx=function(){function e(){}return e.assignData=function(t){var i=new e;return Object.keys(t).forEach(function(e){return i[e]=t[e]}),i},e.getData=function(t){var i=new e;return i.cellType=t,i},e.getSub=function(t,i){var n=new e;return n.cellType=t,n.subType=i,n},e.getField=function(t,i,n){var r=new e;return r.cellType=t,r.field=r.fieldIndex=i,r.fieldName=n,r},e.getItem=function(t,i,n){var r=new e;return r.cellType=t,r.itemIndex=i,null!=n&&(r.dataRow=n),r},e.getLayout=function(t,i){var n=new e;return n.cellType=t,i instanceof Dv?(n.subType=Bd.LAYOUT_HEADER,n.column=i.name):(n.column=i.firstColumn&&i.firstColumn.name,i.firstColumn instanceof bv&&(n.field=n.fieldIndex=i.firstColumn.dataIndex,n.fieldName=i.firstColumn.fieldName)),n},e.getCell=function(t,i,n){var r=new e;t===Bd.DATA&&(r.editable=i.editable,r.readOnly=i.readonly);var o=i.layout;return r.cellType=t,r.itemIndex=n?n.itemIndex:i.item.index,r.dataRow=n?n.dataRow:i.item.dataRow,r.column=i.layout.firstColumn&&i.layout.firstColumn.name,o.firstColumn instanceof bv&&(r.field=r.fieldIndex=o.firstColumn.dataIndex,r.fieldName=o.firstColumn.fieldName),r.fieldName&&(r.value=n.value),r},e.getGroupFooter=function(t,i,n,r){var o=new e,s=n.firstColumn;return o.cellType=t,o.itemIndex=i,o.index=r,o.column=s&&s.name,s instanceof bv&&(o.field=o.fieldIndex=s.dataIndex,o.fieldName=s.fieldName),o},e.getSummary=function(t,i,n){var r=new e;return r.cellType=t,r.index=i,r.column=n.firstColumn&&n.firstColumn.name,n.firstColumn instanceof bv&&(r.field=r.fieldIndex=n.firstColumn.dataIndex,r.fieldName=n.firstColumn.fieldName),r},e.getGroupElt=function(t,i){var n=new e;return n.cellType=t,n.groupLevel=i,n},e}(),Gx=function(e){function t(t,i){var n=e.call(this,t,"focusView")||this;return n._editing=!1,n._focusType=ip.LAYER,n._inner=i,n}return gd(t,e),Object.defineProperty(t.prototype,"focusType",{get:function(){return this._focusType},set:function(e){e!==this._focusType&&(this._focusType=e,this.$_typeChanged(e))},enumerable:!1,configurable:!0}),t.prototype.$_createLine=function(e){function t(e,t,i){var n=e.createElement("div");n.className=t?"rg-focus-inner-line":"rg-focus-line";var r=n.style;return r.display="none",r.position="absolute",r.boxSizing="border-box",r.left="0px",r.top="0px",1!==i&&(r.borderTop="none"),2!==i&&(r.borderBottom="none"),3!==i&&(r.borderLeft="none"),4!==i&&(r.borderRight="none"),n}var i=$p(e);e.appendChild(this._topLine=t(i,this._inner,1)),e.appendChild(this._bottomLine=t(i,this._inner,2)),e.appendChild(this._leftLine=t(i,this._inner,3)),e.appendChild(this._rightLine=t(i,this._inner,4))},t.prototype.$_typeChanged=function(e){var t=this._dom.style;this._topLine||this.$_createLine(this._dom),e===ip.LINE?(t.height="0px",t.width="0px",t.border="none",this._topLine.style.display=this._bottomLine.style.display=this._leftLine.style.display=this._rightLine.style.display="block",this.invalidate()):(t.removeProperty("border"),this._topLine.style.display=this._bottomLine.style.display=this._leftLine.style.display=this._rightLine.style.display="none")},t.prototype.$_linePosition=function(e,t,i,n){var r=this._topLine.style,o=this._bottomLine.style,s=this._leftLine.style,a=this._rightLine.style,l=this.parent.width,u=this.parent.height;o.left=r.left=-e+"px",o.width=r.width=l+e+"px",o.top=n-2+"px",a.height=s.height=u+"px",a.left=i-2+"px",o.display=u<n?"none":"block",s.display=e<0?"none":"block",a.display=l<i?"none":"block"},t.prototype.setEditing=function(e,t,i){e!=this._editing&&(this._editing=e,this.resetStyleName())},t.prototype.setActivated=function(e){this._setClassName(null)},t.prototype._getCssSelector=function(){return(this._inner?"rg-focus-inner":this._editing?"rg-focus-editing":"rg-focus")+(this.container._focused?"":" rg-deactive-focus")},t.prototype.setBounds=function(t,i,n,r){if(this._focusType===ip.LINE){var o=this._dom.style;o.left=t+"px",o.top=i+"px",this.width=n,this.height=r,this.$_linePosition(t,i,n,r)}else this.x++,e.prototype.setBounds.call(this,t,i,n,r)},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none")},t.prototype._beforeDraw=function(t){if(this._focusType===ip.LINE){this._setClassName(t);var i=t.style;i.left=this.x+"px",i.top=this.y+"px"}else e.prototype._beforeDraw.call(this,t)},t}(kb),zx=function(e){function t(t,i){void 0===i&&(i=!1);var n=e.call(this,t,"focusMask")||this;return n._focusType=ip.LAYER,n._focusView=new Gx(t,i),n.addChild(n._focusView),n}return gd(t,e),t.prototype._doDispose=function(){this._focusView&&this._focusView.dispose(),this._focusView=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"focusType",{get:function(){return this._focusType},set:function(e){e!==this._focusType&&(this._focusType=e,this._focusView.focusType=e,this.$_typeChanged(e))},enumerable:!1,configurable:!0}),t.prototype.$_typeChanged=function(e){var t=this._dom.style;e===ip.LINE?(t.removeProperty("overflow"),t.width="0px",t.height="0px"):(t.overflow="hidden",t.width=this.width+"px",t.height=this.height+"px")},t.prototype.updateElement=function(e,t,i,n,r){this._focusView.setBounds(e,t,i,n),this._focusView.setEditing(r,0,!1)},t.prototype.setActivated=function(e){this._focusView.setActivated(e)},t.prototype._getCssSelector=function(){return"rg-focus-mask"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none"),this.setImportantStyle("background","none"),this.setImportantStyle("border","none"),this.setImportantStyle("overflow","hidden")},t.prototype._beforeDraw=function(t){if(this._focusType===ip.LINE){this._setClassName(t);var i=t.style;i.left=this.x+"px",i.top=this.y+"px"}else e.prototype._beforeDraw.call(this,t)},t.prototype.setRect=function(t){this._focusType===ip.LINE?t.x==this.x&&t.y==this.y&&t.width==this.width&&t.height==this.height||(this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height):e.prototype.setRect.call(this,t)},t}(kb),Yx=function(e){function t(t){var i=e.call(this,t,"groupFocusView")||this;return i.visible=!0,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._getCssSelector=function(){return"rg-group-focus"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none")},t}(kb),qx=function(e){function t(t,i){var n=e.call(this,t,"focusMask")||this;return n._groupFocusView=new Yx(t),n.addChild(n._groupFocusView),n}return gd(t,e),t.prototype._doDispose=function(){this._groupFocusView=this._groupFocusView&&this._groupFocusView.dispose(),e.prototype._doDispose.call(this)},t.prototype.updateElement=function(e,t,i,n){this._groupFocusView.setBounds(e,t,i,n)},t.prototype._getCssSelector=function(){return"rg-group-focus-mask"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none"),this.setImportantStyle("background","none"),this.setImportantStyle("border","none"),this.setImportantStyle("overflow","hidden")},t.prototype._beforeDraw=function(t){e.prototype._beforeDraw.call(this,t)},t}(kb),Kx=function(e){function t(t){var i=e.call(this,t,"rowBlockView")||this;return i.visible=!1,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._getCssSelector=function(){return"rg-rowblock"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none")},t}(kb),Xx=function(e){function t(t){return e.call(this,t,"headerCellResizer")||this}return gd(t,e),t.prototype._getCssSelector=function(){return"_rg-col-resizer_"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none")},t}(kb),Zx=function(e){function t(t){var i=e.call(this,t,"headerCellFeedback")||this;return i._modelChanged=!1,i.dragging=!1,i}return gd(t,e),t.prototype._doDispose=function(){this._model=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"model",{set:function(e){this._model=e,this._modelChanged=!0},enumerable:!1,configurable:!0}),t.prototype._createDom=function(e){var t=e.createElement("table");t.setAttribute("aria-hidden","true");var i=t.createCaption();i.textContent="grid table feedback",i.style.width=i.style.height="0px",i.style.padding="none",i.style.boxSizing="border-box",i.style.overflow="hidden",t.style.setProperty("table-layout","fixed","important");var n=e.createElement("tbody");t.appendChild(n);var r=e.createElement("tr");n.appendChild(r);var o=this._cell=e.createElement("td");return r.appendChild(o),o.className="rg-header rg-header-cell _rg-header-cell-feedback_",t},t.prototype._getCssSelector=function(){return"rg-table"},t.prototype._doDraw=function(e){this.dragging&&!this._modelChanged||(aC.renderCell(this._model,this._cell),this._modelChanged=!1)},t}(kb),Jx=function(e){function t(t){return e.call(this,t,"headerCellMover")||this}return gd(t,e),t.prototype._getCssSelector=function(){return"_rg-header-cell-mover_"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t)},t.prototype._doDraw=function(e){},t}(kb),Qx=function(e){function t(t){var i=e.call(this,t,"rowMoverLine")||this;return i._feedbackStyle=hw.LINE,i}return gd(t,e),Object.defineProperty(t.prototype,"feedbackStyle",{set:function(e){this._feedbackStyle=e},enumerable:!1,configurable:!0}),t.prototype._getCssSelector=function(){switch(this._feedbackStyle){case hw.LINE:return"_rg-row-mover-line_";case hw.ROW:return"_rg-row-mover-block_";case hw.GROUP:case hw.CELL:return"_rg-row-mover-group_"}},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none")},t}(kb),eI=function(e){function t(t){var i=e.call(this,t,"rowMover")||this;return i._enabled=!0,i}return gd(t,e),t.prototype.setEnabled=function(e){if(e!=this._enabled)return this._enabled=e,this.invalidate(),!0},t.prototype.setLabel=function(e){if(e!=this._label)return this._label=e,this.invalidate(),!0},t.prototype.setZIndex=function(e){this._dom.style.zIndex=String(e)},t.prototype._getCssSelector=function(){var e="_rg-row-mover-proxy_";return this._enabled||(e+=" _rg-row-mover-proxy-disabled_"),e},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none"),t.style.whiteSpace="nowrap"},t.prototype._setSizeStyle=function(e){},t.prototype._doDraw=function(e){e[Bp.TextProp]=this._label},t}(kb),tI=function(e){function t(t,i){var n=e.call(this,t,i)||this;n._rowBlockStart=-1,n._rowBlockEnd=-1;var r=t.doc,o=n._grid=t.gridView;return n._skipIndex=o.getIndex(),n._tempIndex=o.getIndex(),n._tempInnerIndex=o.getIndex(),o.addFeedbackElement(n._rowBlockMask=new Kx(r)),o.addFeedbackElement(n._rowFocusView=new nI(r)),o.addFeedbackElement(n._focusMask=new zx(r)),o.addFeedbackElement(n._innerFocusMask=new zx(r,!0)),o.addFeedbackElement(n._groupFocusMask=new qx(r)),n}return gd(t,e),t.prototype._doDispose=function(){this._skipIndex&&this._skipIndex.dispose(),this._skipIndex=null,this._tempInnerIndex=this._tempInnerIndex.dispose(),this._focusMask=this._focusMask.dispose(),this._innerFocusMask=this._innerFocusMask.dispose(),this._rowFocusView&&this._rowFocusView.dispose(),this._rowFocusView=null,this._rowBlockMask&&this._rowBlockMask.dispose(),this._rowBlockMask=null,this._groupFocusMask=this._groupFocusMask&&this._groupFocusMask.dispose(),this._grid=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focused",{get:function(){return this._grid.focusedIndex},enumerable:!1,configurable:!0}),t.prototype.setFocused=function(e,t,i,n){void 0===n&&(n=null);var r=this._grid;if(r.isValid(e)){var o=r.getItem(e.itemIndex);return!r.isEditing()&&o instanceof lm&&r.append(),t?n&&n.repeat&&(!n.repeat||this._userActionIndex)||(this._userActionIndex=r.focusedIndex.clone()):this._userActionIndex=null,this._grid.setFocusedIndex(e,t,!0,i)}return!1},t.prototype.layoutChanged=function(){this.$_resetFocusView(),this.$_resetRowBlockMask(),this.$_resetFocusButton(this.grid.focusedIndex),this._doLayoutChanged()},t.prototype.resetFocused=function(){this.$_resetFocusView()},t.prototype.focusedIndexChanging=function(e){},t.prototype.focusedIndexChanged=function(e,t){var i=this.grid,n=i.layoutManager,r=n.fixedItemCount,o=t.itemIndex;this.grid.setFocusedClass(e,!1),e.itemIndex!==t.itemIndex&&this.grid.setFocusedRowClass(e,!1),(!this.grid.isValid(t)||r>0&&o<r||o>=n.topIndex+r&&o<=r+n.topIndex+n.fullItemCount)&&this.$_resetFocusView(),!i.isEditing()&&t.item instanceof lm&&i.append()},t.prototype.currentRowChanged=function(e,t){var i=this.grid,n=i.displayOptions;if(this._rowBlockStart=-1,this._rowBlockEnd=-1,n.rowBlockType!=Vd.NONE){var r,o=n.rowBlockCallback;if(o)(r=o(i.handler,i.getItemIndexOfRow(t)))?(this._rowBlockStart=r.start,this._rowBlockEnd=r.end):this._rowBlockStart=this._rowBlockEnd=-1}this.$_resetRowBlockMask()},t.prototype.getNextRequest=function(e,t,i,n){return null},t.prototype.isMouseEventTarget=function(t){if(t instanceof GC){var i=t.getAncestor(jw);if(i)return i.getContentAt(t.index)==this.mouseEventTarget}return e.prototype.isMouseEventTarget.call(this,t)},t.prototype._doSetFocus=function(e){!Bp.isMobile()&&this.grid.setFocus(e),this._focusMask.setActivated(this.grid.container._focused)},t.prototype._doFocusLeave=function(e){var t=this.grid;t._resetTdFocus=void 0,t.editOptions.commitWhenLeave&&(t.isEditing()||t.isItemEdited())&&t.commit(!1,void 0,!1),Bp.isSlotMode()&&t.closePopups(),this._focusMask.setActivated(t.container._focused)},t.prototype._doGlobalKeyup=function(e){var t=this.grid;"Tab"===e.code?t.setEventFrom("keyup_tab"):t.setEventFrom("keyup")},t.prototype._doGlobalKeydown=function(e){var t=this.grid;"Tab"===e.code?t.setEventFrom("keydown_tab"):t.setEventFrom("keydown")},t.prototype._doLayoutChanged=function(){},t.prototype.$_resetFocusView=function(){var e=this._grid,t=e.layoutManager,i=e.displayOptions,n=e.focusedIndex,r=e.fixedOptions,o=this._tempInnerIndex.assign(n),s=!1,a=!1,l=!1;if(i.focusVisible&&e.isValid(o)&&!e.isEditing()){var u=o.item,c=e.getBodyViewAt(o),h=c.getCellAt(t,o),d=h;if(!h&&o.layout.merged){var p=t.getMergeRoom(o);p&&(o.itemIndex=t.fixedItemCount+t.topIndex,p.contains(o)&&(h=c.getCellAt(t,o)),h||(o.itemIndex=t.fixedItemCount+t.topIndex+t.itemCount-1,p.contains(o)&&(h=c.getCellAt(t,o))))}if(h&&!h.grouped){var f=e.isEditing(),_=c.getCellRectAt(t,o,!0);if((_=c.boundsByContainer(_)).width>0&&_.height>0){var g=0,m=_.width;if(!o.colFixed&&!o.rightFixed){var y=t.fixedContentBounds;g=Math.max(0,y.right-_.x),m=Math.max(0,_.width-g),y=t.rightContentBounds,m-=_.right-y.x}if(m>0){f&&(_.y--,_.height+=1);var v=_.clone();if((y=t.footerBounds.clone()).y+=t.contentBounds.y,Math.max(0,_.bottom-y.y),_.width=Math.min(_.width,m),_.x+=g,_.bottom=Math.min(_.bottom,y.y),this._focusMask.setRect(_),this._focusMask.focusType=i.focusType,this._focusMask.updateElement(-g,0,v.width,v.height,f),s=!0,e.canMergeEditing(d),d&&d.merged){if(i.showInnerFocus&&(x=c.getCellRectAt(t,o,!1)).height<_.height){this._innerFocusMask.focusType=i.focusType,x.height=Math.min(x.height,_.height);var b=(x=c.boundsByContainer(x)).width-8,w=x.height-8;x.bottom=Math.min(_.bottom+4,x.bottom),this._innerFocusMask.setRect(x.inflate(-4,-4,-4,-4)),this._innerFocusMask.updateElement(0,0,b,w,f),l=!0}}else{var C=c.getCellAt(t,o);if(C&&C.renderer2&&C.editable&&C.renderer2.canShowInnerFocus()){var x=c.getCellRectAt(t,o,!1);b=(x=c.boundsByContainer(x)).width-8,w=x.height-8,x.bottom=Math.min(_.bottom+4,x.bottom),this._innerFocusMask.setRect(x.inflate(-4,-4,-4,-4)),this._innerFocusMask.updateElement(0,0,b,w,f),l=!0}}}}}else if(!u.isData){var I=e.getRowView(c,u);I&&(_=I.boundsByContainer(),this._focusMask.updateElement(0,0,_.width,_.height,!1),_.x<t.leftContentBounds.right&&(_.x=t.leftContentBounds.right,_.width-=t.leftContentBounds.right-_.x),this._focusMask.setRect(_),s=!0)}}var E=i.rowFocusType;if(E!=Vd.NONE){var O=t.footerBounds.y+t.contentBounds.y,S=t.fixedItemCount;if((k=(k=o.itemIndex)>=S?k-t.topIndex:k)>=0&&k<=t.itemCount-1){switch((_=t.getTableItemBounds(k)).y+=t.contentBounds.y+t.bodyBounds.y,_.bottom>O&&(_.bottom=O),E){case Vd.DATA:_.x=e.fixedContentPane.x,_.right=e.rightContentPane.width?e.rightContentPane.right:e.contentPane.right;break;case Vd.FILL:_.x=0,_.width=e.width;break;case Vd.ROW:_.x=0,_.right=e.rightContentPane.width?e.rightContentPane.right:e.contentPane.right}this._rowFocusView.setRect(_),a=!0}else a=!1}if(this._groupFocusMask.visible=i.groupFocusVisible&&e.isValid(n)){var k,P=n.layout.getAncestor(i.groupFocusLevel);if(P)if(O=t.footerBounds.y+t.contentBounds.y,S=t.fixedItemCount,(k=(k=n.itemIndex)>=S?k-t.topIndex:k)>=0&&k<=t.itemCount+S-1){if(_=t.getTableItemBounds(k),g=0,(x=t.getDataRect(P)).height=_.height,_.x=x.x,m=x.width,_.y+=t.contentBounds.y+t.bodyBounds.y,_.bottom>O&&(_.bottom=O),y=void 0,y=!n.colFixed&&r.colCount>0?t.fixedContentBounds:t.rowBarBounds,_.x=Math.max(y.right,x.x),g=Math.min(0,x.x-y.right),!n.rightFixed&&r.rightCount>0){var R=t.rightContentBounds;m-=Math.max(0,x.right-R.x)}m<=0&&(this._groupFocusMask.visible=!1),_.width=m,_.x-=1,_.y-=1,_.width++,_.height++,this._groupFocusMask.setRect(_),this._groupFocusMask.updateElement(g,0,x.width+1,x.height+1)}else this._groupFocusMask.visible=!1}this._rowFocusView.visible=a,this._focusMask.visible=s,this._innerFocusMask.visible=l,this._focusMask.visible,e.setFocusedClass(n,!0),e.setFocusedRowClass(n,!0)},t.prototype.$_resetRowBlockMask=function(){var e=this.grid,t=e.layoutManager,i=t.fixedItemCount,n=e.topItem,r=this._rowBlockMask,o=e.displayOptions.rowBlockType,s=this._rowBlockStart,a=this._rowBlockEnd,l=Math.max(s-n+i,i),u=Math.min(Math.max(a-n+i),t.itemCount+i-1);if(r.visible=o&&o!=Vd.NONE&&l>=0&&u>=0&&l<t.itemCount&&l<=u&&s!==a,r.visible){var c=t.footerBounds.y+t.contentBounds.y,h=t.getTableItemBounds(l),d=t.getTableItemBounds(u);switch((h=h.union(d)).y+=t.contentBounds.y+t.bodyBounds.y,h.bottom>c&&(h.bottom=c),o){case Vd.DATA:h.x=e.fixedContentPane.x,h.right=e.rightContentPane.width?e.rightContentPane.right:e.contentPane.right;break;case Vd.FILL:h.x=0,h.width=e.width;break;case Vd.ROW:h.x=0,h.right=e.rightContentPane.width?e.rightContentPane.right:e.contentPane.right}r.setRect(h)}},t.prototype.$_resetFocusButton=function(e){var t,i=this.grid;if(i.isValid(e)){var n=i.getBodyViewAt(e),r=i.getBodyCellAt(e),o=this._tempIndex.assign(e);if(!r&&o.layout.merged){var s=i.layoutManager;(t=s.getMergeRoom(o))&&(o.itemIndex=s.fixedItemCount+s.topIndex,t.contains(o)&&(r=i.getBodyCellAt(o)),r||(o.itemIndex=s.fixedItemCount+s.topIndex+s.itemCount-1,t.contains(o)&&(r=i.getBodyCellAt(o))))}var a=n&&r&&n.getRowView(r.item);a&&a.$_setButtons(i,r,r.cell.firstElementChild,t)}},t.prototype._doCancel=function(e){if(e.closeFilterSelector(),e.isEditing())e.cancelEditor(!0);else if(e.isItemEditing())e.itemEditCancel()&&e.cancel();else if(this.dragging&&this.dragTracker)try{this._stopDragTracker(null,null,!0,null),this.dragTracker.cancel(),this.dragTracker.linkable&&e.container.cancelOtherContainer(this.dragTracker)}catch(t){throw t}finally{this.dragTracker=null}},t.prototype._doEnter=function(e,t,i,n){var r=e.isEditing(),o=n.shiftKey;if(r&&!t.enterToTab)e.commitEditor(!0);else{var s=i.clone(),a=t.skipReadOnly,l=t.skipReadOnlyCell,u=e.editController,c=Wv.areEquals(u.editIndex,s)&&u.currentEditor(),h=c&&c.dropDownWhenEnter,d=t.enterToEdit||h;if(e.isValid(s)){if(t.enterToNextRow&&(!o&&s.itemIndex<e.itemCount-1||o&&s.itemIndex>0))o?s.up():s.down(),l&&this._checkReadOnly(s)&&(this._skipReadOnlyCell(s,o?-1:1)||s.assign(i));else if(!o&&(!d||r)&&t.enterToTab&&t.enterToNextCell&&t.crossWhenExitLast&&(s.isLast||t.skipReadOnly&&s.isEditableLast)&&s.itemIndex<e.itemCount-1)s.down(),s.firstCell(),a&&this._skipReadOnly(s,1);else if(o&&(!d||r)&&t.enterToTab&&t.enterToNextCell&&t.crossWhenExitLast&&(s.isFirst||t.skipReadOnly&&s.isEditableFirst)&&s.itemIndex>0)s.up(),s.lastCell(),a&&this._skipReadOnly(s,-1);else if((!r||t.enterToTab)&&t.commitWhenExitLast&&s.isLast){try{e.commit(t.commitWhenNoEdit)}catch(p){throw p instanceof Wy&&(p=e._fireValidationFail(s.item.index,p.column,p))&&alert(t.showOnlyValidationMessage&&p.userMessage?p.userMessage:p.toString()),p}t.appendWhenExitLast&&s.itemIndex===e.itemCount-1&&(e.append(),e.isItemEditing()&&(s.down(),s.firstCell()))}else if(t.enterToTab&&(e.isEditing()||this._checkReadOnly(s))||!d){if(e.isEditing()&&!e.commitEditor(!0))return!0;t.enterToNextCell&&(o?(s.prev(),this._getPrevVisible(e,s)):(s.next(),this._getNextVisible(e,s)),a&&!this._skipReadOnly(s,o?-1:1)&&s.assign(i))}}else s.normalize(e);Wv.areEquals(s,i)?e.isValid(s)&&d&&!r&&!e.isEditing()&&i&&i.dataColumn&&!this._checkReadOnly(i)&&e.showEditor(i,!1,h):this.setFocused(s,!0,!0)}return!0},t.prototype._doTab=function(e,t,i,n){var r=i.clone(),o=!1,s=n.shiftKey;if(e.isValid(r)){if(t.useTabKey){var a=t.exitGridWhenTab;if(s){if(t.crossWhenExitLast&&(r.isFirst||t.skipReadOnly&&r.isEditableFirst)&&r.itemIndex>0?(r.up(),r.lastCell()):(r.prev(),this._getPrevVisible(e,r)),t.skipReadOnly&&!this._skipReadOnly(r,-1)&&r.assign(i),Wv.areEquals(r,i)&&a){switch(a){case"row":o=!0;break;case"grid":o=r.itemIndex<=0}if(o)return!Bp.isMobile()&&e.container._containerDom.setAttribute("tabindex","-1"),!1}}else{if(t.crossWhenExitLast&&(r.isLast||t.skipReadOnly&&r.isEditableLast)&&r.itemIndex<e.itemCount-1)r.down(null,t.skipReadOnly&&r.isEditableLast&&t.crossWhenExitLast),r.firstCell();else if(t.commitWhenExitLast&&r.isLast){try{e.commit(t.commitWhenNoEdit)}catch(l){throw l instanceof Wy&&(l=e._fireValidationFail(r.itemIndex,l.column,l))&&alert(t.showOnlyValidationMessage&&l.userMessage?l.userMessage:l.toString()),l}t.appendWhenExitLast&&(e.append(),e.isItemEditing()&&(r.down(),r.firstCell()))}else r.next(),this._getNextVisible(e,r);if(t.skipReadOnly&&!this._skipReadOnly(r,1)&&r.assign(i),Wv.areEquals(r,i)&&a){switch(a){case"row":o=!0;break;case"grid":o=r.itemIndex>=e.itemCount-1}if(o)return!1}}return Wv.areEquals(r,i)||this.setFocused(r,!0,!0),n&&(n.preventDefault&&n.preventDefault(),n.stopImmediatePropagation()),!0}}else r.normalize(e),this._skipReadOnly(r,1);return s&&!Bp.isMobile()&&e.container._containerDom.setAttribute("tabindex","-1"),!1},t.prototype._getNextVisible=function(e,t){e.getBodyViewAt(t).getNextVisibleCell(t)},t.prototype._getPrevVisible=function(e,t){e.getBodyViewAt(t).getPrevVisibleCell(t)},t.prototype._checkReadOnly=function(e){var t=this.grid;if(!t.isValid(e))return!0;var i=t.getWritableAt(e,!0);return null!=i?!i:!e.dataColumn.isWritable()},t.prototype._skipReadOnly=function(e,t){var i=!1;if(this.grid.editOptions.skipReadOnly){var n=this._skipIndex;if(n.assign(e),!(i=!this._checkReadOnly(n)))if(t>0){for(;n.next();)if(!this._checkReadOnly(n)){e.assign(n),i=!0;break}}else for(;n.prev();)if(!this._checkReadOnly(n)){e.assign(n),i=!0;break}}return i},t.prototype._skipReadOnlyCell=function(e,t,i){var n=this.grid,r=!e.dataColumn.isWritable()&&!0;if(!r&&n.editOptions.skipReadOnlyCell){var o=this._skipIndex;o.assign(e),r=!this._checkReadOnly(o)}return r},t.prototype._commitCancel=function(e,t){var i=this.grid;try{switch(e.itemState){case Mg.INSERTING:return i.commit(t.forceInsert)||i.cancel(!0),!0;case Mg.APPENDING:return i.commit(t.forceAppend)||i.cancel(!0),!0;case Mg.UPDATING:return i.commit(t.commitWhenNoEdit)||i.cancel(!0),!0}}catch(n){if(n instanceof Wy)return(n=i._fireValidationFail(e.index,n.column,n))&&alert(t.showOnlyValidationMessage&&n.userMessage?n.userMessage:n.toString()),!1;if(n instanceof Uy)return!1;throw n}return!1},t.prototype._editButtonClicked=function(e,t){},t}(RC),iI=function(e){function t(t){var i=e.call(this,t,"rowHoverView")||this;return i.visible=!1,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._getCssSelector=function(){return"rg-rowhover"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none")},t}(kb),nI=function(e){function t(t){var i=e.call(this,t,"rowFocusView")||this;return i.visible=!1,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._getCssSelector=function(){return"rg-rowfocus"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none")},t}(kb),rI=function(e){function t(t,i){var n=e.call(this,t,i)||this;n._checkScroll=Date.now(),n._prevScroll=Date.now(),n._wheelDeltaY=0,n._tempRect=new _p,n._reqPoint=new Ob,n._swipeTimer=null,n._swipeDistance=0,n._swipeDuration=0,n._swipeStarted=null,n._swipeAmount=0;var r=t.doc,o=n.grid;return n._cellResizer=new Xx(r),n._cellMover=new Jx(r),n._cellFeedback=new Zx(r),n._rowMoverLine=new Qx(r),n._rowMoverProxy=new eI(r),n._colResizeReq=new wx(o),n._colMoveReq=new Cx(o),n._rowResizeReq=new xx(o),n._headerResizeReq=new Ix(o),n._rowMoveReq=new Ex(o),n._tooltipIndex=new Wv(o),Bp.isMobile()&&(n._touchScrollRequest=new Fx(o),n._touchScrollTracker=new jx(o),n._touchSelectRequest=new $x(o),n._touchSelectTracker=new Bx(o)),n}return gd(t,e),t.prototype._doDispose=function(){this._clickCell=null,this._clickElement=null,this._cellResizer=this._cellResizer.dispose(),this._cellMover=this._cellMover.dispose(),this._cellFeedback=this._cellFeedback.dispose(),this._rowMoverLine=this._rowMoverLine.dispose(),this._rowMoverProxy=this._rowMoverProxy.dispose(),this._colResizeReq=this._colResizeReq.dispose(),this._colMoveReq=this._colMoveReq.dispose(),this._rowMoveReq=this._rowMoveReq.dispose(),this._rowResizeReq=this._rowResizeReq.dispose(),this._headerResizeReq=this._headerResizeReq.dispose(),clearTimeout(this._tooltipShowTimer),e.prototype._doDispose.call(this)},t.prototype._doDeactivated=function(){this._clickCell=this._clickElement=null},t.prototype._doDragTrackerFinished=function(e,t){t||e.clickable||(this._clickCell=this._clickElement=null)},t.prototype.$_getIndexAt=function(e,t,i,n,r){var o=e.getDataCellIndex(n,this._tempIndex),s=i.getCellAt(t,o);if(s&&s.merged){var a=t.getTableRowIndex(r);if(a<0)return o;var l=i.getRowIndex(a);o.itemIndex=Math.min(Math.max(s.item.index,l),s.item.index+s.rowSpan-1)}return o},t.prototype._doPointerDown=function(e){var t=e.mouseX,i=e.mouseY,n=Bp.ctrlKey(e),r=e.shiftKey,o=e.altKey,s=e.button,a=this.grid,l=a.layoutManager,u=a.displayOptions;a.editOptions;var c=a.focusedIndex.clone(),h=a.selections.exclusiveMode;this._longTimer=Bp.isMobile()&&setTimeout(this._longTimerHandler,a.mobileOptions.longTapDuration),this._hideTooltip(),a.closePopups(),a.setEventFrom("mousedown"),this._scrollY=window.scrollY,this._swipeTimer=clearInterval(this._swipeTimer),this._touchMoving=!1;var d,p=this._clickCell=null,f=this._clickElement=null;if(this._userActionIndex=null,0==s||a.displayOptions.rightClickable&&2==s){var _=this._tempIndex,g=this.mouseEventTarget,m=0==s&&!(Bp.isMac&&e.ctrlKey)&&(this._getEditRequest(g,c,t,i,n,r,o)||this._getSelectRequest(g,t,i,n,r,o)||Bp.isMobile()&&this._getTouchRequest(e));if(m instanceof vx&&!m.canFocus())m instanceof Ex&&(p=this._clickCell=this._findTableCell(),f=this._clickElement=this.findElementAt(t,i,!1));else if(p=this._clickCell=this._findTableCell(),f=this._clickElement=this.findElementAt(t,i,!1),p){var y=a.getTableView(p),v=y instanceof aC,b=y instanceof nC,w=y instanceof Lx&&y.isRowIndicator(p);if(n&&u.selectionRemovable&&!h&&(!m||m instanceof bx)){var C=null;if(b?_=this.$_getIndexAt(a,l,y,p,i):v?(_.layout=y.layoutByCell(p),C=jb):w&&(_.itemIndex=p.parentElement[Pd],C=Nb),x=a.selections.getItemByIndex(_,C))return a.selections.remove(x),void(b&&this.setFocused(_,!1,0===a.selections.getItems().length))}if(v||b||w){var x=a.selections.lastItem();if(b?(_=this.$_getIndexAt(a,l,y,p,i),a.editOptions.focusMoveStep===Pv.GROUP&&(_.layout=_.layout.getAncestor(a.displayOptions.groupFocusLevel).first)):v?(_.assign(a.focusedIndex),_.layout=y.layoutByCell(p)):(_.assign(a.focusedIndex),_.itemIndex=p.parentElement[Pd]),v)if(n&&r)x&&this.$_resizeSelection(x,_,cb.COLUMNS);else{if(r)return;n&&m instanceof bx&&a.selections.containsLayout(_.layout,jb)&&(m=null)}else{if(r&&x){var I=v?cb.COLUMNS:w?cb.ROWS:null;return void this.$_resizeSelection(x,_,I)}if(b){if(this.$_checkAppending(a.focusedIndex,!0,_))return this._clickElement=null,void(this._clickCell=null);var E=y.getCellAt(l,_),O=y.bodyCellByCell(this._clickCell);if(O&&E&&0===s&&O.isEditButton(e.target))this.setFocused(_,!0,!0)&&E.editable&&!E.readonly&&a.editController.buttonDown(_,e);else if(Bp.isMobile()&&m instanceof Fx)this.grid.container.addMouseEvent(null);else{var S=!(n&&a.selections.containsCell(_));this.setFocused(_,h||!n,S)||m instanceof bx&&(m=null)}}else if(w&&a.rowIndicator.selectable)if(n&&m instanceof bx&&a.selections.containsItem(_.itemIndex,Nb)&&(m=null),null==_.column&&_.item.isDataRow&&(_.layout=a.getFirstLayout()),m instanceof bx){if(this.setFocused(_,h||!n,!1)){var k=x&&Lb(x)?x.getItemIndices():[];(1!==k.length||k[0]!==_.itemIndex)&&a.selections.selectRow(_.itemIndex,!n)}}else S=void 0,S=a.displayOptions.selectionStyle===cb.SINGLE_ROW?!(n&&a.selections.containsItem(_.itemIndex,null)):!(n&&a.selections.containsCell(_)),this.setFocused(_,h||!n,S)}}}else(d=f)&&"itemIndex"in d&&(_.assign(a.focusedIndex),_.itemIndex=f.itemIndex,null==_.column&&(_.layout=a.getFirstLayout()),this.setFocused(_,!0,!0));!m||a.isItemEditing()&&m.selectable||(this.dragTracker=this._getDragTracker(m,t,i),m instanceof wx&&e.target.setPointerCapture(e.pointerId))}a.$_resetHovering(t,i);var P=this.dragTracker;P&&P.startWhenCreated?this._startDragTracker(t,i,e):P&&P.init(t,i,e)},t.prototype._doPointerCancel=function(e){this.grid.container.removeMouseEvent()},t.prototype._doMouseDown=function(e){var t=this.grid,i=t.editOptions,n=Bp.ctrlKey(e),r=t.selections.exclusiveMode,o=e.mouseX,s=e.mouseY,a=this._tempIndex;if(Wv.areEquals(a,this.focused)&&i.editWhenClickFocused)t.showEditor();else{var l=!(n&&t.selections.containsCell(a));this.setFocused(a,r||!n,l)}t.$_resetHovering(o,s)},t.prototype.$_checkOtherGridRowMoving=function(e,t){var i=this.grid,n=i.container,r=n.getMouseContainer(),o={index:-1,position:0,column:void 0};if(r&&r!==n){var s=Bp.isMobile()&&document.elementFromPoint(e.clientX,e.clientY);if(n.findContainer(e,s)!==n)i.removeFeedbackElement(this._rowMoverLine);else if(t instanceof EC){var a=n.eventToContainer(e),l=n.findElementAt(a.x,a.y,!1);if(0==i.itemCount||l instanceof Xw||l instanceof Rx||l instanceof Lx){var u=EC.updateLineFeedback(i,Number.MAX_VALUE,null,1,this._rowMoverLine,a.x,a.y,!0,e.target),c=i.canMoveRow(!0,!0)&&i.dataDropOptions.getEnabled(r.gridView,t.sourceItems,u),h=i.dataDropOptions.getLabel(r.gridView,t.sourceItems,u,null);return t.setEnabled(c),t.setLabel(h),c&&(u.index=Math.max(0,u.index)),i.addFeedbackElement(this._rowMoverLine),c?u:o}l?(t.setEnabled(!1),i.removeFeedbackElement(this._rowMoverLine)):i.removeFeedbackElement(this._rowMoverLine)}}return o},t.prototype.getNextRequest=function(e,t,i,n){if(e instanceof bx){var r=this.grid.getSelection();return this._rowMoveReq.init(r,r.startItem)}return null},t.prototype.dragFrom=function(e,t){t instanceof EC&&this.$_checkOtherGridRowMoving(e,t)},t.prototype.dropFrom=function(e,t){if(t instanceof EC){var i=this.grid,n=this.$_checkOtherGridRowMoving(e,t);i.removeFeedbackElement(this._rowMoverLine),n.index>=0&&i.$_dropData(t.grid,t.sourceItems,n)}},t.prototype.cancelFrom=function(e){var t=this.grid;e instanceof EC&&t.removeFeedbackElement(this._rowMoverLine)},t.prototype._doPointerMove=function(e){var t,i=e.mouseX,n=e.mouseY,r=Bp.ctrlKey(e),o=this.grid,s=o.layoutManager,a=this.mouseEventTarget,l=e.shiftKey,u=e.altKey;o.$_resetHovering(i,n)||this._hideTooltip();var c=o.container,h=c.getMouseContainer();if(!h||c===h){var d=this.dragTracker;if(!d||!d.active){var p=this._getEditRequest(a,o.focusedIndex,i,n,r,l,u);if(Bp.isMobile()&&!p&&(p=this._getTouchRequest(e)),!p&&o.editOptions.movable&&e.altKey&&o.displayOptions.altSelectAndImmediateDrag&&(p=this._getSelectRequest(a,i,n,r,l,u))&&(t=o.dataDropOptions.cursor),!t&&p&&p.cursor&&(t=p.cursor),o.setCursor(a,t||"default"),!p&&!this.dragging){var f=this._findTableCell(),_=f&&o.getTableView(f);if(_ instanceof nC){var g=_.bodyCellByCell(f);if(g&&g.merged){var m=g.head||g,y=this.$_getIndexAt(o,s,_,f,n);if(!m.contains(o.focusedIndex)){if(g.buttons){var v=_.getRowView(m.item);v instanceof Xw&&v.moveCellButtons(s,m,y.itemIndex)}var b=o.canMergeEditing(m);if(m.renderer2&&m.renderer2.refreshFocusChanged){var w=_.getCellRectAt(s,y,!1),C=_.getCellRect(s,m,!0),x=m.renderer2,I=w.top-C.top+w.height/2-C.height/2;x.moveClickElement(I,b)}}}}}}}},t.prototype._doPointerUp=function(e){var t=this._findTableCell(),i=this.grid,n=i.focusedIndex,r=i.layoutManager;i.setEventFrom("mouseup");var o=i.getCellType(t);if(i.setCursor(this.mouseEventTarget,"default"),i.editController.buttonUp(null,e),Bp.isMobile()){if(this._longPressed&&Bp.isiOS){var s=new PointerEvent("contextmenu",{bubbles:!0,clientX:e.clientX,clientY:e.clientY});return void e.target.dispatchEvent(s)}o===Bd.DATA&&this.dragTracker&&this.dragTracker.clickable&&!Wv.areEquals(this._tempIndex,n)&&this.setFocused(this._tempIndex,!0,!0)}if(o===Bd.DATA&&(!this.dragTracker||this.dragTracker.scrollable)){var a=t&&i.cellToIndex(t);i.isValid(n)&&Wv.areEquals(n,a)&&!r.focusIsVisible(n)&&(r.makeCellVisible(n),i.invalidateLayout())}},t.prototype._doClick=function(e,t,i){if(Bp.isMobile()&&this._longPressed)Bp.stopEvent(e,!0);else{t=t||e.mouseX,i=i||e.mouseY;var n,r=this.grid,o=this.findElementAt(t,i,!1),s=this._findTableCell(),a=r.getCellType(s),l=this.focused,u=a===Bd.DATA&&r.cellToIndex(s);(!r._eventFrom||r._eventFrom.indexOf("key")>=0)&&(this._clickCell=s=this._findTableCell(e.target),r.getCellType(s)===Bd.DATA&&(l=r.getDataCellIndex(s))),r.setEventFrom(null);try{if(s&&s==this._clickCell){var c=r.getCellType(s),h=void 0,d=void 0;switch(c){case Bd.HEAD:if(this.$_gridCellClicked(n=Wx.getSub(c,r.headView.getCellType(s))),"check"===n.subType){var p=r.headView._checkCell;Bp.included(e.target,p._check,p._image,p._span)&&this._checkAllClicked()}break;case Bd.FOOT:this.$_gridCellClicked(Wx.getSub(c,r.footView.getCellType(s)));break;case Bd.INDICATOR:case Bd.STATE:case Bd.CHECK:c===Bd.CHECK&&this.$_checkCellClicked2(s,e),h=r.rowBarContainer.rowOf(s),d=r.getRowOfItem(h);var f=r.getItem(h);(c!==Bd.CHECK||f.checkable)&&this.$_gridCellClicked(Wx.getItem(c,h,d));break;case Bd.HEADER:var _=r.getHeaderView(s),g=_.tableCellByCell(s);if(!(this._getEditRequest(this.mouseEventTarget,l,t,i,!1,!1,!1)instanceof wx)&&this._doColumnHeaderClicked(e,g.layout)){var m=_.layoutByCell(s);m instanceof Dv&&m.hideChildHeaders&&m.tiedColumn&&(m=m.tiedColumn.layout),this.$_gridCellClicked(Wx.getLayout(c,m))}break;case Bd.DATA:var y=r.getBodyView(s).bodyCellByCell(s),v=Wv.areEquals(l,u)||y.contains(l);if(v||r.editOptions.focusMoveStep===Pv.GROUP&&(v=l.layout.root===u.layout.root&&l.itemIndex===u.itemIndex),v&&y.grouped)this.$_gridCellClicked(Wx.getItem(Bd.GROUP_HEADER,y.item.index,null));else{if(v&&y.isCellButton(e.target))return this.$_cellButtonClicked(y),void(!r.editOptions.exceptDataClickWhenButton&&this.$_gridCellClicked(Wx.getCell(c,y,l)));if(v&&Xw.isExpander(e.target))return void(!r.editOptions.exceptDataClickWhenButton&&this.$_gridCellClicked(Wx.getCell(c,y,l)));var b=r.editController._editor,w=y.isEditButton(e.target);if(v&&(w||!y.readonly&&b&&b.dropDownWhenClick)){if(r.layoutManager.focusIsVisible(this.focused))return r.canMergeEditing(y)?this._tempIndex=r.focusedIndex.clone():y.getEditIndex(this._tempIndex),!b||b.editing&&b.listing||this._editButtonClicked(this._tempIndex,e),void this.$_gridCellClicked(Wx.getCell(c,y,l));w&&r.editController.requestPrepareEditor(!0)}else if(r.isValid(l)&&!Bp.ctrlKey(e)){var C=!Wv.areEquals(this._userActionIndex,r.focusedIndex);(C&&r.editOptions.editWhenFocused||!C&&r.editOptions.editWhenClickFocused)&&r.showEditor()}var x=y.renderer2;if(x&&(v||!x.clickOnlyFocusedCell))return n=Wx.getCell(c,y,u),this.$_performRendererClick(y,e,n)?void((!r.editOptions.exceptDataClickWhenButton||!x.itemClickable)&&this.$_gridCellClicked(n)):void this.$_gridCellClicked(Wx.getCell(c,y,u));Bp.isInteractive(e.target)&&Bp.stopEvent(e,!0)}break;case Bd.FOOTER:var I=r.getFooterView(s).tableCellByCell(s);this.$_gridCellClicked(Wx.getSummary(c,I.summaryIndex,I.layout));break;case Bd.SUMMARY:var E=r.getSummaryView(s).tableCellByCell(s);this.$_gridCellClicked(Wx.getSummary(c,E.summaryIndex,E.layout));break;case Bd.INLINE_FILTER:var O=r.getFilterView(s).tableCellByCell(s),S=e.target;S===O.operatorButton&&r.popupMenuManager.show(O.popupMenu,S,this._tempIndex.set(-1,O.layout,this.grid),!1);break;case Bd.SUM:this.$_gridCellClicked(Wx.getSub(c,r.sumView.getCellType(s)));break;case Bd.FILTER:this.$_gridCellClicked(Wx.getSub(c,r.filterView.getCellType(s)));break;case Bd.GROUP_FOOTER:var k=r.getBodyView(s).bodyCellByCell(s),P=k.item.footerIndex;this.$_gridCellClicked(Wx.getGroupFooter(c,k.item.index,k.layout,P));break;case Bd.GROUP_HEAD:case Bd.GROUP_FOOT:var R=s[Dd];this.$_gridCellClicked(Wx.getGroupElt(c,R));break;case Bd.GROUP_BAR:var T=s[Pd];d=this.grid.getRowOfItem(T),this.$_gridCellClicked(Wx.getItem(c,T,d))}}else if(o&&o===this._clickElement){var D=this._getClickData(o,e);D&&(D.cellType===Bd.GRID_EMPTY&&r.isEditing()&&r.commitEditor(!0),this.$_gridCellClicked(D))}}finally{if(Bp.isMobile()&&e.timeStamp!==this._clickTimeStamp){var M=r.mobileOptions.doubleTapInterval||500;this._clickTimeStamp&&this._clickTimeStamp+M>e.timeStamp&&this._clickElt===this._findTableCell(e.target)?a!==Bd.DATA||Wv.areEquals(this._clickIndex,u)?(this._clickTimeStamp=null,this._clickIndex=null,this._doDblClick(e)):this._clickTimeStamp=e.timeStamp:(this._clickTimeStamp=e.timeStamp,this._clickElt=this._findTableCell(e.target),a===Bd.DATA&&(this._clickIndex=u.clone()))}}}},t.prototype._getClickData=function(e,t){if(e instanceof oE||e instanceof Nw||e instanceof nC)return Wx.getData(Bd.GRID_EMPTY);if(2===t.button&&e instanceof DC){var i=Bd.SCROLL_BAR,n=e.scrollBar&&e.scrollBar.vertical;if(e instanceof FC)return Wx.assignData({cellType:i,subType:Bd.SCROLL_THUMB,vertical:n});if(e instanceof AC)return Wx.assignData({cellType:i,subType:Bd.SCROLL_BUTTON,vertical:n,far:e.far});if(e instanceof LC)return Wx.assignData({cellType:i,subType:Bd.SCROLL_TRACK,vertical:n});if(e instanceof MC)return Wx.assignData({cellType:i,subType:Bd.SCROLL_EDGE})}},t.prototype.$_commitRendererEdit=function(e,t,i){var n=t.item,r=t.dataField,o=t.dataColumn,s=!1;try{(s=e.editorCommit(t,n.getData(r),i))&&(e.undoable?e.execute(new kx(t.item,r,i,t.column)):n.setData(r,i),e.isItemEditing(t.item)&&e.validateCellCommit(t,i))}catch(g){if(!e.editOptions.showCommitError)throw g;alert(g.message||g)}if(s&&e.isCellEditing()){var a=e.itemSource,l=a.editingItem.invalidFields,u=e.validationManager.getError(t);if(u)return l.push(o.dataIndex),void(e.editOptions.showCommitError&&alert(u.userMessage||u.message||u));if(l.indexOf(o.dataIndex)>=0&&l.splice(l.indexOf(o.dataIndex),1),e.validationManager.clearInvalidCell(t),l.length>0)return;var c=e.canMergeEditing(e.getBodyCellAt(t,!0));if(a.commit(c)||a.cancel(),c){var h=o.layout.merges.getRoom(t),d={},p={};p[o.fieldName]=i;for(var f=h.head;f<=h.tail;f++){var _=e.getItem(f);_.isDataRow&&(d[_.dataRow]=p)}a.updateRows2(d)}}},t.prototype.$_performRendererClick=function(e,t,i){var n,r=e.renderer2,o=this.grid,s=o.layoutManager;if(r){if(e.merged)if(t.pointerType){var a=t.mouseY,l=this._findTableCell(),u=l&&o.getTableView(l);n=this.$_getIndexAt(o,s,u,l,a)}else n=o.focusedIndex.clone();else n=r.index;if(o.canWriteAt(n)&&r.canEdit()&&r.canEditClickAt(t)&&o.edit(n)){var c=r.editClick(n,t);if(c)return c.commit&&this.$_commitRendererEdit(o,n,c.value),!0}if(r.canClick(t)){var h=r.click(n,t);if(h)return Bp.extendObj(i,h),!1===o._fireCellItemClicked(n,h)&&r.preventDefaultClick(t),!0}return r.preventDefaultEditClick(t),!1}},t.prototype.$_performRendererKey=function(e,t){var i,n=e.renderer2,r=e.head;if(n)i=n.index;else{if(!r||!(n=r.renderer2))return;var o=e.rowIndex-r.rowIndex;(i=n.index.clone()).incRow(o)}var s=this.grid,a=s.canWriteAt(i)&&n.canEdit();if(Wv.areEquals(i,s.focusedIndex)){var l=Wx.getCell(s.getCellType(e.cell),e,i);if(a&&n.canEditKey(t)||n.canClickSpaceKey(t))return n.itemClick(t),!0;if(32===t.keyCode&&s.editOptions.buttonClickWhenSpace&&!Bp.specialKey(t))return e.button===Yd.ACTION||e.button===Yd.POPUP?(s.closePopups(),e.cellButton.click(),!0):(this.$_gridCellClicked(l),!0)}},t.prototype._doDblClick=function(e){var t=e.mouseX,i=e.mouseY,n=Bp.ctrlKey(e),r=e.shiftKey,o=e.altKey,s=this.grid,a=s.layoutManager,l=this.focused,u=this.findElementAt(t,i,!1),c=this._findTableCell();if(s.setEventFrom(null),c&&c==this._clickCell){var h=s.getCellType(c),d=void 0,p=void 0;switch(h){case Bd.HEAD:this.$_gridCellDblClicked(Wx.getSub(h,s.headView.getCellType(c)));break;case Bd.FOOT:this.$_gridCellDblClicked(Wx.getSub(h,s.footView.getCellType(c)));break;case Bd.INDICATOR:case Bd.STATE:case Bd.CHECK:d=s.rowBarContainer.rowOf(c),p=s.getRowOfItem(d),this.$_gridCellDblClicked(Wx.getItem(h,d,p));break;case Bd.HEADER:var f=s.getHeaderView(c),_=f.tableCellByCell(c);_&&_.isClickableElt(e.target)||((g=f.layoutByCell(c))instanceof Dv&&g.hideChildHeaders&&g.tiedColumn&&(g=g.tiedColumn.layout),this.$_gridCellDblClicked(Wx.getLayout(h,g)));var g,m=this._getEditRequest(this.mouseEventTarget,s.focusedIndex,t,i,n,r,o);m instanceof wx&&(g=m.layout).firstColumn&&s.fitLayoutWidth(g);break;case Bd.DATA:var y=s.getBodyView(c),v=y.bodyCellByCell(c),b=this.$_getIndexAt(s,a,y,c,i);if(Xw.isExpander(e.target))return;if(v.grouped)this.$_gridCellDblClicked(Wx.getItem(Bd.GROUP_HEADER,v.item.index,null));else if(this.$_gridCellDblClicked(Wx.getCell(h,v,l)),Wv.areEquals(b,l)){var w=s.editController.currentEditor();s.showEditor(b,void 0,Bp.isMobile()&&(null==w?void 0:w.hasList))}break;case Bd.FOOTER:var C=s.getFooterView(c).tableCellByCell(c);this.$_gridCellDblClicked(Wx.getSummary(h,C.summaryIndex,C.layout));break;case Bd.SUMMARY:var x=s.getSummaryView(c).tableCellByCell(c);this.$_gridCellDblClicked(Wx.getSummary(h,x.summaryIndex,x.layout));break;case Bd.SUM:this.$_gridCellDblClicked(Wx.getSub(h,s.sumView.getCellType(c)));break;case Bd.GROUP_FOOTER:var I=s.getBodyView(c).bodyCellByCell(c),E=I.item.footerIndex;this.$_gridCellDblClicked(Wx.getGroupFooter(h,I.item.index,I.layout,E));break;case Bd.GROUP_HEAD:case Bd.GROUP_FOOT:var O=c[Dd];this.$_gridCellDblClicked(Wx.getGroupElt(h,O));break;case Bd.GROUP_BAR:var S=c[Pd];p=s.getRowOfItem(S),this.$_gridCellDblClicked(Wx.getItem(h,S,p))}}else if(u&&u===this._clickElement){var k=this._getClickData(u,e);k&&this.$_gridCellDblClicked(k)}},t.prototype._doMouseWheel=function(e){var t=this.grid;t.setEventFrom(null),t.scrollOnEditing();var i=t.displayOptions;if(i.wheelEnabled&&(Bp.isMac||!e.ctrlKey)){if(!t._fireWheel(e))return!0;if((e.shiftKey||Math.abs(e.deltaX)>Math.abs(e.deltaY))&&0!==i.wheelScrollHorz){var n=t.leftPos,r=Math.abs(i.wheelScrollHorz||16)*((e.deltaX||e.deltaY)>0?1:-1);return t.leftPos=n+r,!0}var o=t.topIndex,s=Date.now(),a=Math.abs(i.wheelScrollLines);a=a||3;var l=t.displayOptions.wheelDeltaY;if(l>0){if(!(this._wheelDeltaY+Math.abs(e.deltaY)>=l))return this._wheelDeltaY+=Math.abs(e.deltaY),!0;this._wheelDeltaY=0}if(i.wheelAccelDelay>0)if(s>this._prevScroll+300)this._checkScroll=s;else if(this._checkScroll+i.wheelAccelDelay<s){var u=i.wheelAccelScroll;if(u&&!isNaN(u))a=parseInt(u);else if("string"==typeof u){var c=u.trim();if(c.indexOf("%")>0){var h=t.itemCount;a=parseInt(c.substr(0,c.length-1))/100*h}}}return this._prevScroll=s,t.topIndex=t.topIndex+(e.deltaY>0?a:-a),!i.wheelEventPropagate||o!=t.topIndex}return!1},t.prototype._doMouseEnter=function(e){},t.prototype._doMouseLeave=function(e){var t=e.mouseX,i=e.mouseY;this._hideTooltip(),this.$_setHoveredHeaderCell(null,t,i),this.$_setHoveredCell(null,t,i)},t.prototype._doMouseOver=function(e){},t.prototype._doContextMenu=function(e){var t=this.grid,i=this._findTableCell(),n=t.getCellType(i);return Bp.isMobile()&&t.displayOptions.rightClickable&&n===Bd.DATA&&!Wv.areEquals(this._tempIndex,t.focusedIndex)&&this.setFocused(this._tempIndex,!0,!0),t.doContextMenu(e)},t.prototype.$_doHome=function(e,t,i){var n=e.clone();if(e.first(),i&&this._checkReadOnly(e)&&!this._skipReadOnlyCell(e,1,n))return e.assign(t),!0},t.prototype.$_doEnd=function(e,t,i){var n=e.clone();if(e.last(),i&&this._checkReadOnly(e)&&!this._skipReadOnlyCell(e,-1,n))return e.assign(t),!0},t.prototype._doKeyDown=function(t){var i,n=t.keyCode,r=Bp.isMac,o=Bp.ctrlKey(t),s=t.shiftKey,a=t.altKey,l=this.grid,u=l.editOptions,c=l.layoutManager,h=l.popupMenuManager,d=u.skipReadOnly,p=u.skipReadOnlyCell,f=l.focusedIndex,_=f.clone(),g=u.verticalMoveStep;if(t.repeat||(this._userActionIndex=null),!l._fireKeyDown(t))return!0;if(!l.isEditing()&&l.accessibility&&Bp.included(n,36,35,40,34,38,33,32,37,39)&&Bp.stopEvent(t),h.isShow()&&Bp.included(n,37,39,38,40,13,32)){var m=l.getBodyCellAt(f);return h.keyDown(t,m&&m.cell),!0}if(l.setEventFrom("keydown"),f&&!l.isEditing()&&(m=l.getBodyCellAt(f))&&this.$_performRendererKey(m,t))return!0;if(!l.isEditing()&&l.accessibility&&(67===n||86===n)&&o)return l.editController.setFocus(!0),!1;if(27==n)l.closePopups(),this._doCancel(l);else{if(13==n)return this._doEnter(l,u,_,t);if(9==n)return this._doTab(l,u,_,t);if(113==n)!l.isEditing()&&_.dataColumn&&(l.accessibility&&l.$_setEditFocused(!0,null),l.showEditor(_,s));else{if(Bp.isMac&&o&&s&&90===n)return l.redo();if(90==n&&o)return l.undo();if(89==n&&o)return l.redo();if(45==n)u.appendWhenInsertKey||0==l.itemCount?l.append():l.insert(_.item,s,o);else{if(46==n)return o&&s?(l.revertSelection(),!0):o?(l.deleteSelection(),!0):!!s&&(l.eraseSelection(!1,!1),!0);if(a&&s&&40==n)l.moveSelection(1,"keydown");else if(a&&s&&38==n)l.moveSelection(-1,"keydown");else if(32==n&&s&&o&&l.rowBarContainer.rowIndicator.visible&&l.editOptions.checkable){var y=l.selections.getItem(0),v=y&&(Lb(y)||Bp.included(y.style,cb.BLOCK,cb.GROUP))&&y.getItems(l.checkBar.merged||l.checkBar.fieldIndex>=0);v||l.checkBar.merged?(v=v||[_.item],l.toggleChecks(v,_.item)):l.toggleCheck(_.itemIndex),r&&t.preventDefault()}else if(l.editOptions.useArrowKeys&&Bp.included(n,36,35,39,37,40,38,34,33)){Bp.isMobile()&&t&&t.preventDefault&&t.preventDefault();var b=l.itemCount;if(40==n&&0==b)return l.append(),!0;if(!l.isValid(_))return _.normalize(l),this.setFocused(_,!0,!0),!0;if((Bp.included(n,40,34)||35==n&&o)&&_.isBottom&&this.$_checkAppending(_))return!0;if((Bp.included(n,38,33)||36==n&&o)&&_.isTop&&this.$_checkAppending(_,!0))return!0;var w=l.getBodyViewAt(_);if(!w)return!0;switch(n){case 36:if(o){if(t.preventDefault(),this.$_doHome(_,f,d))break}else _.home(),this._skipReadOnly(_,1);break;case 35:if(o){if(this.$_doEnd(_,f,d))break}else _.end(),this._skipReadOnly(_,-1);break;case 39:if(w.spanRight(c,_),_.right(),d&&this._checkReadOnly(_)&&!this._skipReadOnly(_,1)){_.assign(f);break}break;case 37:if(_.left(),d&&this._checkReadOnly(_)&&!this._skipReadOnly(_,-1)){_.assign(f);break}break;case 38:if(r&&o){this.$_doHome(_,f,d);break}try{if(0==_.itemIndex&&_.isTop){if(this.$_commitCancel(_.item,u))return!0;l.filterPanel.visible?l.inlineFilterFocus(_.layout):_.up(g)}else{if(o)return void l.topIndex--;_.up(g,l.isItemEditing(_.item))}}finally{p&&this._checkReadOnly(_)&&(this._skipReadOnlyCell(_,-1)||_.assign(f))}break;case 33:if(i=_.clone(),_.incRow(-c.fullItemCount),d&&this._checkReadOnly(_)&&!this._skipReadOnlyCell(_,1,i)){_.assign(f);break}break;case 40:if(r&&o){this.$_doEnd(_,f,d);break}try{if(_.itemIndex!=b-1||!_.isBottom&&g!=kv.ROW){if(o)return l.topIndex++,!0;_.down(g,l.isItemEditing(_.item))}else{if(_.isBottom&&this._commitCancel(_.item,u))return!0;l.append(),_.down(g,l.isItemEditing(_.item))}}finally{p&&this._checkReadOnly(_)&&(this._skipReadOnlyCell(_,1)||_.assign(f))}break;case 34:if(_.itemIndex==l.itemCount-1&&_.isBottom&&Zg(_.item.itemState))return l.commit(u.forceAppend),!0;if(i=_.clone(),_.incRow(c.fullItemCount),d&&this._checkReadOnly(_)&&!this._skipReadOnlyCell(_,-1,i)){_.assign(f);break}}return w.spanHead(c,_),s&&l.selections.count>0&&!Mb(l.displayOptions.selectionStyle)?(this.setFocused(_,!1,!1),l.selections.lastItem().resizeTo(_)):this.setFocused(_,!0,!0,t),!0}}}}return e.prototype._doKeyDown.call(this,t)},t.prototype._doKeyPress=function(e){this.grid._fireKeyPress(e)},t.prototype._doKeyUp=function(e){var t=this.grid;this._userActionIndex&&!Wv.areEquals(this._userActionIndex,t.focusedIndex)&&t.isValid(t.focusedIndex)&&t.editOptions.editWhenFocused&&t.showEditor(t.focusedIndex,!1,!1),this._userActionIndex=null,this.grid._fireKeyUp(e)},t.prototype._doCopyEvent=function(e){var t=this.grid;t&&!t.isEditing()&&t.copyToClipboard(e,null)},t.prototype._doPasteEvent=function(e){this.grid&&this.grid.fromClipboard(e)},t.prototype._editButtonClicked=function(t,i){this.grid.makeCellVisible(t),this.grid.showEditor(t,!1,!0)&&this.grid.editorButtonClicked(t,i),e.prototype._editButtonClicked.call(this,t,i)},t.prototype._getSelectRequest=function(e,t,i,n,r,o){var s=this.grid,a=s.displayOptions,l=a.selectionMode,u=a.selectionStyle,c=this._findTableCell(e);if(!c)return null;var h=a.selectAndImmediateDrag||a.altSelectAndImmediateDrag&&o;if(!h&&(l==ub.NONE||u==cb.NONE))return null;var d=s.getCellType(c);if(d==Bd.INDICATOR){if(s.rowIndicator.selectable&&(h||!Mb(u)))return new bx(s.getIndex(s.rowBarContainer.getCellIndex(c)),cb.ROWS)}else if(d==Bd.HEADER){if(n&&s.rowIndicator.selectable){var p=s.layoutByDataCell(c);if(!Mb(u))return new bx(s.getIndex(-1,p),cb.COLUMNS)}}else if(d==Bd.DATA){var f=s.getDataCellIndex(c,this._tempIndex);if(n&&s.selections.containsCell(f))return null;if((h||!Mb(u))&&!Bp.isMobile())return new bx(f.clone(),u)}return null},t.prototype._getEditRequest=function(e,t,i,n,r,o,s){var a=Np(this.grid.doc),l=this.grid,u=l.layoutManager,c=l.displayOptions,h=this._findTableCell(e);if(!h)return null;var d=l.getTableView(h),p=!Bp.isInteractive(e)&&this.$_getRowResizeRequest(d,h,i,n,r,o,s);if(p)return p;if(d instanceof Lx&&d.isRowIndicator(h)){Bp.isIE&&(s=s||r);var f=!(S=l.getSelection())||!Bp.included(S.style,cb.COLUMNS,cb.SINGLE_COLUMN);if(f=f&&!Bp.included(l.dataDropOptions.feedbackStyle,hw.CELL,hw.GROUP),(s||l.rowIndicator.draggableSelectedRows&&f)&&l.canMoveRow(!1,!1)){var _=l.rowBarContainer.rowOf(h),g=!1;if(S?g=S.containsItem(_):_==t.itemIndex&&(g=!0),g)return this._rowMoveReq.init(S,_)}}else if(d instanceof aC){if(e instanceof a.HTMLInputElement)return null;if(!r){var m=d.layoutByCell(h);if(m){var y=l.cellToContainer(h,this._reqPoint.setEmpty());if(c.columnResizable){var v=l.headerView.tableCellByLayout2(u,m),b=l.activeCellLayout,w=l.displayOptions.columnResizeThreshold,C=y.x+(v?v.width:m.domWidth),x=void 0,I=void 0;if(y.x+w>=i&&!m.$_rfixed?(x=b.getHeaderLeftOf(m),I=i-y.x):C-w<=i&&(x=m,I=i-C),x&&x._isResizable()&&(!x.isFixed||l.fixedOptions.resizable))return this._colResizeReq.init(x,i,n,I)}if(c.columnMovable&&m._isMovable()&&(!m.isRoot||l.canMoveLayout(m)))return this._colMoveReq.init(m,i,n,-1)}}}else if(d instanceof nC){var E=l.getDataCellIndex(h,this._tempIndex);if(_=E&&E.itemIndex,l.canMoveRow(!1,!1)&&_>=0){var O=!1,S=l.getSelection();if((v=l.getBodyCellAt(E,!0)).expander===e)return null;if(Bp.isIE&&(s=s||r),S?!(O=S.containsItem(_))||s&&!l.displayOptions.altSelectAndImmediateDrag||(O=l.editOptions.movableWhenFocusedOnly?Wv.areEquals(t,E):S.containsLayout(E.layout)&&(s||this._canMoveRowAt(d,E,i))):t&&_==t.itemIndex&&(O=!!s||!Bp.isMobile()&&Wv.areEquals(E,t)&&this._canMoveRowAt(d,E,i)),O)return this._rowMoveReq.init(S,_)}}else if(d instanceof qC){var k=d.boundsByContainer();if(l.header.resizable&&n<=k.bottom+1&&n>=k.bottom-2)return this._headerResizeReq.init(k.top,n-k.bottom-1)}},t.prototype.$_resizeSelection=function(e,t,i){var n=this.grid.selections,r=e?e.runStyle:i;if(!Mb(r)&&Bp.included(i,cb.ROWS,cb.COLUMNS,cb.SINGLE_COLUMN)&&(r=i),e){if(e.runStyle!=r){this.grid.selections.clear(!0);var o=e.getBounds();e=n.add(o.firstCell,o.lastCell,r,!0)}n.canResize(e)&&e.resizeTo(t)}else e=n.add(t,t,r,!0)},t.prototype._canMoveRowAt=function(e,t,i){return!!Bp.isMobile()||i<e.boundsByContainer(e.getCellRectAt(this.grid.layoutManager,t,!1)).x+20},t.prototype.$_getRowResizeRequest=function(e,t,i,n,r,o,s){var a=-1,l=this.grid;if(e instanceof Lx?a=t.parentElement.$_row:e instanceof nC&&(l.rowBarContainer.isVisible()||e.rightFixed||(l.fixedOptions.colCount>0&&e.fixed||0===l.fixedOptions.colCount)&&0===t.cellIndex&&(a=t.parentElement.$_row)),a<0)return null;var u=l.layoutManager,c=l.displayOptions,h=c.eachRowResizable&&!r,d=u.fixedItemCount,p=u.contentBounds.y,f=e.boundsByContainer(this._tempRect.setWidth(e.width));if(f.width<=0||i<f.x||i>=f.right)return null;if(a<d){if(l.fixedOptions.rowResizable&&(!c.dataHeights||c.dataHeights.length<=0)&&((f=u.getItemRect(a)).y+=p,n<=f.bottom+2&&n>=f.bottom-3))return this._rowResizeReq.init(a,h,f.y,n-f.bottom-1)}else if(c.rowResizable&&(!c.dataHeights||c.dataHeights.length<=0))for(var _=u.itemCount,g=l.topIndex,m=0;m<_;m++){var y=m+g+d;if(y==a&&((f=u.getItemRect(m+d)).y+=p,n<=f.bottom+2&&n>=f.bottom-3))return this._rowResizeReq.init(y,h,f.y,n-f.bottom-1)}return null},t.prototype._getDragTracker=function(e,t,i){if(e instanceof bx)switch(e.style){case cb.ROWS:case cb.SINGLE_ROW:return new kC(e,t,i);case cb.COLUMNS:return new PC(e,t,i);case cb.BLOCK:case cb.GROUP:case cb.NONE:return new SC(e,t,i)}else{if(e instanceof wx)return new wC(e,this._cellResizer);if(e instanceof Cx)return new CC(e,this._cellFeedback,this._cellMover);if(e instanceof xx)return new xC(e,this._cellResizer);if(e instanceof Ex)return new EC(e,this._rowMoverProxy,this._rowMoverLine);if(e instanceof Ix)return new IC(e,this._cellResizer);if(Bp.isMobile()){if(e instanceof Fx)return this._touchScrollTracker.request=e,this._touchScrollTracker;if(e instanceof $x)return this._touchSelectTracker.request=e,this._touchSelectTracker}}return null},t.prototype.$_checkCellClicked2=function(e,t){if(e!==t.target&&e.firstElementChild!==t.target){var i=Fp(e),n=this.grid,r=n.checkBar,o=n.rowBarContainer.getCheckBox(e);if(n.editOptions.checkable){var s=n.getEditItem(),a=n.getItem(e.parentElement[Pd]),l=!0;if(s&&s.dataRow!==a.dataRow){var u=n.editOptions;try{switch(s.itemState){case Mg.APPENDING:l=n.commit(u.forceAppend);break;case Mg.INSERTING:l=n.commit(u.forceInsert);break;case Mg.UPDATING:l=n.commit(u.commitWhenNoEdit)}}catch(h){throw t.preventDefault(),h}}if(!1===l)return void t.preventDefault();if(a.checkable){var c=o.checked;r.exclusive?c=!r.toggleRadio||!a.checked:t.target instanceof i.HTMLSpanElement&&(c=!o.checked),o.checked=c}this._doCheck(o,a,t.shiftKey)}else t.preventDefault()}},t.prototype._doCheck=function(e,t,i){var n=this.grid,r=n.checkBar,o=n.rowBarContainer.checkBar;if(n.editOptions.checkable){var s=n.checkBar;if(t.checkable&&(s.showGroup||t.dataRow>=0)&&e){var a=o._prevChecked,l=void 0,u=void 0,c=[],h=-1,d=-1,p=void 0;if(i&&a>=0&&!r.exclusive||s.merged){i&&a>=0?(l=Wv.temp(n,a,null),u=n.getItem(a).checked,s.merged?(h=(p=s.merges.getRoom(l))?p.head:a,d=p?p.tail:a):(h=a,d=t.index)):(u=e.checked,h=d=t.index,o.$_setPrevChecked(t.index),r.exclusive&&n.itemSource._clearChecked()),s.merged?(l=Wv.temp(n,t.index,null),p=s.merges.getRoom(l),h=Math.min(p?p.head:t.index,h),d=Math.max(p?p.tail:t.index,d)):(h=Math.min(h,t.index),d=Math.max(h,d));for(var f=h;f<=d;f++){var _=n.getItem(f);_.checkable&&_.dataRow>=0&&c.push(_)}c.length>0&&n.itemSource.checkItems(c,u,!0)}else if(n.itemSource.checkItem(t,e.checked,s.exclusive,!0),o.$_setPrevChecked(t.index),s.focusMove){var g=n.focusedIndex.clone();g.itemIndex=t.index,!n.isValid(g)&&null==g.column&&g.item.isDataRow&&(g.layout=n.getFirstLayout()),this.setFocused(g,!0,!0)}}}},t.prototype._checkAllClicked=function(){var e=this.grid;if(!e.empty&&e.editOptions.checkable){var t=e.checkBar,i=e.headView;t.showAll&&!t.exclusive&&(i.allChecked=!i.allChecked,i.indeterminate=!1,e.itemSource.checkAll(i.allChecked,t.visibleOnly,t.checkableOnly,!0,t.showGroup&&!t.merged&&t.fieldIndex<0))}},t.prototype._doColumnHeaderClicked=function(e,t){var i=2==e.button,n=Bp.ctrlKey(e),r=e.target;if(!i){var o=void 0;t instanceof Sv?o=t.getDataColumn():t instanceof Dv&&t.hideChildHeaders&&t.tiedColumn&&(o=t.tiedColumn);var s=this.grid,a=s.getHeaderView(this._clickCell).tableCellByCell(this._clickCell);if(o)if(r===a.check||r===a.checkSpan)a.check.checked=o.checked=!o.checked,s._columnCheckedChanged(o);else if(r===a.filter&&o.hasFilters)s.selectColumnFilters(a);else{if(r!==a.popup)return!(!Bp.isClickableTemplate(a.cell,r)&&o.sortable&&s.sortingOptions.enabled&&!n&&(s.sortColumn(o,e),0));var l=o.header.popupMenuName,u=s.getCellViewOf(a.cell);l&&u&&s.popupMenuManager.show(l,u,null,!0)}else if(t instanceof Dv){if(r!==a.expander||!t.expandable)return!0;t.expanded=!t.expanded}}},t.prototype.$_gridCellClicked=function(e){this.grid._fireCellClicked(e)},t.prototype.$_gridCellDblClicked=function(e){this.grid._fireCellDblClicked(e)},t.prototype.$_setHoveredCell=function(e,t,i){var n=this.grid,r=this._findTableCell();if(e&&r){var o=n.getTableView(r),s=this.$_getIndexAt(n,n.layoutManager,o,r,i);if(e!==this._tooltipCell||!Wv.areEquals(this._tooltipIndex,s)){this._hideTooltip(),this._tooltipShowTimer&&clearTimeout(this._tooltipShowTimer);var a=n.displayOptions.hintDelay;if(e)if(a>0){var l=this;this._tooltipShowTimer=setTimeout(function(){l.$_showTooltip2(e,s)}.bind(l),a)}else this.$_showTooltip2(e,s)}}},t.prototype._hideTooltip=function(){this.grid.tooltipManager.close(),this._tooltipCell=null,this._tooltipIndex.reset()},t.prototype.$_showTooltip2=function(e,t){var i=this.grid,n=i.validationManager.getError(t);if(i.editOptions.hintOnError&&n)this.$_showTooltip(e,t,{message:n.message});else{var r=e.renderer2,o=i.getCellType(e.cell),s=t.item,a=this._findTableCell();if(!a)return;var l=a.firstElementChild,u=l.clientWidth<l.scrollWidth||l.clientHeight<l.scrollHeight,c=i.displayOptions,h=s&&o===Bd.DATA&&(!Bp.isMobile()||i.mobileOptions.showTooltip);if(s instanceof ty?h=h&&t.dataColumn&&t.dataColumn.groupLevel>0&&s.groupLevel+1>=t.dataColumn.groupLevel:s instanceof ey&&(h=h&&t.dataColumn&&s.level>t.dataColumn.groupLevel),(h=h&&!!r)&&(h=c.showTooltip?!1!==r.showTooltip:r.showTooltip),h&&(c.tooltipEllipsisOnly&&!1!==r.tooltipEllipsisOnly||!0===r.tooltipEllipsisOnly)&&(h=u),h&&!Wv.areEquals(t,this._tooltipIndex)){var d=r.getTooltip(e,t);if(d||c.showEmptyTooltip){var p=i._fireShowTooltip(t,d);p&&("boolean"==typeof p?p={message:d}:"string"==typeof p&&(p={message:p}),this.$_showTooltip(e,t,p))}}}},t.prototype.$_showTooltip=function(e,t,i){var n=this.grid,r=n.tooltipManager,o=n.layoutManager;if(!r.visible||this._tooltipCell!=e){this._hideTooltip();var s=n.getBodyView(e.cell),a=s.getCellRectAt(o,t,!1);a=s.boundsByContainer(a);var l=e.layout.isFixed?a.x:Math.max(a.x,o.nonFixedBounds.x),u=a.y+a.height;r.show(i,l,u,a.height,!1),this._tooltipCell=e,this._tooltipIndex.assign(t)}},t.prototype.$_showStateError=function(e,t){var i=this.grid,n=i.tooltipManager,r=i.layoutManager;if(e!==this._tooltipCell){this._hideTooltip();var o=i.focusedIndex.itemIndex,s=i.rowBarContainer.boundsByContainer(),a=r.getItemBounds(o<r.fixedItemCount?o:o-r.topIndex);n.show({message:t},s.x,s.y+a.bottom,a.height,!0),this._tooltipCell=e,this._tooltipIndex.assign(null)}},t.prototype.$_setHoveredHeaderCell=function(e,t,i){if(e!=this._tooltipCell){this._hideTooltip(),this._tooltipShowTimer&&clearTimeout(this._tooltipShowTimer);var n=this.grid.displayOptions.hintDelay;if(n>0){var r=this;this._tooltipShowTimer=setTimeout(function(){r.$_showHeaderTooltip2(e)}.bind(r),n)}else this.$_showHeaderTooltip2(e)}},t.prototype.$_showHeaderTooltip2=function(e){var t=this.grid,i=t.header.showTooltip,n=t.header.tooltipEllipsisOnly,r=this._findTableCell();if(r){var o=r.firstElementChild,s=o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight;if(!1!==i&&this._tooltipCell!=e){var a=e&&e.showTooltip;if(void 0===i?a:!1!==a){var l=e.tooltip||e.text,u=!0;if((n&&!1!==e.tooltipEllipsisOnly||!0===e.tooltipEllipsisOnly)&&(u=s),u&&l){var c=t._fireShowHeaderTooltip(e.layout.firstColumn,l,e.layout);c&&("boolean"==typeof c?c={message:l}:"string"==typeof c&&(c={message:c}),this.$_showHeaderTooltip(e,c))}}}}},t.prototype.$_showHeaderTooltip=function(e,t){var i=this.grid,n=i.tooltipManager,r=i.layoutManager;if(!n.visible||this._tooltipCell!=e){this._hideTooltip();var o=r.getHeaderCellRect(e.layout,!1),s=e.layout.isFixed?o.x:Math.max(o.x,r.nonFixedBounds.x),a=o.y+o.height;n.show(t,s,a,0,!0),this._tooltipCell=e}},t.prototype.$_cellButtonClicked=function(e){var t=this.grid,i=e.layout.firstColumn;if(i){var n=e.getEditIndex(this._tempIndex);switch(e.button){case Yd.POPUP:var r=i.popupMenuName,o=t.getCellViewOf(e.cell);r&&o&&t.popupMenuManager.show(r,o,n,!0);break;case Yd.ACTION:t._doCellButtonClicked(n)}}},t.prototype.$_commitCancel=function(e,t){var i=this.grid;try{switch(e.itemState){case Mg.INSERTING:return i.commit(t.forceInsert)||i.cancel(!0),!0;case Mg.APPENDING:return i.commit(t.forceAppend)||i.cancel(!0),!0;case Mg.UPDATING:return i.commit(t.commitWhenNoEdit)||i.cancel(!0),!0}}catch(n){if(n instanceof Wy)return(n=i._fireValidationFail(e.index,n.column,n))&&alert(t.showOnlyValidationMessage&&n.userMessage?n.userMessage:n.toString()),!1;if(n instanceof Uy)return!1;throw n}return!1},t.prototype.$_checkAppending=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=null);var n=this.grid;if(e.itemIndex==n.itemCount-1&&Zg(e.item.itemState)){var r=e.itemIndex;if(!i||i.itemIndex!=r){try{n.commit(n.editOptions.forceAppend,!0)?((e=e.clone()).itemIndex=r,n.isValid(e)||(e.itemIndex=n.getItemIndexOfRow(n.dataSource.rowCount-1)),this.setFocused(e,!0,!0)):t&&(n.cancel(!0),i&&this.setFocused(i,!0,!0))}catch(o){if(o instanceof Wy)return(o=n._fireValidationFail(r,o.column,o))&&alert(n.editOptions.showOnlyValidationMessage&&o.userMessage?o.userMessage:o.toString()),!0;if(o instanceof Uy)return!0;throw o}return!0}}return!1},t.prototype._getTouchRequest=function(e){var t=this.grid,i=t.selectionLayer;if(i instanceof Hx){var n=i.getSelectHandle(e.target);if(n)return this._touchSelectRequest.handle=n,this._touchSelectRequest}if(e.target instanceof HTMLInputElement)return null;var r=t.getCellViewOf(e.target),o=t.getCellType(r);if(!r){var s=this.findElementAt(e.mouseX,e.mouseY,!1),a=this._getClickData(s,e);o=a&&a.cellType}switch(o){case Bd.DATA:var l=t.getBodyCellbyCell(e.target);if(l&&l.isEditButton(e.target))return;return this._touchScrollRequest;case Bd.GRID_EMPTY:case Bd.FOOTER:case Bd.SUMMARY:case Bd.GROUP_FOOTER:case Bd.GROUP_HEADER:case Bd.INDICATOR:case Bd.STATE:case Bd.CHECK:return this._touchScrollRequest}},t.prototype._doTouchMove=function(e){var t,i=this.grid.mobileOptions,n=this.dragTracker,r=!!n;return n instanceof jx&&(r=n._scrolling||void 0===n._scrolling),Bp.isMobile()&&Bp.isiOS&&(t=e.touches&&e.touches[0].touchType),"stylus"===t?(n&&n._scrolling||this._swipeTimer||!i.scrollPropagate||!e.cancelable)&&e.preventDefault():(r||this._swipeTimer||!i.scrollPropagate)&&e.cancelable&&e.preventDefault(),n&&void 0===n._scrolling||(this._longPressed=!1,this._longTimer=this._longTimer&&clearTimeout(this._longTimer)),this._touchEvents.push({x:e.mouseX,y:e.mouseY,t:e.timeStamp}),!1},t.prototype._checkSwipe=function(e){if(this.dragTracker instanceof jx){var t=this.grid,i=this._clickCell&&t.getTableView(this._clickCell);if(!((i=i||this.findElementAt(e.mouseX,e.mouseY,!1))instanceof dC||i instanceof Nw||i instanceof nC)){var n=this._getClickData(i,e);if(n&&n.cellType!==Bd.GROUP_HEADER)return}var r=this._touchEvents,o=r.length;if(!(o<2)){for(var s=r[o-1],a=r[o-2],l=o-3;l>=0&&!(s.t-a.t>100);l--)a=r[l];var u=a.x,c=a.y,h=s.x,d=s.y,p=Math.sqrt(Math.pow(u-h,2)+Math.pow(c-d,2))/Math.max(16,s.t-a.t),f=.998;if(p>.1){var _=Math.log(.1/p)/Math.log(f),g=p*(1-Math.pow(f,_+1))/(1-f),m="right",y=Math.round(180*Math.atan2(d-c,h-u)/Math.PI);if(y<0&&(y=360+y),y>45&&y<=135?m="bottom":y>135&&y<=225?m="left":y>225&&y<=315&&(m="top"),i instanceof dC&&Bp.included(m,"bottom","top"))return;return this.onSwipeHandler(_,g,m,e)}}}},t.prototype.onSwipeHandler=function(e,t,i,n){this._touchMoving=!0,this._swipeDuration=e,this._swipeStarted=Bp.getTimer(),this._swipeAmount=0;var r=1;switch(i){case"right":r=-1;case"left":this._swipeDistance=r*t/20,this._swipeTimer=setInterval(this.$_scrollLeftPos.bind(this),50);break;case"bottom":r=-1;case"top":this._swipeDistance=r*t/20,this._swipeTimer=setInterval(this.$_scrollRow.bind(this),50)}return!0},t.prototype.$_checkTopBottom=function(e){var t=this.grid,i=t.layoutManager;return 0===t.topIndex&&e<0||t.topIndex+i.fullItemCount>=t.itemCount&&e>0},t.prototype.$_scrollRow=function(){var e=Bp.getTimer();if(Math.abs(this._scrollY-window.scrollY)>10)this._touchMoving=this._swipeTimer=clearInterval(this._swipeTimer);else if(e-this._swipeStarted<this._swipeDuration){var t=Math.floor(50*(this._swipeDistance-this._swipeAmount)/this._swipeDuration);this._swipeAmount-=t,this.grid.topIndex+=t,this.$_checkTopBottom(t)&&(this._swipeTimer=clearInterval(this._swipeTimer))}else this._swipeTimer=clearInterval(this._swipeTimer)},t.prototype.$_scrollLeftPos=function(){Bp.getTimer()-this._swipeStarted<this._swipeDuration?this.grid.leftPos+=Math.floor(this._swipeDistance):this._touchMoving=this._swipeTimer=clearInterval(this._swipeTimer)},t}(tI),oI=function(e){function t(){var t=e.call(this)||this;return t._valueSeparator="/",t}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"separator",{get:function(){return this._valueSeparator},set:function(e){this._valueSeparator=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueSeparator",{get:function(){return this._valueSeparator},set:function(e){this._valueSeparator=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"separatorStyle",{get:function(){return this._separatorStyle||t.SEPARATOR_STYLE},set:function(e){this._separatorStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetStyle",{get:function(){return this._targetStyle||t.TARGET_STYLE},set:function(e){this._targetStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualStyle",{get:function(){return this._actualStyle||t.ACTUAL_STYLE},set:function(e){this._actualStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){this._template=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){var t=$p(e);this._templateDiv=t.createElement("div");var i=this._templateDiv.style;i.width=i.height="100%",i.position="relative",this._targetSpan=t.createElement("span"),this._actualSpan=t.createElement("span"),(this._separatorSpan=t.createElement("span"))[Bp.TextProp]=Bp.htmlEncode(this._valueSeparator||this.index.valueColumn.valueSeparator),e.appendChild(this._actualSpan),e.appendChild(this._separatorSpan),e.appendChild(this._targetSpan),e.appendChild(this._templateDiv)},t.prototype._doRenderCell=function(e,t,i,n,r){var o=t.value;this._targetSpan.className=this.targetStyle,this._separatorSpan.className=this.separatorStyle,this._actualSpan.className=this.actualStyle,this._templateDiv.style.display="none";var s=null==o[0]?"":String(o[0]),a=null==o[1]?"":String(o[1]),l="";if(this._template){var u=this._template;u.indexOf("${target}")>0&&u.indexOf("${actual")>0&&(l="none",u=u.replace("${target}",s).replace("${actual}",a),this._templateDiv.style.display="",this._templateDiv.innerHTML=u)}this._targetSpan.style.display=this._separatorSpan.style.display=this._actualSpan.style.display=l,o.length?(this._targetSpan[Bp.TextProp]=s,this._actualSpan[Bp.TextProp]=a):(this._targetSpan[Bp.TextProp]="",this._actualSpan[Bp.TextProp]="")},t.prototype._makeText=function(e,t){var i=this._valueSeparator||this.index.seriesColumn.valueSeparator;return t.getDisplayText(e,i)},t.TYPE="actualtargettext",t.TARGET_STYLE="rg-actualtarget-target",t.ACTUAL_STYLE="rg-actualtarget-actual",t.SEPARATOR_STYLE="rg-actualtarget-separator",t}(sy),sI=function(e){function t(){var t=e.call(this)||this;return t._minValue=0,t._maxValue=100,t.$_render=function(e,i,n,r){var o=t._values;if(o&&!(o.length<2)){var s=o[0],a=o[1];if(null!=s&&null!=a){i.sbounds(t.backgroundStyle,"0%","10%","100%","80%");var l="1px";t.strokeWidth>0&&(l="".concat(t.strokeWidth,"px"));var u="40%",c="30%";if(t.actualHeight){var h=t.actualHeight,d=parseFloat(h);h.indexOf("%")>=0?(c="".concat((100-d)/2,"%"),u="".concat(d,"%")):(c="".concat((.9*r-d)/2,"px"),u="".concat(d,"px"))}var p=t.getValueRate(a);i.sbounds(t.actualStyle,l,c,"".concat(p,"%"),u);var f=t.targetWidth||3,_=t.getValueRate(s)*((n-f)/n);i.sbounds(t.targetStyle,"".concat(_,"%"),"10%","".concat(f,"px"),"80%")}}},t}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doInitOptions=function(){this._actualStyle=t.ACTUAL_STYLE,this._targetStyle=t.TARGET_STYLE,this._backgroundStyle=t.BASE_STYLE,this._minValue=0,this._maxValue=100,this._strokeWidth=this._targetWidth=this._actualHeight=void 0},Object.defineProperty(t.prototype,"backgroundStyle",{get:function(){return this._backgroundStyle||t.BASE_STYLE},set:function(e){this._backgroundStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetStyle",{get:function(){return this._targetStyle||t.TARGET_STYLE},set:function(e){this._targetStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualStyle",{get:function(){return this._actualStyle||t.ACTUAL_STYLE},set:function(e){this._actualStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this._maxValue},set:function(e){this._maxValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minValue",{get:function(){return this._minValue},set:function(e){this._minValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetWidth",{get:function(){return this._targetWidth},set:function(e){this._targetWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualHeight",{get:function(){return this._actualHeight},set:function(e){"number"==typeof e?this._actualHeight=e+"px":e.indexOf("%")>0||e.indexOf("px")>0?this._actualHeight=e:this._actualHeight="".concat(e,"%")},enumerable:!1,configurable:!0}),t.prototype.getValueRate=function(e){e=parseFloat(e);var t=Math.floor((e-this._minValue)/(this._maxValue-this._minValue)*1e4)/100;return Math.min(t,100)},Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return t.STYLE_NAME},enumerable:!1,configurable:!0}),t.prototype._doInitContent=function(e){var t=$p(e),i=e.style,n=this._div=t.createElement("div");(i=n.style).position="relative",i.height="100%",e.appendChild(n),(i=(this._svg=Gm.createSVG(n)).style).position="absolute",i.left=i.top="0px",i.width=i.height="100%"},t.prototype._doRenderCell=function(e,t,i,n,r){var o=this._svg;this._values=t.value||[],Gm.renderSVG2(e,o,this.$_render,n,r)},t.prototype._makeText=function(e,t){return t.getDisplayText(e,this.index.seriesColumn.valueSeparator)},t.TYPE="actualtargetbullet",t.STYLE="rg-bullet-renderer",t.BASE_STYLE="rg-bullet-background",t.TARGET_STYLE="rg-bullet-target",t.ACTUAL_STYLE="rg-bullet-actual",t.STYLE_NAME="rg-renderer "+t.STYLE,t}(sy),aI=function(e){function t(t){var i=e.call(this)||this;return i._cellEditors={},i._customRenderers={},i._grid=t,i}return gd(t,e),t.registryCustomRenderer=function(e,i,n){e&&i&&(t.$_customRenderers[e]&&!n||(t.$_customRenderers[e]=i))},t.prototype._doDispose=function(){this._grid=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editors",{get:function(){return this._cellEditors},enumerable:!1,configurable:!0}),t.prototype.getDefaultCellEditor=function(){if(!this._defaultEditor){var e=this._grid.container._container;this._defaultEditor=new Kb(this._grid,e),this._cellEditors.line=this._defaultEditor,this._defaultEditor.setController(this._grid.editController)}return this._defaultEditor},t.prototype.getCellEditor=function(e){var t=this._grid.container._container,i=this._cellEditors[e];if(!i){switch(e){case"list":case"dropdown":i=new ow(this._grid,t);break;case"nlist":i=new uw(this._grid,t);break;case"multiline":i=new Zb(this._grid,t);break;case"number":i=new Qb(this._grid,t);break;case"date":i=new ww(this._grid,t);break;case"btdate":i=new xw(this._grid,t);break;case"search":i=new lw(this._grid,t);break;case"checklist":i=new aw(this._grid,t);break;case"password":i=new Xb(this._grid,t);break;case"ndate":i=new Iw(this._grid,t);break;default:i=this.getDefaultCellEditor()}this._cellEditors[e]=i,i&&i.setController(this._grid.editController),this._grid.accessibility&&i.detach()}return i},t.prototype.getEditConfig=function(e){var t=this.grid,i=t.editorOptions;if(t&&e)switch(e){case"list":case"dropdown":return Bp.assign({},u_.editor.dropdownCellEditor,i.dropdownCellEditor);case"number":return Bp.assign({},u_.editor.numberCellEditor,i.numberCellEditor);case"date":return Bp.assign({},u_.editor.dateCellEditor,i.dateCellEditor);case"search":return Bp.assign({},u_.editor.searchCellEditor,i.searchCellEditor);case"checklist":return Bp.assign({},u_.editor.multiCheckCellEditor,i.multiCheckCellEditor)}},t.prototype.$_checkFlexible=function(e,t){if(!Bp.ieOld&&!Bp.ieTen)return e&&e.flexible||t&&t.flexible},t.prototype.createRenderer=function(e,i,n){var r=null;if(e){switch(e){case ay.TYPE:r=new ay;break;case uy.TYPE:r=new uy;break;case cy.TYPE:r=new cy;break;case dy.TYPE:r=this.$_checkFlexible(i,n)?new py:new dy;break;case fy.TYPE:r=this.$_checkFlexible(i,n)?new gy:new fy;break;case my.TYPE:r=new my;break;case vy.TYPE:r=this.$_checkFlexible(i,n)?new by:new vy;break;case yy.TYPE:r=new yy;break;case wy.TYPE:r=new wy;break;case Cy.TYPE:r=new Cy;break;case xy.TYPE:r=new xy;break;case Hw.SERIES_TYPE:r=new Hw;break;case Ww.TYPE:r=new Ww;break;case Gw.TYPE:r=new Gw;break;case zw.TYPE:r=new zw;break;case Sy.TYPE:r=new Sy;break;case _y.TYPE:r=new _y;break;case oI.TYPE:r=new oI;break;case sI.TYPE:r=new sI}if(!r){var o=this._customRenderers[e]||t.$_customRenderers[e];o&&(r="function"==typeof o?new o(e):new Sx(o,e))}r||(Bp.log("Renderer type is invalid: "+e),r=new ay),i&&r.assignFrom(i),n&&r.assignFrom(n)}return r},t.prototype.addCustomRenderer=function(e,t){e&&t&&(this._customRenderers[e]=t)},t.prototype.removeCustomRenderer=function(e){delete this._customRenderers[e]},t.prototype.existsCustomRenderer=function(e){return this._customRenderers.hasOwnProperty(e)},t.prototype.clearCustomRenderers=function(){this._customRenderers={}},t.$_customRenderers={},t}(Yp),lI=function(e){function t(t,i,n){void 0===i&&(i=0);var r=e.call(this,t)||this;if(i<1)throw new Error("LookupTable levels must be equals or greater than 1");return r._levels=i,r._tree={},r}return gd(t,e),t.prototype._doDispose=function(){this._tree=null,e.prototype._doDispose.call(this)},t.prototype.clear=function(){this._tree={},this._changed()},t.prototype.exists=function(e){var t;if((e=Bp.makeArray(e))&&(t=e.length)>0&&t<=this._levels){if((t=Math.min(t,this._levels)-1)>0){for(var i=this._tree,n=0;n<t&&(i=i[e[n]]);n++);return null!=i&&i.hasOwnProperty(e[t])}return this._tree.hasOwnProperty(e[0])}return!1},t.prototype.fill=function(e,t,i){if(e&&e.length>0&&t&&t.length>0){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=Bp.makeArray(e[r]);this.$_add(o,t[r],null==i?void 0:i.list[r])}this._changed()}},t.prototype.fillRows=function(e){if(e&&e.length>0){for(var t=0,i=e.length;t<i;t++)this.$_addRow(e[t]);this._changed()}},t.prototype.add=function(e,t){e&&(this.$_add(e,t),this._changed())},t.prototype.addRow=function(e){e&&(this.$_addRow(e),this._changed())},t.prototype.lookup=function(e,t,i){var n;if(this._levels>1){var r=void 0,o=this._levels-1;for(n=this._tree,r=0;r<o&&(n=n[e[r]]);r++);}else n=this._tree;var s=e[e.length-1];if(s){if(n){for(var a=String(s).split(t),l=[],u=(r=0,a.length);r<u;r++){var c=a[r],h=n[c]&&n[c].value;l.push(h||i||c)}return l.join(t)}return i||s}},t.prototype.getDomain=function(e){if(!e||e.length!=this._levels-1)throw new Error("Keys length must be "+(this._levels-1));var t,i,n=this._tree,r=[],o=[],s=[];if(this._levels>1)for(t=0,i=e.length;t<i;t++)if(!(n=n[e[t]]))return{keys:r,values:o,listItem:s};var a=[];for(var l in n)"__id__"!==l&&a.push(md({key:l},n[l]));return a.sort(function(e,t){return e.__id__-t.__id__}).map(function(e){r.push(e.key),o.push(e.value),s.push(e.item)}),{keys:r,values:o,listItem:s}},t.prototype.getLookupData=function(e){var t=this.getDomain(e);return{keys:t.keys.map(function(t){return yd(yd([],e,!0),[t],!1)}),values:t.values.slice(),listResult:{list:t.listItem.slice()}}},t.prototype.getTextDomain=function(e){for(var t=this.getDomain(e),i=t.keys,n=t.values,r=0,o=t.keys.length;r<o;r++)i[r]=i[r]?String(i[r]):null,n[r]=n[r]?String(n[r]):null;return t},t.prototype.$_add=function(e,t,i){if(e){e=Bp.makeArray(e);var n,r,o,s=this._levels;if(e.length<s)throw Error("Keys length must be equals or greater than "+s);var a=this._tree;for(n=0;n<s-1;n++)(o=a[r=e[n]])||(a[r]=o={__id__:0}),a=o;a[e[s-1]]={__id__:a.__id__++,value:t,item:i}}},t.prototype.$_addRow=function(e){if(e){if(e.length-1<this._levels)throw Error("Keys length must be equals or greater than "+this._levels);var t=e[this._levels],i=e.slice(0,this._levels);this.$_add(i,t,e[this._levels+1])}},t}(function(e){function t(t){var i=e.call(this)||this;return i._id=t,i}return gd(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype._changed=function(){this.fireEvent(t.CHANGED)},t.CHANGED="onLookupSourceChanged",t}(Vf)),uI=function(e){function t(t){void 0===t&&(t=null);var i=e.call(this)||this;return i._sources={},t&&i.load(t),i}return gd(t,e),t.prototype.dispose=function(){return e.prototype.dispose.call(this)},t.prototype.load=function(e){if(e=Bp.makeArray(e)){this._sources={};for(var t=0,i=e.length;t<i;t++)this.$_add(e[t]);this._changed()}},t.prototype.add=function(e){var t=this.$_add(e);return t&&this._changed(),t},t.prototype.remove=function(e){this.$_remove(e)&&this._changed()},t.prototype.getSource=function(e){return this._sources[e]},t.prototype.$_createSource=function(e){if(e){var t=new lI(e.id,e.levels,e.ordered);return t.fill(e.keys,e.values,e.listResult),t}return null},t.prototype.$_add=function(e){if(e&&e.id&&this._sources[e.id]!=e){var t=this.$_createSource(e);if(t)return this.$_remove(e.id),this._sources[e.id]=t,t.addListener(this),t}},t.prototype.$_remove=function(e){if(e){var t=this._sources[e];if(t)return t.removeListener(this),delete this._sources[e],!0}return!1},t.prototype.onLookupSourceChanged=function(e){this._changed()},t}(function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._changed=function(){this.fireEvent(t.CHANGED)},t.CHANGED="onLookupSourceProviderChanged",t}(Vf)),cI=function(e){function t(t){var i=e.call(this)||this;return i._visible=!0,i._enabled=!0,t&&t.name&&(i._name=t.name),t&&i.assignFrom(t),i}return gd(t,e),t.prototype._doDispose=function(){return e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled&&!this.isSeparator()},set:function(e){this._enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._label=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tag",{get:function(){return this._tag},set:function(e){this._tag=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return this._styleName},set:function(e){this._styleName=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manager",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return null},enumerable:!1,configurable:!0}),t.prototype.click=function(){},t.prototype.isSeparator=function(){return!1},t}(Vf),hI=function(e){function t(t,i){var n=e.call(this,i)||this;return n._parent=t,n}return gd(t,e),t.prototype._doDispose=function(){this._parent=null,this._callback=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return this._group},set:function(e){this._group=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"callback",{get:function(){return this._callback},set:function(e){this._callback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){this._parent=e},enumerable:!1,configurable:!0}),t.prototype.isSeparator=function(){return"-"===this._label||this._type===Gd.SEPARATOR},t.prototype.getData=function(){return{label:this._label,checked:this._checked,enabled:this._enabled,tag:this.tag}},t.prototype.click=function(){"check"===this._type&&(this._checked=!this._checked),this._parent&&this._parent.itemClicked(this)},Object.defineProperty(t.prototype,"manager",{get:function(){return this._parent.manager},enumerable:!1,configurable:!0}),t.prototype._itemClicked=function(e){},t}(cI),dI=function(e){function t(t,i){var n=e.call(this,i)||this;return n._parent=t,n._items=n._load(i.children),n}return gd(t,e),t.prototype._doDispose=function(){this._items&&this._items.forEach(function(e,t){e.dispose()}),this._items=null,this._parent=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"children",{get:function(){return this._items},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manager",{get:function(){for(var e=this._parent;e;){if(e.popupMenuManager instanceof fI)return e.popupMenuManager;if(e instanceof fI)return e;e=e._parent}return null},enumerable:!1,configurable:!0}),t.prototype.count=function(){return this._items?this._items.length:0},t.prototype.itemClicked=function(e){if(e.parent==this&&e.type===Gd.RADIO){var t=e.group,i=void 0;if(t){for(var n=0;n<this._items.length;n++)(i=this._items[n])instanceof hI&&i.type===Gd.RADIO&&i.group===t&&(i.checked=!1);e.checked=!0}}var r=this.manager.grid;"function"==typeof e.callback?e.callback.call(this,r.handler,e.toProxy(),this.manager.clickData):this._parent instanceof fI?this._parent.doMenuItemClick(e,this.manager.clickData):this._parent.onMenuItemClick?this._parent.onMenuItemClick(e,this.manager.clickData):this._parent.itemClicked(e)},t.prototype.addMenu=function(e,t){var i;void 0===t&&(t=-1);var n=this._load(Bp.makeArray(e));t<0&&(t=this._items.length),(i=this._items).splice.apply(i,yd([t,0],n,!1))},t.prototype.removeMenu=function(e){var t=this.getMenu(e);if(t){var i=this._items.indexOf(t);return this._items.splice(i,1),t.dispose(),!0}},t.prototype.getMenu=function(e){return Bp.find(this._items,function(t){return t.name===e})},t.prototype._load=function(e){var i=[];if(e)for(var n=0,r=e.length;n<r;n++){var o=e[n];if(Bp.isArray(o.children)&&o.children.length>0){var s=new t(this,o);i.push(s)}else s=new hI(this,o),i.push(s)}return i},t.CLICKED="onPopupMenuClicked",t}(cI),pI=function(e){function t(t){var i=e.call(this)||this;return i._showing=!1,i._viewGridInside=!1,i._container=t,i._element=i._createElement(),i._element.addEventListener("contextmenu",function(e){e.preventDefault()}),i}return gd(t,e),t._borrowView=function(e){var i=t.$_views[e.$_hash]||[];return t.$_views[e.$_hash]=i,i.pop()||new t(e)},t._returnView=function(e){t.$_views[e._container.$_hash].push(e)},t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"parentView",{get:function(){return this._parentView},set:function(e){this._parentView=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childView",{get:function(){return this._childView},set:function(e){this._childView=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currDiv",{get:function(){return this._currDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manager",{get:function(){return this._menu.manager},enumerable:!1,configurable:!0}),t.prototype.getElementId=function(){return"rg-popup-"+this._menu.name},t.prototype.show=function(e,t,i,n,r,o,s,a){if(!this._showing){this._showing=!0;try{var l=i.parent;for(this._parentView=t,this._firstItem=null,this._menu=i;l._parent&&!(l instanceof oE);)l=l.parent;l&&(this._viewGridInside=l instanceof oE?l.editorOptions.viewGridInside:l instanceof fI&&l.grid.editorOptions.viewGridInside),this.$_show(e,this._menu,n,r,o,s)}finally{this._showing=!1}}},t.prototype.boundsByContainer=function(){return null},t.prototype.hide=function(e){void 0===e&&(e=!0),e&&this._parentView?this._parentView.hide(!0):(this.$_hideChildView(),Bp.detach(this._element))},t.prototype.hideChild=function(){this.$_hideChildView()},t.prototype.changeItemIndex=function(e){var t,i=this._itemIndex,n=this._menu._items;if(0==e)return this._itemIndex=-1,void this.$_refreshItems(this._itemIndex);if(n&&!(i>=n.length)){for(;(t=n[i+=e])&&!t.enabled;);t&&(this._itemIndex=i,this.$_refreshItems(this._itemIndex))}},t.prototype.getActiveElementId=function(){var e=this._menu._items[this._itemIndex];return e?e._elementId:""},t.prototype.menuItemClicked=function(e){this._menuItemClicked(e)},t.prototype.$_show=function(e,t,i,n,r,o){if(this._element){var s=e.doc,a=this._element,l=a.style,u=this.manager,c=e.gridView.displayOptions.baseZindex,h=e._containerDiv;this._element.style.zIndex=String(c+4);var d,p=u.dropdownCount;if(this._viewGridInside)d=e._container;else{var f=h.parentNode;d=!Bp.isSlotMode()||1!==f.nodeType&&11!==f.nodeType?s.body:f}this._containerElement=d,a.id="rg-popup-"+this._menu.name,this._menu=t,this._itemIndex=-1,Bp.clearElements(a),this.$_buildItems(t),Bp.disableSelection(a),d.appendChild(a);var _=0;if(p&&t.children.length>p)for(var g=0,m=0;g<t.children.length&&m<p;g++){var y=this._element.children[g];y.menuItem.isSeparator()||(_+=y.offsetHeight,m++)}_>0&&_<a.offsetHeight?(l.height=_+2+"px",l.overflow="auto"):(l.removeProperty("height"),l.overflow="hidden"),this.movePosition(e,i,n,r,o)}},t.prototype.movePosition=function(e,t,i,n,r,o){var s=e.doc,a=Np(s),l=this._element,u=l.style,c=e._containerDiv,h=this._containerElement,d=Bp.getBrowserSize(),p=Bp.getSize(s.body),f=Bp.getSize(c),_=Bp.getZoom(c),g=d.width,m=d.height,y=Bp.getSize(l),v=(a.pageXOffset||s.documentElement.scrollLeft)/_,b=(a.pageYOffset||s.documentElement.scrollTop)/_;if(s.documentElement.scrollWidth>s.documentElement.clientWidth&&(m-=18),s.documentElement.scrollHeight>s.documentElement.clientHeight&&(g-=18),this._viewGridInside?(y.height>=f.height&&(u.height=f.height-4+"px",u.overflow="auto",y=Bp.getSize(this._element)),i+f.top+y.height>f.bottom&&(i=this._parentView?f.bottom-y.height-f.top-3:i-y.height-r),t+f.left+y.width>f.right&&(t=this._parentView?f.right-y.width-f.left-3:t-y.width-n)):(this._parentView||(h===c.parentNode?(t+=c.offsetLeft,i+=c.offsetTop):(t+=f.left-p.left,i+=f.top-p.top)),y.height>=m&&(u.height=m-4+"px",u.overflow="auto",y=Bp.getSize(this._element)),i+y.height>=m+b-3&&(i=i-y.height-3)<0&&(i=Math.max(0,m-y.height-3)),t+y.width>=g+v-3?t=Math.max(0,g-y.width-3):void 0!==n&&y.width<n&&(t+=n-y.width)),Bp.move(l,Math.max(0,t),Math.max(0,i)),o&&this._currDiv&&this._childView){var w=Bp.getSize(l),C=l.offsetLeft+w.width+this.manager.grid.displayOptions.popupViewDistance,x=l.offsetTop+this._currDiv.offsetTop-l.scrollTop;this._childView.movePosition(e,C,x,null,null,o)}},t.prototype._createElement=function(){var e=function(e){27==e.keyCode&&this.hide()}.bind(this),t=this._container.doc.createElement("div");return t.style.setProperty("position","absolute","important"),t.className="rg-popup-menu",t.setAttribute("role","listbox"),t.tabIndex=-1,this._container.$_addListener(t,"keydown",e,!1),t},t.prototype._showChild=function(e){if(this==this.manager.showingView&&!(this._childView&&this._childView._menu===e.menuItem||this._currDiv!==e)){this.$_hideChildView();var i=e.menuItem,n=Bp.getSize(this._element),r=this._element.offsetLeft+n.width+this.manager.grid.displayOptions.popupViewDistance,o=this._element.offsetTop+e.offsetTop-this._element.scrollTop;this._childView=t._borrowView(this._container),this._childView.show(this._container,this,i,r,o)}},t.prototype.$_hideChildView=function(){this.manager.showingView=null,this._childView&&(this._childView.$_hideChildView(),Bp.detach(this._childView._element),t._returnView(this._childView)),this._childView=null},t.prototype._menuItemActived=function(e){this._currDiv=e;var t=e.menuItem,i=this.manager.showingView=this.manager.activeView=e.menuView;t instanceof hI?i.childView&&i.$_hideChildView():t instanceof dI&&t.enabled&&(this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){i._showChild(e)},200))},t.prototype._menuItemDeactived=function(e){},t.prototype._menuItemClicked=function(e){var t=e.menuItem;t instanceof dI?t.enabled&&this._showChild(e):t?t.enabled&&(this.manager._containerDom.focus({preventScroll:!0}),this.hide(!0),this.manager.close(),t.enabled&&t.click()):this.$_hideChildView()},t.prototype.$_refreshItems=function(e){for(var t=this._element,i=0,n=t.childElementCount;i<n;i++){var r=t.childNodes[i];if(i===e?Bp.addClassName(r,"rg-popup-item-focused"):Bp.removeClassName(r,"rg-popup-item-focused"),i==e){var o=r.offsetTop,s=r.offsetHeight+4,a=t.offsetHeight,l=t.scrollTop;l>o?t.scrollTop=Math.max(0,t.scrollTop+(o-l)):l+a<o+s&&(t.scrollTop=t.scrollTop+o+s-(l+a)),this._menuItemActived(r)}}},t.prototype.$_buildItems=function(e){for(var i=e.children,n=[],r=this._container.doc,o=0,s=i.length;o<s;o++){var a=t.$_menuId++,l=i[o];if(l.visible){var u=r.createElement("div");if(u.menuView=this,u.menuItem=l,u.setAttribute("role","option"),u.id=l._elementId="rg-popup-item"+a,l instanceof hI&&l.isSeparator()){u.className="rg-popup-separator";var c=r.createElement("hr");c.className="rg-popup-separator-hr",u.appendChild(c),u.onmouseover=function(e){this._menuItemActived(e.currentTarget)}.bind(this)}else{!this._firstItem&&(this._firstItem=u),n.length=0,n.push("rg-popup-item"),l.group&&n.push("rg-popup-"+l.group),!l.enabled&&n.push("rg-popup-item-disable"),u.className=n.join(" "),u.onclick=function(e){this._menuItemClicked(e.currentTarget)}.bind(this),u.onmouseover=function(e){this._menuItemActived(e.currentTarget)}.bind(this),u.onmouseout=function(e){this._menuItemDeactived(e.currentTarget)}.bind(this),n=["rg-popup-content"],Bp.included(l.type,Gd.CHECK,Gd.RADIO)&&(l.checked?n.push(l.group?"rg-popup-radio-checked":"rg-popup-check-checked"):n.push(l.group?"rg-popup-radio":"rg-popup-check")),l.styleName&&n.push(l.styleName),l instanceof dI&&n.push("rg-popup-expander");var h=r.createElement("span");h.id="$popupMenu_item_"+a,h.innerHTML=l.label,h.className=n.join(" "),Bp.disableSelection(h),u.appendChild(h)}Bp.disableSelection(u),this._element.appendChild(u)}}},t.$_menuId=0,t.$_views={},t}(Vf),fI=function(e){function t(t){var i=e.call(this)||this;return i._grolbalMouseHandler=function(e){for(var t=e.target;t;){if(t===this._mainView._element||t.menuItem)return;t=t.parentElement}this.close()}.bind(i),i._container=t,i._containerDom=t._containerDom,i._menus=[],i}return gd(t,e),t.prototype._doDispose=function(){this.close(),this._mainView=null,this._showingView=null,this._clickData=null,this._activeView=null,this._container=this._containerDom=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"clickData",{get:function(){return this._clickData},set:function(e){this._clickData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this._container.gridView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropdownCount",{get:function(){if(this._container&&this._container.gridView)return this._container.gridView.displayOptions.popupDropdownCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showingView",{get:function(){return this._showingView},set:function(e){this._showingView=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeView",{get:function(){return this._activeView},set:function(e){this._activeView=e},enumerable:!1,configurable:!0}),t.prototype.popupManager=function(){return this},t.prototype.isShow=function(){return!!this._mainView},t.prototype.indexOf=function(e){for(var t=this._menus.length;t--;)if(Bp.compareTextValue(this._menus[t].name,e,!0,!1))return t;return-1},t.prototype.getMenu=function(e){return Bp.find(this._menus,function(t){return t.name===e})},t.prototype.addMenu=function(e,t,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=null),Bp.isWhiteSpace(e))throw"Menu name is empty.";var r=Bp.find(this._menus,function(t){return t.name===e});if(r&&!i)return r;this.close();var o=this._menus.indexOf(r);return r&&r.dispose(),r=new dI(n||this,{name:e,children:t}),o>=0?this._menus.splice(o,1,r):this._menus.push(r),r},t.prototype.removeMenu=function(e){var t=this.indexOf(e);t>-1&&this._menus.splice(t,1).forEach(function(e){return e.dispose()})},t.prototype.show=function(e,i,n,r){var o=this.grid,s=Fp(this._containerDom),a=n&&o.getBodyCellAt(n);if("string"==typeof e&&e){var l=Bp.getSize(this._containerDom),u=void 0;if(a){var c=a.cellButton||a.merged&&a.head.cellButton||a.cell;u=Bp.getSize(c)}else u=Bp.getSize(i);var h=u.bottom,d=u.left-l.x,p=h-l.y,f=u.width,_=u.height;if(i instanceof s.HTMLTableCellElement){var g=o.getCellType(i),m=o.getTableView(i),y=void 0;if(g===Bd.DATA)y=(a=a||m.bodyCellByCell(i)).grouped?Wx.getItem(Bd.GROUP_HEADER,a.item.index,null):Wx.getCell(g,a,n);else if(g===Bd.HEADER){var v=m.layoutByCell(i);v instanceof Dv&&v.hideChildHeaders&&v.tiedColumn&&(v=v.tiedColumn.layout),y=Wx.getLayout(g,v)}this.clickData=y}else if(i instanceof s.HTMLElement){var b=o.getCellViewOf(i),w=(m=o.getTableView(b)).tableCellByCell&&m.tableCellByCell(b);(g=o.getCellType(b))===Bd.INLINE_FILTER&&(this.clickData=Wx.getLayout(g,w.layout))}var C=r?this.fireObjectEvent(t.POPUP_MENU_POPUP,d,p,this.clickData,e,!1):e;if("string"==typeof C)e=C;else if(!1===C||null!=C)return;var x=this.getMenu(e);x&&this.$_show(x,d,p,f,_,i)}},t.prototype.$_show=function(e,t,i,n,r,o){var s=Fp(this._containerDom);this._mainView=this._activeView=pI._borrowView(this._container),this._mainView.show(this._container,null,e,t,i,n,r),this._popupPosition={x:t,y:i,width:n,height:r},this._container.addPositionListener(this),!Bp.isSlotMode()&&o&&o.setAttribute("aria-activedescendant",this._mainView.getElementId()),!Bp.isSlotMode()&&s.addEventListener(Bp.isIEMode()?"mousedown":"pointerdown",this._grolbalMouseHandler,!1)},t.prototype.resetPosition=function(){var e=this._popupPosition;this._mainView.movePosition(this._container,e.x,e.y,e.width,e.height,!0)},t.prototype.showContext=function(e,t,i,n,r){e&&!this._mainView&&(this.clickData=r,this.$_show(e,i,n,0,0,null))},t.prototype.close=function(){if(this._container.removePositionListener(this),this._mainView){var e=Fp(this._containerDom);this._mainView.hide(),pI._returnView(this._mainView),this._mainView=null,!Bp.isSlotMode()&&e.removeEventListener(Bp.isIEMode()?"mousedown":"pointerdown",this._grolbalMouseHandler,!1)}},t.prototype.keyDown=function(e,t){this._doKeydown(e,t)},t.prototype.doMenuItemClick=function(e,i){this.fireEvent(t.MENU_ITEM_CLICKED,e,i)},t.prototype._doKeydown=function(e,t){var i=this._activeView,n=null==i?void 0:i.currDiv;switch(e.keyCode){case 40:i.changeItemIndex(1);break;case 38:i.changeItemIndex(-1);break;case 37:i.parentView&&(i.changeItemIndex(0),i.hideChild(),this._showingView=this._activeView=i.parentView||this._mainView);break;case 39:i&&i.childView&&(i=this._showingView=this._activeView=i.childView).changeItemIndex(1);break;case 13:case 32:n&&n.parentElement&&i.menuItemClicked(n)}!Bp.isSlotMode()&&t&&t.setAttribute("aria-activedescendant",i.getActiveElementId())},t.MENU_ITEM_CLICKED="onPopupMenuManagerMenuItemClicked",t.POPUP_MENU_POPUP="onPopupMenuManagerPopup",t}(Vf),_I=function(e){function t(){return e.call(this,"summaryCell")||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"summaryIndex",{get:function(){return this._childIndex},set:function(e){this._childIndex=e},enumerable:!1,configurable:!0}),t.prototype._getSummary=function(e,t){return e&&e.headerSummaries.get(t)},t}(ib),gI=function(e){function t(t){var i=e.call(this,t)||this;return i.assignFrom(u_.headerSummary),i}return gd(t,e),t.prototype.getCellStyleName=function(){return t.CELL_CSS},t.prototype._createCell=function(){return new _I},t.CELL_CSS="rg-header-summary-cell",t}(rb),mI=function(e){function t(t){var i=e.call(this,t)||this;return i.visible=!1,i.assignFrom(u_.headerSummaries),i}return gd(t,e),t.prototype._createSummary=function(e){return new gI(e||this._grid)},t}(sb),yI=function(e){function t(t,i){return e.call(this,t,i,"headerSummaryView")||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._getCssSelector=function(){return"rg-header-summary"},t.prototype._getRendererStyle=function(){return"rg-header-summary-renderer"},t.prototype._getSummaryRows=function(e){return e.dataRows},t.prototype._getCollection=function(){return this.model},t.prototype._getSummaryHeight=function(e){return e.summaryHeight},t.prototype._getSummaryCount=function(e){return e.headerSummaryCount},t.prototype._getSpanOf=function(e,t){return e.getSummarySpan(t)},t.prototype._getUserSpanOf=function(e,t){return e.getSummaryUserSpan(t)},t.prototype._getSummaryItem=function(e,t){return e.firstColumn.headerSummaries.get(t)},t.prototype._getTableRowCount=function(e){return e.dataRows*e.headerSummaryCount},t}(dC),vI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-fixed-header-summary"},t.prototype._getExplicitWidth=function(e){return e.fixedWidth-e.fixedBarWidth},t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return 0},t.prototype._getEndCell=function(e){return e.fixedCellCount-1},t.prototype._getCellCount=function(e){return e.fixedCellCount},t.prototype._getCellWidth=function(e,t){return e.getFixedCellWidth(t)},t}(yI),bI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-fixed-header-summary"},t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return e.cellCount-e.rightCellCount},t.prototype._getEndCell=function(e){return e.cellCount-1},t.prototype._getCellCount=function(e){return e.rightCellCount},t.prototype._getCellWidth=function(e,t){return e.getRightCellWidth(t)},t}(yI),wI=function(e){function t(t){return e.call(this,t,"gridSumCellView")||this}return gd(t,e),t}(KC),CI=function(e){function t(t){var i=e.call(this,t,null,"gridSumView")||this;return i._domCssSelector="rg-sum",i}return gd(t,e),t.prototype.getSumModel=function(e){return this._getCellModel(e)},t.prototype._createCellElement=function(e){return new wI(e)},t.prototype._sectionCell=function(e){return e.getSumCell()},t.prototype._getSectionStyleName=function(e){return this.$_getCellSelector()+" "+e.getSumStyleName()},t.prototype._getHeadTrText=function(e){return e.getCellType()+" sum"},t.prototype._getSectionText=function(e){return e.sumText},t.prototype.$_getCellSelector=function(){return"rg-sum-cell"},t}(XC),xI=function(e){function t(t){var i=e.call(this,t)||this;return i._enabled=!0,i._handleVisibility=zd.VISIBLE,i._commitBeforeFiltering=!0,i._includeParentItem=!0,i._clearFocusWhenFiltered=!1,i._toast=new ex({visible:!1,message:i._messageCallback}),i._selector=new II(t),i._automating=new EI(t),i.assignFrom(u_.filtering),i}return gd(t,e),t.prototype._doDispose=function(){this._selector=this._selector.dispose(),this._automating=this._automating.dispose(),this._toast=this._toast.dispose(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){e!=this._enabled&&(this._enabled=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handleVisibility",{get:function(){return this._handleVisibility},set:function(e){e!=this._handleVisibility&&(this._handleVisibility=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commitBeforeFiltering",{get:function(){return this._commitBeforeFiltering},set:function(e){this._commitBeforeFiltering=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"includeParentItem",{get:function(){return this._includeParentItem},set:function(e){this._includeParentItem=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selector",{get:function(){return this._selector},set:function(e){this._selector&&this._selector.assignFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"automating",{get:function(){return this._automating},set:function(e){this._automating&&this._automating.assignFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toast",{get:function(){return this._toast},set:function(e){e&&!e.message&&(e=md(md({},e),{message:this._messageCallback})),this._toast&&this._toast.assignFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearFocusWhenFiltered",{get:function(){return this._clearFocusWhenFiltered},set:function(e){e!=this._clearFocusWhenFiltered&&(this._clearFocusWhenFiltered=e)},enumerable:!1,configurable:!0}),t.prototype.assignFrom=function(t){e.prototype.assignFrom.call(this,t),t.selector&&this._selector.assignFrom(t.selector),t.automating&&this._automating.assignFrom(t.automating),t.toast&&this._toast.assignFrom(t.toast)},t.prototype._messageCallback=function(){var e;return(null===(e=u_.filtering.toast)||void 0===e?void 0:e.message)||r_.messages.filterToastMessage},t}(Dw),II=function(e){function t(t){var i=e.call(this,t)||this;return i._listHeight=170,i._partialSearch=!0,i._filterReset=!0,i._showEmptyFilter=!0,i._maxWidth=0,i._width=0,i._minWidth=0,i._style="rg-filter-selector",i}return gd(t,e),Object.defineProperty(t.prototype,"listHeight",{get:function(){return this._listHeight},set:function(e){this._listHeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showButtons",{get:function(){return!!this._showButtons},set:function(e){this._showButtons=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"partialSearch",{get:function(){return this._partialSearch},set:function(e){this._partialSearch=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"acceptText",{get:function(){return this._acceptText||r_.messages.filterSelectorAcceptText},set:function(e){this._acceptText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cancelText",{get:function(){return this._cancelText||r_.messages.filterSelectorCancelText},set:function(e){this._cancelText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allCheckText",{get:function(){return this._allCheckText||r_.messages.filterSelectorAllCheckText},set:function(e){this._allCheckText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showEmptyFilter",{get:function(){return this._showEmptyFilter},set:function(e){this._showEmptyFilter=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emptyFilterText",{get:function(){return this._emptyFilterText||r_.messages.filterSelectorEmptyFilterText},set:function(e){this._emptyFilterText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchPlaceholder",{get:function(){return this._searchPlaceholder||r_.messages.filterSelectorSearchPlaceholder},set:function(e){this._searchPlaceholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchedCheckText",{get:function(){return this._searchedCheckText||r_.messages.filterSelectorSearchedCheckText},set:function(e){this._searchedCheckText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){this._style=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeWhenClick",{get:function(){return!!this._closeWhenClick},set:function(e){this._closeWhenClick=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterReset",{get:function(){return this._filterReset},set:function(e){this._filterReset=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filtersResetText",{get:function(){return this._filtersResetText||r_.messages.filterSelectorFiltersResetText},set:function(e){this._filtersResetText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterResetText",{get:function(){return this._filterResetText||r_.messages.filterSelectorFilterResetText},set:function(e){this._filterResetText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useFilterResetImage",{get:function(){return this._useFilterResetImage},set:function(e){this._useFilterResetImage=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth=Math.max(e,0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._minWidth},set:function(e){this._minWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textToTitle",{get:function(){return!!this._textToTitle},set:function(e){this._textToTitle=!!e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchIgnoreCase",{get:function(){return!!this._searchIgnoreCase},set:function(e){this._searchIgnoreCase=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeWhenEnter",{get:function(){return!!this._activeWhenEnter},set:function(e){this._activeWhenEnter=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandCategory",{get:function(){return!!this._expandCategory},set:function(e){this._expandCategory=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTitle",{get:function(){return this._showTitle},set:function(e){this._showTitle=e},enumerable:!1,configurable:!0}),t.prototype.toProxy=function(t){return e.prototype.toProxy.call(this,t)},t}(Dw),EI=function(e){function t(t){var i=e.call(this,t)||this;return i._dateCategorize=!0,i._numberCategorize=!0,i._textCategorize=!1,i._timeCategorize=cp.NONE,i._lookupDisplay=!1,i}return gd(t,e),Object.defineProperty(t.prototype,"dateCategorize",{get:function(){return this._dateCategorize},set:function(e){this._dateCategorize=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberCategorize",{get:function(){return this._numberCategorize},set:function(e){this._numberCategorize=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textCategorize",{get:function(){return this._textCategorize},set:function(e){this._textCategorize=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeCategorize",{get:function(){return this._timeCategorize},set:function(e){this._timeCategorize=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dateCategoryCallback",{get:function(){return this._dateCategoryCallback},set:function(e){this._dateCategoryCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberCategoryCallback",{get:function(){return this._numberCategoryCallback},set:function(e){this._numberCategoryCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textCategoryCallback",{get:function(){return this._textCategoryCallback},set:function(e){this._textCategoryCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dateYearFormat",{get:function(){return this._dateYearFormat||r_.messages.filterSelectorDateYearFormat},set:function(e){this._dateYearFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dateQuarterFormat",{get:function(){return this._dateQuarterFormat||r_.messages.filterSelectorDateQuarterFormat},set:function(e){this._dateQuarterFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dateMonthFormat",{get:function(){return this._dateMonthFormat||r_.messages.filterSelectorDateMonthFormat},set:function(e){this._dateMonthFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dateDayFormat",{get:function(){return this._dateDayFormat||r_.messages.filterSelectorDateDayFormat},set:function(e){this._dateDayFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hourFormat",{get:function(){return this._hourFormat||r_.messages.filterSelectorHourFormat},set:function(e){this._hourFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minuteFormat",{get:function(){return this._minuteFormat||r_.messages.filterSelectorMinuteFormat},set:function(e){this._minuteFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"secondFormat",{get:function(){return this._secondFormat||r_.messages.filterSelectorSecondFormat},set:function(e){this._secondFormat=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lookupDisplay",{get:function(){return this._lookupDisplay},set:function(e){this._lookupDisplay=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filteredDataOnly",{get:function(){return this._filteredDataOnly},set:function(e){this._filteredDataOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectCallback",{get:function(){return this._callback},set:function(e){this._callback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userFilterPosition",{get:function(){return this._userFilterPositoin},set:function(e){this._userFilterPositoin=e},enumerable:!1,configurable:!0}),t.prototype.toProxy=function(e){return{timeCategorize:this._timeCategorize,dateCategorize:this._dateCategorize,numberCategorize:this._numberCategorize,textCategorize:this._textCategorize,dateCategoryCallback:this._dateCategoryCallback,numberCategoryCallback:this._numberCategoryCallback,textCategoryCallback:this._textCategoryCallback,dateYearFormat:this._dateYearFormat,dateQuarterFormat:this._dateQuarterFormat,dateMonthFormat:this._dateMonthFormat,dateDayFormat:this._dateDayFormat,hourFormat:this._hourFormat,minuteFormat:this._minuteFormat,secondFormat:this._secondFormat,lookupDisplay:this._lookupDisplay,filteredDataOnly:this._filteredDataOnly}},t}(Dw);!function(e){e.FIRST="first",e.LAST="last",e.NONE="none"}(hx||(hx={})),function(e){e[e.ALL=0]="ALL",e[e.YQ=1]="YQ",e[e.YM=2]="YM",e[e.Y=3]="Y",e[e.QM=4]="QM",e[e.Q=5]="Q",e[e.M=6]="M",e[e.NONE=7]="NONE"}(dx||(dx={}));var OI=function(){function e(e){this._options=e}return e.HasPartial=function(e,t,i){if(i&&(e=e&&e.toLowerCase(),t=t&&t.toLowerCase()),e.indexOf(t)>=0)return!0;for(var n=Bp.hangulToChosungAll(e),r=Bp.hangulToChosungAll(t),o=-1,s=!1;(o=n.indexOf(r,o+1))>=0;){for(var a=0;a<r.length&&a+o<n.length;a++){var l=Bp.hangulToChosung(e[a+o]),u=Bp.hangulToChosung(t[a]);if(u.org&&u.org!==l.org||!u.cho||u.cho!==l.cho){s=!1;break}s=!0}if(s)return!0}return!1},e.getDateProperty=function(e,t){if(!e)return null;switch(t){case 0:return e.getFullYear();case 1:return e.getMonth()>5?2:1;case 2:return Math.floor(e.getMonth()/3);case 3:return e.getMonth();case 4:var i=new Date(e.getFullYear(),e.getMonth(),1);return i.setDate(i.getDate()-i.getDay()),Math.floor((e.getTime()-i.getTime())/6048e5)+1;case 5:return e.getDate();case 6:return e.getHours()}},e.prototype.dispose=function(){return this._filters=null,this._options=null,null},Object.defineProperty(e.prototype,"searched",{get:function(){return this._searched},enumerable:!1,configurable:!0}),e.prototype.buildItems=function(e,t,i,n){void 0===n&&(n=!0);var r=function(t){if(t===s.userFilterPosition){for(var i=[],n=e.filters.items,r=0;r<n.length;r++)i.push(n[r].toProxy(!1));i.length>0&&l.addAll(i,!0,!1)}},o=this._options.selector,s=this._options.automating,a=o.emptyFilterText;this._autoFilter=i;var l=this._filters=i?e.autoFilters:e.filters,u=[];if(i){e.autoFilters.activeCount>0&&(u=this._getActivatedFilters(e.autoFilters)),e.autoFilters.clear(!1),r(hx.FIRST);var c=!1,h=void 0;this._valueType=e.valueType;var d=s.filteredDataOnly?e.grid.getDistinctItemValues(e.dataIndex):t.getDistinctValues(e.dataIndex);switch(this._valueType){case vd.DATETIME:(c=s.timeCategorize)!==cp.NONE&&(h=this._categorizeTimeValues(d,c,a)),h&&h.length||(h=(c=s.dateCategorize)&&s.dateCategoryCallback?s.dateCategoryCallback(e,d):this._categorizeDateValues(d,c,a));break;case vd.NUMBER:h=(c=s.numberCategorize)&&s.numberCategoryCallback?s.numberCategoryCallback(e,d):this._categorizeNumberValues(d,c,a);break;case vd.BOOLEAN:h=[];for(var p=!1,f=0;f<d.length;f++){var _=d[f];null!=_?h.push({text:_.toString().toUpperCase(),value:_}):p=!0}p&&o.showEmptyFilter&&h.push({text:a,empty:!0});break;case vd.TEXT:c=s.textCategorize,h=e.lookupSource&&this._options.automating.lookupDisplay&&!s.textCategoryCallback?this._categorizeLookupTree(t,e,a):c&&s.textCategoryCallback?s.textCategoryCallback(e,d):this._categorizeTextValues(d,c,a)}h&&this._createCategories(h,null,e.valueType,l),r(hx.LAST),this._filters.activateItems(u,!0,n)}},e.prototype.search=function(t){var i=[];function n(e,t){if(i.indexOf(e)<0){for(var n=[],r=e;r;)i.indexOf(r)<0&&n.push(r),r=r.category;Array.prototype.push.apply(i,n.reverse())}}for(var r=0,o=this._filters.count;r<o;r++){var s=this._filters.getItem(r);if(!(s instanceof vm)){var a=this._autoFilter&&s.tag||s.toString(),l=this._autoFilter&&this._options.automating.lookupDisplay&&this._filters.getOwner()&&this._filters.getOwner().lookupDisplay,u=this._options.selector.searchIgnoreCase,c=e.HasPartial;(c(a,t,u)||l&&c(s.toString(),t,u))&&n(s)}}return i},e.prototype._getActivatedFilters=function(e){for(var t=[],i=e.count;i--;){var n=e.getItem(i);n instanceof vm||!n.active||t.push(n.name)}return t},e.prototype._createCategories=function(t,i,n,r){var o=r.getOwner(),s=this._options.automating.lookupDisplay&&o.lookupDisplay,a=s&&o.lookupSource;function l(e,t,i){if(a&&i.fieldIds){for(var n=i,r=[],o=0;o<n.fieldIds.length;o++)null==n.keys[o]||""==n.keys[o]?r.push("(values[".concat(n.fieldIds[o],"] is empty)")):r.push("(values[".concat(n.fieldIds[o],"] = '").concat(n.keys[o],"')"));return r.join(" and ")}if(null==e||i.empty)return"value is empty";if(t==vd.DATETIME){var s=i;return s.criteria||"(year(value) = ".concat(s.year,") and (month(value) = ").concat(s.month+1,") and (day(value) = ").concat(s.day,")")}return t==vd.BOOLEAN?i.value?"value":"not(value)":t==vd.NUMBER?"value = "+e:"value = '"+(e=e.replace(/\\/g,"\\\\").replace(/\'/g,"\\'"))+"'"}function u(e,t,i){return n===vd.TEXT&&e&&!t.empty?o.getLookupLabel(e,!1):i}for(var c=Bp.pad,h=0,d=t.length;h<d;h++){var p=t[h],f=p.hasOwnProperty("childs"),_=p.hasOwnProperty("values"),g=void 0,m=f||_;m?g=new vm:(g=new ym(l(p.value,n,p)),Object.prototype.hasOwnProperty.call(p,"callback")?g.callback=p.callback:this._options.automating.selectCallback&&(g.callback=this._options.automating.selectCallback),g.filterValue=p.value),g.text=a?p.text:s?u(p.value,p,p.text):p.text;var y;if(y=p.name?p.name:p.empty?e.EMPTY_FILTER:n==vd.DATETIME&&f&&i?i.name+" "+p.text:"".concat(m?"$_cat_":"").concat(p.text),g.name=y,this._filters.add(g,!1),i&&i.addChild(g),g instanceof vm){if(f)this._createCategories(p.childs,g,n,r);else if(Bp.isArray(p.values))for(var v=p.values,b=0,w=v.length;b<w;b++){var C=v[b],x=C+"",I=new ym(l(C,n,p));I.name=x,I.text=s?u(C,p,x):x,I.tag=x,I.filterValue=C,this._options.automating.selectCallback&&(I.callback=this._options.automating.selectCallback),g.addChild(I),this._filters.add(I,!1)}}else if(n!=vd.DATETIME||p.empty)g.tag=p.text;else if(this._options.automating.timeCategorize!==cp.NONE){var E=p;g.tag=E.tag||E.name}else{var O=p;g.tag=O.tag||"".concat(O.year,"-").concat(c(O.month+1,2),"-").concat(c(O.day,2))}}},e.prototype.formatFilterText=function(e,t,i,n,r){var o=n+"",s=t.charAt(0),a=Bp.pad(n,r);return e?e.indexOf("{".concat(s))>=0?e.replace("{".concat(t,"}"),a).replace("{".concat(i,"}"),o):e.replace(t,a).replace(i,o):o},e.prototype.$$_formatYear=function(e,t){var i=t+"";return e?e.replace("{YYYY}",i).replace("{YY}",i.slice(-2)).replace("YYYY",i).replace("YY",i.slice(-2)):i},e.prototype.$$_formatQuater=function(e,t){return this.formatFilterText(e,"QQ","Q",t+1,2)},e.prototype.$$_formatMonth=function(e,t){return this.formatFilterText(e,"MM","M",t+1,2)},e.prototype.$$_formatDay=function(e,t){return this.formatFilterText(e,"DD","D",t,2)},e.prototype.$$_formatDateStr=function(e,t,i,n){var r=this.$$_formatYear(e,t);return r=this.$$_formatMonth(r,i),this.$$_formatDay(r,n)},e.prototype.$$_formatHour=function(e,t){return this.formatFilterText(e,"HH","H",t,2)},e.prototype.$$_formatminute=function(e,t){return this.formatFilterText(e,"MM","M",t,2)},e.prototype.$$_formatSecond=function(e,t){return this.formatFilterText(e,"SS","S",t,2)},e.prototype._categorizeTimeValues=function(e,t,i){var n,r,o=this,s=this._options.automating,a={hourCnt:new Map,minuteCnt:new Map,secondCnt:new Map},l=a.hourCnt,u=a.minuteCnt,c=a.secondCnt,h=(n=e,r=n.map(function(e){var i=1e3;switch(t){case cp.HOUR:i*=60;case cp.MINUTE:i*=60}return e&&Math.floor(e.getTime()/i)*i}),r.sort(function(e,t){return e>t?1:e<t?-1:0}),r.filter(function(e,t,i){return i.indexOf(e)===t}).map(function(e){return e&&new Date(e)})).map(function(e){if(!e)return{date:e};var t={year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()},i=t.year,n=t.month,r=t.day,a=t.hour,h=t.minute,d=t.second;return l.set(a,1),u.set(h,1),c.set(d,1),{date:e,dateStr:o.$$_formatDateStr(s.dateDayFormat,i,n,r),year:i,month:n,day:r,hour:a,minute:h,second:d}});if(t===cp.AUTO)if(c.size>1)t=cp.SECOND;else if(u.size>1)t=cp.MINUTE;else{if(!(l.size>1))return;t=cp.HOUR}for(var d=!1,p={},f=[],_=function(e,t){var i,n;switch(t){case cp.HOUR:return(i=p[e.dateStr])||(i=p[e.dateStr]={text:e.dateStr,childs:[]},f.push(i)),i;case cp.MINUTE:return(i=(n=_(e,cp.HOUR))[e.hour])||(i=n[e.hour]={text:o.$$_formatHour(s.hourFormat,e.hour),childs:[]},n.childs.push(i)),i;case cp.SECOND:return(i=(n=_(e,cp.MINUTE))[e.minute])||(i=n[e.minute]={text:o.$$_formatminute(s.minuteFormat,e.minute),childs:[]},n.childs.push(i)),i}},g=0,m=h;g<m.length;g++){var y=m[g];if(y.date){var v=_(y,t),b=Bp.pad,w=b(y.hour,2),C=b(y.minute,2),x=b(y.second,2);switch(t){case cp.SECOND:v.childs.push({text:this.$$_formatSecond(s.secondFormat,y.second),name:"".concat(y.dateStr," ").concat(y.hour,":").concat(y.minute,":").concat(y.second),tag:"".concat(y.dateStr," ").concat(w,":").concat(C,":").concat(x),criteria:"timestamp(value, 1) === ".concat(1e3*Math.floor(y.date.getTime()/1e3)),value:" "});break;case cp.MINUTE:v.childs.push({text:this.$$_formatminute(s.minuteFormat,y.minute),tag:"".concat(y.dateStr," ").concat(w,":").concat(C),name:"".concat(y.dateStr," ").concat(y.hour,":").concat(y.minute),criteria:"timestamp(value, 2) === ".concat(60*Math.floor(y.date.getTime()/6e4)*1e3),value:" "});break;case cp.HOUR:v.childs.push({text:this.$$_formatHour(s.hourFormat,y.hour),tag:"".concat(y.dateStr," ").concat(w),name:"".concat(y.dateStr," ").concat(y.hour),criteria:"timestamp(value, 3) === ".concat(60*Math.floor(y.date.getTime()/36e5)*60*1e3),value:" "})}}else d||(d=!0,f.push({name:"empty Node",text:i,empty:!0,criteria:"!value"}))}return f},e.prototype._categorizeDateValues=function(t,i,n){var r=this;if(!t)return null;for(var o=!1,s=!1,a=!1,l=e.getDateProperty,u=0,c=0,h=0,d={year:null,quarter:null,month:null,day:null},p=t.length,f=0;f<p;f++){var _=t[f];if(_){var g=l(_,0),m=l(_,2),y=l(_,3),v=l(_,5);d?g!=d.year?(u++,c++,h++):m!=d.quarter||y!=d.month?(c++,h++):v!=d.day&&h++:(u++,c++,h++),d.year=g,d.quarter=m,d.month=y,d.day=v}}var b=this._options.automating,w=[],C=[];i&&((o=u>1&&c>6)&&(w.push(0),C.push(function(e,t,i){return r.$$_formatYear(b.dateYearFormat,i)})),(s=c/u>6)&&(w.push(2),C.push(o?function(e,t,i){return r.$$_formatQuater(b.dateQuarterFormat,i)}:function(e,t,i){return r.$$_formatYear(b.dateYearFormat,e)+" "+r.$$_formatQuater(b.dateQuarterFormat,i)})),(a=h>9&&c>3)&&(w.push(3),C.push(o||s?function(e,t,i){return r.$$_formatMonth(b.dateMonthFormat,i)}:function(e,t,i){return r.$$_formatYear(b.dateYearFormat,e)+" "+r.$$_formatMonth(b.dateMonthFormat,i)}))),w.push(5),C.push(function(e,t,i){return r.$$_formatDateStr(b.dateDayFormat,e,t,i)});var x=[];return function t(i,r,l,u,c){void 0===u&&(u=0),void 0===c&&(c=-1),c=-1==c?i.length-1:c;for(var h,d,p=null,f=u,_=!1,g=function(n){var c=i[n],g=function(t,i,n){for(var r=[],o=0;o<=n;o++)r.push(e.getDateProperty(t,i[o]));return r}(c,w,r),y=function(e,t,i){if(!e)return null;switch(t[i]){case 0:return e.getFullYear().toString();case 1:return e.getFullYear().toString()+Math.floor(e.getMonth()/6).toString();case 2:return e.getFullYear().toString()+Math.floor(e.getMonth()/3).toString();case 3:return e.getFullYear().toString()+e.getMonth().toString();case 5:return e.getFullYear().toString()+e.getMonth()+e.getDate()}}(c,w,r);if(n>u&&y!=p){var v=h[r];if(d)if(r===w.length-1){var b={text:"",year:d.getFullYear(),month:d.getMonth(),day:d.getDate(),value:d};b.text=C[r](b.year,b.month,b.day),l.push(b)}else{var x={text:"",childs:[]},I=function(){x.year=d.getFullYear()},E=function(){x.quarter=Math.floor(d.getMonth()/3)},O=function(){x.month=d.getMonth()},S=o&&s&&a?dx.ALL:o&&s?dx.YQ:o&&a?dx.YM:o?dx.Y:s&&a?dx.QM:s?dx.Q:a?dx.M:dx.NONE;S===dx.ALL?0===r?I():1===r?(I(),E()):2===r&&(I(),E(),O()):S===dx.YQ?0===r?I():1===r&&(I(),E()):S===dx.YM?0===r?I():1===r&&(I(),O()):S===dx.Y?I():S===dx.QM?0===r?E():1===r&&(E(),O()):S===dx.Q?E():S===dx.M&&O(),x.text=C[r](d.getFullYear(),d.getMonth(),v),l.push(x),t.call(m,i,r+1,x.childs,f,n-1)}f=n}n>u&&null==d&&(_=!0),p=y,h=g,d=c},m=this,y=u;y<=c+1;y++)g(y);0==r&&_&&this._options.selector.showEmptyFilter&&l.push({text:n,empty:!0})}.call(this,t,0,x),x},e.prototype._categorizeNumberValues=function(e,t,i){if(!e||!e.length)return null;var n=e.filter(function(e){return null!=e&&null!=e&&!isNaN(e)}).sort(function(e,t){return e-t}),r=n.length,o=n.length!==e.length,s=1,a=[];if(t&&r>15)for(s=Math.round(r/Math.min(Math.max(4,Math.round(r/5)),8));n.length>0;){var l=n.splice(0,s);a.push({text:l[0]+" ~ "+l[l.length-1],values:l})}else for(var u=0;u<r;u++)a.push({text:n[u]+"",value:n[u]});return o&&this._options.selector.showEmptyFilter&&a.push({text:i,empty:!0}),a},e.prototype._categorizeLookupTree=function(e,t,i){var n=t.grid,r=[];if(this._options.automating.filteredDataOnly)n._items._rs.getAllItems().forEach(function(e){r.push(e.dataRow)});else if(n.isTree())e.getDescendants(null,-1).forEach(function(e){r.push(e.rowId)});else for(var o=e.rowCount,s=0;s<o;s++)r.push(s);var a=[],l=t.lookupKeyFieldIds,u={},c={};function h(r,o,s,a,l){var u=s.shift(),d=e.getValue(o,u);l.push(u),a.push(d);var p=r[d];p||(p=r[d]={value:d,name:a.join("-"),keys:a.slice(),fieldIds:l.slice()}),s.length?(!p.text&&(p.text=function(e,t,i){var r=c[e];if(!r)for(var o=n.columnsByField(e),s=0;s<o.length;s++)if(o[s].lookupSource||o[s].lookupDisplay){r=c[e]=o[s];break}return r?r.lookupSource?r.lookupSource.lookup(t,r.valueSeparator):r.lookupDisplay?r.getLookupLabel(i,!1):i:i}(u,a,d)||d||i),p.childs=p.childs||{},h(p.childs,o,s,a,l)):!p.text&&(p.text=d?t.lookupSource.lookup(a,t.valueSeparator)||d:i)}for(s=0;s<r.length;s++)h(u,r[s],l.slice(),[],[]);return function e(t,i){Object.keys(t).sort().forEach(function(n){var r=t[n],o={value:r.value,text:r.text,name:r.name,fieldIds:r.fieldIds,keys:r.keys};i.push(o),r.hasOwnProperty("childs")&&(o.childs=[],e(r.childs,o.childs))})}(u,a),a},e.prototype._categorizeTextValues=function(e,t,i){if(!e)return null;var n=e.length,r=[],o=!1;if(t&&n>15){for(var s=[{},{},{},{}],a=[0,0,0,0],l=[0,0,0,0],u=0;u<n;u++){var c=e[u];if(c){var h,d=(C=c[0]).charCodeAt(0),p=!1;s[h=d>=48&&d<=57?0:d>=65&&d<=90||d>=97&&d<=122?1:d>=1e4?2:3][C]?s[h][C].push(c):(s[h][C]=[c],p=!0),a[h]++,p&&l[h]++}else o=!0}for(var f=Math.min(Math.max(4,Math.round(n/5)),8),_=0;_<4;_++){var g=0==a[_]?0:Math.max(1,Math.min(l[_],Math.round(a[_]/n*f))),m=Math.round(l[_]/g),y=m,v=s[_],b="",w=[];for(var C in v)y===m&&(b=C),Array.prototype.push.apply(w,s[_][C]),0==--y&&(r.push({text:1==m?C:b+" ~ "+C,values:w}),w=[],y=m)}}else{u=0;for(var x=e.length;u<x;u++){var I=e[u];I?r.push({text:I,value:I}):o=!0}}return o&&this._options.selector.showEmptyFilter&&r.push({text:i,empty:!0}),r},e.EMPTY_FILTER="$$empty",e}(),SI=function(e){function t(t,i,n){var r=e.call(this)||this;r._opened=!1,r._wheelDelay=50,r._grid=n,r._gridContainer=n.container._containerDom;var o=t.doc,s=r._element=o.createElement("div");return s.style.position="absolute",s.style.display="none",s.className=i.selector.style,r._options=i,r._soptions=i.selector,r._manager=new OI(r._options),r._globalMouseDownHandler=r._globalMouseDownHandler.bind(r),r._globalKeyDownHandler=r._globalKeyDownHandler.bind(r),r._scrollHandler=r._scrollHandler.bind(r),r._wheelHandler=r._wheelHandler.bind(r),r._resetClickHandler=r._resetClickHandler.bind(r),r._searchInputHandler=r._searchInputHandler.bind(r),r._searchKeyDownHandler=r._searchKeyDownHandler.bind(r),r._checkAllClickHandler=r._checkAllClickHandler.bind(r),r._confirmClickHandler=r._confirmClickHandler.bind(r),r._cancelClickHandler=r._cancelClickHandler.bind(r),r._itemClickHandler=r._itemClickHandler.bind(r),r}return gd(t,e),Object.defineProperty(t.prototype,"opened",{get:function(){return this._opened},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._targetColumn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return $p(this._element)},enumerable:!1,configurable:!0}),t.prototype._doDispose=function(){this._soptions=null,this._manager=this._manager.dispose(),this._grid=null,Bp.detach(this._element),e.prototype._doDispose.call(this)},t.prototype.resetPosition=function(){var e=this._element,t=this._soptions,i=this._targetColumn,n=this._targetCell,r=Bp.getSize(n),o=this._gridContainer.parentElement.clientWidth,s=t.width,a=i.filterSelectorWidth,l=e.style,u=t.minWidth,c=0;a>0?c=a:-1===s?(c=this._viewWidth,u=Math.max(u,140)):-2===s?c=i.layout.cellWidth:s>0&&(c=s),c>0?(u>0&&(c=Math.max(u,c)),t.maxWidth>0&&(c=Math.min(c,t.maxWidth)),c=Math.min(c,o),l.width=Math.max(c,u)+"px"):l.removeProperty("width"),Bp.resetPosition(e.offsetParent,null,e,r.x,r.bottom,r.width,r,!0)},t.prototype.show=function(e,t,i,n){this._opened&&this.hide();var r=this._element,o=this._soptions,s=this._grid,a=s.container,l=s.displayOptions,u=Fp(r),c=a._containerDiv;(Bp.isSlotMode()?c:a.doc.body).appendChild(r),this._targetColumn=e,this._targetCell=t,r.className=o.style,r.tabIndex=-1,r.style.display="block",r.style.zIndex="".concat(l.baseZindex+7),this._autoFiltering=e.autoFilter,this._build(e,i,this._autoFiltering),this.resetPosition(),a.addPositionListener(this),!Bp.isSlotMode()&&u.addEventListener(Bp.isIEMode()?"mousedown":"pointerdown",this._globalMouseDownHandler,!1),!Bp.isSlotMode()&&u.addEventListener("keydown",this._globalKeyDownHandler,!1),n&&(this._searchInput&&(this._searchInput.value=n),this._doSearch(n)),this._opened=!0,!Bp.isMobile()&&this._searchInput&&this._searchInput.focus({preventScroll:!0})},t.prototype.hide=function(){if(this._opened){var e=this._grid.container;e._focused&&this._gridContainer.focus({preventScroll:!0}),Bp.detach(this._element);var t=Fp(this._element);e.removePositionListener(this),!Bp.isSlotMode()&&t.removeEventListener(Bp.isIEMode()?"mousedown":"pointerdown",this._globalMouseDownHandler,!1),!Bp.isSlotMode()&&t.removeEventListener("keydown",this._globalKeyDownHandler,!1),this._finalize(),this._element.style.display="none",this._opened=!1}},t.prototype._createItemInfo=function(e){this._items=[],this._roots=[],this._visbleItemMap={};for(var t=(e=e instanceof wm?e.items:e).length,i=[],n=0;n<t;n++){var r=e[n],o=r.level;if(this._autoFiltering||r.visible){var s={text:r.toString(),index:n,level:o,filter:r};if(this._items.push(s),r instanceof vm?s.expanded=this._soptions.expandCategory:s.state=r.active?dm.ACTIVE:dm.UNACTIVE,i[o]=s,o>0){var a=i[o-1];s.parent=a,a.childs||(a.childs=[]),a.childs.push(s)}0==o&&this._roots.push(s),this._visbleItemMap[n]=s}}this._calcluateStates(),this._visibleCount=this._calcVisibleItems(),this._dirties=[]},t.prototype._build=function(e,t,i){var n=this._soptions,r=this._applyBatch=n.showButtons,o=this.doc;this._manager.buildItems(e,t,i,!1),this._filters=i?e.autoFilters:e.filters,this._createItemInfo(this._filters),this._headerDiv=o.createElement("div"),this._headerDiv.className="rg-filter-header",n.showTitle&&this._buildTitle(this._headerDiv),n.filterReset&&this._buildReset(this._headerDiv),this._soptions.partialSearch&&this._buildSearchbox(this._headerDiv),this._buildSelectAllBox(),this._element.appendChild(this._headerDiv);var s=this._viewportDiv=o.createElement("div");s.className="rg-filter-list-viewport",s.style.height=n.listHeight+"px",s.addEventListener("scroll",this._scrollHandler),s.addEventListener("wheel",this._wheelHandler),this._listDiv=o.createElement("div"),this._listDiv.className="rg-filter-list",this._listDiv.style.position="relative",s.appendChild(this._listDiv),this._element.appendChild(s),this._calcAllChecked(),this._calcluateStates(),this._buildItems(),r&&this._buildFooter(this._element),this._searched=!1},t.prototype._finalize=function(){var e;this._roots=[],this._visbleItemMap={};for(var t=this._items.length;t--;)this._items[t].filter=null,this._items[t].parent=null,this._items[t].childs=null,this._items[t]=null;for(this._items=[],(e=this._resetDiv)&&(e.removeEventListener("click",this._resetClickHandler),this._resetDiv=Bp.detach(this._resetDiv)),(e=this._titleDiv)&&(this._titleDiv=Bp.detach(this._titleDiv)),(e=this._searchDiv)&&(e.removeEventListener("input",this._searchInputHandler),e.removeEventListener("keydown",this._searchKeyDownHandler),this._searchInput=Bp.detach(this._searchInput),this._searchDiv=Bp.detach(this._searchDiv)),this._selectAllDiv.removeEventListener("click",this._checkAllClickHandler),this._selectAllDiv=Bp.detach(this._selectAllDiv),this._headerDiv=Bp.detach(this._headerDiv),this._footerDiv&&(this._confirmButton.removeEventListener("click",this._confirmClickHandler),this._cancelButton.removeEventListener("click",this._cancelClickHandler),this._confirmButton=Bp.detach(this._confirmButton),this._cancelButton=Bp.detach(this._cancelButton),this._footerDiv=Bp.detach(this._footerDiv)),t=this._itemElements.length;t--;)this._removeItem(t);this._itemElements=[];var i=this._viewportDiv;i.removeEventListener("scroll",this._scrollHandler),i.removeEventListener("wheel",this._wheelHandler),this._listDiv=Bp.detach(this._listDiv),this._viewportDiv=Bp.detach(this._viewportDiv)},t.prototype._buildSelectAllBox=function(){var e=this.doc,t=this._soptions,i=t.allCheckText,n=this._selectAllDiv=e.createElement("div");n.className="rg-filter-select-all",t.textToTitle&&i&&(n.title=i);var r=this._selectAllCheck=e.createElement("input");r.type="checkbox",r.className="rg-filter-checkbox",this._setCheckState(r,this._allCheck),n.appendChild(r);var o=this._selectAllText=e.createElement("div");o.className="rg-filter-text",o.innerHTML=Bp.htmlEncode(i),n.appendChild(o);var s=this._columnReset=e.createElement("div");t.useFilterResetImage?(s.className="rg-filter-column-reset image",s.innerHTML=""):(s.className="rg-filter-column-reset",s.innerHTML=Bp.htmlEncode(t.filterResetText)),n.appendChild(s),this._headerDiv.appendChild(this._selectAllDiv),this._selectAllDiv.addEventListener("click",this._checkAllClickHandler)},t.prototype._buildReset=function(e){var t=this.doc,i=this._resetDiv=t.createElement("div");i.className="rg-filter-reset",i.appendChild(t.createTextNode(this._soptions.filtersResetText)),i.addEventListener("click",this._resetClickHandler),e.appendChild(i)},t.prototype._buildTitle=function(e){var t=this.doc,i=this._titleDiv=t.createElement("div");i.className="rg-filter-title",i.appendChild(t.createTextNode(this._soptions.title||this._targetColumn.displayText)),e.appendChild(i)},t.prototype._buildItems=function(){var e="temp",t=Bp.getTextLength(e),i=0;this._filters.items.forEach(function(n){i=Math.max(i,n.level);var r=n.toString();t<Bp.getTextLength(r)&&(t=Bp.getTextLength(r),e=r)});var n=this._listDiv,r=n.style;r.display="inline-block";var o=this._buildItemElement(e,0,void 0,"rg-filter-item");o.style.position="relative",n.appendChild(o);var s=Bp.getSize(o);this._itemHeight=Math.floor(s.height),this._viewWidth=Math.floor(s.width)+15*i+4,n.removeChild(o),r.height="1500px";var a=this._viewportDiv.offsetWidth-this._viewportDiv.clientWidth;r.removeProperty("height");var l=this._visibleCount,u=this._viewportDiv.offsetHeight;this._pageCount=Math.min(this._items.length,Math.ceil(u/this._itemHeight));var c=this._pageCount;r.height=l*this._itemHeight+"px",c<=this._items.length&&(this._viewWidth+=a+2),r.removeProperty("display");var h=l<c?l:c;this._itemElements=[];for(var d=0;d<h;d++){var p=this._visibleItems[d];this._itemElements.push(this._buildItem(p,d))}},t.prototype._buildSearchbox=function(e){var t=this.doc,i=this._searchDiv=t.createElement("div");i.className="rg-filter-searchbox";var n=this._searchInput=this.doc.createElement("input");n.type="text",n.placeholder=this._soptions.searchPlaceholder,n.className="rg-filter-search-input",n.autocomplete="off",n.addEventListener("input",this._searchInputHandler),n.addEventListener("keydown",this._searchKeyDownHandler),i.appendChild(n),e.appendChild(i)},t.prototype._buildFooter=function(e){var t=this.doc;this._footerDiv=t.createElement("div"),this._footerDiv.className="rg-filter-button";var i=this._confirmButton=t.createElement("input");i.type="button",i.className="rg-filter-accept",i.value=this._soptions.acceptText,i.addEventListener("click",this._confirmClickHandler),this._footerDiv.appendChild(i);var n=this._cancelButton=t.createElement("input");n.type="button",n.className="rg-filter-cancel",n.value=this._soptions.cancelText,n.addEventListener("click",this._cancelClickHandler),this._footerDiv.appendChild(n),e.appendChild(this._footerDiv)},t.prototype._buildItem=function(e,t){var i=this._items,n=this._listDiv,r=i[e],o=r.expanded,s=this._buildItemElement(r.text,r.level,r.state,"rg-filter-item",o);return s.filter_id=e+"",s.style.position="absolute",s.style.height=this._itemHeight+"px",s.style.top=t*this._itemHeight+"px",s.addEventListener("click",this._itemClickHandler),n.appendChild(s),s},t.prototype._removeItem=function(e){var t=this._itemElements[e];t.removeEventListener("click",this._itemClickHandler),Bp.detach(t),this._itemElements.splice(e,1)},t.prototype._buildItemElement=function(e,t,i,n,r){var o,s=this.doc,a=s.createElement("div");n&&(a.className=n,a.tabIndex=-1),this._soptions.textToTitle&&e&&(a.title=e);var l=s.createElement("div");l.className="rg-filter-item-indent-"+t,a.appendChild(l);var u=s.createElement("div"),c="rg-filter-expander";void 0!==r&&(c+=" "+(r?"rg-filter-expander-expanded":"rg-filter-expander-collapsed")),u.className=c,a.appendChild(u);var h=s.createElement("input");h.type="checkbox",h.className="rg-filter-checkbox",this._setCheckState(h,i),a.appendChild(h);var d=s.createElement("div");return o=d.style,d.className="rg-filter-text",o.position="relative",o.display="inline",o.pointerEvents="none",d.innerHTML=Bp.htmlEncode(e),a.appendChild(d),a},t.prototype._calculateState=function(e){for(var t=void 0,i=0,n=e.length;i<n;i++){var r=e[i];if(t&&r.state!=t)return dm.INDETERMINATE;t=r.state}return t||dm.UNACTIVE},t.prototype._calcluateStates=function(){for(var e=this._items.length;e--;){var t=this._items[e];t.childs&&(t.state=this._calculateState(t.childs))}},t.prototype._calcVisibleItems=function(){function e(e){for(var t=e.parent;t;){if(!t.expanded)return!1;t=t.parent}return!0}var t=0;this._visibleItems=[];for(var i=0,n=this._items.length;i<n;i++){var r=this._items[i];r.parent&&!e(r)||(t++,this._visibleItems.push(i))}return t},t.prototype._setCheckState=function(e,t){e.checked=t==dm.ACTIVE,e.indeterminate=t==dm.INDETERMINATE},t.prototype._calcAllChecked=function(){this._allCheck=this._calculateState(this._roots),this._setCheckState(this._selectAllCheck,this._allCheck)},t.prototype._redrawCheck=function(){for(var e=this._itemElements.length;e--;){var i=this._itemElements[e],n=parseInt(i.filter_id),r=this._visbleItemMap[n],o=i.childNodes[t.INDEX_CHECKBOX];this._setCheckState(o,r.state)}},t.prototype._doRedraw=function(e){void 0===e&&(e=0);var t=this._itemElements,i=this._pageCount,n=Math.min(i,this._visibleCount),r=Math.max(0,this._visibleItems.indexOf(e));r+i>this._visibleCount&&(r=Math.max(0,this._visibleCount-i));for(var o=0,s=0;s<n;s++){var a=this._visibleItems[s+r];!t[s]&&s<n&&t.push(this._buildItem(a,s)),this._changeItemModel(t[s],a),o++}for(s=t.length-1;s>o-1;s--)this._removeItem(s);var l=this._visibleCount*this._itemHeight;this._listDiv.style.height=l+"px";var u=this._viewportDiv;u.scrollTop+u.offsetHeight>l&&(u.scrollTop=l-u.offsetHeight)},t.prototype._changeItemModel=function(e,t){var i=Fp(e),n=this._items[t];e.filter_id=t+"",this._soptions.textToTitle&&n.text&&(e.title=n.text);for(var r=e.childNodes.length;r--;){var o=e.childNodes.item(r);if(o instanceof i.HTMLElement){var s=o.className;if(s)if(s.indexOf("rg-filter-item-indent-")>-1)o.className="rg-filter-item-indent-"+n.level;else if(s.indexOf("rg-filter-expander")>-1){var a="rg-filter-expander";void 0!==n.expanded&&(a+=" "+(n.expanded?"rg-filter-expander-expanded":"rg-filter-expander-collapsed")),o.className=a}else if(o instanceof i.HTMLInputElement&&"rg-filter-checkbox"==s)this._setCheckState(o,n.state);else if(s.indexOf("rg-filter-text")>=0){var l=Bp.htmlEncode(n.text),u=this._searchInput?Bp.htmlEncode(this._searchInput.value):"",c="g"+(this._soptions.searchIgnoreCase?"i":"");l=u?l.replace(new RegExp(Bp.escapeRegExp(u),c),function(e,t,i){return'<span class="rg-filter-search-text">'.concat(e,"</span>")}):l,o.innerHTML="<span>"+l+"</span>"}}}},t.prototype._doScroll=function(){for(var e=this._itemElements,t=Math.max(0,Math.floor(Math.min(this._viewportDiv.scrollTop,this._listDiv.offsetHeight-this._viewportDiv.offsetHeight)/this._itemHeight)),i=0,n=e.length;i<n;i++){var r=this._visibleItems[t+i];this._changeItemModel(e[i],r),e[i].style.top=(t+i)*this._itemHeight+"px"}},t.prototype._doSearch=function(e,t){void 0===t&&(t=!0),e?this._createItemInfo(this._manager.search(e)):this._createItemInfo(this._filters),this._selectAllText.textContent=e?this._soptions.searchedCheckText:this._soptions.allCheckText,t&&this._calcAllChecked(),this._doRedraw(),this._searched=!!e},t.prototype._resetActive=function(e,t){var i=this._grid.itemSource.isFiltered(this.column.dataIndex),n=this._targetColumn,r=this._selectAllCheck;r.checked=r.indeterminate=!1,this._doSearch(this._searchInput.value="",!1);for(var o=this._items.length;o--;)this._items[o].state=dm.UNACTIVE;this._redrawCheck(),e&&this._filters.activateAll(!1,!0,i,!0),!t&&n.autoFilter&&this._options.automating.filteredDataOnly&&this.$_refreshItem(n)},t.prototype._activateAll=function(e){for(var t=!this._applyBatch,i=this._items.length;i--;){var n=this._items[i];n.childs||(n.state=e?dm.ACTIVE:dm.UNACTIVE,(!t||this._searched)&&this._dirties.push(n))}if(t&&(this._searched?this._doFilterApply():this._filters.activateAll(e,!0)),this._calcluateStates(),this._itemElements.length){var r=this._itemElements[0].filter_id,o=Math.max(0,this._visibleItems.indexOf(parseInt(r)));this._doRedraw(o)}},t.prototype._doCheck=function(e,t){var i=t?dm.ACTIVE:dm.UNACTIVE,n=this._applyBatch||void 0!==e.childs,r=this._applyBatch?this._dirties:[];if(function i(n,r,o,s){if(n.state!=r)if(n.state=r,n.childs)for(var a=n.childs.length;a--;)i(n.childs[a],r,o,s);else if(o){var l=e.filter;if(l&&l.active==(r===dm.ACTIVE)){var u=s.indexOf(n);u>=0&&s.splice(u,1)}else s.indexOf(n)<0&&s.push(n)}else n.filter.active=t}(e,i,n,r),n&&!this._applyBatch){for(var o=[],s=0,a=r.length;s<a;s++)o.push(r[s].filter.name);o.length>0&&this._filters.activateItems(o,t)}for(var l=e.parent;l;)l.state=this._calculateState(l.childs),l=l.parent;(e.parent||e.childs)&&this._redrawCheck(),this._calcAllChecked()},t.prototype._doFilterApply=function(){this._filters._updating=!0;try{for(var e=this._dirties,t=e.length;t--;){var i=e[t];i.filter.active=i.state==dm.ACTIVE}this._filters._updating=!1,e.length&&this._filters.changed(1==e.length?e[0].filter:null,!1)}finally{this._filters._updating=!1}this._dirties=[]},t.prototype._doExpand=function(e,t){e.expanded=t,this._visibleCount=this._calcVisibleItems();var i=parseInt(this._itemElements[0].filter_id);this._doRedraw(i)},t.prototype._globalMouseDownHandler=function(e){for(var t=e.target;t;){if(t===this._element)return;t=t.parentElement}this.hide()},t.prototype._globalKeyDownHandler=function(e){if(27==e.keyCode){var t=this._grid;t&&t.isValid(t.focusedIndex)&&t.setFocus(),this.hide()}},t.prototype._wheelHandler=function(e){var t=e.deltaY;0!==t&&(null==this._prevWheelTimeStamp||this._prevWheelTimeStamp+this._wheelDelay<e.timeStamp)&&(this._prevWheelTimeStamp=e.timeStamp,t=(t>0?2:-2)*this._itemHeight,this._viewportDiv.scrollTop+=t,this._doScroll()),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()},t.prototype._scrollHandler=function(e){this._doScroll()},t.prototype._searchInputHandler=function(e){var t=e.target;t instanceof Fp(t).HTMLInputElement&&this._doSearch(t.value)},t.prototype._searchKeyDownHandler=function(e){if(13==e.keyCode&&(this._doSearch(this._searchInput.value),this._searched&&this._soptions.activeWhenEnter&&this._items.length)){var t=this._selectAllCheck;t.checked=!(t.indeterminate=!1),this.$_allCheck(!0)}},t.prototype.$_refreshItem=function(e){for(var t=this._itemElements.length;t--;)this._removeItem(t);this._itemElements=[],this._manager.buildItems(e,e.grid.dataSource,e.autoFilter,!1),this._createItemInfo(e.autoFilters),this._buildItems(),this._dirties=[]},t.prototype._resetClickHandler=function(){this._grid.resetFilters(!0);var e=this._soptions.closeWhenClick;this._resetActive(!1,e),e&&this.hide()},t.prototype.$_allCheck=function(e){this._activateAll(e),this._allCheck=e?dm.ACTIVE:dm.UNACTIVE,!this._applyBatch&&this._soptions.closeWhenClick&&this.hide()},t.prototype._checkAllClickHandler=function(e){var t=this._selectAllCheck,i=e.target;i===this._columnReset?this._resetActive(!0,!1):i!==t?(t.checked=!t.checked,t.indeterminate=!1,this.$_allCheck(t.checked)):i===t&&this.$_allCheck(t.checked)},t.prototype._itemClickHandler=function(e){for(var i=e.target,n=i.className.indexOf("rg-filter-expander")>-1,r="rg-filter-checkbox"==i.className,o=i;o&&"rg-filter-item"!==o.className;)o=o.parentElement;!o&&(o=e.currentTarget);var s=parseInt(o.filter_id),a=this._visbleItemMap[s];if(n)void 0!==a.expanded&&this._doExpand(a,!a.expanded);else{var l=void 0;r?l=i:(l=o.children.item(t.INDEX_CHECKBOX)).checked=!l.checked,this._doCheck(a,l.checked),!this._applyBatch&&this._soptions.closeWhenClick&&this.hide()}},t.prototype._confirmClickHandler=function(){this._doFilterApply(),this.hide()},t.prototype._cancelClickHandler=function(){this.hide()},t.INDEX_CHECKBOX=2,t}(Vf),kI=function(e){function t(t,i){var n=e.call(this)||this;return n.$_touchendHandler=null,n._container=t,n._element=n.$_createElement(t.doc),n._isMessage=i,n.$_touchendHandler=function(e){e.preventDefault(),this.hide()}.bind(n),Bp.isMobile()&&n._element.addEventListener("touchend",n.$_touchendHandler,!1),n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this),this._element&&this._element.removeEventListener("touchend",this.$_touchendHandler),Bp.detach(this._element)},t.prototype.show=function(e,t,i,n,r){this.$_show(e,t,i,n,r)},t.prototype.hide=function(){clearTimeout(this._timer),Bp.detach(this._element)},t.prototype.$_createElement=function(e){var t=e.createElement("div");return t.style.pointerEvents="none",t.onkeydown=function(e){27==e.keyCode&&this.hide()}.bind(this),this.$_disableSelection(t),this._span=e.createElement("span"),t.appendChild(this._span),this.$_disableSelection(this._span),t},t.prototype.$_disableSelection=function(e){void 0!==e.onselectstart?e.onselectstart=function(){return!1}:void 0!==e.style.MozUserSelect?e.style.MozUserSelect="none":e.onmousedown=function(){return!1}},t.prototype.$_show=function(e,t,i,n,r){var o=this,s=this._container.gridView.displayOptions.baseZindex+4,a=this._element,l=e&&e.message;if(a&&l){this._span.innerHTML=l.replace(/\n/g,"<br>");var u=this._isMessage?"rg-message":"rg-tooltip";e.styleName&&(u="".concat(u," ").concat(e.styleName)),Bp.setClassName(a,u);var c=a.style;c.position="absolute",c.left="0px",c.top=i+"px",c.overflow="hidden",c.zIndex=String(s),this._container._container.appendChild(a);var h=Bp.getSize(a),d=Bp.getSize(this._container._container);c.left=d.width-h.width>t?t+"px":Math.max(d.right-h.width-d.left-2,0)+"px",h.bottom>d.bottom&&(a.style.top=r?Math.max(0,i-(h.bottom-d.bottom))+"px":Math.max(i-h.height-n,0)+"px"),c.visibility="visible",clearTimeout(this._timer),e.hideDuration&&(this._timer=setTimeout(function(){o.hide()},e.hideDuration))}},t}(Yp),PI=function(e){function t(t){var i=e.call(this)||this;return i._active=!1,i._messageActive=!1,i._container=t.container,i}return gd(t,e),t.prototype._doDispose=function(){this._container=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"visible",{get:function(){return this._active},enumerable:!1,configurable:!0}),t.prototype.show=function(e,t,i,n,r){return!(this._active||(this.close(),!e)||(this._tipView||(this._tipView=new kI(this._container,!1)),this._tipView.show(e,t,i,n,r),this._active=!0,0))},t.prototype.showMessage=function(e,t,i){e&&((this._messageView||(this._messageView=new kI(this._container,!0))).show(e,t,i,0,!1),this._messageActive=!0)},t.prototype.close=function(){return!!this._active&&(this._tipView&&this._tipView.hide(),this._active=!1,!0)},t.prototype.closeMessage=function(){this._messageActive&&(this._messageView&&this._messageView.hide(),this._messageActive=!1)},t}(Yp),RI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},TI={};!function(e){var t,i=RI&&RI.__extends||(t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,i)},function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.h=e.r=void 0;var n=function(){function e(){}return e.encode=function(t){for(var i=e.CHARACTERS,n=[],r=t.length,o=r%3,s=r-o,a=0;a<s;){var l=t[a++]<<16|t[a++]<<8|t[a++];n.push(i.charAt(l>>>18&63)),n.push(i.charAt(l>>>12&63)),n.push(i.charAt(l>>>6&63)),n.push(i.charAt(63&l))}switch(o){case 2:l=t[s++]<<16|t[s++]<<8,n.push(i.charAt(l>>>18&63)),n.push(i.charAt(l>>>12&63)),n.push(i.charAt(l>>>6&63)),n.push(e.SUFFIX);break;case 1:l=t[s++]<<16,n.push(i.charAt(l>>>18&63)),n.push(i.charAt(l>>>12&63)),n.push(e.SUFFIX),n.push(e.SUFFIX)}return n.join("")},e.decode=function(t){for(var i=e.CHARACTERS,n=e.SUFFIX,r=t.split(""),o=[],s=r.length;r[--s]===n;);for(var a=0;a<s;){var l=i.indexOf(r[a++])<<18;a<=s&&(l|=i.indexOf(r[a++])<<12),a<=s&&(l|=i.indexOf(r[a++])<<6),a<=s&&(l|=i.indexOf(r[a++])),o.push(l>>>16&255),o.push(l>>>8&255),o.push(255&l)}for(;0===o[o.length-1];)o.pop();return o},e.SUFFIX="=",e.CHARACTERS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e}(),r=function(){function e(){}return e.union=function(e,t){var i=t.s3[255&e],n=t.s2[255&(e>>=8)],r=t.s1[255&(e>>=8)];return((r=((r=((e=t.s0[255&(e>>=8)])>>16)+(r>>16)+((65535&e)+(65535&r)>>16)<<16|(65535&e)+(65535&r)&65535)>>16^n>>16)<<16|65535&(65535&r^65535&n))>>16)+(i>>16)+((65535&r)+(65535&i)>>16)<<16|(65535&r)+(65535&i)&65535},e.xor=function(e,t){return(e>>16^t>>16)<<16|65535&(65535&e^65535&t)},e._encryptBlock=function(t,i){var n=t.left,r=t.right,o=e.xor,s=e.union;n=o(n,i.p[0]),r=o(r,o(s(n,i),i.p[1])),n=o(n,o(s(r,i),i.p[2])),r=o(r,o(s(n,i),i.p[3])),n=o(n,o(s(r,i),i.p[4])),r=o(r,o(s(n,i),i.p[5])),n=o(n,o(s(r,i),i.p[6])),r=o(r,o(s(n,i),i.p[7])),n=o(n,o(s(r,i),i.p[8])),r=o(r,o(s(n,i),i.p[9])),n=o(n,o(s(r,i),i.p[10])),r=o(r,o(s(n,i),i.p[11])),n=o(n,o(s(r,i),i.p[12])),r=o(r,o(s(n,i),i.p[13])),n=o(n,o(s(r,i),i.p[14])),r=o(r,o(s(n,i),i.p[15])),n=o(n,o(s(r,i),i.p[16])),t.right=n,t.left=o(r,i.p[17])},e._decryptBlock=function(t,i){var n=t.left,r=t.right,o=e.xor,s=e.union;n=o(n,i.p[17]),r=o(r,o(s(n,i),i.p[16])),n=o(n,o(s(r,i),i.p[15])),r=o(r,o(s(n,i),i.p[14])),n=o(n,o(s(r,i),i.p[13])),r=o(r,o(s(n,i),i.p[12])),n=o(n,o(s(r,i),i.p[11])),r=o(r,o(s(n,i),i.p[10])),n=o(n,o(s(r,i),i.p[9])),r=o(r,o(s(n,i),i.p[8])),n=o(n,o(s(r,i),i.p[7])),r=o(r,o(s(n,i),i.p[6])),n=o(n,o(s(r,i),i.p[5])),r=o(r,o(s(n,i),i.p[4])),n=o(n,o(s(r,i),i.p[3])),r=o(r,o(s(n,i),i.p[2])),n=o(n,o(s(r,i),i.p[1])),t.right=n,t.left=o(r,i.p[0])},e._init=function(t){for(var i,n=t.split("").map(function(e){return 255&e.charCodeAt(0)}),r=(t=e.kb,e._encryptBlock),o=0,s=0,a={left:0,right:0},l={p:t.p.slice(0).map(function(t){for(var i=n.length,r=0;r<4;r++)s=s*e.POW8|n[o++%i];return(t>>16^s>>16)<<16|65535&(65535&t^65535&s)}),s0:t.s0.slice(0),s1:t.s1.slice(0),s2:t.s2.slice(0),s3:t.s3.slice(0)},u=0,c=l.p.length;u<c;)r(a,l),l.p[u++]=a.left,l.p[u++]=a.right;for(u=0;u<4;u++)for(i=0,c=l["s"+u].length;i<c;)r(a,l),l["s"+u][i++]=a.left,l["s"+u][i++]=a.right;return l},e.encrypt=function(t,i){for(var r=e._encryptBlock,o=e._init(i),s=8-(7&t.length),a=0;a<s;a++)t+=String.fromCharCode(s);var l=0,u=[],c=t.length>>3,h={left:null,right:null};for(a=0;a<c;a++)h.left=t.charCodeAt(l)*e.POW24|t.charCodeAt(l+1)*e.POW16|t.charCodeAt(l+2)*e.POW8|t.charCodeAt(l+3),h.right=t.charCodeAt(l+4)*e.POW24|t.charCodeAt(l+5)*e.POW16|t.charCodeAt(l+6)*e.POW8|t.charCodeAt(l+7),r(h,o),u.push(h.left>>24&255),u.push(h.left>>16&255),u.push(h.left>>8&255),u.push(255&h.left),u.push(h.right>>24&255),u.push(h.right>>16&255),u.push(h.right>>8&255),u.push(255&h.right),l+=8;return n.encode(u)},e.decrypt=function(t,i){for(var r=e._decryptBlock,o=e._init(i),s=[],a=n.decode(t),l=0,u=a.length>>3,c={left:null,right:null},h=0;h<u;h++){c.left=a[l]*e.POW24|a[l+1]*e.POW16|a[l+2]*e.POW8|a[l+3],c.right=a[l+4]*e.POW24|a[l+5]*e.POW16|a[l+6]*e.POW8|a[l+7],r(c,o);var d=c.left,p=c.right;s.push(d>>24&255),s.push(d>>16&255),s.push(d>>8&255),s.push(255&d),s.push(p>>24&255),s.push(p>>16&255),s.push(p>>8&255),s.push(255&p),l+=8}return s[s.length-1]!==s[s.length-2]&&1!==s[s.length-1]||(t=s[s.length-1],s.splice(s.length-t,t)),s.map(function(e){return String.fromCharCode(e)}).join("")},e.POW2=Math.pow(2,2),e.POW3=Math.pow(2,3),e.POW4=Math.pow(2,4),e.POW8=Math.pow(2,8),e.POW16=Math.pow(2,16),e.POW24=Math.pow(2,24),e.kb={p:[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s0:[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],s1:[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],s2:[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],s3:[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],k:[202,218,204,100]},e}(),o=String.fromCharCode(100,107,100,108),s=function(){function e(e){this._gk=null!=e?e:o}return e.prototype._ldk=function(e){for(var t="",i=0,n=e.length;i<n;i++)t+=String.fromCharCode(e[i]>>1);return t},e.prototype.get=function(){return this._gk+this._ldk(r.kb.k)},e}(),a=function(){function e(){}return e.run=function(e,t){return t=new s(t).get(),r.encrypt(e,t)},e}();e.r=a;var l=function(e){function t(){var i=e.call(this)||this;return Object.setPrototypeOf(i,t.prototype),i}return i(t,e),t}(Error),u=function(){function e(e,t){this._gk=t,this._code=e,this._lic=this.run()}return e.prototype.run=function(){for(var e={},t=r.decrypt(this._code,new s(this._gk).get()).split(";"),i=0,n=t.length;i<n;i++){var o,a=(o=t[i].split("="))[0];(o=o[1])&&0<o.length&&(e[a]=o)}return e},Object.defineProperty(e.prototype,"lic",{get:function(){return this._lic},enumerable:!1,configurable:!0}),e.prototype.is=function(e,t){return e in this._lic&&this._lic[e]===t},e.prototype.includes=function(e,t){return e in this._lic&&0<=t.indexOf(this._lic[e])},e.prototype.expired=function(e,t){return!(e in this._lic)||!this._lic[e]||(e=this._lic[e],t=(t?new Date(new Date(e).setMonth(new Date(e).getMonth()+t)):new Date(e)).getTime(),e=Date.now(),!isNaN(t)&&t<e)},e.prototype.validate=function(e){var t=this,i=!1;try{e.forEach(function(e){var n=Object.keys(e),r=Object.values(e);n.forEach(function(e,n){if(n=r[n],!(i=Array.isArray(n)?t.includes(e,n):t.is(e,n)))throw new l})})}catch(n){if(!(n instanceof l))throw n;i=!1}return i},e}();e.h=u}(TI);var DI=function(e){function t(i,n){var r,o=this;switch(i){case 2:r="invalid product-name";break;case 8:r="invalid domain";break;case 16:r="The period of use has expired";break;case 64:r="invalid license type";break;default:r="No license or invalid license."}return o=e.call(this,"".concat(r,"\nlicense: ").concat(n))||this,Object.setPrototypeOf(o,t.prototype),o.name="LicenseError",o.type=i,o.license=n,o}return gd(t,e),t}(Error);function MI(e,t){return e==t||0===e.indexOf("*")&&(e=e.substr(1,e.length-1),t.substr(t.indexOf(e),e.length)==e)}function LI(e,t,i){for(var n=e.split(","),r=0,o=n.length;r<o;r++){var s=n[r];if(MI(s,t))return!0;if(i&&s&&"*"===s[0]&&"*."!==s.substr(0,1)&&new RegExp("^/"+s.substr(1)+"/").exec(i))return!0}return!1}var AI=function(e){function t(t){var i=e.call(this,"rowGroupHeaderCell")||this;return i._rowGroup=t,i}return gd(t,e),t.prototype._doDispose=function(){this._rowGroup=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"text",{get:function(){return this.item instanceof nm?this._rowGroup.getHeaderText(this.item):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){},enumerable:!1,configurable:!0}),t}(km),FI=function(e){function t(t){var i=e.call(this,"rowGroupFooterCell")||this;return i._footerIndex=0,i._value=NaN,i._rowGroup=t,i}return gd(t,e),t.$_getValue=function(e,t){if(t){var i=t.grid,n=e.parent,r=n.getFooterIndex(e),o=t.groupFooters.get(r),s=o&&o.expression,a=o&&o.valueCallback;if(s||a){var l=null;if(s&&t instanceof bv){var u=i.rowGroupSummaryRuntime;u.setColumn(t,t.grid.summarizer),u.setItem(n),l=o.evaluate(u)}return a?a(i.handler,t,r,n,l):l}if(n&&t instanceof bv&&i.isGroupedColumn(t)){var c=i.rowGroup.getFooterText(n);return null==c?void 0:c}}},t.getValue=function(e,i){try{return t.$_getValue(e,i)}catch(n){return km.ERROR}},t.$_displayText=function(e,t,i,n){var r;if(n&&null!=n.text)r=n.text;else if(void 0!==i&&t){if(i instanceof Date){var o=n.datetimeWriter;r=o?o.getText(i):String(i)}else if("number"==typeof i){var s=n.numberFormatter;r=s?s.getText(i):isNaN(i)?"":String(i)}else"string"==typeof i?r=i+"":"boolean"==typeof i&&(r=String(i));if(r){var a=n.prefix;a&&(r=a+r),(a=n.suffix)&&(r+=a)}}if(null==r){var l=Bp.cast(e.parent,nm);if(t){var u=t.groupFooters.get(l.getFooterIndex(e));u&&(r=u.text)}}return r||""},t.prototype._doDispose=function(){this._rowGroup=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"footerIndex",{get:function(){return this._footerIndex},enumerable:!1,configurable:!0}),t.prototype.calculate=function(e){this._value=NaN,this._error=null;try{this._value=t.$_getValue(this.index.item||e,this.index.dataColumn||this.index.literalColumn)}catch(i){this._error=i,this._errorDetail=i,Bp.log("FOOTER ERROR: "+i)}},t.prototype.getDisplayText=function(e){return this._error?km.ERROR:t.$_displayText(this.index.item,this.index.dataColumn||this.index.literalColumn,this._value,e)},t.prototype.getSummary=function(){return this._getSummary(this.valueColumn,this._footerIndex)},t.prototype.getTemplate=function(e){var t=this._getSummary(this.valueColumn,this._footerIndex);return t?t.realizeGroupSummary(this,e):void 0},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.index.item.level},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(t){e.prototype.setIndex.call(this,t),this._footerIndex=t.item.$_footerIndex},t.prototype._getSummary=function(e,t){return e.groupFooters.get(t)},t}(km),$I=function(e){function t(){var t=e.call(this,"rowGroupBarCell")||this;return t._level=0,t}return gd(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this.item.level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getText",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){},enumerable:!1,configurable:!0}),t}(km),NI=function(e){function t(t){var i=e.call(this)||this;return i._index=0,i.$_owner=t,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return this._styleName},set:function(e){e!=this._styleName&&(this._styleName=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exportStyleName",{get:function(){return this._exportStyleName},set:function(e){this._exportStyleName=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleCallback",{get:function(){return this._styleCallback},set:function(e){e!==this._styleCallback&&(this._styleCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellStyleCallback",{get:function(){return this._cellStyleCallback},set:function(e){e!==this._cellStyleCallback&&(this._cellStyleCallback=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype._changed=function(){this.$_owner&&this.$_owner.$_itemChanged(this)},t}(Yp),jI=function(e){function t(t){var i=e.call(this)||this;return i._items=[],i._owner=t,i._items.push(new NI(i)),i.assignFrom(u_.rowGroup.footers),i}return gd(t,e),t.prototype._doDispose=function(){for(var t=0,i=this._items;t<i.length;t++)i[t].dispose();this._items=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._items.length},set:function(e){e=Math.max(e,1);var t=this._items;if(e!==t.length){for(var i=void 0;t.length<e;)(i=new NI(this))._index=t.length,t.push(i);for(;t.length>e;)(i=t.pop()).dispose();this.$_itemChanged(null)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),t.prototype.get=function(e){return this._items[e]},t.prototype.assignFrom=function(t){e.prototype.assignFrom.call(this,t);var i=this._items,n=t&&t.items?Bp.makeArray(t.items,!0):t;if(Array.isArray(n))for(var r=Math.max(n.length,1),o=0;o<r;o++)i[o]||(i[o]=new NI(this)),i[o].assignFrom(n[o]),i[o]._index=o;else i[0].assignFrom(n),i[0]._index=0;this.$_itemChanged(null)},t.prototype.$_itemChanged=function(e){this._owner&&this._owner.rowGroupFooterChanged(e)},t}(Yp),BI=function(e){function t(t){var i=e.call(this,t)||this;return i._mergeMode=!1,i._sorting=!0,i._expandedAdornments=Ed.BOTH,i._collapsedAdornments=Ed.HEADER,i._indentVisible=!0,i._indentVisibleLevel=0,i._levelIndent=20,i._headerStatement="${groupField}: ${groupValue} - ${rowCount} rows",i._expanderVisibility=ep.DEFAULT,i._headerCell=new AI(i),i._footerCell=new FI(i),i._barCell=new $I,i._headerStatementExpr=new gm(i._headerStatement),i._footerStatementExpr=new gm,i._statementRuntime=new Sm,i._footerFormatter={numberFormatter:null,datetimeWriter:null,booleanFormatter:null,textFormatter:null,prefix:"",suffix:"",text:void 0},i._footers=new jI(i),i.assignFrom(u_.rowGroup),i}return gd(t,e),t.prototype._doDispose=function(){this._footers=this._footers.dispose(),e.prototype._doDispose.call(this)},t.prototype.rowGroupFooterChanged=function(e){this._counterAware&&this._counterAware.groupfFooterCounterChanged(this)},t.prototype.getGroupFooterCount=function(e){return this._footers.count},t.prototype.setCounterAware=function(e){this._counterAware=e},Object.defineProperty(t.prototype,"mergeMode",{get:function(){return this._mergeMode},set:function(e){e!=this._mergeMode&&(this._mergeMode=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sorting",{get:function(){return this._sorting},set:function(e){e!=this._sorting&&(this._sorting=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandedAdornments",{get:function(){return this._expandedAdornments},set:function(e){e!=this._expandedAdornments&&(this._expandedAdornments=e,this._grid&&this._grid.$_rowGroupAdornmentsChanged(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapsedAdornments",{get:function(){return this._collapsedAdornments},set:function(e){e!==Ed.NONE&&e!=this._collapsedAdornments&&(this._collapsedAdornments=e,this._grid&&this._grid.$_rowGroupAdornmentsChanged(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createFooterCallback",{get:function(){return this._createFooterCallback},set:function(e){e!==this._createFooterCallback&&(this._createFooterCallback=e,this._grid&&this._grid.$_rowGroupAdornmentsChanged(this,!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indentVisible",{get:function(){return this._indentVisible},set:function(e){e!=this._indentVisible&&(this._indentVisible=e,this._grid&&this._grid.$_rowGroupAdornmentsChanged(this),this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indentVisibleLevel",{get:function(){var e=this._indentVisibleLevel;if(!this._grid||!e||Ad(this.expandedAdornments)||Ad(this.collapsedAdornments))return 0;var t=e>=1?1:-1;return Math.min(this._grid.rowGroupLevels,Math.abs(e))*t},set:function(e){e!==this._indentVisibleLevel&&(this._indentVisibleLevel=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levelIndent",{get:function(){return this._levelIndent},set:function(e){(e=Math.max(0,e))!=this._levelIndent&&(this._levelIndent=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footers",{get:function(){return this._footers},set:function(e){this.setFooters(e)},enumerable:!1,configurable:!0}),t.prototype.setFooters=function(e){this._footers.assignFrom(e)},Object.defineProperty(t.prototype,"headerStatement",{get:function(){return this._headerStatement},set:function(e){e!==this._headerStatement&&(this._headerStatement=e,this._headerStatementExpr.source=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerCallback",{get:function(){return this._headerCallback},set:function(e){this._headerCallback=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerStatement",{get:function(){return this._footerStatement},set:function(e){e!=this._footerStatement&&(this._footerStatement=e,this._footerStatementExpr.source=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergeExpanderVisibility",{get:function(){return this.expanderVisibility},set:function(e){this.expanderVisibility=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expanderVisibility",{get:function(){return this._expanderVisibility},set:function(e){e!==this.expanderVisibility&&(this._expanderVisibility=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expanderVisibleCallback",{get:function(){return this._expanderVisibleCallback},set:function(e){this._expanderVisibleCallback=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueForGroupCallback",{get:function(){return this._valueForGroupCallback},set:function(e){this._valueForGroupCallback=e,this._grid&&this._grid.$_rowGroupAdornmentsChanged(this,!0),this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetOriginVindex",{get:function(){return this._resetOriginVindex},set:function(e){this._resetOriginVindex=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blankGroupData",{get:function(){return this._blankGroupData},set:function(e){e!==this._blankGroupData&&(this._blankGroupData=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype.getHeaderCell=function(e){return this._headerCell.setIndex(Wv.temp(this.owner,e.index)),this._headerCell},t.prototype.getFooterCell=function(e){var t=e.item;return this._footerCell.setIndex(e),this._footerCell.calculate(t),this._footerCell},t.prototype.getFooterStyleName=function(e){var t=this._footers.get(e.$_footerIndex),i="rg-rowgroup-footer rg-rowgroup-footer-level-"+String(e.parent.level),n=t.styleName,r=t.styleCallback;return n&&(i+=" "+n),r&&(n=r(this._grid.handler,e.index,t.index))&&(i+=" "+n),i},t.prototype.getFooterCellStyle=function(e,i,n){void 0===n&&(n=!0);var r=e.footerIndex,o=this._footers.get(r).cellStyleCallback,s=e.index.column.groupFooters.get(e.footerIndex);if(o){var a=o(this._grid.handler,e);i.assign(a)}if(s){var l=s.styleCallback;if(l){var u=l(this._grid.handler,e);i.assign(u)}}return!i.styleName&&s&&(i.styleName=s.styleName),n&&(i.styleName?i.styleName=t.FOOTER_CELL_STYLE+" "+i.styleName:i.styleName=t.FOOTER_CELL_STYLE),i},t.prototype.getFooterCellFormatters=function(e,t){return t&&e?(t.numberFormatter=t.numberFormatter||e.numberFormatter,t.datetimeWriter=t.datetimeWriter||e.datetimeWriter,t.booleanFormatter=t.booleanFormatter||e.boolFormatter,t.textFormatter=t.textFormatter||e.textFormatter,t.prefix=t.prefix||e.prefix,t.suffix=t.suffix||e.suffix):e&&((t=this._footerFormatter).numberFormatter=e.numberFormatter,t.datetimeWriter=e.datetimeWriter,t.booleanFormatter=e.boolFormatter,t.textFormatter=e.textFormatter,t.prefix=e.prefix,t.suffix=e.suffix),t},t.prototype.getBarCell=function(e){return this._barCell.setIndex(e),this._barCell},t.prototype.getHeaderText=function(e){return!this._headerStatement&&this._headerCallback?this._headerCallback(this.owner.handler,e):(this._statementRuntime.setGrid(this.owner),this._statementRuntime.setGroup(e),this._headerStatementExpr.evaluate(this._statementRuntime))},t.prototype.getFooterText=function(e){if(this._footerStatement&&this._footerStatementExpr)return this._statementRuntime.setGrid(this.owner),this._statementRuntime.setGroup(e),this._footerStatementExpr.evaluate(this._statementRuntime)},t.prototype.getIndentCount=function(e){var t=this.indentVisibleLevel;return 0===t?e:Math.min(Math.abs(t),e)},t.prototype._doChanged=function(){this.owner.$_rowGroupChanged(this)},t.prototype.$_isExpanderVisible=function(e){var t;if(!e.expanded)return!0;if(this._expanderVisibleCallback)t=null==(t=this._expanderVisibleCallback.call(this._grid,this._grid.handler,e))||t;else switch(this._expanderVisibility){case ep.NONE:t=!1;break;case ep.ALWAYS:t=!0;break;default:t=Jm(e)}return!!t&&(e instanceof nm?e.footerCount>0||Ad(this.collapsedAdornments):void 0)},t.FOOTER_CELL_STYLE="rg-rowgroup-footer-cell",t.FOOTER_CELL_RENDERER="rg-rowgroup-footer-renderer",t}(Im),VI=function(e){function t(t){var i=e.call(this,t.doc,"gridDebugLayer")||this;return i._owner=t,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.layout=function(){var e=this._owner.layoutManager;this.$_setBounds(this._grid,e.gridBounds.clone().inflate(-1,-1));var t=e.dataBounds.clone();t.offset(e.contentBounds.x,e.contentBounds.y),this.$_setBounds(this._data,t)},t.prototype._getCssSelector=function(){return"rg-debug-layer"},t.prototype._initDom=function(e){var t=e.style,i=$p(e);t.position="absolute",e.appendChild(this._client=this.$_createElement(i,"Client")),e.appendChild(this._topContent=this.$_createElement(i,"Top Content")),e.appendChild(this._leftContent=this.$_createElement(i,"Left Content")),e.appendChild(this._fixedContent=this.$_createElement(i,"Fixed Content")),e.appendChild(this._content=this.$_createElement(i,"Content")),e.appendChild(this._rightContent=this.$_createElement(i,"Right Content")),e.appendChild(this._grid=this.$_createElement(i,"Grid Bounds","b")),e.appendChild(this._data=this.$_createElement(i,"Data Bounds","g")),e.appendChild(this._nonFixed=this.$_createElement(i,"Non Fixed","g"))},t.prototype.$_createElement=function(e,t,i){void 0===i&&(i="r");var n=e.createElement("span"),r=n.style;return r.display="inline-block",r.position="absolute",r.boxSizing="border-box",r.pointerEvents="none","b"==i?(r.border="2px dashed rgba(0, 0, 255, 0.5)",r.color="blue"):"g"==i?(r.paddingTop="20px",r.border="2px solid rgba(0, 128, 0, 0.5)",r.color="rgb(0, 128, 0)"):(r.border="1px solid rgba(255, 0, 0, 0.7)",r.color="red"),r.fontWeight="bold",r.textAlign="center",r.verticalAlign="middle",r.whiteSpace="normal",n[Bp.TextProp]=t,n},t.prototype.$_setBounds=function(e,t){var i=e.style;t.isEmpty?i.display="none":(i.display="inline-block",i.left=t.x+"px",i.top=t.y+"px",i.width=t.width+"px",i.height=t.height+"px",i.lineHeight=t.height+"px")},t}(kb);!function(e){function t(){var t=e.call(this)||this;return t._min=0,t._max=100,t._step=1,t._next=0,t._completed=!1,t._timer=void 0,t}gd(t,e),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){this._step=e},enumerable:!1,configurable:!0}),t.prototype.execute=function(e){if(e){this._runner=e,this._next=this._min;var t=Fp(e.container);e.container instanceof t.HTMLElement&&(this._view.setProperties(this._min,this._max,this._min),this._view.show(e.container)),this.$_runNext()}},t.prototype.$_runNext=function(){if(this._next<this._max){var e=this._runner.run(this._next);if(this._next+=this._step,this._view.setPosition(this._next,e),this._next<this._max)return void setTimeout(function(){this.$_runNext()}.bind(this),0)}!this._completed&&this.$_complete()},t.prototype.$_complete=function(){try{this._runner.complete&&this._runner.complete()}finally{this._completed=!0,this._view.close()}}}(Vf);var HI,UI=function(e){function t(t){var i=e.call(this)||this;i._message="Load data...",i._min=0,i._max=0,i._pos=0;var n=$p(t);return i._dom=i.$_createElement(n),i}return gd(t,e),Object.defineProperty(t.prototype,"message",{get:function(){return this._message},set:function(e){this._message=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),t.prototype.setPosition=function(e,t){(e=Math.max(this._min,Math.min(this._max,e)))!=this._pos&&(this._pos=e,this._message=t,this.$_refreshView())},t.prototype.setProperties=function(e,t,i,n,r){void 0===n&&(n=null),void 0===r&&(r=!1),this._min=e,this._max=Math.max(e,t),this._max==this._min&&(this._max=this._min+1),this._pos=Math.max(this._min,Math.min(this._max,i)),this._message=n,r&&this.$_refreshView()},t.prototype.setZIndex=function(e){this._dom.style.zIndex=String(e+5)},t.prototype.show=function(e,t){void 0===t&&(t=null),this._container=e,t&&this.$_setMessage(t),e.appendChild(this._dom);var i=Bp.getSize(e),n=Bp.getSize(this._dom);Bp.move(this._dom,(i.width-n.width)/2,(i.height-n.height)/3)},t.prototype.close=function(){Bp.detach(this._dom)},t.prototype.$_createElement=function(e){var t=e.createElement("div");t.className="rg-progress";var i=t.style;return i.position="absolute",i.zIndex="3001",i.minWidth="250px",i.padding="8px 10px",t.appendChild(t.$_bar=this.$_createBar(e)),t.appendChild(t.$_msg=this.$_createMsg(e)),t},t.prototype.$_createBar=function(e){var t=e.createElement("div");t.className="rg-progress-bar";var i=t.style;i.width="100%",i.height="13px",i.marginBottom="4px";var n=e.createElement("div");return n.className="rg-progress-progress",(i=n.style).height="100%",i.width="0px",t.appendChild(t.$_led=n),t},t.prototype.$_createMsg=function(e){var t=e.createElement("div"),i=e.createElement("span");i.className="rg-progress-message";var n=t.style;return n.width="100%",n.textAlign="center",t.appendChild(t.$_span=i),t},t.prototype.$_refreshView=function(){var e=this._dom,t=e.$_bar,i=t.$_led;e.$_msg.$_span.innerHTML=Bp.htmlEncode(this._message);var n=Bp.getSize(t);i.style.width=Math.min(n.width-1,Math.floor(n.width*(this._pos-this._min)/(this._max-this._min)))+"px"},t.prototype.$_setMessage=function(e){this._dom.$_msg.$_span.innerHTML=Bp.htmlEncode(this._message)},t}(Vf),WI=function(e){function t(t){var i=e.call(this)||this;return i._container=t,i}return gd(t,e),t.prototype.show=function(e,t,i){this._view||(this._view=new UI(e)),this._view.setZIndex(i),this._view.show(e||this._container,t||"Load data...")},t.prototype.close=function(){this._view&&this._view.close()},t.prototype.setProperties=function(e,t,i,n){this._view&&(n||(n=this._title||"Load data... ",t>e&&(n+=Math.floor(100*(i-e)/(t-e))+"% ("+i+" / "+t+")")),this._view.setProperties(e,t,i,n,!0))},t.prototype.showLoader=function(e,t){this._loaderView||(this._loaderView=new GI(e)),this._loaderView.setZIndex(t),this._loaderView.show(e||this._container)},t.prototype.closeLoader=function(){this._loaderView&&this._loaderView.close()},t.prototype.loaderShowing=function(){return this._loaderView&&this._loaderView.isShowing()},t}(Vf),GI=function(e){function t(t){var i=e.call(this)||this,n=$p(t);return i._dom=i.$_createElement(n),i}return gd(t,e),t.prototype.show=function(e){e.appendChild(this._dom)},t.prototype.setZIndex=function(e){this._dom.style.zIndex=String(e+5)},t.prototype.close=function(){Bp.detach(this._dom)},t.prototype.isShowing=function(){return!!this._dom.parentElement},t.prototype.$_createElement=function(e){var t=e.createElement("div");return t.className="rg-load-indicator",t.style.position="absolute",t},t}(Vf),zI=function(e){function t(t){var i=e.call(this,t)||this;return i._title="  (     )",i._description="${columns}    .",i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title!==e&&(this._title=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this._description},set:function(e){this._description!==e&&(this._description=e)},enumerable:!1,configurable:!0}),t.prototype.getDescription=function(){var e,t=this.title?"<strong>"+this.title+"</strong>":"",i="";if(e=this.grid){var n=e.layoutManager.cellLayouts._dataCells,r=n&&n[0];r&&r.forEach(function(e){e.isProxy||(i+=e.displayText+", ")})}return t+(i=this.description?"<span>"+this.description.replace("${columns}",i.substr(0,i.length-2))+"</span>":"")},t}(Dw),YI=function(e){function t(t){var i=e.call(this,t.doc,"watermark")||this;return i._grid=t,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"message",{get:function(){return this._message},set:function(e){this._message=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(e){this._active=e},enumerable:!1,configurable:!0}),t.prototype.refresh=function(){var e=32===this._grid.container._lkCheck;if(e){this._active=!0;var t=this._dom;t&&!t.parentElement&&this._grid._dom.appendChild(t),this.$_setDiv(t,e),this.$_setSpan(this._span,e,this.message||Vp.decode("6riw6rCE7J20IOunjOujjOuQmOyXiOyKteuLiOuLpA==")),this.resetSize(),this._grid.container.disabled=!0}},t.prototype._getCssSelector=function(){return"rg-watermark-layer"},t.prototype._initDom=function(e){var t=$p(e);e.appendChild(this._span=this.$_createElement(t,""))},t.prototype._setSizeStyle=function(e){var t=this._active;e.width=t?"100%":"0px",e.height=t?"100%":"0px"},t.prototype.$_setDiv=function(e,t){var i=e.style;i.position="absolute",i.zIndex="1",t?(this.setImportantStyle("background-color","rgba(80, 80, 80, 0.5)"),this.setImportantStyle("display","block"),i.removeProperty("pointer-events")):i.pointerEvents="none"},t.prototype.$_setSpan=function(e,t,i){var n=e.style;t&&(n.display="inline-block",n.position="absolute",n.boxSizing="border-box",n.pointerEvents="none",n.fontWeight="bold",n.textAlign="center",n.verticalAlign="middle",n.whiteSpace="normal",n.top="50%",n.left="50%",n.transform="translate(-50%, -50%)",n.fontSize="50px",e[Bp.TextProp]=i)},t.prototype.$_createElement=function(e,t){return e.createElement("span")},t}(kb),qI=function(e){function t(){return e.call(this,"filterPanelCell")||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t}(km),KI=function(e){function t(t){var i=e.call(this,t)||this;return i._showInput=!0,i._height=23,i._minRowHeight=23,i._filterDelay=500,i._ignoreCase=!0,i._trimData=!1,i._beforeCommit=!0,i._defaultNumberOperator=sp.GREATER_EQUAL,i._defaultTextOperator=sp.CONTAINS,i._defaultDateOperator=sp.GREATER_EQUAL,i.visible=!1,i.assignFrom(u_.filterPanel),i._cell=new qI,i}return gd(t,e),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){e!==this._height&&(this._height=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minRowHeight",{get:function(){return this._minRowHeight},set:function(e){e!==this._minRowHeight&&(this._minRowHeight=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInput",{get:function(){return this._showInput},set:function(e){e!=this._showInput&&(this._showInput=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignoreCase",{get:function(){return this._ignoreCase},set:function(e){e!==this._ignoreCase&&(this._ignoreCase=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterDelay",{get:function(){return this._filterDelay},set:function(e){this._filterDelay=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"beforeCommit",{get:function(){return this._beforeCommit},set:function(e){e!=this._beforeCommit&&(this._beforeCommit=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textOperators",{get:function(){if(!t.$_DefaultTextOperators){var e=r_.messages;t.$_DefaultTextOperators={contains:e.filterOperatorContains,notContains:e.filterOperatorNotContains,startsWith:e.filterOperatorStartsWith,endsWith:e.filterOperatorEndsWith,equal:e.filterOperatorEqual,notEqual:e.filterOperatorNotEqual,empty:e.filterOperatorEmpty,reset:e.filterOperatorReset}}return this._textOperators||t.$_DefaultTextOperators},set:function(e){this._grid.closePopups(!1);var i=this.$_setOperators(e);i&&(this._textOperators=i),this.$_getPopup(t.$_TEXT_POPUP,this.textOperators,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberOperators",{get:function(){if(!t.$_DefaultNumberOperators){var e=r_.messages;t.$_DefaultNumberOperators={equal:e.filterOperatorEqual,notEqual:e.filterOperatorNotEqual,greater:e.filterOperatorGreater,greaterEqual:e.filterOperatorGreaterEqual,lower:e.filterOperatorLower,lowerEqual:e.filterOperatorLowerEqual,between:e.filterOperatorBetween,empty:e.filterOperatorEmpty,reset:e.filterOperatorReset}}return this._numberOperators||t.$_DefaultNumberOperators},set:function(e){this._grid.closePopups(!1);var i=this.$_setOperators(e);i&&(this._numberOperators=i),this.$_getPopup(t.$_NUMBER_POPUP,this.numberOperators,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dateOperators",{get:function(){if(!t.$_DefaultDateOperators){var e=r_.messages;t.$_DefaultDateOperators={contains:e.filterOperatorContains,notContains:e.filterOperatorNotContains,startsWith:e.filterOperatorStartsWith,endsWith:e.filterOperatorEndsWith,equal:e.filterOperatorEqual,notEqual:e.filterOperatorNotEqual,greater:e.filterOperatorGreater,greaterEqual:e.filterOperatorGreaterEqual,lower:e.filterOperatorLower,lowerEqual:e.filterOperatorLowerEqual,empty:e.filterOperatorEmpty,reset:e.filterOperatorReset}}return this._dateOperators||t.$_DefaultDateOperators},set:function(e){this._grid.closePopups(!1);var i=this.$_setOperators(e);i&&(this._dateOperators=i),this.$_getPopup(t.$_DATE_POPUP,this.dateOperators,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trimData",{get:function(){return this._trimData},set:function(e){e!==this._trimData&&(this._trimData=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterPanelCallback",{get:function(){return this._filterPanelCallback},set:function(e){this._filterPanelCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){return this._styleName},set:function(e){e!==this._styleName&&(this._styleName=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype.getPopup=function(e){switch(e.valueType){case vd.DATE:case vd.DATETIME:return this.$_getPopup(t.$_DATE_POPUP,this.dateOperators,!1);case vd.NUMBER:case vd.UINT:case vd.INT:case vd.UNUM:return this.$_getPopup(t.$_NUMBER_POPUP,this.numberOperators,!1);case vd.TEXT:case vd.CHAR:return this.$_getPopup(t.$_TEXT_POPUP,this.textOperators,!1)}},t.prototype.clearInput=function(e){("string"!=typeof e||(e=this._grid.columnByName(e)))&&this._grid.clearInlineFilter(e)},t.prototype.getCell=function(e){var t=this._cell,i=e.getDataColumn();return t.index.set(-1,i),t.showInput=!!i&&i.filterable&&(this.showInput?!1!==i.showInlineFilter:i.showInlineFilter),t.filterOperator=i._inlineFilterOp||this.$_getDefaultOperator(i),t.filterText=i._inlineFilterText||"",t},t.prototype.assignFrom=function(t){e.prototype.assignFrom.call(this,t)},t.prototype._doChanged=function(){this._grid&&this._grid.invalidatePosition()},t.prototype.$_getPopup=function(e,t,i){var n=this._grid,r=n.popupMenuManager,o=r.getMenu(e);if(!o||i){for(var s=[],a=Object.keys(t),l=n.filterOperatorCallback.bind(n),u=0,c=a;u<c.length;u++){var h=c[u],d=new hI(null,{label:t[h],tag:h,styleName:"rg-inline-filter-icon rg-inline-filter-".concat(Bp.camelToHyphen(h)),callback:l});s.push(d)}o=r.addMenu(e,s,!0,null)}return o.name},t.prototype.$_getDefaultOperator=function(e){switch(e.valueType){case vd.DATE:case vd.DATETIME:return this._defaultDateOperator;case vd.NUMBER:case vd.UNUM:case vd.UINT:case vd.INT:return this._defaultNumberOperator;case vd.CHAR:case vd.TEXT:return this._defaultTextOperator}},t.prototype._createCell=function(){return new qI},t.prototype.$_setOperators=function(e){var t,i=Object.keys(e),n=!1;if(i.length>0){var r=Object.keys(sp);t={};for(var o=0;o<i.length;o++)for(var s=i[o],a=0;a<r.length;a++)sp[r[a]].toLowerCase()==s.toLowerCase()&&(t[sp[r[a]]]=e[s],n=!0)}return n&&t?t:null},t.$_TEXT_POPUP="$$_textOperators_$$",t.$_NUMBER_POPUP="$$_numberOperators_$$",t.$_DATE_POPUP="$$_dateOperators_$$",t}(Im),XI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.input=null,t.operatorButton=null,t.popupMenu=null,t}return gd(t,e),t.prototype.span=function(){this.spanned=!0,this.clear(!1)},t.prototype.clear=function(t){return e.prototype.clear.call(this,t),this.className&&(this.cell.className=this.className=""),this},t.prototype.setOperator=function(e){this.setClass(e),this.setPlaceHolder(e)},t.prototype.setClass=function(e){this.operatorButton&&(this.operatorButton.className="rg-filter-panel-operator "+(e?" rg-inline-filter-".concat(Bp.camelToHyphen(e)):""))},t.prototype.setPlaceHolder=function(e){this.input&&(this.input.placeholder=e===sp.BETWEEN?"value1 ~ value2":"")},t.prototype.setFocus=function(){this.input.focus()},t}(tC),ZI=function(e){function t(t,i){var n=e.call(this,t,i,"filterPanelView")||this;return n._rowPoints=[],n._cells=[],n}return gd(t,e),t.prototype._doDispose=function(){for(var t=0;t<this._cells.length;t++)for(var i=this._cells[t],n=0;n<i.length;n++)i[n].dispose(),i[n]=null;this._cells=null,e.prototype._doDispose.call(this)},t.prototype.tableCellByCell=function(e){for(var t=0;t<this._cells.length;t++)for(var i=this._cells[t],n=0;n<i.length;n++){var r=i[n];if(r&&r.cell===e)return r}},t.prototype.tableCellByLayout=function(e){for(var t=0;t<this._cells.length;t++)for(var i=this._cells[t],n=0;n<i.length;n++)if(i[n].layout===e)return i[n]},t.prototype.layoutByCell=function(e){var t=this.tableCellByCell(e);return t&&t.layout},t.prototype.columnByCell=function(e){var t=this.layoutByCell(e);return t&&t._columnObj},t.prototype.operatorChange=function(e,t,i,n){var r=t.tag,o=i.getDataColumn(),s=this.model.getCell(i);r===sp.RESET&&(e.input.value="",r=s.filterOperator),e.setOperator(r),this._filterRun(this.model,e.input.value,r,o)},t.prototype.clearInput=function(e,t){if(e)e.input.value="",this._filterRun(this.model,"",void 0,t);else for(var i=0,n=this._cells.length;i<n;i++)for(var r=0,o=this._cells[i].length;r<o;r++){(e=this._cells[i][r]).input.value="";var s=e.layout.getDataColumn();s._inlineFilterText="",s&&s.setInlineFilter(void 0,!1)}},t.prototype.setFocus=function(e){e.setFocus()},t.prototype._getCssSelector=function(){return"rg-filter-panel"},t.prototype._getTableHidden=function(){return!1},t.prototype._getRendererStyle=function(){return"rg-filter-panel-renderer"},t.prototype._getTableRowCount=function(e){return e.dataRows},t.prototype._getTableRowHeight=function(e,t){return this._rowPoints[t+1]-this._rowPoints[t]},t.prototype._getCellCount=function(e){return e.cellCount-e.fixedCellCount-e.rightCellCount},t.prototype._getCellWidth=function(e,t){return e.getCellWidth(t)},t.prototype._doPrepareTableRow=function(t,i,n,r){e.prototype._doPrepareTableRow.call(this,t,i,n,r);var o=t.grid;Bp.setClassName(r,o.filterPanel.styleName||"rg-filter-panel-row")},t.prototype._prepareCellContent=function(e,t){var i=$p(e).createElement("div");return i.className=this._getRendererStyle(),i},t.prototype._doMeasure=function(e,t,i){for(var n=e.layoutManager.dataRows,r=Math.max(e.filterPanel.height,e.filterPanel.minRowHeight*n),o=0,s=this._rowPoints=[o],a=0;a<n-1;a++)s.push(o+=Math.round(r/n));return s.push(o=r),Aw.create(t,o)},t.prototype._doLayoutContent=function(e){var t=e.grid,i=e.cellLayouts._dataCells,n=i.length,r=this._getFirstCell(e),o=this._getStartCell(e)-r,s=this._getEndCell(e)-r,a=this.model;this.$_refreshCells(e,i,this._tbody),this.$_refreshSpans(e,n),this.$_refreshHeadTitle(e,this._thead);for(var l=0;l<n;l++){var u=this._cells[l];this._getTableRow(e,l);for(var c=o;c<=s;c++){var h=u[c];if(h.visible){var d=h.layout;if(d.isProxy||d instanceof Dv)h.clear(!1);else{var p=a.getCell(d);this._updateCell(t,a,p,h)}}}}},t.prototype._updateCell=function(e,t,i,n){var r=e.doc,o=e.container,s=n.input,a=n.operatorButton,l=n.cell.firstElementChild;if(a||(a=n.operatorButton=r.createElement("span"),l.appendChild(a)),!s){(s=n.input=r.createElement("input")).type="text",o.$_addListener(s,"keydown",this._keydownHandler.bind(this),!1),o.$_addListener(s,"keyup",this._keyupHandler.bind(this),!1),o.$_addListener(s,"input",this._inputHandler.bind(this),!1);var u="$$-rg-filter-cell"+i.valueColumn.$_hash;s.id=u;var c=document.createElement("label");c.style.display="none",c.setAttribute("for",u),l.appendChild(c),l.appendChild(s)}s.value!=i.filterText&&(s.value=i.filterText);var h=this._rowPoints[1]-this._rowPoints[0];l.style.display=i.showInput?"":"none";var d=a.style;d.width="20px",d.height="".concat(h-6,"px"),(d=s.style).width=n.width-30+"px",d.height="".concat(h-6,"px"),n.setOperator(i.filterOperator),n.popupMenu=t.getPopup(n.layout.getDataColumn())},t.prototype._keydownHandler=function(e){this.grid,9===(e.keyCode||e.charCode)&&this._timer&&this.$_search(e,!0)},t.prototype._keyupHandler=function(e){var t=this.grid,i=e.keyCode||e.charCode;if(Bp.included(i,38,40)){var n=t.getTableCell(e.target),r=this.tableCellByCell(n),o=Wv.temp(t,-1,r.layout),s=void 0;if(38!==i||o.isTop){if(40===i){if(o.isBottom)return o.itemIndex=t.topIndex,t.setFocusedIndex(o,!0,!0,!0),void t.setFocus();o.down(kv.CELL),s=o.layout}}else o.up(kv.CELL),s=o.layout;s&&(r=this.tableCellByLayout(o.layout)).setFocus()}else 13===i&&this.$_search(e,!0)},t.prototype._inputHandler=function(e){this.$_search(e,!1)},t.prototype.$_search=function(e,t){var i,n=e.target,r=this.grid,o=this.model;i=n.value;var s=r.getTableCell(n),a=this.columnByCell(s);if(a){var l=o.getCell(a.layout);t?(clearTimeout(this._timer),this._filterRun(o,i,l.filterOperator,a)):this._startTimer(i,l.filterOperator,a)}},t.prototype._startTimer=function(e,t,i){var n=this.model;clearTimeout(this._timer),this._timer=setTimeout(function(){this._filterRun(n,e,t,i)}.bind(this),n.filterDelay)},t.prototype._filterRun=function(e,t,i,n){var r,o,s=t,a=e.filterPanelCallback,l=!0;if(a){var u=this.grid;if("boolean"==typeof(l=a.call(this,u.handler,n,i,t))){if(!1!==l)return n.setInlineFilter(void 0,!0),void(n._inlineFilterText=t)}else if(l&&(i=l.operator,t=l.text,!i))return}if(null!=t&&""!=t||i===sp.EMPTY)switch(n.valueType){case vd.DATE:case vd.DATETIME:case vd.NUMBER:var c=t=t.replace(/[^0-9\-.~]/g,"");switch(Bp.included(n.valueType,vd.DATE,vd.DATETIME)?(t=t.replace(/-/g,""),o="datestr(value)",c='"'.concat(t,'"')):o="value",i){case sp.EQUAL:r="".concat(o," = ").concat(c);break;case sp.NOT_EQUAL:r="".concat(o," <> ").concat(c);break;case sp.GREATER:r="".concat(o," > ").concat(c);break;case sp.GREATER_EQUAL:r="".concat(o," >= ").concat(c);break;case sp.LOWER:r="".concat(o," < ").concat(c);break;case sp.LOWER_EQUAL:r="".concat(o," <= ").concat(c);break;case sp.CONTAINS:r="".concat(o," like '%").concat(t,"%'");break;case sp.NOT_CONTAINS:r="".concat(o," not like '%").concat(t,"%'");break;case sp.STARTS_WITH:r="".concat(o," like '").concat(t,"%'");break;case sp.ENDS_WITH:r="".concat(o," like '%").concat(t,"'");break;case sp.EMPTY:r="value is empty";break;case sp.BETWEEN:var h=c.split("~").sort(function(e,t){return parseFloat(e)-parseFloat(t)});r=2===h.length&&h[1]?"(value >= ".concat(h[0],") and (value <= ").concat(h[1],")"):"value >= ".concat(h[0])}break;case vd.TEXT:default:o=n.lookupDisplay?"text":"value",o=e.trimData?"trim(".concat(o,")"):o;var d=e.ignoreCase?"i":"";switch(t=e.trimData&&t?t.trim():t,t=(t=e.ignoreCase&&t?t.toLowerCase():t).replace(/\\/g,"\\\\").replace(/\'/g,"\\'"),i){case sp.CONTAINS:r="".concat(o," ").concat(d,"likehan '%").concat(t,"%'");break;case sp.NOT_CONTAINS:r="".concat(o," not ").concat(d,"likehan '%").concat(t,"%'");break;case sp.STARTS_WITH:r="".concat(o," ").concat(d,"likehan '").concat(t,"%'");break;case sp.ENDS_WITH:r="".concat(o," ").concat(d,"likehan '%").concat(t,"'");break;case sp.EQUAL:r="".concat(o," ").concat(d,"like '").concat(t,"'");break;case sp.NOT_EQUAL:r="".concat(o," not ").concat(d,"like '").concat(t,"'");break;case sp.EMPTY:r="value is empty"}}else r=void 0;var p=this.tableCellByLayout(n.layout);r!=p.criteria&&(p.criteria=r,n.setInlineFilter(r,!0)),i&&(n._inlineFilterOp=i),n._inlineFilterText=s},t.prototype._getStartCell=function(e){return e.getStartCell()},t.prototype._getEndCell=function(e){return e.getEndCell()},t.prototype.$_getCellHeight=function(e){var t=e.layout.hrow,i=this._rowPoints[t];return this._rowPoints[t+e.rowSpan]-i},t.prototype.$_refreshCells=function(e,t,i){for(var n=this._cells,r=i.children,o=r.length,s=this._getFirstCell(e),a=this._getLastCell(e)-s+1,l=n.length;l<o;l++)n.push([]);for(var u=0;u<o;u++){for(var c=n[u],h=r[u].children,d=t[u],p=0;p<a;p++){var f=h[p],_=d[p+s],g=c[p];g?g.cell!==f||g.layout!=_&&(g.layout=_,g.clear(!0)):(g=c[p]=new XI(h[p])).layout=_,g.height=this.$_getCellHeight(g),g.width=this._getCellWidth(e,p),g.spanned=!1}for(p=a;p<c.length;p++)c[p].dispose();c.length=a}for(u=o;u<n.length;u++){var m=n[u];for(p=0;p<m.length;p++)m[p].dispose(),m[p]=null}n.length=o},t.prototype.$_refreshSpans=function(e,t){for(var i=this._getFirstCell(e),n=this._getFirstCell(e)-i,r=this._getLastCell(e)-i,o=e.cellLayouts._dataCells.length,s=0;s<t;s++)for(var a=this._cells[s],l=a.length,u=n;u<=r;u++){var c=a[u],h=c.layout,d=h.parent,p=d&&d.vertical;if(c.spanned);else if(h.isProxy)c.clear(!1);else{var f=0,_=0,g=h.getDataSpan()-1;if(g>0){var m=0,y=h.vindex+1;if(p)for(;m++<g&&m<o&&(v=d.getVisible(y++));)_+=v._dspan,this._cells[s+m][u].span();else for(;m++<g&&u-n+m<l&&y<d.visibleCount;){var v;if(!(v=d.getVisible(y++)))break;f+=v._cspan,a[u+m].span()}}h.isNull&&c.clear(!0),c.set(h._cspan+f,h._dspan+_,!0)}}},t.prototype.$_refreshHeadTitle=function(e,t){for(var i=this._cells[0],n=t.children[0],r=0;n&&r<i.length;r++){var o=i[r].layout.source,s=n.children[r];s&&o&&(s[Bp.TextProp]=o.header.getDisplayText()||o.firstColumn.header.displayText)}},t.RENDERER_STYLE="rg-filter-renderer",t}(Bw),JI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-fixed-filter-panel"},t.prototype._getExplicitWidth=function(e){return e.fixedWidth-e.fixedBarWidth},t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return 0},t.prototype._getEndCell=function(e){return e.fixedCellCount-1},t.prototype._getCellCount=function(e){return e.fixedCellCount},t.prototype._getCellWidth=function(e,t){return e.getFixedCellWidth(t)},t}(ZI),QI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-fixed-filter-panel"},t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return e.cellCount-e.rightCellCount},t.prototype._getEndCell=function(e){return e.cellCount-1},t.prototype._getCellCount=function(e){return e.rightCellCount},t.prototype._getCellWidth=function(e,t){return e.getRightCellWidth(t)},t}(ZI),eE=function(e){function t(t){return e.call(this,t,"gridFilterCellView")||this}return gd(t,e),t}(KC),tE=function(e){function t(t){var i=e.call(this,t,null,"gridFilterView")||this;return i._domCssSelector="rg-filter",i}return gd(t,e),t.prototype.getFilterModel=function(e){return this._getCellModel(e)},t.prototype._createCellElement=function(e){return new eE(e)},t.prototype._sectionCell=function(e){return e.getFilterCell()},t.prototype._getSectionStyleName=function(e){return this.$_getCellSelector()+" "+e.getFilterStyleName()},t.prototype._getHeadTrText=function(e){return e.getCellType()+" filter"},t.prototype._getSectionText=function(e){return""},t.prototype._doPrepareTableRow=function(t,i,n,r){e.prototype._doPrepareTableRow.call(this,t,i,n,r);var o=t.grid;Bp.setClassName(r,o.filterPanel.styleName)},t.prototype.$_getCellSelector=function(){return"rg-filter-cell"},t}(XC),iE=function(){function e(e,t){this._containerDom=e,this._commandType=t,this.$_createDom()}return e.prototype.getCommandType=function(){return this._commandType},e.prototype.$_getStyle=function(){return"commit"===this._commandType?"rg-editor-commit":"cancel"===this._commandType?"rg-editor-cancel":void 0},e.prototype.$_createDom=function(){var e=this._containerDom,t=$p(e),i=this._dom=t.createElement("div");i.style.touchAction="none",this.$_createButton(),Bp.addChild(e,i)},e.prototype.$_createButton=function(){var e=$p(this._containerDom),t=this._button=e.createElement("div");t.style.touchAction="none",t.style.pointerEvents="none",t.className=this.$_getStyle(),Bp.addChild(this._dom,t)},e}(),nE=function(e){function t(t){var i=e.call(this)||this;return i._owner=t,i._commands=[],i.$_clickHandler=i._clickHandler.bind(i),i}return gd(t,e),Object.defineProperty(t.prototype,"showing",{get:function(){return this._showing},enumerable:!1,configurable:!0}),t.prototype.setContainerDom=function(e){this._containerDom=e},t.prototype.show=function(e){var i=$p(this._containerDom);if(this._dom||((this._dom=i.createElement("div")).className=t.STYLE),!this._commands||0==this._commands.length){var n=new iE(this._dom,"commit");this._commands.push(n),n=new iE(this._dom,"cancel"),this._commands.push(n)}Bp.addChild(this._containerDom,this._dom),this._dom.addEventListener("click",this.$_clickHandler),this._showing=!0,this.$_setPosition(e)},t.prototype.hide=function(){this._showing=!1,this._dom.removeEventListener("click",this.$_clickHandler),Bp.detach(this._dom)},t.prototype.setPosition=function(e){this._dom&&this.$_setPosition(e)},t.prototype._clickHandler=function(e){e.target!==this._dom&&this.$_doClick(e)},t.prototype.$_doClick=function(e){var t=this.$_findCommand(e.target);if(t)switch(t.getCommandType()){case"commit":this._owner.commitCommand(e);break;case"cancel":this._owner.cancelCommand(e)}},t.prototype.$_findCommand=function(e){for(var t=0;t<this._commands.length;t++)if(this._commands[t]._dom===e)return this._commands[t];return null},t.prototype.$_setPosition=function(e){var t=this._dom.style,i=Bp.getSize(this._dom),n=e.right-i.width,r=e.top-i.height;t.left=n+"px",t.top=r+"px"},t.STYLE="rg-mobile-command-view",t}(Yp),rE=function(e){function t(t){var i=e.call(this,t)||this;return i._commandView=new nE(i),i._commandView.setContainerDom(t.container._containerDom),i}return gd(t,e),t.prototype.commitCommand=function(e){this.commitEditor(!0,!1,!0,!1)},t.prototype.cancelCommand=function(e){this.cancelEditor(!0)},t.prototype._showCommand=function(e){this._commandView&&this._commandView.show(e)},t.prototype._resetPosition=function(e){this._commandView&&this._commandView.setPosition(e)},t.prototype._hideCommand=function(){this._commandView&&this._commandView.showing&&this._commandView.hide()},t.prototype._editorActivated=function(t){e.prototype._editorActivated.call(this,t);var i=this._grid;if(this._grid.mobileOptions.showEditCommander&&i.$_canShowEditCommand(this._editIndex)){var n=this._grid.getEditCellBounds(this._editor,this._editIndex);this._showCommand(n)}},t.prototype._internalHideEditor=function(t){e.prototype._internalHideEditor.call(this,t),this._hideCommand()},t.prototype._resetBounds=function(){e.prototype._resetBounds.call(this);var t=this._grid.getEditCellBounds(this._editor,this._editIndex);this._resetPosition(t)},t}(Px),oE=function(e){function t(t,i,n){var r=e.call(this,t.doc,!0)||this;r._debugging=!1,r._scrollBarWidth=16,r._scrollBarHeight=16,r._loading=!0,r._dataLoad=!1,r._gridObjects=[],r._tableViews={},r._columnMap={},r._columnLayouts=new xv,r._columnLock=0,r._columnsDirty=!1,r._columnSummaryRuntime=new Xv,r._columnValidationRuntime=new qy,r._rowValidationRuntime=new Yy,r._layouted=!1,r._resetting=!1,r._needMerge=!1,r._leftPos=0,r._horzScrolled=!1,r._topIndex=0,r._prevTop=0,r._prevLeftPos=0,r._prevLast=-1,r._updateLock=!1,r._hoveredY=-1,r._focusing=!1,r._dataChanged=!1,r._validations=new zy(!1),r.$_editFocused=!1,r.$_showFocusCell=!1,r._itemCheckChanged=!1,r._cellUpdateEventLock=!1,r._currentRowId=-1,r._currentRow=-1,r._scrolledTime=0,r._cellLayoutDirty=!1,r._needRefresh=!0,r._needPosition=!0,r._fitHeader=!1,r._keepLeftPos=!1,r._cellGhostStyle={};var o=t.doc,s=function(){var e,t=null;try{if(e=fd.code||realGrid2Lic,!(t=new TI.h(e,"dkdl"))||!t.lic||!Object.keys(t.lic).length)throw new Error}catch(Od){return{type:1,code:e}}if(!t.is("name",fd.name))return{type:2,code:e};var i=null===window||void 0===window?void 0:window.location,n=i?i.hostname:"",r=i?i.pathname.toLowerCase():"",o=LI,s=t.is("lic","Enterprise"),a=t.is("lic","Evaluation"),l=t.is("lic","Limited"),u=t.is("lic","Subscription"),c=o(t.lic.server,n,r),h=!s&&o(t.lic.server,"*",null);return s||a||l||u?c||h?!s&&t.expired("expire",1)?h||u?{type:32,code:e}:{type:16,code:e}:(fd.license=t.lic.lic,fd.expire=t.lic.expire,{type:0,code:e}):{type:8,code:e}:{type:64,code:e}}();switch(t[Vp.decode("X2xrQ2hlY2s=")]=s.type,s.type){case 0:case 32:break;default:throw new DI(s.type,s.code)}r._container=t,r._accessibility=i,r._addGridObject(r._header=new eb(r)),r._addGridObject(r._footers=new ab(r)),r._addGridObject(r._headerSummaries=new mI(r)),r._addGridObject(r._rowIndicator=new pb(r)),r._addGridObject(r._stateBar=new _b(r)),r._addGridObject(r._checkBar=new mb(r)),r._addGridObject(r._body=new Tw(r)),r._addGridObject(r._filterPanel=new KI(r)),r.addChild(r._rootElement=new kb(o,"grid root view")),r._debugView=new VI(r),32===s.type&&r.addChild(r._watermarkLayer=new YI(r)),r.addChild(r._emptyView=new Nw(o)),r.addElement(r._contentPane=new sx(o,"contentPane")),r.addElement(r._rightContentPane=new cx(o,"rightContentPane")),r.addElement(r._fixedContentPane=new lx(o,"fixedContentPane")),r._doContentPanesCreated(),r.addElement(r._leftContentPane=new ox(o,"leftContentPane")),r._sideContentPane=r._createSidePane(),r._sideContentPane&&r.addElement(r._sideContentPane),r.addElement(r._topContentPane=new rx(o,"topContentPane")),r._filterPanelView=new ZI(o,r._filterPanel),r._fixedFilterView=new JI(o,r._filterPanel),r._rightFilterView=new QI(o,r._filterPanel),r._bodyView=r._createBodyView(r._body),r._fixedBodyView=r._createFixedBodyView(r._body),r._rightBodyView=r._createRightBodyView(r._body),r._headerView=new aC(o,r._header),r._fixedHeaderView=new lC(o,r._header),r._rightHeaderView=new uC(o,r._header),r._headerSummaryView=new yI(o,r._headerSummaries),r._fixedHeaderSummaryView=new vI(o,r._headerSummaries),r._rightHeaderSummaryView=new bI(o,r._headerSummaries),r._footerView=new pC(o,r.footers),r._fixedFooterView=new fC(o,r.footers),r._rightFooterView=new _C(o,r.footers),r._rowBarContainer=new Lx(r),r._headView=new qC(r),r._sumView=new CI(o),r._footView=new JC(o),r._filterView=new tE(o);for(var a=[r._rowBarContainer,r._bodyView,r._fixedBodyView,r._rightBodyView,r._headerView,r._fixedHeaderView,r._rightHeaderView,r._headerSummaryView,r._fixedHeaderSummaryView,r._rightHeaderSummaryView,r._footerView,r._fixedFooterView,r._rightFooterView,r._headView,r._sumView,r._footView,r._filterView,r._filterPanelView,r._fixedFilterView,r._rightFilterView],l=a.length-1;l>=0;l--){var u=a[l];r._tableViews[u.$_hash]=u}return r._contentPane.addChild(r._headerView),r._contentPane.addChild(r._headerSummaryView),r._contentPane.addChild(r._filterPanelView),r._contentPane.addChild(r._bodyView),r._contentPane.addChild(r._footerView),r._fixedContentPane.addChild(r._fixedBodyView),r._fixedContentPane.addChild(r._fixedFooterView),r._fixedContentPane.addChild(r._fixedHeaderSummaryView),r._fixedContentPane.addChild(r._fixedHeaderView),r._fixedContentPane.addChild(r._fixedFilterView),r._rightContentPane.addChild(r._rightBodyView),r._rightContentPane.addChild(r._rightFooterView),r._rightContentPane.addChild(r._rightHeaderSummaryView),r._rightContentPane.addChild(r._rightHeaderView),r._rightContentPane.addChild(r._rightFilterView),r._leftContentPane.addChild(r._rowBarContainer),r._leftContentPane.addChild(r._footView),r._leftContentPane.addChild(r._sumView),r._leftContentPane.addChild(r._headView),r._leftContentPane.addChild(r._filterView),r._doCreateOtherElements(),r.addElement(r._selectionLayer=r._createSelectionLayer()),r.addElement(r._feedbackLayer=new kb(o,"feedbackLayer")),r.addFeedbackElement(r._rowHoverView=new iI(o)),r.addElement(r._hscrollBar=new $C(t,!1)),r.addElement(r._vscrollBar=new $C(t,!0)),r.addElement(r._scrollEdge=new MC(o)),r._hscrollBar.addListener(r),r._vscrollBar.addListener(r),r._selections=new Fb(r),r._selections.addListener(r),r._fixedOptions=new Mw(r),r._displayOptions=new Lw(r),r._formatOptions=new QC(r),r._editOptions=new px(r),r._editorOptions=new _x(r),r._copyOptions=new gx(r),r._pasteOptions=new mx(r),r._dataDropOptions=new vC(r),r._sortingOptions=new nx(r),r._filteringOptions=new xI(r),r._waiOptions=new zI(r),r._mobileOptions=new yx(r),r._initStyles(),r._columns=new Jv(r),r._activeCellLayout=r._defaultCellLayout=new Vv(r),r._defaultCellLayout.addListener(r),r._delegate=r._createDelegate(),r._layoutManager=r._createLayoutManager(),r._editController=r._createEditController(),r._validationManager=new Ky(r),r._lookupProvider=new uI,r._lookupProvider.addListener(r),r._clipboardManager=new Rw(r),r._progressManager=new WI(r._container._containerDom),r._popupMenuManager=new fI(r._container),r._popupMenuManager.addListener(r),r._tooltipManager=new PI(r),r._filterSelector=new SI(r._container,r._filteringOptions,r),r._toastManager=new ix(r),r._currentIndex=new Wv(r),r._editorIndex=new Wv(r),r._focusedIndex=new Wv(r),i&&(r._waiOptions.assignFrom(n),r.checkBar.useImages=!0),r}return gd(t,e),t.createColumn=function(e){if(e){var t=e.type;return"series"==t?new wv(e):"literal"===t?new Cv(e):new bv(e)}return null},t.prototype._doDispose=function(){return this.clearListener(),this._container=this._container.dispose(),this._gridObjects.length=0,this._header=this._header.dispose(),this._headerSummaries=this._headerSummaries.dispose(),this._footers=this._footers.dispose(),this._rowIndicator=this._rowIndicator.dispose(),this._stateBar=this._stateBar.dispose(),this._checkBar=this._checkBar.dispose(),this._body=this._body.dispose(),this._filterPanel=this._filterPanel.dispose(),this._rootElement=this._rootElement.dispose(),this._contentPane=this._contentPane.dispose(),this._rightContentPane=this._rightContentPane.dispose(),this._fixedContentPane=this._fixedContentPane.dispose(),this._leftContentPane=this._leftContentPane.dispose(),this._sideContentPane=this._sideContentPane&&this._sideContentPane.dispose(),this._topContentPane=this._topContentPane&&this._topContentPane.dispose(),this._bodyView=this._bodyView.dispose(),this._fixedBodyView=this._fixedBodyView.dispose(),this._rightBodyView=this._rightBodyView.dispose(),this._headerView=this._headerView.dispose(),this._fixedHeaderView=this._fixedHeaderView.dispose(),this._rightHeaderView=this._rightHeaderView.dispose(),this._headerSummaryView=this._headerSummaryView.dispose(),this._fixedHeaderSummaryView=this._fixedHeaderSummaryView.dispose(),this._rightHeaderSummaryView=this._rightHeaderSummaryView.dispose(),this._footerView=this._footerView.dispose(),this._fixedFooterView=this._fixedFooterView.dispose(),this._rightFooterView=this._rightFooterView.dispose(),this._rowBarContainer=this._rowBarContainer.dispose(),this._headView=this._headView.dispose(),this._sumView=this._sumView.dispose(),this._footView=this._footView.dispose(),this._filterPanelView=this._filterPanelView.dispose(),this._fixedFilterView=this._fixedFilterView.dispose(),this._rightFilterView=this._rightFilterView.dispose(),this._selectionLayer=this._selectionLayer.dispose(),this._feedbackLayer=this._feedbackLayer.dispose(),this._hscrollBar=this._hscrollBar.dispose(),this._vscrollBar=this._vscrollBar.dispose(),this._scrollEdge=this._scrollEdge.dispose(),this._selections=this._selections.dispose(),this._fixedOptions=this._fixedOptions.dispose(),this._displayOptions=this._displayOptions.dispose(),this._formatOptions=this._formatOptions.dispose(),this._editOptions=this._editOptions.dispose(),this._editorOptions=this._editorOptions.dispose(),this._copyOptions=this._copyOptions.dispose(),this._pasteOptions=this._pasteOptions.dispose(),this._sortingOptions=this._sortingOptions.dispose(),this._filteringOptions=this._filteringOptions.dispose(),this._mobileOptions=this._mobileOptions&&this._mobileOptions.dispose(),this._columns=this._columns.dispose(),this._activeCellLayout=null,this._defaultCellLayout=this._defaultCellLayout.dispose(),this._delegate=this._delegate.dispose(),this._layoutManager=this._layoutManager.dispose(),this._editController=this._editController&&this._editController.dispose(),this._filterSelector=this._filterSelector.dispose(),this._toastManager=this._toastManager.dispose(),this._tableViews=null,this._lookupProvider=this._lookupProvider&&this._lookupProvider.dispose(),this._columnSummaryRuntime=this._columnSummaryRuntime&&this._columnSummaryRuntime.dispose(),this._popupMenuManager=this._popupMenuManager&&this._popupMenuManager.dispose(),this._tooltipManager=this._tooltipManager&&this._tooltipManager.dispose(),this._focusedIndex=this._focusedIndex.dispose(),this._scrollTipView=this._scrollTipView&&this._scrollTipView.dispose(),this._waiOptions=this._waiOptions&&this._waiOptions.dispose(),this._watermarkLayer=this._watermarkLayer&&this._watermarkLayer.dispose(),Wv.clearTemp(),this._cellGhostStyle={},e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"debugging",{get:function(){return this._debugging},set:function(e){e!=this._debugging&&(this._debugging=e,e?(this.addChild(this._debugView),this.invalidateLayout()):this.removeChild(this._debugView))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeTool",{get:function(){return this.container.activeTool},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollBarWidth",{get:function(){return this._scrollBarWidth},set:function(e){(e=Math.max(0,e))!=this._scrollBarWidth&&(this._scrollBarWidth=e,this.invalidateLayout(),this.invalidatePosition())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollBarHeight",{get:function(){return this._scrollBarHeight},set:function(e){(e=Math.max(0,e))!=this._scrollBarHeight&&(this._scrollBarHeight=e,this.invalidateLayout(),this.invalidatePosition())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this._body},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._header},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footers",{get:function(){return this._footers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footer",{get:function(){return this._footers.get(0)},enumerable:!1,configurable:!0}),t.prototype.setFooters=function(e){this._footers.assignFrom(e)},Object.defineProperty(t.prototype,"headerSummaries",{get:function(){return this._headerSummaries},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerSummary",{get:function(){return this._headerSummaries.get(0)},enumerable:!1,configurable:!0}),t.prototype.setHeaderSummaries=function(e){this._headerSummaries.assignFrom(e)},Object.defineProperty(t.prototype,"rowIndicator",{get:function(){return this._rowIndicator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkBar",{get:function(){return this._checkBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stateBar",{get:function(){return this._stateBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterPanel",{get:function(){return this._filterPanel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeCellLayout",{get:function(){return this._activeCellLayout},enumerable:!1,configurable:!0}),t.prototype._cellLayoutChanged=function(){this._cellLayoutDirty=!0},Object.defineProperty(t.prototype,"layoutCount",{get:function(){return this._activeCellLayout.visibleCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleLayoutCount",{get:function(){return this._activeCellLayout.visibleCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnCount",{get:function(){return this._columns.count},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._items?this._items.dataSource:null},set:function(e){this.dataSource,this._items&&(this._items.dataSource=e),this.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemSource",{get:function(){return this._items},set:function(e){this._items&&this._items.removeListener(this),this._items=e,this._items&&(this._items.addListener(this),this.fixedOptions&&this.fixedOptions._dirty&&this.fixedOptions.$_resetItemSource())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxItemCount",{get:function(){return this.itemSource.maxItemCount},set:function(e){this.itemSource.maxItemCount=Math.max(0,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemCount",{get:function(){return this._items?this._items.itemCount:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._items?this._items.rowCount:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleRowCount",{get:function(){return this._items?this._items.rowCount:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCount",{get:function(){var e=this.dataSource;return e?e.rowCount:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnSummaryRuntime",{get:function(){return this._columnSummaryRuntime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnValidationRuntime",{get:function(){return this._columnValidationRuntime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowValidationRuntime",{get:function(){return this._rowValidationRuntime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusedIndex",{get:function(){return this._focusedIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusedLayout",{get:function(){return this._focusedIndex&&this._focusedIndex.layout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusedColumn",{get:function(){return this._focusedIndex&&this._focusedIndex.layout&&this._focusedIndex.layout.firstColumn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusedRow",{get:function(){return this._focusedIndex?this._focusedIndex.itemIndex:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusedItem",{get:function(){return this._focusedIndex&&this._focusedIndex.item},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowBarContainer",{get:function(){return this._rowBarContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topContentPane",{get:function(){return this._topContentPane},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sideContentPane",{get:function(){return this._sideContentPane},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftContentPane",{get:function(){return this._leftContentPane},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentPane",{get:function(){return this._contentPane},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedContentPane",{get:function(){return this._fixedContentPane},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightContentPane",{get:function(){return this._rightContentPane},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyView",{get:function(){return this._bodyView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedBodyView",{get:function(){return this._fixedBodyView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightBodyView",{get:function(){return this._rightBodyView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerView",{get:function(){return this._headerView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedHeaderView",{get:function(){return this._fixedHeaderView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightHeaderView",{get:function(){return this._rightHeaderView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerSummaryView",{get:function(){return this._headerSummaryView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedHeaderSummaryView",{get:function(){return this._fixedHeaderSummaryView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightHeaderSummaryView",{get:function(){return this._rightHeaderSummaryView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerView",{get:function(){return this._footerView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedFooterView",{get:function(){return this._fixedFooterView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightFooterView",{get:function(){return this._rightFooterView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterPanelView",{get:function(){return this._filterPanelView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedFilterView",{get:function(){return this._fixedFilterView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightFilterView",{get:function(){return this._rightFilterView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headView",{get:function(){return this._headView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sumView",{get:function(){return this._sumView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footView",{get:function(){return this._footView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterView",{get:function(){return this._filterView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedOptions",{get:function(){return this._fixedOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayOptions",{get:function(){return this._displayOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editOptions",{get:function(){return this._editOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorOptions",{get:function(){return this._editorOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"copyOptions",{get:function(){return this._copyOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pasteOptions",{get:function(){return this._pasteOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataDropOptions",{get:function(){return this._dataDropOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortingOptions",{get:function(){return this._sortingOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filteringOptions",{get:function(){return this._filteringOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mobileOptions",{get:function(){return this._mobileOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"WaiOptions",{get:function(){return this._waiOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"accessibility",{get:function(){return this._accessibility},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delegate",{get:function(){return this._delegate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"heightMeasurer",{get:function(){return this.container.heightMeasurer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutManager",{get:function(){return this._layoutManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selections",{get:function(){return this._selections},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionLayer",{get:function(){return this._selectionLayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editController",{get:function(){return this._editController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validations",{get:function(){return this._validations},set:function(e){this._validations.assignFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validationManager",{get:function(){return this._validationManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupMenuManager",{get:function(){return this._popupMenuManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipManager",{get:function(){return this._tooltipManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toastManager",{get:function(){return this._toastManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topIndex",{get:function(){return this._topIndex},set:function(e){if((e=Math.max(0,Math.min(e,this.itemCount-this.layoutManager.fixedItemCount-1,this._vscrollBar?this._vscrollBar.maxPosition:0)))!=this._topIndex){var t=this.topIndexChanging(this._topIndex,e-this._topIndex,!1,!1);null==t||isNaN(t)||(e=this._topIndex+t,e=Math.min(this.itemCount-1,Math.max(0,e))),this._topIndex!==e&&(this._needRefresh=!0),this._topIndex=e,this.refreshView(),Bp.isMobile()&&this.isEditing()&&!this.isItemEditing()?this.closePopups(!1):this.closePopups()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topItem",{get:function(){return this._topIndex+this.layoutManager.fixedItemCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftPos",{get:function(){return this._leftPos},set:function(e){(e=Math.max(0,Math.min(e,this._hscrollBar?this._hscrollBar._maxPosition:0)))!=this._leftPos&&(this._leftPos=e,this._horzScrolled=!0,this._displayOptions.refreshMode==Xd.VISIBLE_ONLY||this.isRecycleMode()&&this._needRefresh?this.refreshView():this.invalidate(),this.closePopups()),!this.isRecycleMode()&&this._debugging&&this._debugView.layout()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftCell",{get:function(){return this._layoutManager.getCellIndex(this.leftPos)},set:function(e){this.leftPos=this._layoutManager.getCellPoint(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftLayout",{get:function(){return this._layoutManager.firstLayout},set:function(e){var t=this._layoutManager;e=Math.max(t.fixedLayoutCount,Math.min(e,t.layoutCount-1)),this.leftPos=t.getLayoutBounds(e).x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lookupProvider",{get:function(){return this._lookupProvider},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canHovering",{get:function(){return!this.isEditing()&&!this.container._updateRequested},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoveredCell",{get:function(){return this._hoveredCell},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0==this.itemCount||0==this.visibleLayoutCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sorted",{get:function(){return this.itemSource.sorted},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spanned",{get:function(){return this._bodyView.visible&&this._bodyView.spanned||this._fixedBodyView.visible&&this._fixedBodyView.spanned||this._rightBodyView.visible&&this._rightBodyView.spanned},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSwiping",{get:function(){var e=this.activeTool,t=e.dragTracker;return t instanceof Nx&&t.dragging||e._touchMoving||this._keepLeftPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellGhostStyle",{get:function(){return this._cellGhostStyle=this._cellGhostStyle||{}},enumerable:!1,configurable:!0}),t.prototype.addFeedbackElement=function(e){if(e&&!this._feedbackLayer.contains(e))return this._feedbackLayer.addChild(e),!0},t.prototype.removeFeedbackElement=function(e){var t=this._feedbackLayer.indexOf(e);return t>=0&&(this._feedbackLayer.removeChildAt(t),!0)},t.prototype.setEventFrom=function(e){this._eventFrom=e},t.prototype.getVisibleLayout=function(e){return this._activeCellLayout.getVisible(e)},t.prototype.getColumn=function(e){return this._columns.getColumn(e)},t.prototype.setColumns=function(e){var t=!1;this._columns.setColumns(e),this._columnMap={};for(var i=this._columns.count-1;i>=0;i--){var n=this._columns.getColumn(i);this._columnMap[n.$_hash]=n,n instanceof bv&&n.getActiveFilters(!0).length>0&&(t=!0)}this._columnsReset(),t&&this.dataSource&&this.applyFilters()},t.prototype.setCellLayout=function(e){this._beforeChangeLayout();var t,i=this.isValid(this.focusedIndex)&&this.focusedIndex.column,n=this.activeCellLayout;try{e?(t=new Bv(this).load(e)).addListener(this):t=this._defaultCellLayout,t.isDefault()&&this.setColumns(this._columns.columns),t.resetColumns(this._columns)}catch(r){throw t&&!t.isDefault()&&t.dispose(),n&&n.resetColumns(this._columns),r}n&&!n.isDefault()&&n.dispose(),this._activeCellLayout=t,this._cellLayoutDirty=!0,this.invalidateLayout(),t.$_refresh(this._columns,this.displayOptions.minCellWidth),t.invalidate(),i&&(this.focusedIndex.layout=t.layoutByColumn(i)||t.layoutByColumn(t.firstColumn),this.$_makeFocusedIndexVisible()),this.clearAddSelection(!0,!!i,!1),this.clearRowHeights(),this._populateMerges(),this.refreshView()},t.prototype._checkEditing=function(){if(this.itemSource instanceof cm&&this.itemSource.isEditing())throw new Error("Item is editing")},t.prototype.addColumn=function(e,t){this._checkEditing();var i=this._columns.add(e,t);return i&&(this._columnMap[i.$_hash]=i,this._columnsReset(),i instanceof bv&&i.getActiveFilters(!0).length>0&&this.dataSource&&this.applyFilters()),i},t.prototype.removeColumn=function(e){return"string"==typeof e&&(e=this.columnByName(e)),!!e&&(this._checkEditing(),!!this._columns.remove(e)&&(delete this._columnMap[e.$_hash],this._columnsReset(),e instanceof bv&&e.getActiveFilters(!0).length>0&&this.dataSource&&this.applyFilters(),!0))},t.prototype.addLayout=function(e,t){return this.activeCellLayout.addLayout(e,t)},t.prototype.removeLayout=function(e){this.activeCellLayout.removeLayout(e);var t=this.focusedIndex;this.isValid(t)&&!this.isValid(t,!0)&&(t.normalize(this),!this._cellLayoutDirty&&this.clearAddSelection(!0))},t.prototype.restoreColumns=function(e){this._columns.restoreColumns(),this._columnsReset()},t.prototype.linearizeColumns=function(e){var t=this._activeCellLayout.collectColumns(!0,!0,!0);if(e=Bp.makeArray(e),t&&t.length>0){if(e&&e.length>0)for(var i=function(i){t.sort(function(t,n){var r=t[e[i]],o=n[e[i]];return r<o?1:r>o?-1:0})},n=0;n<e.length;n++)i(n);var r=[];t.forEach(function(e){r.push(e.name)}),this.setCellLayout(r)}},t.prototype.registerColumnLayouts=function(e){this._columnLayouts.load(e)},t.prototype.findColumnLayout=function(e){return this._columnLayouts.find(e)},t.prototype.invalidateColumn=function(e){this._columnLock<=0&&this._resetColumnIndices(e),this._columnsDirty||(this._columnsDirty=!0,this.refreshView())},t.prototype.invalidateColumns=function(){this._columnsDirty||(this._columnsDirty=!0,this.refreshView())},t.prototype.beginUpdate=function(){this._updateLock=!0},t.prototype.endUpdate=function(e){(e||this._updateLock)&&(this._updateLock=!1,this.refreshView())},t.prototype.invalidate=function(){this._container&&this._container.invalidate(!1)},t.prototype.invalidateLayout=function(){this._updateLock||this._loading||e.prototype.invalidateLayout.call(this)},t.prototype.invalidatePosition=function(){this._needPosition=!0},t.prototype.setNeedRefresh=function(t){this._needRefresh=!0,t&&e.prototype.invalidate.call(this,!1,!0)},t.prototype.invalidateCellLayouts=function(){this._updateLock||(this.clearRowHeights(),e.prototype.invalidateLayout.call(this),this._columnsDirty=!0)},t.prototype.refreshView=function(e,t){if(!this._loading){if(e){var i=this._container;this.setNeedRefresh(!0),i._layoutNeeded=!0,this._needPosition=!0,this._horzScrolled=this._horzScrolled||this._needRefresh,i._render(Date.now())}else t&&(this._needPosition=!0),this.invalidateLayout();this.topIndex=this._topIndex,this.leftPos=this._leftPos}},t.prototype.resetGrid=function(e){this._resetting=!0,e&&(this.topIndex=0,this.leftPos=0),this.refreshView()},t.prototype.getFirstCell=function(){if(this.itemCount>0){for(var e=0,t=0,i=this.itemCount;t<i;t++)if(this.getItem(t)instanceof tm){e=t;break}return new Wv(this,e>=0?e:0,this.getFirstColumn())}return null},t.prototype.$_setEditFocused=function(e,t){if(e!=this.$_editFocused){if(this.$_editFocused=e,e&&this.$_showFocusCell){var i=this.focusedIndex;!i||this.isValid(i)}this.$_showFocusCell=!1}e&&t&&"focusin"==t.type&&Bp.isAncestorOf(this._container._container,t.target,t)&&WC.setActiveGrid(this.container.$_hash)},t.prototype.getItem=function(e){return this._items.getItem(e)},t.prototype.getItemIndexOfRow=function(e){return this._items.getIndexOfRow(e,!1)},t.prototype.getItemOfRow=function(e,t){return this._items.getItemOfRow(e,t)},t.prototype.getItemIndicesOfRows=function(e){return this._items.getIndicesOfRows(e,!1)},t.prototype.getRowOfItem=function(e){var t=this.getItem(e);return t?t.dataRow:-1},t.prototype.getItemOfModel=function(e){return null},t.prototype.getRowsOfItems=function(e,t){void 0===t&&(t=!1);for(var i=[],n=0,r=e;n<r.length;n++){var o=r[n],s=this.getItem(o),a=s?s.dataRow:-1;(t||a>=0)&&i.push(a)}return i},t.prototype.getIndicatorIndex=function(e,t){return t?this.itemCount-e.index-1:e.index},t.prototype.indicatorReverse=function(e){return e===Hv.REVERSE},t.prototype.getAllItems=function(){return this._items.getAllItems()},t.prototype.getImage=function(e){return null},t.prototype.getIndex=function(e,t){return void 0===e&&(e=-1),void 0===t&&(t=null),new Wv(this,e,t)},t.prototype.getDataCellIndex=function(e,t){var i=e.parentElement,n=this._tableViews[i.$_view],r=i.$_row,o=n.layoutByCell(e);return null!=t?t.set(r,o):Wv.temp(this,r,o)},Object.defineProperty(t.prototype,"handler",{get:function(){return this.$_handler},enumerable:!1,configurable:!0}),t.prototype.getDataColumns=function(e){return void 0===e&&(e=!0),this._activeCellLayout.getDataColumns(e)},t.prototype.optionsChanged=function(e){this._columnsDirty=!0,this.refreshView()},t.prototype.sortOptionsChanged=function(){this.itemSource&&this.itemSource.setSortingOptions(this._sortingOptions)},t.prototype.scrollRow=function(e){var t=this.topIndex;this.topIndex=t+e},t.prototype.showFilterSelector=function(e,t){if(e&&e.hasFilters){var i=this.getHeaderCellAt(e.layout);return this.selectColumnFilters(i,t)}},t.prototype.selectColumnFilters=function(e,t){if(this.isItemEditing(null)){if(!this.filteringOptions.commitBeforeFiltering)return;try{if(!this.commit(!1))return}catch(r){var i=this.focusedItem;if(i&&r instanceof Wy)return void((r=this._fireValidationFail(i.index,r.column,r))&&alert(this.editOptions.showOnlyValidationMessage&&r.userMessage?r.userMessage:r.toString()));throw r}}var n=e.layout.boundColumn;if(this._fireFiltering(n))return this.hideEditor(!0),this._filterSelector.show(n,e.cell,this.dataSource,t),!0},t.prototype.closeFilterSelector=function(){this._filterSelector.hide()},t.prototype.closePopups=function(e){void 0===e&&(e=!0),this._filterRunning||this._filterSelector.hide(),this._popupMenuManager.close(),this._tooltipManager.close(),this._tooltipManager.closeMessage(),e&&this._editController.closeList(!1)},t.prototype.layoutByDataCell=function(e){var t=e.parentElement;return this._tableViews[t.$_view].layoutByCell(e)},t.prototype.columnByHash=function(e){return this._columnMap[e]},t.prototype.columnByDataCell=function(e){return this._bodyView.columnByCell(e)||this._fixedBodyView.columnByCell(e)||this._rightBodyView.columnByCell(e)},t.prototype.columnByName=function(e){return this._columns.columnByName(e)},t.prototype.columnByField=function(e){return"string"==typeof e&&(e=this.dataSource.getFieldIndex(e)),this._columns.columnByField(e)},t.prototype.columnsByField=function(e){return"string"==typeof e&&(e=this.dataSource.getFieldIndex(e)),this._columns.columnsByField(e)},t.prototype.columnByTag=function(e){return this._columns.columnByTag(e)},t.prototype.columnsByTag=function(e){return this._columns.columnsByTag(e)},t.prototype.getHorzColumns=function(e,t){return this._activeCellLayout.getHorzColumns(e,t)},t.prototype.getGroupLevel=function(e){return-1},t.prototype.isGroupedColumn=function(e){return!1},t.prototype.blankGroupData=function(){return!1},t.prototype.layoutByColumn=function(e){return e instanceof yv||(e=this.columnByName(e)),e?this._activeCellLayout.layoutByColumn(e):null},t.prototype.layoutByName=function(e){return this._activeCellLayout.layoutByName(e)},t.prototype.setFocus=function(e,t){var i=this;void 0===t&&(t=!1);var n=function(e){i.$_showFocusCell=!0;var n=i.focusedIndex.clone();if(!t&&"keydown_tab"!==i._eventFrom||!n||i.isValid(n)||(n.set(Math.max(0===i.topIndex?0:i.topItem,0),i.getFirstColumn(),i),i.setFocusedIndex(n,!0,!0)),i._accessibility&&!i.isEditing())if(i.isValid(n))if(i.layoutManager.cellIsVisible(n)&&!i._resetTdFocus){var r=i.getBodyCellAt(n,!0);r&&e!==r.cell&&i.getBodyViewAt(n).refreshTdFocused(n,!1)}else i._resetTdFocus=!0;else 0===i.itemCount&&i._emptyView.visible?(i.container._containerDom.setAttribute("tabindex","-1"),i._emptyView.setFocus()):i.container.setFocus();else Bp.isMobile()?i.container.setFocus():i._editController.setFocus(!0,e);WC.getActiveGrid()!==i&&WC.setActiveGrid(i.container.$_hash)};this.activeCellLayout.visibleCount>0?n.call(this,e):(this._setFocusTimer&&clearTimeout(this._setFocusTimer),this._setFocusTimer=setTimeout(function(){this._setFocusTimer=null,n.call(this,e)}.bind(this),10))},t.prototype.getFirstLayout=function(){return this._activeCellLayout.first},t.prototype.getFirstColumn=function(){return this._activeCellLayout.firstColumn},t.prototype.collectColumns=function(e,t,i){return this._activeCellLayout.collectColumns(e,t,i)},t.prototype.collectColumnNames=function(e,t){return this._activeCellLayout.collectColumnNames(e,t)},t.prototype.collectGroupNames=function(){return this._activeCellLayout.collectColumnNames(!1,!1,!0)},t.prototype.getChildColumnNames=function(e){return this._activeCellLayout.collectColumnNames(!1,!1,!1,e)},t.prototype.collectDataColumns=function(e,t){return this._activeCellLayout.collectDataColumns(e,t)},t.prototype.isValid=function(e,t){void 0===t&&(t=!1);var i=e&&e.grid===this&&e.itemIndex>=0&&e.itemIndex<this.itemCount&&e.layout&&e.layout.grid===this;return t&&(i=(i=i&&this.activeCellLayout.contains(e.layout))&&this._columns.columns.indexOf(e.layout.boundColumn)>=0),i},t.prototype.getSelection=function(e){return void 0===e&&(e=0),e>=0&&e<this._selections.count?this._selections.getItem(e):null},t.prototype.getSelections=function(){return this._selections.getItems()},t.prototype.clearAddSelection=function(e,t,i){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0);var n=this.focusedIndex;e&&this._selections.clear(i),t&&this.isValid(n,!0)&&this.itemCount>0&&this.visibleLayoutCount>0&&this._selections.add(n,n,this._displayOptions.selectionStyle,i)},t.prototype.deleteSelection=function(e){void 0===e&&(e=!1),this.$_deleteSelection(null,e)},t.prototype.$_deleteSelection=function(e,t){function i(e,t){try{if(t&&t.length>0){for(var i=[],n=0,r=t.length;n<r;n++){var o=e.getItem(t[n]);o&&o.dataRow>=0&&i.push(o.dataRow)}if(i.length>0&&!e._fireRowsDeleting(i))return!1}}catch(s){return alert(s),!1}return!0}function n(e,n){var r=e.recursiveDeleting();return!!n&&((t||!e.editOptions.confirmWhenDelete||confirm(e.editOptions.deleteRowsMessage)&&i(e,[n.index]))&&(e.cancel(),Zg(n.itemState)||e.itemSource.remove(n,r)),!0)}function r(e,t){for(var i=null,n=t.length;n--;){var r=e.getItem(t[n]),o=r.itemState;if(Xg(o)){i=r,Zg(o)&&t.splice(n,1);break}}var s=null;t.length>0&&(s=e.itemSource.getRemovableRows(t)),i&&e.cancel(),s&&e.itemSource.removeRows(s,e.recursiveDeleting())}void 0===t&&(t=!1);var o=this.editOptions,s=this.selections,a=this.itemSource;if((t||o.deletable)&&a instanceof cm)if(!this.isItemEditing(null)||o.deletableWhenEdit){if(this.commitEditor(!0),n(this,e))return!0;if(!function(e,t){if(0==t.count||1==t.count&&t.getItem(0).single){var i,r;return(r=0==t.count?e.focusedIndex.itemIndex:t.getItem(0).getBounds().r1)>=0&&e.canDelete(i=e.getItem(r))&&n(e,i),!0}return!1}(this,s)){for(var l=s.count,u=[],c=0;c<l;c++){var h=s.getItem(c);if(Lb(h)||Bp.included(h.style,cb.BLOCK,cb.GROUP))for(var d=h.getBounds(),p=Math.min(d.r1,d.r2),f=Math.max(d.r1,d.r2),_=p;_<=f;_++){var g=this.getItem(_);(g.dataRow>=0||g.editable)&&u.push(_)}}u.sort(function(e,t){return e-t});var m=-1;for(c=u.length;c--;)u[c]==m?u.splice(c,1):m=u[c];u.length>0&&this.canDelete(this.getItem(u[0]))&&(t||!o.confirmWhenDelete?i(this,u)&&(r(this,u),this.clearAddSelection(!0)):confirm(o.deleteRowsMessage)&&i(this,u)&&(r(this,u),this.clearAddSelection(!0)))}}else alert(o.commitEditingMessage)},t.prototype.revertSelection=function(e){void 0===e&&(e=!1);var t=this.editOptions,i=this.selections,n=this.itemSource;if((e||t.revertable)&&n instanceof cm&&(this.commitEditor(!0),!function(e,t){if(0==t.count||1==t.count&&t.getItem(0).single){var i;if((i=0==t.count?e.focusedIndex.itemIndex:t.getItem(0).getBounds().r1)>=0)return e.itemSource.revert(i),!0}return!1}(this,i))){for(var r=i.count,o=[],s=0;s<r;s++){var a=i.getItem(s);if(Lb(a)||Bp.included(a.style,cb.BLOCK,cb.GROUP))for(var l=a.getBounds(),u=Math.min(l.r1,l.r2),c=Math.max(l.r1,l.r2),h=u;h<=c;h++){var d=this.getItem(h);(d.dataRow>=0||d.editable)&&o.push(h)}}o.sort(function(e,t){return e-t});var p=-1;for(s=o.length;s--;)o[s]==p?o.splice(s,1):p=o[s];o.length>0&&n.revertAll(o)}},t.prototype.eraseSelection=function(e,t){var i=this.editOptions,n=this.copyOptions,r=this.selections,o=this.itemSource;if(i.readOnly||!e&&!i.erasable||!i.updatable)return!1;if(!(o instanceof cm))return!1;if(this.isEditing())return!1;if(function(e,i){if(0==i.count||1==i.count&&i.getItem(0).single){var r=e.focusedIndex;return(e.getWritableAt(r,!1)||t&&n.cutReadOnlyCell)&&e.setCellValue(r,void 0),!0}return!1}(this,r))return!0;var s=r.count;if(s<1)return!1;if(this.isItemEditing()){var a=r.getItem(0)._getRows(),l=this.getEditItem();return a.fields.map(function(e){l.setData(e,void 0)}),!0}for(var u=[],c=0;c<s;c++){var h=r.getItem(c);(Lb(h)||Bp.included(h.style,cb.BLOCK,cb.GROUP))&&(u=u.concat(h.getItems()))}if(u.length>0){for(c=0;c<s;c++)r.getItem(c).setValues(void 0,t);return!0}},t.prototype.getSelectedItems=function(e){void 0===e&&(e=!1);var t=this._selections.getItem(0);return t&&t.getItems(e)},t.prototype.getSelectedItemIndices=function(e){void 0===e&&(e=!1);for(var t=this._selections,i=[],n=0;n<t.count;n++)t.getItem(n).getItemIndices(e).forEach(function(e){i.indexOf(e)<0&&i.push(e)});return i},t.prototype.getSelectedRows=function(){for(var e=this._selections,t=[],i=0;i<e.count;i++)e.getItem(i).getRows().forEach(function(e){t.indexOf(e)<0&&t.push(e)});return t},t.prototype.getSelectedLayouts=function(){for(var e=this.activeCellLayout.collectLayouts(!0),t=this._selections,i=[],n=0;n<e.length;n++)t.containsLayout(e[n])&&i.indexOf(e[n])<0&&i.push(e[n]);return i},t.prototype.setFocusedIndex=function(e,t,i,n){if(void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===n&&(n=!0),!this._focusing&&!this.disposing){this._focusing=!0;try{return this.$_doSetFocusedIndex(e,t,i,!0,n)}finally{this._focusing=!1}}},t.prototype.resetFocusedIndex=function(){this.setFocusedIndex(this._focusedIndex)},t.prototype.clearFocusedIndex=function(e){if(void 0===e&&(e=!1),!this._focusing&&!this.disposing){this._focusing=!0;try{var t=void 0;e&&this.focusedRow>=this.itemCount&&((t=this.focusedIndex.clone()).itemIndex=Math.max(-1,this.itemCount-1));var i=e;this.$_doSetFocusedIndex(t,!0,!1,!1,i)}finally{this._focusing=!1}}},t.prototype.getTableCell=function(e){if(!e)return null;for(var t=e,i=Fp(t);t&&!(t instanceof i.HTMLTableCellElement);)t=t.parentElement;if(t instanceof i.HTMLTableCellElement&&t.parentElement){var n=t.parentElement[kd];if(n)return t;for(t=t.parentElement;t;){if(t instanceof i.HTMLTableCellElement&&(n=t.parentElement[kd]))return t;t=t.parentElement}}return null},t.prototype.getTableView=function(e){return this._tableViews[e.parentElement[kd]]},t.prototype.getBodyViewAt=function(e){return this._layoutManager.getBodyView(e)},t.prototype.getBodyView=function(e){return this.getTableView(e)},t.prototype.getRowView=function(e,t){return e.getRowView(t)},t.prototype.getHeaderView=function(e){return this.getTableView(e)},t.prototype.getFooterView=function(e){return this.getTableView(e)},t.prototype.getSummaryView=function(e){return this.getTableView(e)},t.prototype.getFilterView=function(e){return this.getTableView(e)},t.prototype.getCellType=function(e){if(e){var t=e.parentElement;if(-99===t[Pd])return Bd.FIXED_BAR;var i=this._tableViews[t[kd]];if(!(i instanceof nC))return i instanceof Lx?i.getCellType(e):i instanceof aC?Bd.HEADER:i instanceof pC?Bd.FOOTER:i instanceof yI?Bd.SUMMARY:i instanceof ZI?Bd.INLINE_FILTER:i instanceof qC?Bd.HEAD:i instanceof JC?Bd.FOOT:i instanceof CI?Bd.SUM:i instanceof tE?Bd.FILTER:this._getCellTypeOf(i);var n=i.bodyCellByCell(e);if(n)return!(n.item instanceof rm)||n.dataColumn&&n.dataColumn.mergeGrouped?Bd.DATA:Bd.GROUP_FOOTER}},t.prototype._getCellTypeOf=function(e){},t.prototype.getBodyCellAt=function(e,t){var i=this._layoutManager,n=this._bodyView.visible&&this._bodyView.getCellAt(i,e)||this._fixedBodyView.visible&&this._fixedBodyView.getCellAt(i,e)||this._rightBodyView.visible&&this._rightBodyView.getCellAt(i,e);return n&&t&&n.merged&&n.head?n.head:n},t.prototype.getHeaderCellAt=function(e){return this._headerView.visible&&this._headerView.tableCellByLayout(e)||this._fixedHeaderView.visible&&this._fixedHeaderView.tableCellByLayout(e)||this._rightHeaderView.visible&&this._rightHeaderView.tableCellByLayout(e)},t.prototype.getSummaryCellsAt=function(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.visible&&n.tableCellsByLayout(e);if(r)return r}},t.prototype.getFooterCellsAt=function(e){return this.getSummaryCellsAt(e,[this._footerView,this._fixedFooterView,this._rightFooterView])},t.prototype.getHeaderSummaryCellsAt=function(e){return this.getSummaryCellsAt(e,[this._headerSummaryView,this._fixedHeaderSummaryView,this._rightHeaderSummaryView])},t.prototype.getBodyCellbyCell=function(e){return this.getBodyCellAt(this.cellToIndex(e),!1)},t.prototype.cellToIndex=function(e){var t=Wv.temp(this,-1,null);if((e=this.getCellViewOf(e))&&e instanceof Fp(e).HTMLTableCellElement){var i=this.getBodyView(e);i&&i instanceof nC&&(t.layout=i.layoutByCell(e),t.itemIndex=e.parentElement[Pd])}return t},t.prototype.cellToContainer=function(e,t){void 0===t&&(t=null);var i=this.getTableView(e);t=i.getCellPoint(e,t);var n=i.boundsByContainer(_p.Temp.set(t.x,t.y,0,0));return t.set(n.x,n.y),t},t.prototype.pointToIndex=function(e,t,i,n){var r;return n?this._layoutManager.mouseToIndex(this.getCellViewOf(e),t,i,r=Wv.temp(this,-1,null)):r=this._layoutManager.mouseToIndex2(t,i,!0),r},t.prototype.mouseToIndex=function(e,t,i){if(i){var n=this.boundsByScreen();e-=n.x,t-=n.y}return this._layoutManager.mouseToIndex2(e,t,!1)},t.prototype.getCellRectAt=function(e,t,i){var n=this.getBodyViewAt(t);if(n){var r=n.getCellAt(e,t);return r&&n.getCellRect(e,r,i)}},t.prototype.getEditCellBounds=function(e,t){var i=this.layoutManager,n=i.getBodyView(t),r=n.getCellAt(i,t);if(r){var o=this.canMergeEditing(r),s=n.getCellRectAt(i,t,o);return s=n.boundsByContainer(s),!t.colFixed&&s.width>i.nonFixedBounds.width&&(s.width=i.nonFixedBounds.width),s}return Bp.$_INVISIBLE_EDIT_BOUNDS.clone()},t.prototype.getEditBounds=function(e,t){var i=t.item;if(!i)return null;var n=this.layoutManager,r=n.fixedItemCount;if(r>0&&i.index>=r&&i.index-r<n.topIndex)return Bp.$_INVISIBLE_EDIT_BOUNDS.clone();var o=n.getBodyView(t),s=o.getCellAt(n,t);if(s){s=s.merged?s.head:s;var a=o.getCellRectAt(n,t,!1);return(a=o.boundsByContainer(a)).width-=(e.native?0:s.$_editWidth)+s.$_buttonWidth+s.$_errorWidth,a}return Bp.$_INVISIBLE_EDIT_BOUNDS.clone()},t.prototype.getCellViewOf=function(e){for(var t=Fp(e);e;){if(e instanceof t.HTMLTableCellElement)return e;e=e.parentElement}return null},t.prototype.getFocusedCellView=function(e){var t=e.item;if(!t)return null;var i=this.layoutManager,n=i.fixedItemCount;if(n>0&&t.index>=n&&t.index-n<i.topIndex)return null;var r=t.merged,o=e.colFixed,s=e.rightFixed;return t.isData||r?(s?this._rightBodyView:o?this._fixedBodyView:this._bodyView).getCellView(i,e):null},t.prototype.isFocusedCell=function(e){return Wv.areEquals(e,this._focusedIndex)},t.prototype.isFocusedRow=function(e){return this._focusedIndex.itemIndex==e},t.prototype.isFocusedColumn=function(e){return this._focusedIndex.column===e},t.prototype.fitSyncHeight=function(){return this._layoutManager.fitSyncHeight()},t.prototype.pasteFromClipboard=function(e,t){var i=this.focusedIndex.clone(),n=this.pasteOptions;if(i.normalize(this),this.isValid(i)&&n.enabled&&this._firePaste(i,t))try{n.singleMode?this._clipboardManager.pasteCellFromClipboard(i,e):(this._clipboardManager.pasteFromClipboard(i,e),i.item&&Xg(i.item.itemState)&&this.refreshView()),this._firePasted()}catch(r){throw r instanceof Wy&&(r=this._fireValidationFail(this._clipboardManager.appendingIndex.itemIndex,r.column,r))&&alert(this._editOptions.showOnlyValidationMessage&&r.userMessage?r.userMessage:r.toString()),r}},t.prototype.copyToClipboard=function(e,t,i){void 0===i&&(i=!1);var n,r,o=!1,s=this.focusedIndex,a=this.selections,l=e&&Bp.included(e.type,"copy","cut");if(l&&e.preventDefault(),this.isValid(s,!0)||!(a.count<1)||i){if(i||this.copyOptions.enabled)if(i||(n=(o=this.copyOptions.singleMode||0==a.count||a.single)?new $b(a,cb.BLOCK,s,s):a.getItems(),i=this._fireCopy(n,e)),i){var u=void 0,c=void 0;if(!t&&Array.isArray(n)){var h=n.length>1,d=n.length>1,p=!0;if(n.length>1&&n.forEach(function(e){p=p&&(e instanceof Nb||e instanceof jb),h=h&&e instanceof Nb,d=d&&e instanceof jb}),!p)return alert("multi selection copy not supported"),null;u=h?this.getSelectedItemIndices(!1):null,c=d?this.getSelectedLayouts():null}t=t||(Array.isArray(n)?n[0].getBounds():n.getBounds()),r=o?this._clipboardManager.copyCellToClipboard(s):this._clipboardManager.copyToClipboard(t,u,c)}else r=null;else r=this._clipboardManager.copyEmtpyToClipboard();return null!=r&&l&&(e&&"cut"===e.type&&this.eraseSelection(!0,!0),e.clipboardData?e.clipboardData.setData("text/plain",r):window.clipboardData.setData("Text",r)),r}},t.prototype.toClipboard=function(e,t){void 0===t&&(t=!0);var i=function(e){var t;return"string"==typeof e?t=this.columnByName(e):e instanceof yv&&(t=e),t&&t.layout}.bind(this);if(!this.empty){var n;if(!(e&&e instanceof qv)){var r=void 0,o=void 0;if(e?(r=i(e.startColumn),o=i(e.endColumn)):(r=this._activeCellLayout.first,o=this._activeCellLayout.last),!r||!o)return;var s=null==(e=e||{}).startItem?0:Math.max(0,e.startItem),a=null==e.endItem?this.itemCount-1:Math.min(e.endItem,this.itemCount-1);n=qv.createRange(s,r,a,o)}var l=this.copyToClipboard(null,n,!0);if(l=null==l?"":l,!t)return l;if(Bp.isIE&&window.clipboardData)window.clipboardData.setData("text",l);else{var u=this.doc,c=u.createElement("textarea"),h=c.style;h.position="absolute",h.top="-10000px",u.body.appendChild(c),c.value=l,c.select(),u.execCommand("copy"),setTimeout(function(){u.body.removeChild(c)},100)}}},t.prototype.fromClipboard=function(e){var t=this.pasteOptions;try{var i,n=(e.originalEvent||e).clipboardData;null!=(i=n?n.getData("text/plain"):window.clipboardData.getData("text"))&&(e.preventDefault(),this.pasteFromClipboard(i,e))}catch(r){if(r instanceof Wy){if(t.throwValidationError)throw r}else if(r instanceof Uy)alert(r.message);else if(r)throw r}},t.prototype.showToast=function(e,t){this._toastManager.show(e,t,null)},t.prototype.hideToast=function(e){this._toastManager.close(),e&&setTimeout(e,0)},t.prototype.showMessage=function(e,t,i){this._tooltipManager.showMessage(e,t,i)},t.prototype.isEditing=function(e){return this._editController.editing&&(!e||Wv.areEquals(e,this._editController.editIndex))},t.prototype.getEditItem=function(){return this.itemSource instanceof cm&&this.itemSource.editingItem},t.prototype.isItemEditing=function(e){return(e=e||this.focusedIndex.item)&&this.itemSource instanceof cm&&this.itemSource.isEditing(e)},t.prototype.isItemEdited=function(e){return(e=e||this.focusedIndex.item)&&this.itemSource instanceof cm&&this.itemSource.isEdited(e)},t.prototype.getEditValue=function(e,t,i){return this._doGetEditValue(t,i)},t.prototype._doGetEditValue=function(e,t){return this._fireGetEditValue(e,t)},t.prototype.isCellEditing=function(){return!!this._editOptions.commitByCell&&this._items.isUpdating},t.prototype.editorCommit=function(e,t,i){return this._doCellCommit(e,t,i)},t.prototype.scrollOnEditing=function(){if(this.isEditing())switch(this.editOptions.scrollOnEditing){case Zd.CANCEL:this.cancelEditor(!0);break;case Zd.COMMIT:this.commitEditor(!0);case Zd.DEFAULT:}},t.prototype._doCellCommit=function(e,t,i){return this._fireEditCommit(e,t,i)},t.prototype.editorActivated=function(e){this._doEditorActivated(e.editIndex,!0,e)},t.prototype._doEditorActivated=function(e,t,i){var n=this.getBodyCellAt(e,!1),r=n&&this.getBodyView(n.cell);this.accessibility&&!t&&this.setFocus(),r&&r.$_buttonZIndexChanged(this,n,t,i)},t.prototype.setCellUpdateEventLock=function(e){this._cellUpdateEventLock=e},t.prototype.$_validateCellValue=function(e,t){try{var i=Zg(e.item.itemState);return this._validationManager.validateCell(e,i,!1),!0}catch(n){if(!(n instanceof Wy))throw n;this._validationManager.addInvalidateCell(e,n)}return!1},t.prototype.$_refreshInvalidList=function(e){this.itemCount<=0||e?this.validationManager.clearInvalidateList():this.validationManager.checkRowIds()},t.prototype.validateCellCommit=function(e,t){this.editOptions.validateOnEdited&&this.$_validateCellValue(e,t)},t.prototype.validateCells=function(e,t,i,n){return this._validationManager.validateCells(e,t,i,n)},t.prototype.getInvalidCells=function(e){return this._validationManager.getInvalidCells(e)},t.prototype.clearInvalidCells=function(e,t){if(e){if(null!=t){var i=this.columnByField(t),n=Gv.tempItem(this,e,i);return this._validationManager.clearInvalidCell(n)}return this._validationManager.clearInvalidCells(e.dataId)}this._validationManager.clearInvalidCells()},t.prototype.addInvalidCell=function(e,t,i,n){var r=this.columnByField(t),o=Gv.tempItem(this,e,r);return this._validationManager.addInvalidateCell(o,{level:i,message:n})},t.prototype.getEditableAt=function(e,t){var i=e.dataColumn;if(!i)return!1;if(t&&null!=t.editable)return t.editable;if(e.item.isDataRow){var n=e.item;if(null!=n.editable)return n.editable}var r=this.editOptions;if(r.columnEditableFirst){if(!(null!=i.editable?i.editable:r.editable))return!1}else{if(!r.editable)return!1;if(!1===i.editable)return!1}var o=this.fixedOptions;return!(e.colFixed&&!o.editable||e.rowFixed&&!o.rowEditable)},t.prototype.getReadOnlyAt=function(e,t){var i=e.dataColumn;if(!i)return!0;var n=this._items.getItem(e.itemIndex);return!n||(t&&null!=t.readOnly?t.readOnly:(n=n.merged&&n instanceof im?n.firstDataItem:n,!this.editOptions.updatable&&!Jg(n.itemState,n.rowState)||!this._items.canUpdate(n,i.dataIndex)||!!this._editOptions.readOnly||!!i.readOnly))},t.prototype.getWritableAt=function(e,t){if(!this.isValid(e))return!1;var i=this.getBodyViewAt(e);if(i){var n=i.getCellAt(this._layoutManager,e);if(n&&!t){var r=n.merged&&n.head||n;return e.item.isDataRow&&(null==n.editable||n.editable||r.renderer2&&r.renderer2.canEdit())&&!n.readonly}var o=e.dataColumn;if(!o)return!1;var s=this.body.getCell(e),a=s&&o.getCellStyle(s),l=o.readOnly,u=o.isWritable(),c=!1;if(a&&"string"!=typeof a&&(l=null!==a.readOnly?a.readOnly:o.readOnly,a.hasOwnProperty("editable")&&(u=null!==a.editable?a.editable:u)),n&&t&&(c=(r=n.merged&&n.head||n).renderer2&&r.renderer2.canEdit()),!t){var h=this.fixedOptions,d=this.editOptions,p=a&&a.renderer||o.renderer,f=p&&("string"==typeof p?p:p.type),_=f&&this.delegate.createRenderer(f,p,null);_&&(_._index=e.clone(),c=_.canEdit(),_=_.dispose());var g=e.item;u=(u=u&&(!e.colFixed||h.editable))&&(!e.rowFixed||h.rowEditable),u=!!g.isDataRow&&u&&(d.updatable||Jg(g.itemState,g.rowState))}return u&&!l||c}},t.prototype.getWritable=function(e,t){var i=t.layout,n=Wv.temp(this,e,i,!0),r=this.getWritableAt(n,!1);return void 0===r?t.isWritable():r},t.prototype.canEditAt=function(e){var t=this.getBodyViewAt(e);if(t){var i=t.getCellAt(this._layoutManager,e);return i&&void 0!==i.editable?i.editable:this.getEditableAt(e,null)}},t.prototype.canWriteAt=function(e){var t=this.getBodyViewAt(e);if(t){var i=t.getCellAt(this._layoutManager,e);return i&&void 0!==i.readonly?!i.readonly:!this.getReadOnlyAt(e,null)}},t.prototype.canUpdate=function(e,t){return this.editOptions.canUpdate(e.rowState===jp.CREATED)&&this.visibleLayoutCount>0&&this.itemSource&&this.itemSource.canUpdate(e,t)},t.prototype.canAppend=function(e){var t=this.itemSource,i=!this.isEditing()&&(e||this.editOptions.canAppend())&&this.visibleLayoutCount>0&&t&&t.canAppend();if(i)try{if(!this._fireRowInserting(t.itemCount,-1))return!1}catch(n){return alert(n.message||n),!1}return i},t.prototype.canInsert=function(e,t,i,n){var r=this.itemSource,o=!this.isEditing()&&this._doCanInsert(e,t,i)&&(this.editOptions.canInsert()||n)&&this.visibleLayoutCount>0&&r&&r.canInsert(e);if(o)try{if(!this._fireRowInserting(e.index+(t?1:0),-1))return!1}catch(s){return alert(s.message||s),!1}return o},t.prototype._doCanInsert=function(e,t,i){return!0},t.prototype.canDelete=function(e){var t=this.itemSource;return this.editOptions.canDelete()&&this.visibleLayoutCount>0&&t&&(this.isItemEditing(e)||t.canDelete(e))},t.prototype.canCommit=function(e){return this.isItemEditing(e)&&(this.isItemEdited()||this.editOptions.commitWhenNoEdit)},t.prototype.canCancel=function(e){return this.isItemEditing(e)},t.prototype.canMergeEditing=function(e){return!this.isTree()&&e&&e.merged&&this.editOptions.commitByCell&&e.dataColumn&&e.dataColumn.mergeEdit},t.prototype.edit=function(e){return e||(e=this.focusedIndex),!!(this.isValid(e)&&this.itemSource instanceof cm)&&!(e.dataColumn&&!this.canUpdate(e.item,e.dataField))&&(!Xg(e.item.itemState)&&this.validationManager.cloneError(e.dataId,-1),this.itemSource.edit(e.item))},t.prototype.insertAt=function(e,t,i){return this.insert(this.getItem(e),t,!1,!0,i)},t.prototype.insert=function(e,t,i,n,r){if(e||(e=this.focusedIndex?this.focusedIndex.item:null),!e)return-1;var o=this.itemSource;if(o instanceof cm&&this.canInsert(e,t,i,n)){var s=this.$_getInsertDefaults(r);return this._cancelDummy(),o.insert(e,s,t,i)}return-1},t.prototype.appendAt=function(e){return this.append(!0,e)},t.prototype.append=function(e,t){var i=this.itemSource;if(i instanceof cm&&i.dataSource&&this.canAppend(e)){var n=this.$_getInsertDefaults(t);return this._cancelDummy(),i.append(n)}return-1},t.prototype._appendDummy=function(){var e=this._editOptions;e.displayEmptyEditRow&&e.appendable&&this._items.appendDummy()},t.prototype._cancelDummy=function(){this._items.cancelDummy()},t.prototype.setValueAt=function(e,t,i){var n=this.getItem(e);if(n&&t>=0)if(n instanceof um||n instanceof Vy)n.setValue(t,i);else{var r=n.dataRow;r>=0&&this.dataSource.setValue(r,t,i)}},t.prototype.setCellValue=function(e,t){this.isValid(e)&&this.setValueAt(e.itemIndex,e.dataField,t)},t.prototype.recallHeight=function(){this._container.recallHeight()},t.prototype.$_canShowEditor=function(e,t,i){return!!this.isValid(e)&&this._fireShowEditor(this._editorIndex.assign(e),t,i)},t.prototype.$_canShowEditCommand=function(e){if(this.isValid(e))return this._fireShowEditCommand(e)},t.prototype.hideEditor=function(e){void 0===e&&(e=!1),this._editController.closeList(!1),this._editController.hideEditor(),e&&this.activeTool.resetFocused()},t.prototype.requestPrepareEditor=function(){var e=this._editController;e&&e.requestPrepareEditor()},t.prototype.fillEditSearchItems=function(e,t,i,n,r){this._editController.fillSearchItems(e,t,i,n,r)},t.prototype.showEditor=function(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),e=e||this.focusedIndex,this._editController.showEditor(e,i))return this.activeTool.resetFocused(),t&&this._editController.caretToLast(),!0},t.prototype.showEditList=function(e){if(this._editController.showList(e))return!0},t.prototype.editorButtonClicked=function(e,t){this._editController.buttonClicked(e,t),this._fireEditButtonClicked(e)},Object.defineProperty(t.prototype,"canUndo",{get:function(){var e=this.dataSource;return e&&e.canUndo&&!this.isItemEditing()},enumerable:!1,configurable:!0}),t.prototype.undo=function(){return!!this.canUndo&&(this.dataSource.undo(),!0)},Object.defineProperty(t.prototype,"canRedo",{get:function(){var e=this.dataSource;return e&&e.canRedo&&!this.isItemEditing()},enumerable:!1,configurable:!0}),t.prototype.redo=function(){return!!this.canRedo&&(this.dataSource.redo(),!0)},t.prototype.execute=function(e){},t.prototype.clearCommandStack=function(e){this.dataSource.clearCommandStack()},t.prototype.setLookups=function(e){e&&(this._lookupProvider||(this._lookupProvider=new uI,this._lookupProvider.addListener(this)),this._lookupProvider.load(e))},t.prototype.addLookupSource=function(e){(this._lookupProvider||(this._lookupProvider=new uI)).add(e)},t.prototype.removeLookupSource=function(e){this._lookupProvider&&this._lookupProvider.remove(e)},t.prototype.existsLookupData=function(e,t){if(e&&t){var i=this._lookupProvider&&this._lookupProvider.getSource(e);if(!i)throw new Error("Invalid lookup source id: "+e);return i.exists(Bp.makeArray(t))}},t.prototype.getLookupData=function(e,t){var i;if(!e||!(i=this._lookupProvider&&this._lookupProvider.getSource(e)))throw new Error("Invalid lookup source id: "+e);return i.getLookupData(Bp.makeArray(t))},t.prototype.fillLookupData=function(e,t){if(e&&t){var i=this._lookupProvider&&this._lookupProvider.getSource(e);if(!i)throw new Error("Invalid lookup source id: "+e);t.rows?i.fillRows(t.rows):i.fill(t.keys,t.values,t.listResult)}},t.prototype.clearLookupData=function(e){if(e){var t=this._lookupProvider&&this._lookupProvider.getSource(e);if(!t)throw new Error("Invalid lookup source id: "+e);t.clear()}},t.prototype.addLookupData=function(e,t,i){if(void 0===i&&(i=null),e&&t){t=Bp.makeArray(t);var n=this._lookupProvider&&this._lookupProvider.getSource(e);if(!n)throw new Error("Invalid lookup source id: "+e);i?n.add(t,i):n.addRow(t)}},t.prototype.setOptions=function(e){},t.prototype.doContextMenu=function(e){var t,i,n,r,o,s,a,l=e.mouseX,u=e.mouseY,c=this.activeTool,h=c._findTableCell(),d=c.findElementAt(l,u,!1);if(h){var p=this.getTableView(h),f=this.getCellType(h),_=void 0,g=void 0;switch(f){case Bd.HEAD:t=Wx.getSub(f,this.headView.getCellType(h)),s=(i=this.headView.getHeadModel(h))&&i.popupMenuName;break;case Bd.FOOT:t=Wx.getSub(f,this.footView.getCellType(h)),s=(i=this.footView.getFootModel(h))&&i.popupMenuName;break;case Bd.INDICATOR:_=this.rowBarContainer.rowOf(h),g=this.getRowOfItem(_),t=Wx.getItem(f,_,g),s=this.rowIndicator.popupMenuName;break;case Bd.STATE:_=this.rowBarContainer.rowOf(h),g=this.getRowOfItem(_),t=Wx.getItem(f,_,g),s=this.stateBar.popupMenuName;break;case Bd.CHECK:_=this.rowBarContainer.rowOf(h),g=this.getRowOfItem(_),t=Wx.getItem(f,_,g),s=this.checkBar.popupMenuName;break;case Bd.HEADER:a=p.layoutByCell(h),t=Wx.getLayout(f,a),s=a.firstColumn.header.popupMenuName;break;case Bd.DATA:if((r=p.bodyCellByCell(h)).grouped)t=Wx.getItem(Bd.GROUP_HEADER,r.item.index,null);else{var m=Wv.temp(this,d instanceof Xw?d.itemIndex:r.item.index,r.layout);t=Wx.getCell(f,r,m),s=r.dataColumn.popupMenuName}break;case Bd.GROUP_FOOTER:r=p.bodyCellByCell(h),o=d&&d._item&&d._item.$_footerIndex,t=Wx.getGroupFooter(f,r.item.index,r.layout,o);var y=r.dataColumn.groupFooters.get(o);s=y&&y.popupMenuName;break;case Bd.FOOTER:case Bd.SUMMARY:var v=p.tableCellByCell(h);o=v.summaryIndex;var b=f===Bd.FOOTER?v.layout.firstColumn.footers.get(o):v.layout.firstColumn.headerSummaries.get(o);t=Wx.getSummary(f,v.summaryIndex,v.layout),s=b&&b.popupMenuName;break;case Bd.GROUP_HEAD:case Bd.GROUP_FOOT:var w=h[Dd];t=Wx.getGroupElt(f,w);break;case Bd.GROUP_BAR:var C=h[Pd];g=this.getRowOfItem(C),t=Wx.getItem(f,C,g)}}else d&&d===c._clickElement&&(t=c._getClickData(d,e));if(!1!==(n=this._fireContextMenuPopup(l,u,t,s||this._contextMenu,!0))){var x=this._popupMenuManager;if("string"==typeof n?s=n:null!=n&&"object"==typeof n||(s=s||this._contextMenu),s){e.preventDefault();var I=x.getMenu(s);I&&x.showContext(I,e,l,u,t)}}return null},t.prototype.setContextMenu=function(e){return e?this.addPopupMenu(this._contextMenu="gridContextMenu",e,!0,this):this._contextMenu=null},t.prototype.addPopupMenu=function(e,t,i,n){if(void 0===i&&(i=!0),t=Bp.makeArray(t),e&&t)return this.popupMenuManager.addMenu(e,t,i,n)},t.prototype.removePopupMenu=function(e){this.popupMenuManager.removeMenu(e)},t.prototype.getPopupMenu=function(e){return this.popupMenuManager.getMenu(e)},t.prototype.setCursor=function(e,t){if(e){var i=this.getTableCell(e),n=i?this.getTableView(i):this._tableViews[e[kd]];if(n instanceof $w)return void n.setCursor(t)}this._container.setCursor(t)},t.prototype.canMoveLayout=function(e){var t=e.root.vindex,i=this.layoutManager;return!(i.mergedRowGrouped&&t<i.rowGroupLevels)&&(this.fixedOptions.movable||t>=i.fixedLayoutCount&&t<i.rightFirstLayout)},t.prototype.canMoveToLayout=function(e){return this.canMoveLayout(e)},t.prototype.getEditCellValue=function(){return this._editController.editValue},t.prototype.setEditCellValue=function(e,t,i){(this.isEditing()||t)&&this._editController.setEditValue(e,i)},t.prototype.searchItem=function(e){e instanceof b_||(e=new b_(e));var t=Bp.makeArray(e.fields),i=Bp.makeArray(e.values),n=this.itemSource,r=e.startIndex,o=e.reverse,s=-1;if(t&&t.length>0&&i&&i.length>0&&n){var a=void 0,l=void 0,u=void 0,c=void 0,h=t.length,d=[];for(a=0;a<h;a++)l=parseFloat(t[a]),!isNaN(l)&&l>=0?d.push(l):(u=this.dataSource.getFieldIndex(t[a]))>=0&&d.push(u);if(d.length>0){var p=n.itemCount;r=o?Math.min(p-1,r):Math.max(0,r),(s=(o?r>=0:r<p)?n.findItem(d,i,e,r,o?0:p-1):-1)<0&&e.wrap&&(o?r<p-1:r>0)&&(s=n.findItem(d,i,e,o?p-1:0,o?r+1:r-1))}s>=0&&e.select&&(c=this.getIndex(s,Bp.pick(this.focusedIndex.column,this.getFirstColumn())),this.setFocusedIndex(c,!0,!0))}return s},t.prototype.searchCell=function(e){var t,i,n,r=this.itemSource,o=r&&r.dataSource,s=r.itemCount,a=e.fields=Bp.makeArray(e.fields),l=e.columns=Bp.makeArray(e.columns),u=[],c=null;if(o)if(!a&&l)for(t=0,i=l.length;t<i;t++){var h=this.columnByName(l[t]);if(h instanceof bv){if(h.dataIndex<0)throw new Error("invalid search Column "+l[t]);u.push(h.dataIndex)}}else for(t=0,i=(a=a||o.getOrgFieldNames()).length;t<i;t++)n=parseFloat(a[t]),!isNaN(n)&&n>=0?u.push(n):u.push(o.getFieldIndex(a[t]));e instanceof w_||(e.reverse&&(e.hasOwnProperty("startIndex")||(e.startIndex=s-1),e.hasOwnProperty("startFieldIndex")||(e.startFieldIndex=u.length-1)),e=new w_(e));var d=e.wrap,p=e.select,f=e.value,_=e.reverse;if(o&&u&&u.length>0&&null!=f){if(u.length>0){var g=_?Math.min(s-1,e.startIndex):Math.max(0,e.startIndex),m=Math.max(_?-1:0,e.startFieldIndex),y=_?g>=0:g<s,v=_?g<s-1||m<u.length:g>0||m>0,b=_?0:s-1;!(c=y?r.findCell(u,f,e,g,b,m):null)&&d&&v&&(c=r.findCell(u,f,e,_?s-1:0,g,_?m:0)),c&&(c.fieldName=o.getOrgFieldName(c.fieldIndex))}if(c&&p){var w;(w=l?this.getIndex(c.itemIndex,Bp.pick(this.columnByName(l[c.searchFieldIndex]),this.focusedIndex.column)):this.getIndex(c.itemIndex,Bp.pick(this.columnByField(c.fieldIndex),this.focusedIndex.column)))&&this.setFocusedIndex(w,!0,!0)}}return c},t.prototype.isCheckable=function(e){var t=this.getItem(e);return t&&t.checkable},t.prototype.isCheckableOfRow=function(e){var t=this.getItemOfRow(e,!0);return t&&t.checkable},t.prototype.setCheckable=function(e,t){var i=this.getItem(e);i&&i.setCheckable(t)},t.prototype.setCheckableOfRow=function(e,t){var i=this.getItemOfRow(e,!0);i&&i.setCheckable(t)},t.prototype.isIndeterminateItem=function(e){var t=this.getItem(e);return t&&t.indeterminate},t.prototype.isCheckedItem=function(e){var t=this.getItem(e);return t&&t.checked},t.prototype.isIndeterminateRow=function(e){var t=this._items.getItemOfRow(e,!0);return t&&t.indeterminate},t.prototype.isCheckedRow=function(e){var t=this._items.getItemOfRow(e,!0);return t&&t.checked},t.prototype.checkAll=function(e,t,i,n){var r=this._checkBar.showGroup&&!this._checkBar.merged;this._items.checkAll(e,t,i,n,r)},t.prototype.toggleCheck=function(e){var t=this.getItem(e);t&&t.checkable&&this.checkItem(t.index,!t.checked,this.checkBar.exclusive,!0)},t.prototype.toggleChecks=function(e,t){var i=[];if(t&&t.isDataRow&&t.checkable){if(this.checkBar.merged){var n=e[0],r=e[e.length-1],o=n.index,s=r.index,a=this.checkBar.merges,l=a.getRoom(Wv.temp(this,o,null));o=Math.min(o,l?l.head:o),l=a.getRoom(Wv.temp(this,s,null)),s=Math.max(s,l?l.tail:s),e=[];for(var u=o;u<=s;u++){var c=this.getItem(u);c.checkable&&c.isDataRow&&e.push(c)}}for(u=0;u<e.length;u++)e[u].checkable&&e[u].dataRow>=0&&i.push(e[u]);var h=!t.checked;this.checkBar.exclusive&&this.itemSource._clearChecked(),i.length>0&&this._items.checkItems(i,h,!0)}},t.prototype.indeterminateItem=function(e,t){var i=this.getItem(e);i&&this._items.setInditerminateItem(i,t)},t.prototype.checkItem=function(e,t,i,n){var r=this.getItem(e);r&&this._items.checkItem(r,t,i,n)},t.prototype.$_getItemIndexOfRow=function(e){var t,i=this.getItemIndexOfRow(e);return i>-1&&(t=this.getItem(i))&&(t=t instanceof um?t:null),t||this.getItemOfRow(e,!0)},t.prototype.indeterminateRow=function(e,t){var i=this.$_getItemIndexOfRow(e);i&&this._items.setInditerminateItem(i,t)},t.prototype.checkRow=function(e,t,i,n){var r=this.$_getItemIndexOfRow(e);r&&this._items.checkItem(r,t,i,n)},t.prototype.checkModel=function(e,t,i,n){e&&this._items.checkItem(e,t,i,n)},t.prototype.indeterminateModel=function(e,t){e&&this._items.setInditerminateItem(e,t)},t.prototype.checkItems=function(e,t,i){var n=this._items.getItemsByIndices(e);this._items.checkItems(n,t,i)},t.prototype.checkRows=function(e,t,i){var n=this._items.getItemsByRows(e,!0);this._items.checkItems(n,t,i)},t.prototype.setAllCheck=function(e,t){var i=this.checkBar.exclusive;if(this._headView.allChecked=e,t&&(!i||!e)){var n=this.checkBar;this.checkAll(e,n.visibleOnly,n.checkableOnly,!1)}},Object.defineProperty(t.prototype,"allChecked",{get:function(){return this._headView.allChecked},enumerable:!1,configurable:!0}),t.prototype.resetCheckables=function(){},t.prototype.applyCheckables=function(){},t.prototype.registerCustomRenderer=function(e,t){this._delegate.addCustomRenderer(e,t)},t.prototype.unregisterCustomRenderer=function(e){this._delegate.removeCustomRenderer(e)},t.prototype.existsCustomRenderer=function(e){return this._delegate.existsCustomRenderer(e)},t.prototype.unregisterAllCustomRenderer=function(){this._delegate.clearCustomRenderers()},t.prototype.getValueAt=function(e,t){var i=this.getItem(t),n=e.firstColumn;if(n instanceof bv)return i&&i.getData(n.dataIndex)},t.prototype.getCellValue=function(e){if(this.isValid(e)){var t=this.getItem(e.itemIndex),i=e.dataColumn;if(t&&i)return t.getData(i.dataIndex)}},t.prototype.getDistinctItemValues=function(e,t,i){void 0===t&&(t=-1),void 0===i&&(i=bd.ASCENDING);var n=this.columnByField(e);if(!n)return null;if(0!=t){for(var r=n.getField().dataType,o=[],s=0,a=this._items._rs.getAllItems();s<a.length;s++){var l=a[s];if(l instanceof tm||l instanceof Fy){var u=l.getData(e);switch(r){case vd.NUMBER:case vd.UINT:case vd.UNUM:case vd.INT:null!=u&&isNaN(u)||o.indexOf(u)<0&&o.push(u);break;case vd.DATE:case vd.DATETIME:o.push(u?u.getTime():void 0);break;default:o.push(u)}}}return o=p_.getUniqueValues(o,r),i!==bd.NONE&&(Bp.included(r,vd.DATETIME,vd.DATE,vd.NUMBER)?o.sort(function(e,t){return e-t}):o.sort(),i===bd.DESCENDING&&o.reverse()),t<0?o:o.slice(0,t)}return null},t.prototype.getDisplayText=function(e){var t=e.valueColumn;if(t instanceof bv){var i=t.dataIndex,n=e.item;if(i>=0){if(n instanceof tm||n instanceof Fy){var r=n.getData(i),o=new mv,s=this._body.getCellFormatters(t,null,e,o.clear());return Tm._getDisplayText(this,n,t,r,s)}if(n instanceof rm){var a=t.groupFooters.get(n.$_footerIndex);return r=FI.getValue(n,t),s=this._rowGroup.getFooterCellFormatters(a,null),FI.$_displayText(n,t,r,s)}}}else{if(t instanceof Cv){if(o=new mv,(n=e.item)instanceof rm){a=t.groupFooters.get(n.$_footerIndex),r=FI.getValue(n,t);var l=this._rowGroup.getFooterCellFormatters(a,null);return FI.$_displayText(n,t,r,l)}return s=this._body.getCellFormatters(t,null,e,o.clear()),Mm.getDisplayText(this,n,t,t.value,s)}if(t instanceof wv){var u=Lm.getValue(e);if(t.actualTarget&&(u=u.reverse()),u)return u.join(t.valueSeparator)}}return""},t.prototype._fitLayoutWidth=function(e,t,i){var n=this,r=function(e){var t=Fp(e).getComputedStyle(e),i=0,n={};if(t){u=t.paddingLeft;var r=parseInt(u.substr(0,u.indexOf("px")));i+=r>0?r:0,u=t.paddingRight,i+=(r=parseInt(u.substr(0,u.indexOf("px"))))>0?r:0,n={fontSize:t.fontSize,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontStyle:t.fontStyle}}return{w:i,font:n}};if(!e.visible)return 0;var o=this.itemSource,s=this.getIndex(this.topIndex,e.firstColumn),a=e.firstColumn.header,l="",u="",c=0,h=0,d=0,p=0,f=this.getHeaderCellAt(e);if(t){var _=f&&f.cell.firstElementChild;if(_){var g=r(_),m=g.w,y=g.font,v=f.marginLeft+f.marginRight+2+f.checkWidth;h=m+this.container.measureText("rg-header-cell",a.displayText,y)+v}else p=Bp.getTextLength(l),h=c+this.container.measureText("rg-header-cell",a.displayText,null)+2}if(i){var b=this.getFooterCellsAt(e);b&&b.forEach(function(t,i){var o=t&&t.cell.firstElementChild;if(o){var s=r(o),a=s.w,l=s.font,u=n.footers.getVisible(i).getCell(e).getDisplayText(t);d=Math.max(d,a+n.container.measureText("rg-footer-cell",u||"",l)+2)}});var w=this.getHeaderSummaryCellsAt(e);w&&w.forEach(function(t,i){var o=t&&t.cell.firstElementChild;if(o){var s=r(o),a=s.w,l=s.font,u=n.headerSummaries.getVisible(i).getCell(e).getDisplayText(t);d=Math.max(d,a+n.container.measureText("rg-header-summary-cell",u||"",l)+2)}})}var C,x=this.getBodyCellAt(s,!1),I=x&&x.renderer2&&x.renderer2._dom;if(I){var E=r(I),O=E.w;C=E.font,c=O}for(var S=0,k=o.itemCount;S<k;S++)s.itemIndex=S,u=this.getDisplayText(s),Bp.getTextLength(u)>p&&(p=Bp.getTextLength(u),l=u);if(p>0){c+=this.container.measureText("rg-data-cell",l,C)+2;var P=e.getDataColumn(),R=P.editor,T=this.delegate.getCellEditor(Gb.getEditorType(R));T.hasButton(this.displayOptions.showNativeEditButton,R)&&(c+=this.body.editButtonWidth*T.buttonCount),P.button!==Yd.NONE&&(c+=this.body.cellButtonWidth)}return Math.max(c,h,d)},t.prototype.fitLayoutWidth=function(e,t,i,n,r){var o=0;function s(e,t){var i=this.getHeaderCellAt(e);if(n&&i){var r=i.textSpan,o=r.style.whiteSpace;r.style.whiteSpace="nowrap";var s=Bp.getSize(r).width;return r.style.whiteSpace=o,s+=i.expander?Bp.getSize(i.expander).width:0,Math.max(s+6,t)}return t}return n=null==n||n,r=null==r||r,e instanceof Sv?o=this._fitLayoutWidth(e,n,r):e instanceof Dv&&(o=function e(t){for(var i=t.direction===Iv.HORIZONTAL,r=0,o=0,a=t.visibles;o<a.length;o++){var l=a[o],u=0;l instanceof Sv?(u=this._fitLayoutWidth(l,n),1===l._defColSpan&&(l.cellWidth=u)):l instanceof Dv&&(u=e.call(this,l),u=s.call(this,l,u)),r=i?r+u:Math.max(r,u)}return r}.call(this,e),o=s.call(this,e,o)),i&&i>this.displayOptions.minCellWidth&&(o=Math.max(o,i)),t&&t>this.displayOptions.minCellWidth&&(o=Math.min(o,t)),e.cellWidth=o},t.prototype.$_fitHeaderHeight=function(){var e=this._headerView.getMeasureHeights(),t=e.reduce(function(e,t){return e+t},0);return this.header.heights=e.slice(),this.header.height=t,t},t.prototype.fitHeaderHeight=function(){this._loading?this._fitHeader=!0:this.$_fitHeaderHeight()},t.prototype.canMoveRow=function(e,t){return void 0===t&&(t=!0),!this.isEditing()&&!this.isItemEditing()&&(t||this._editOptions.movable)&&(!e||this.itemSource.getMovable(t))},t.prototype.moveRows=function(e,t){if(this.canMoveRows(e,!0,t))return this._doMoveRows(e,t)},t.prototype.moveSelection=function(e,t){var i=this.getSelectedItems(!1);if(i&&i.length>0){var n=i[0],r=n.index,o=this.itemSource;if(e>0&&r+e<=o.itemCount||e<0&&r>0){var s=this._getMoveTarget(t,i,r,e);if(this.moveRows(i,s)){e=this.isTree()?n.index-r:e;var a=this.getSelection();a.moveRow(e),this._selections.clear(!0),this._selections.$_addItem(a,!0);var l=this._focusedIndex.clone();l.itemIndex=this.isTree()?n.index:r+e,this.setFocusedIndex(l,!1,!0,!1)}}}},t.prototype.isSelectedItem=function(e){return this.selections.containsItem(e,null)},t.prototype.isSelectedLayout=function(e){return this.selections.containsLayout(e)},t.prototype.getFilteredColumns=function(){for(var e=this.columnCount,t=[],i=0;i<e;i++){var n=this.getColumn(i);n.isFiltered()&&t.push(n)}return t},t.prototype.showProgress=function(){this._progressManager.show(this._container._containerDom,null,this.displayOptions.baseZindex)},t.prototype.setProgress=function(e,t,i,n){this._progressManager.setProperties(e,t,i,n)},t.prototype.closeProgress=function(){this._progressManager.close()},t.prototype.showLoading=function(e){this._progressManager.loaderShowing()||(e?(this._progressManager._gridDisabled=this.container.disabled,this.container.disabled=!0):this._progressManager._gridDisabled=void 0,this._progressManager.showLoader(this._container._containerDom,this._displayOptions.baseZindex))},t.prototype.hideLoading=function(){this._progressManager.closeLoader(),void 0!==this._progressManager._gridDisabled&&(this.container.disabled=this._progressManager._gridDisabled)},t.prototype.beginExportProgress=function(e){this._progressManager.show(this._container._containerDom,e,this._displayOptions.baseZindex)},t.prototype.endExportProgress=function(){this._progressManager.close()},t.prototype.setExportProgress=function(e,t,i){this._progressManager.setProperties(0,e,t,i)},t.prototype.setEmptyMessage=function(e){this._emptyView.setMessage(e)},t.prototype.setWatchTimer=function(e){this._container.setWatchTimer(e)},t.prototype.layoutExpandAll=function(e,t){this._activeCellLayout.expandAll(e,t)},t.prototype.isRecycleMode=function(){return this.displayOptions.refreshMode===Xd.RECYCLE},t.prototype.invalidateGridObject=function(){var e=!1,t=this._gridObjects;return t.forEach(function(t){t instanceof Tw||(e=e||t.dirty)}),e&&t.forEach(function(e){e instanceof Tw||(e._dirty=!0)}),e},t.prototype.getEditContainer=function(e){return this._accessibility?this.getBodyCellAt(e).cell:this._container._container},t.prototype._getCssSelector=function(){return""},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),t.prototype._createDelegate=function(){return new aI(this)},t.prototype._createLayoutManager=function(){return new cC(this)},t.prototype._createEditController=function(){return Bp.isMobile()?new rE(this):new Px(this)},t.prototype._createSelectionLayer=function(){return Bp.isMobile()?new Hx(this,"mobileSelectionLayer"):new Hb(this,"selectionLayer")},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),t.style.setProperty("overflow","hidden","important")},t.prototype.setRect=function(t){var i=t.width!=this.width||t.height!=this.height;e.prototype.setRect.call(this,t),i&&(this._dirty=!0)},t.prototype._doDraw=function(e){},t.prototype.$_containerResized=function(){Bp.isMobile()&&this.isEditing()&&!this.isItemEditing()&&setTimeout(function(){var e=this.topItem,t=this.layoutManager.fullItemCount,i=this.focusedIndex.itemIndex;e+t<i&&(this.topIndex=i-Math.round(t/2))}.bind(this),10),this._columnsDirty=!0},t.prototype._doCreateOtherElements=function(){},t.prototype._doContentPanesCreated=function(){},t.prototype._createSidePane=function(){return null},t.prototype.isSidePaneVisible=function(){return!1},t.prototype._createBodyView=function(e){return new nC(this.doc,e)},t.prototype._createFixedBodyView=function(e){return new rC(this.doc,e)},t.prototype._createRightBodyView=function(e){return new oC(this.doc,e)},t.prototype._initStyles=function(){},t.prototype._columnsReset=function(){this._resetColumnIndices(),this._activeCellLayout._columnsChanged(this._columns);var e=this.focusedIndex;this.isValid(e)&&!this.isValid(e,!0)&&e.normalize(this),this._columnsDirty=!0,this._needRefresh=!0},t.prototype._resetColumnIndices=function(e){void 0===e&&(e=null),e?e._resetIndices(this):this._columns.resetIndices(),!e&&!this._cellLayoutDirty&&this.clearAddSelection(!0)},t.prototype._resetColumnSortStates=function(){this._columns.resetSortStates()},t.prototype._cleanGridObjects=function(){for(var e=0,t=this._gridObjects.length;e<t;e++)this._gridObjects[e].clean()},t.prototype._visualObjectChanged=function(e){this.invalidateLayout()},t.prototype._addGridObject=function(e){this._gridObjects.push(e)},t.prototype.addElement=function(e){this._rootElement.addChild(e)},t.prototype.$_prepareRender=function(e){this._doPrepareRender(e)},t.prototype._doPrepareRender=function(e){if(this._horzScrolled)try{var t=this._layoutManager;t.setLeftPos(e,this._leftPos),this._leftPos=t.leftPos,this.$_updateScrollBars(t),this._layoutSelectionViews(),this._editController.resetEditor(!1),this.container.defaultTool.layoutChanged()}finally{this._horzScrolled=!1}},t.prototype.$_layout=function(e){this._doLayout(e)},t.prototype.$_detectWidth=function(){return!this.displayOptions.watchDisplayChange&&this.layoutManager.syncHeight()},t.prototype.$_beforeRender=function(){this._itemCheckChanged&&this._syncHeadCheck([]),this._beforeCount=this.layoutManager.itemCount,this.$_detectWidth()&&(this._beforeWidth=this.container.getContainerWidth())},t.prototype.$_afterRender=function(){var e=this.$_detectWidth()&&this._beforeWidth!=this.container.getContainerWidth();if(this._layoutManager.needRelayout()||this._fitHeader||e)this._fitHeader&&this.$_fitHeaderHeight(),this._fitHeader=!1,this.invalidateLayout();else{if(this._topIndexChanged&&(this._topIndexChanged=!1,this._needRefresh=!0,this._resetTdFocus=this.accessibility,this._fireTopIndexChanged(this.topIndex)),this.leftPos!==this._prevLeftPos&&(this._fireLeftPosChanged(this.leftPos),this._prevLeftPos=this.leftPos),this._beforeCount<this.layoutManager.itemCount&&(this._needRefresh=!0),this._resetTdFocus&&this._container._focused){var t=this.focusedIndex,i=this.doc;Bp.isAncestorOf(this.container._containerDom,i.activeElement,null)&&this.accessibility&&this.isValid(t)&&this.layoutManager.cellIsVisible(t)&&(this._setFocusTimer&&clearTimeout(this._setFocusTimer),this._setFocusTimer=setTimeout(function(){this._setFocusTimer=null,this.getBodyViewAt(t).refreshTdFocused(t,!0)}.bind(this),20)),delete this._resetTdFocus}[this.fixedBodyView,this.bodyView,this.rightBodyView].forEach(function(e){if(e.visible)for(var t=e._tbody.rows,i=0,n=t.length;i<n;i++)t[i].recycle=!1}),this._fireDataLoadComplated(),this._horzScrolled&&this._needRefresh&&(this._needRefresh=!1),this._horzScrolled=!1,this._dataChanged=!1,this._needPosition=!1,this._itemCheckChanged=!1,this._fitHeader=!1,this._keepLeftPos=!1,this._watermarkLayer&&this._watermarkLayer.refresh()}},t.prototype._fireDataLoadComplated=function(){this._dataLoad&&(this._dataLoad=!1,this.fireEvent("onGridBaseDataLoadComplated"))},t.prototype._doLayout=function(e){var t=this._layoutManager;this._resetting=!1;try{this.$_doLayout(t,e)}finally{this._loading=!1,this._eventFrom=null}if(this.$_checkFocusedLayout(),this._emptyView.visible=this.empty&&this._displayOptions.showEmptyMessage){var i=t.bodyBounds.clone();i.topBy(t.topContentBounds.bottom),this._emptyView.setBounds(0,i.y,this.width,i.height)}if(this._debugging&&this._debugView.layout(),this._cleanGridObjects(),this._columnsDirty&&(this._columnsDirty=!1,this._activeCellLayout.cleanColumns()),this.$_resetHovering(this.container._currentX,this.container._currentY,!0),this.$_resetFocusRender(this.container._currentX,this.container._currentY),this.$_resetRowHover(),t.itemCount>0){var n=t.topIndex,r=n+t.fullItemCount;this._topIndexChanged=n!==this._prevTop,this._prevTop=n,r==this._prevLast||r!=this.itemCount||Bp.included(this.displayOptions.syncGridHeight,[op.ALWAYS,op.OVER])||setTimeout(function(){this._fireScrollToBottom()}.bind(this),1),this._prevLast=r}this.$_checkCurrentRow(),this._editController.prepareEditor(this.focusedIndex),this._cellLayoutDirty=!1,this.container.defaultTool.layoutChanged(),!this._editController.resetEditor(!1)&&this.isValid(this._focusedIndex)&&this._editController.resetEditable(this._focusedIndex)},t.prototype.$_doLayout=function(e,t){var i=this._displayOptions,n=this._fixedOptions,r=t.clone(),o=i.vscrollBar?this._scrollBarWidth:0,s=i.hscrollBar?this._scrollBarHeight:0;this.setFocusedClass(this._focusedIndex,!1),this.setFocusedRowClass(this._focusedIndex,!1),this._activeCellLayout.$_refresh(this._columns,i.minCellWidth),this._columnsDirty&&this._activeCellLayout.$_prepareLayout(this,n.colCount,n.rightCount),this._needMerge&&(this.$_populateMerges(),this._needMerge=!1),this._body._prepareUpdate();var a=e.topIndex,l=e.leftPos;if(e.measure(r,this._leftPos,this._topIndex,o,s),a!==e.topIndex){var u=e.topIndex-a,c=[this.fixedBodyView,this.bodyView,this.rightBodyView];this.isRecycleMode()&&!this._dataLoad&&u&&Math.abs(u)<e.fullItemCount/2?c.forEach(function(t){t&&t.visible&&t.reArrangeRows(e,u)}):c.forEach(function(e){e&&e.cleanRecycle()})}if(this._horzScrolled=this._horzScrolled||l!==e.leftPos,e.layout(r),this._leftPos=e.leftPos,this._topIndex=e.topIndex,this.displayOptions.refreshMode!==Xd.RECYCLE){var h=this.container._containerDom;r=new _p(0,0,h.clientWidth,h.clientHeight)}this.$_updateScrollBars(e,r),this._layoutSelectionViews(),this._layouted=!0},t.prototype._columnCheckedChanged=function(e){this._fireColumnCheckedChanged(e)},t.prototype.$_updateScrollBars=function(e,t){if(e.hscrollBar){var i=e.bodyBounds.width,n=Math.min(e.scrollWidth);this._hscrollBar.setProperties(0,i,n),this._hscrollBar.setPosition(e.leftPos),this._hscrollBar.visible=!0}else this._hscrollBar&&(this._hscrollBar.setProperties(0,0,0),this._hscrollBar.setPosition(0),this._hscrollBar.visible=!1);if(e.vscrollBar){var r=this.itemCount,o=r-e.fixedItemCount,s=Math.min(e.fullItemCount,r-e.topIndex);this._vscrollBar.setProperties(0,o,s),this._vscrollBar.setPosition(e.topIndex),this._vscrollBar.visible=!0}else this._vscrollBar&&(this._vscrollBar.setProperties(0,0,0),this._vscrollBar.setPosition(0),this._vscrollBar.visible=!1);t&&this.$_layoutScrollBars(e,t)},t.prototype.$_layoutScrollBars=function(e,t){var i=e.scrollBarWidth,n=e.scrollBarHeight,r=this._hscrollBar,o=this._vscrollBar;e.hscrollBar&&(r.setBounds(t.x,t.bottom-n,t.width-i,n),r.layoutContent()),e.vscrollBar&&(o.setBounds(t.right-i,t.y,i,t.height-n),o.layoutContent()),(this._scrollEdge.visible=e.vscrollBar&&e.hscrollBar)&&this._scrollEdge.setBounds(t.right-i,t.bottom-n,i,n)},t.prototype._columnMergeRuleChanged=function(e){this._populateMerges(),this.refreshView()},t.prototype._canMerge=function(){return!1},t.prototype._populateMerges=function(e){void 0===e&&(e=!0),this._needMerge=!0,e&&this.refreshView()},t.prototype.$_populateMerges=function(){if(this._canMerge()){for(var e=this.getHorzColumns(),t=0,i=e.length;t<i;t++){var n,r=e[t],o=r&&r.layout;o&&o.canMerge()&&((n=o.merges)||(n=new av(o)),n.clear(),r instanceof bv&&r.mergeGrouped?this.getGroupLevel(r.dataIndex)>0&&n.initialize(Jy.INIT_COUNT):n.initialize(Jy.INIT_COUNT))}this._checkBar.canMerge()&&((n=this._checkBar.merges||new Eb(this._checkBar)).clear(),n.initialize(Jy.INIT_COUNT))}},t.prototype._addSelectionView=function(e){this._selectionLayer.addView(e)},t.prototype._removeSelectionView=function(e){this._selectionLayer.removeView(e)},t.prototype._layoutSelectionViews=function(){this._layouted&&!this._resetting&&this._selectionLayer.layout()},t.prototype.$_checkCurrentRow=function(){var e=this;if(this.dataSource&&this._focusedIndex){var t=this._focusedIndex.dataId,i=this._focusedIndex.dataRow,n=this.dataSource.getDataRow(this._currentRowId);if(t!=this._currentRowId||this._currentRow!==n){clearTimeout(this._rowChangeTimer);var r=this.container.defaultTool,o=this._currentRow,s=this._displayOptions.rowChangeDelay,a=s<=0;return this._currentRowId=t,this._currentRow=i,a?(this._fireCurrentRowChanged(o,i),r.currentRowChanged(o,i)):s>0&&(this._rowChangeTimer=setTimeout(function(){e._fireCurrentRowChanged(o,i),r.currentRowChanged(o,i)},s)),!0}}return!1},t.prototype.$_doSetFocusedIndex=function(e,t,i,n,r){if(void 0===n&&(n=!0),void 0===r&&(r=!0),!e){if(n)return!1;e=this.getIndex(-1,null)}var o,s,a,l=this.layoutManager;if(!this.isValid(e)&&n&&(e=e.clone()).normalize(this),!this.isValid(e)){var u=this.dataSource;if(!u||0==u.rowCount||0==this.itemCount)return this._focusedIndex.itemIndex=-1,this._focusedIndex.layout=null,this.clearAddSelection(!0),!1}var c=1===this.selections.count?this.getSelection(0):null;if(Wv.areEquals(e,this._focusedIndex))return!(c&&c.single&&this.selections.containsCell(e))&&this.clearAddSelection(t,r),i&&(l.focusIsVisible(this._focusedIndex)||this.editController.requestPrepareEditor()),!0;var h=this._editOptions,d=this._focusedIndex.clone(),p=this.itemSource,f=this.container.defaultTool;if(this.editOptions.currentChangingFirst?!this._fireCurrentChanging(d,e)||!this._editController.focusedIndexChanging():!this._editController.focusedIndexChanging()||!this._fireCurrentChanging(d,e)){var _=this.activeTool.dragTracker;return _ instanceof OC&&(_.dragging?_.cancel():this.activeTool.dragTracker=null),!1}var g=d.item;if(!this.isItemEditing(g)||this.isItemEdited(g)||e.itemIndex==d.itemIndex||g.itemState!==Mg.UPDATING||h.commitWhenNoEdit){if(p&&e.itemIndex!=d.itemIndex)try{if(g)switch(g.itemState){case Mg.INSERTING:if(!this.commit(h.forceInsert,!0))return this.cancel(!0),!1;break;case Mg.APPENDING:if(!this.commit(h.forceAppend,!0))return this.cancel(!0),!1;break;case Mg.UPDATING:if(!this.commit(h.commitWhenNoEdit,!0))return this.cancel(!0),!1}}catch(I){if(I instanceof Wy)return(I=this._fireValidationFail(g.index,I.column,I))&&alert(h.showOnlyValidationMessage&&I.userMessage?I.userMessage:I.toString()),this.invalidateLayout(),!1;if(I instanceof Uy)return!1;throw I}}else this.cancel(!0);f.focusedIndexChanging(e),this._focusedIndex.assign(e),this.$_checkFocusedLayout(),a=this.getBodyCellAt(d,!1),s=this.getBodyCellAt(e,!1),this.isValid(d)&&(o=l.getBodyView(d)).$_focusChanged(this,a,!1),this.isValid(e)&&(o=l.getBodyView(e)).$_focusChanged(this,s,!0),p instanceof cm&&p.setDiffs(this._editOptions.checkDiff,this._editOptions.checkCellDiff,this._editOptions.strictDiff),this._editController.focusedIndexChanged(d,e,!1),f.focusedIndexChanged(d,e);var m=this._focusedIndex,y=this.isValid(m);if(!c||!Mb(c.style)||!this.selections.containsCell(m)){var v=i;this.clearAddSelection(t,r,v)}this._layouted&&this._refreshSideViews();var b=!Wv.areEquals(m,l._prevFocused);if(i||b)if(this.$_makeFocusedIndexVisible()){if(this._resetTdFocus=!1,this.accessibility)if(!this.isEditing()&&this.isValid(m)&&this.isValid(d))o=this.getBodyViewAt(d),"mousedown"!==this._eventFrom&&d.itemIndex!==m.itemIndex&&o&&o.tdClone(d),this._resetTdFocus=!0;else{var w=this._items.editingItem;this.isItemEditing()&&w.itemState===Mg.APPENDING&&(this._resetTdFocus=!0)}}else{var C,x;this._editController.resetEditor(!1),this.isValid(m)&&this.getItem(m.itemIndex).canEdit()&&this._editController.prepareEditor(m),this.isValid(d)&&(C=this.getBodyViewAt(d))&&(x=C.getRowView(d.item))instanceof Xw&&x.resetButtons(this,a,s),!this.container.isLayoutNeeded()&&y&&(C=this.getBodyViewAt(m))&&(x=C.getRowView(m.item))instanceof Xw&&x.resetButtons(this,a,s),this.accessibility&&!this.isEditing()&&this.isValid(m)&&this.layoutManager.cellIsVisible(m)&&((o=this.getBodyViewAt(m))&&o.refreshTdFocused(m,!0),this._editController.attachEditor(this.getEditContainer(m),!1))}return this._fireCurrentChanged(this._currentIndex.assign(m)),this.$_checkCurrentRow(),!0},t.prototype._refreshSideViews=function(){this.container.isLayoutNeeded()||(this._rowBarContainer.visible&&this._rowBarContainer.refresh(this),this._headerView.visible&&this._headerView.refresh(this),this._fixedHeaderView.visible&&this._fixedHeaderView.refresh(this),this._rightHeaderView.visible&&this._rightHeaderView.refresh(this))},t.prototype.$_makeFocusedIndexVisible=function(){return this.makeCellVisible(this._focusedIndex)},t.prototype.makeCellVisible=function(e){if(this.isValid(e)||e&&e.column){if(this.layoutManager.makeCellVisible(e),!this.layoutManager.focusIsVisible())return"mousedown"!==this._eventFrom&&this.invalidateLayout(),!0;this.layoutManager.clearFocusRequest()}return!1},t.prototype.makeColumnVisible=function(e){if(e){var t=this.getIndex(this._focusedIndex?this._focusedIndex.itemIndex:-1,e);this.makeCellVisible(t)}},t.prototype.makeItemVisible=function(e){if(e>=0){var t=this.getIndex(e,this._focusedIndex&&this._focusedIndex.layout);this.makeCellVisible(t)}},t.prototype.cancelEditor=function(e){this.isEditing()&&(e=!(arguments.length>0)||e,this._editController.cancelEditor(e))},t.prototype.itemEditCancel=function(){return this._fireItemEditCancel(this.itemSource.editingItem)},t.prototype.$_cancelItem=function(e,t){void 0===t&&(t=!1);var i=Bp.cast(this.itemSource,cm);return!!(i&&e&&i.isEditing(e))&&(this._validationManager.clearInvalidCells(-1),i.cancel(),t&&this.resetFocusedIndex(),!0)},t.prototype.cancel=function(e){void 0===e&&(e=!1);var t=this.editController;this.isEditing()&&(t.cancelEditor(!0),t.invalidateEditor());var i=this.focusedIndex;return!(!this.isValid(i)||!this.$_cancelItem(i.item)||(i=i.clone(),this._rowBarContainer.stateError=void 0,t._prepareEditor(t._editIndex),i.normalize(this),i.item instanceof lm&&i.up(),this.setFocusedIndex(i),e&&this.$_makeFocusedIndexVisible(),0))},t.prototype.commitEditor=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!1),this.isEditing())return this.editController.commitEditor(e,!1,!0,t)},t.prototype.$_commitItem=function(e,t,i){var n=Bp.cast(this.itemSource,cm),r=this.validationManager,o=this.editOptions;if(n&&e&&n.isEditing(e)&&(t||n.isEdited(e))){var s=Zg(e.itemState);try{o.validateOnEdited&&r.validateRow(e,s,!1,!1),this._rowBarContainer.stateError=void 0}catch(a){throw a instanceof Wy&&(a.level=a.level||Ld.ERROR,!a.column&&(this._rowBarContainer.stateError=a)),a}if(!n.commit()){if(i)throw new Uy("Commit failed.");return!1}return e.dataId>-1&&r.cloneError(-1,e.dataId),r.clearInvalidCells(-1),this.editOptions.removeValidateOnCommit&&e.dataId>-1&&r.clearInvalidCells(e.dataId),!0}},t.prototype.commit=function(e,t,i){void 0===i&&(i=!0);var n=this.focusedIndex,r=!0;return!!this.isValid(n)&&(this.isEditing()&&(r=this.editController.commitEditor(!0,!1,i,!1),this.editController.invalidateEditor()),r&&this.$_commitItem(n.item,e,t))},t.prototype.editorCancel=function(e,t){this._doCellCancel(t)},t.prototype._doCellCancel=function(e){return this._fireEditCanceled(e)},t.prototype.editorCanceled=function(){this.activeTool.resetFocused()},t.prototype._editorStarted=function(e,t){if(this.closePopups(!1),this.edit(t))return!0},t.prototype._editorChange=function(e,t,i){this._fireEditChange(t,i)},t.prototype._editorSearch=function(e,t,i){this._fireEditSearch(t,i)},t.prototype._searchCellButtonClick=function(e,t,i){return this._fireSearchCellButtonClick(t,i)},t.prototype.$_getFieldDefaults=function(e){for(var t=e.fieldCount,i=[],n=0;n<t;n++)i.push(void 0);for(n=0;n<t;n++){var r=e.getField(n).defaultValue;null!=r&&(i[n]=r)}return i},t.prototype.$_getColumnDefaults=function(e){for(var t=0,i=this.columnCount;t<i;t++){var n=this.getColumn(t);n instanceof bv&&null!=n.defaultValue&&(e[n.dataIndex]=n.defaultValue)}},t.prototype.$_setData=function(e,t,i){var n=t.fieldCount;if(Array.isArray(i))for(var r=0;r<n;r++)r<i.length&&Object.hasOwnProperty.call(i,r)&&(e[r]=i[r]);else if(i)for(r=0;r<n;r++){var o=t.getField(r).orgFieldName;Object.hasOwnProperty.call(i,o)&&(e[r]=i[o])}},t.prototype.$_getInsertDefaults=function(e){var t=this.$_getFieldDefaults(this.itemSource.dataSource);return this.$_getColumnDefaults(t),this.$_setData(t,this.itemSource.dataSource,e),t},t.prototype.sortColumn=function(e,t){e&&(this.sortingOptions.style==Wd.EXCLUSIVE?t&&t.shiftKey?this.sortColumnWithStyle(Wd.INCLUSIVE,e):this.sortColumnWithStyle(Wd.EXCLUSIVE,e):this.sortColumnWithStyle(this.sortingOptions.style,e))},t.prototype.sortColumnWithStyle=function(e,t){if(!t)throw new Error("column is null");if(!(this.isItemEditing(null)||t.dataIndex<0)){var i=this._sortingOptions.textCase;e==Wd.EXCLUSIVE?t.sortOrder<0?this.orderBy([t],[bd.ASCENDING],[i]):t.sortDirection==bd.ASCENDING?this.orderBy([t],[bd.DESCENDING],[i]):this.isGroupedColumn(t)&&this.itemSource._groupSorting?this.orderBy([t],[bd.ASCENDING],[i]):this.unsortColumnWithStyle(e,t):e!=Wd.INCLUSIVE&&e!=Wd.REVERSE||(t.sortOrder<0?this.$$_addSort(t,bd.ASCENDING,i,e==Wd.REVERSE):t.sortDirection==bd.ASCENDING?this.$$_addSort(t,bd.DESCENDING,i,e==Wd.REVERSE):this.isGroupedColumn(t)&&this.itemSource._groupSorting?this.$$_addSort(t,bd.ASCENDING,i,e==Wd.REVERSE):this.unsortColumnWithStyle(e,t))}},t.prototype.orderBy=function(e,t,i){if(!this.isItemEditing(null))if(!e||e.length<1)this._sortItems([],[],[]);else{for(var n=[],r=e.length,o=0;o<r;o++){var s=e[o];n.push(s.dataIndex)}this._sortItems(n,t,i)}},t.prototype.unsortColumnWithStyle=function(e,t){if(!this.isItemEditing()&&t){var i=this.getSortFields(),n=this.getSortDirections(),r=this.getSortCases(),o=i.indexOf(t.dataIndex);o<0||(e==Wd.EXCLUSIVE?this.orderBy([],[],[]):e!=Wd.INCLUSIVE&&e!=Wd.REVERSE||(i.splice(o,1),n.splice(o,1),r.splice(o,1),this._sortItems(i,n,r)))}},t.prototype.$$_addSort=function(e,t,i,n){var r=this.getSortFields(),o=this.getSortDirections(),s=this.getSortCases(),a=e.dataIndex,l=r.indexOf(a);l>=0?(o[l]=t,s[l]=i):n?(r.splice(0,0,a),o.splice(0,0,t),s.splice(0,0,i)):(r.push(a),o.push(t),s.push(i)),this._sortItems(r,o,s)},t.prototype._sortItems=function(e,t,i){var n=this,r=e.concat(),o=t?t.concat():[],s=i?i.concat():[];this._fireSorting(r,o)&&this._toastManager.show(this.sortingOptions.toast,!0,function(){var t=n.sortingOptions.keepFocusedRow&&n.focusedIndex?n.focusedIndex.dataRow:-1;if(n._doSortItems(e,o,s),t>=0){var i=Wv.temp(n,n.getItemIndexOfRow(t),n.focusedIndex.column);n._keepLeftPos=!0,n.setFocusedIndex(i,!0,!0)}})},t.prototype._doPrepareComparer=function(e){for(var t={},i=0;i<e.length;i++){var n=this.columnByField(e[i]);n.sortByLabel&&(t[e[i]]=r(n))}return t;function r(e){var t=e.grid;return function(i,n,r){var o=t.getItemOfRow(n,!0),s=t.getItemOfRow(r,!0),a=Tm.getText(o,e),l=Tm.getText(s,e);return a==l?0:null==a?null==l?0:-1:null==l||a>l?1:a<l?-1:0}}},t.prototype._doSortItems=function(e,t,i){},t.prototype.getSortFields=function(){return null},t.prototype.getSortDirections=function(){return null},t.prototype.getSortCases=function(){return null},t.prototype.canFiltering=function(){return this._fireFiltering()},Object.defineProperty(t.prototype,"filterSelecting",{get:function(){return this._filterSelector.opened},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterSelector",{get:function(){return this._filterSelector},enumerable:!1,configurable:!0}),t.prototype.applyFilters=function(e,t,i){var n=this;if(this.isItemEditing(null))return!1;if(this._fireFiltering()){var r=this.filteringOptions.toast,o=r.visible;return this.dataCount<=0&&(r.visible=!1),this._toastManager.show(r,!0,function(){n._keepLeftPos=!0,n.$_doApplyFilters(e,t,i),r.visible=o}),!0}return!1},t.prototype.resetFilters=function(e){this.itemSource.beginFiltering();try{this.getDataColumns(!1).forEach(function(e){e.isFiltered()&&(e.activateAllFilters(!1,!1),e.setInlineFilter(null,!1))}),this.itemSource.clearAllFilters()}finally{this.itemSource.endFiltering(null,null,e)}},t.prototype.getFilteredRows=function(e){var t=this.getAllItems().map(function(e){return e.dataRow});return e?t.sort(function(e,t){return e-t}):t},t.prototype.$_findFilterView=function(e){if(!e)return{};for(var t,i=[this._fixedFilterView,this._filterPanelView,this._rightFilterView],n=0;n<i.length;n++)if(i[n].visible&&(t=i[n].tableCellByLayout(e)))return{view:i[n],cell:t};return{}},t.prototype.filterOperatorCallback=function(e,t,i){var n=this.layoutByName(i.column),r=this.$_findFilterView(n),o=r.view,s=r.cell;s&&o.operatorChange(s,t,n,i)},t.prototype.clearInlineFilter=function(e){var t=e&&e.layout;if(t){var i=this.$_findFilterView(t),n=i.view,r=i.cell;n.clearInput(r,e)}else[this._fixedFilterView,this._filterPanelView,this._rightFilterView].forEach(function(e){return e.clearInput()}),this.$_doApplyFilters(null,null)},t.prototype.inlineFilterFocus=function(e){var t=this.$_findFilterView(e),i=t.view,n=t.cell;i.setFocus(n)},t.prototype.$_doApplyFilters=function(e,t,i){var n=this.focusedIndex?this.focusedIndex.dataRow:-1,r=this._items.itemCount;this._items.beginFiltering();try{this._filterRunning=!0,this._items.clearAllFilters(),this.$_addFilters()}finally{if(this._items.endFiltering(e,t,i),n>=0){var o=Wv.temp(this,this.getItemIndexOfRow(n),this.focusedIndex.column,!0);this.isValid(o)?this.setFocusedIndex(o,!0,!0):this._filteringOptions.clearFocusWhenFiltered&&this.clearFocusedIndex()}else r!==this._items.itemCount&&(this.topIndex=0);this._filterRunning=!1}},t.prototype.$_addFilters=function(){for(var e=this.columnCount,t=0;t<e;t++){var i=this.getColumn(t),n=i.autoFilter?i.autoFilters:i.filters;if(n&&n.activeCount>0)for(var r=0,o=n.count;r<o;r++){var s;(s=n.getItem(r)).active&&this._items.addFilter(i.dataIndex,s)}(n=i._inlineFilters)&&n.activeCount>0&&(s=n.getItem(0)).active&&this._items.addFilter(i.dataIndex,s)}},t.prototype.columnFilterChanged=function(e,t,i){this._doColumnFiltersChanged(e,t,i)},t.prototype.canGrouping=function(){return!1},t.prototype.$_layoutRowHover=function(e,t,i){var n=this._layoutManager,r=n.footerBounds.y+n.contentBounds.y,o=this.getBodyView(e.cell);if(o){var s=n.getTableRowIndex(t);if(!(s<0)){s=o.getViewIndex(s);var a=n.getTableItemBounds(s);switch(a.y+=n.contentBounds.y+n.bodyBounds.y,a.bottom>r&&(a.bottom=r),i){case Vd.DATA:a.x=this._fixedContentPane.x,a.right=this._rightContentPane.width?this._rightContentPane.right:this._contentPane.right;break;case Vd.FILL:a.x=0,a.width=this.width;break;case Vd.CELL:var l=o.pointByContainer(0,0),u=o.getCellRect(n,e,!0);a.x=u.x+l.x,a.width=u.width;break;case Vd.ROW:a.x=0,a.right=this._rightContentPane.width?this._rightContentPane.right:this._contentPane.right}this._rowHoverView.setRect(a)}}},t.prototype.$_resetHovering=function(e,t,i){void 0===i&&(i=!1);var n=this.activeTool;if(n instanceof rI&&this.canHovering){var r=this.container.getTableCell(n.mouseEventTarget);if(i&&this.isRecycleMode()){var o=Wv.temp(this);this.layoutManager.mouseToIndex(r,e,t,o);var s=this.getBodyCellAt(o);s&&(r=s.cell)}var a=this.getCellType(r),l=!1,u=!1,c=!1;if(a===Bd.DATA){var h=this.getBodyView(r).bodyCellByCell(r);this.$_setHoveredCell(h,t,i),n.$_setHoveredCell(h,e,t),l=!0}else if(a===Bd.HEADER)h=this.getHeaderView(r).tableCellByCell(r),n.$_setHoveredHeaderCell(h,e,t),u=!0;else if(a===Bd.STATE&&this._rowBarContainer.stateError&&this._stateBar.errorVisible&&this.editOptions.hintOnError){var d=this._rowBarContainer.rowOf(r);this.isItemEditing(this.getItem(d))&&(c=!0,n.$_showStateError(r,this._rowBarContainer.stateError.message))}return!(l||u||c)&&n._hideTooltip(),l||this.$_setHoveredCell(null,t,!1),!0}},t.prototype.$_getCellAt=function(e,t){var i=this.getBodyView(e),n=this.layoutManager,r=this.getDataCellIndex(e,this._currentIndex),o=i.getCellAt(n,r);if(o&&o.merged){var s=n.getTableRowIndex(t);if(s<0)return o;var a=i.getRowIndex(s);return r.itemIndex=Math.min(Math.max(o.item.index,a),o.item.index+o.rowSpan-1),i.getCellAt(n,r)}return o},t.prototype.$_setHoveredCell=function(e,t,i){void 0===i&&(i=!1);var n=e?this.$_getCellAt(e.cell,t):e;(i||n!==this._hoveredCell)&&(this._hoveredCell&&this._hoveredCell.cell&&this.getBodyView(this._hoveredCell.cell).$_mouseEnteredChanged(this,this._hoveredCell,!1),n&&this.getBodyView(n.cell).$_mouseEnteredChanged(this,n,!0),this._doHoveredCellChanged(this._hoveredCell=n)),(i||t!=this._hoveredY)&&(this._hoveredY=t,this.$_resetRowHover())},t.prototype.$_resetRowHover=function(){var e=this._displayOptions.rowHoverType;this._hoveredCell&&e&&e!=Vd.NONE?(this._rowHoverView.visible=!0,this.$_layoutRowHover(this._hoveredCell,this._hoveredY,e)):this._rowHoverView.visible=!1},t.prototype.$_resetFocusRender=function(e,t){var i=this.getBodyCellAt(this.focusedIndex,!0),n=i&&i.merged&&(i.renderer2||i.head.renderer2),r=this.canMergeEditing(i);if(n&&n.refreshFocusChanged){var o=this.layoutManager,s=this.getBodyViewAt(this.focusedIndex),a=s.getCellRectAt(o,this.focusedIndex,!1),l=s.getCellRectAt(o,this.focusedIndex,!0),u=a.top-l.top+a.height/2-l.height/2;n.moveClickElement(u,r)}},t.prototype._doHoveredCellChanged=function(e){},t.prototype._doCellButtonClicked=function(e){this._fireCellButtonClicked(e)},t.prototype._syncHeadCheck=function(e,t){var i=this.checkBar;if(i.syncHeadCheck){var n=i.showGroup&&!i.merged;if(!1===t)this._headView.allChecked=t;else if(null==e)this._headView.allChecked=t;else{for(var r=0,o=0,s=void 0,a=i.visibleOnly,l=a?this._items.itemCount:(s=this.getAllItems()).length,u=0;u<l;u++){var c=a?this._items.getItem(u):s[u];if((c.isDataRow||n)&&c.checkable&&(r++,c.checked&&o++,o>0&&r!==o))break}this._headView.allChecked=r>0&&o===r,this._headView.indeterminate=i.headThreeStates&&o>0&&o<r}}},t.prototype.getRowHeight=function(e){var t=this.getItem(e);return t?t.height:NaN},t.prototype.setRowHeight=function(e,t,i){void 0===i&&(i=!0);var n=this.getItem(e);n&&(this._items.setRowHeight(n,t,!0),i&&this.refreshView())},t.prototype.clearRowHeights=function(e){void 0===e&&(e=!1),this._items&&this._items.clearRowHeights(e)&&this.refreshView()},t.prototype.setFocusedClass=function(e,t){if(this.displayOptions.useFocusClass){var i=this.getBodyCellAt(e,!0);i&&i.cell&&(t?Bp.addClassName(i.cell,"rg-focused-cell"):Bp.removeClassName(i.cell,"rg-focused-cell"))}},t.prototype.setFocusedRowClass=function(e,t){function i(e,i){var n=e.getRowView(i);if(n)for(var r=0,o=n._getTableRows(this.layoutManager);r<o.length;r++){var s=o[r];t?Bp.addClassName(s,"rg-focused-row"):Bp.removeClassName(s,"rg-focused-row")}}if(this.displayOptions.useFocusClass){var n=e.item;i.call(this,this.bodyView,n),i.call(this,this.fixedBodyView,n),i.call(this,this.rightBodyView,n)}},t.prototype.getSummaryCount=function(e){switch(e){case"summary":return this.headerSummaries.count;case"footer":return this.footers.count;default:return 0}},t.prototype.topIndexChanging=function(e,t,i,n){return this._fireTopIndexChanging(e,t,i,n)},t.prototype.$_rendererChanged=function(e){var t=this._layoutManager.getBodyView(e);t&&t.$_rendererChanged(e)},t.prototype.$_clearDropData=function(e){var t=this.getRowsOfItems(e,!1);t.length>0&&this.dataSource.removeRows(t)},t.prototype.$_dropData=function(e,t,i){var n=this.dataDropOptions,r=n.callback,o=i.index;if(r)r(e.handler,t,this.handler,i.index,i.column);else if(o>=0){var s=e.getRowsOfItems(t),a=void 0,l=n.fieldMapCallback;if(l&&(a=l(e.handler,t,this.handler,o,i.column)),a=a||n.fieldMap,o<this.itemCount){var u=this.getRowOfItem(o);u>=0&&this.dataSource.insertRowsFrom(e.dataSource,a,s,u)}else this.dataSource.appendRowsFrom(e.dataSource,a,s)}n.dropMode==cw.MOVE&&e.$_clearDropData(t)},t.prototype.$_checkFocusedLayout=function(){if(this._focusedIndex){var e=this.getBodyCellAt(this._focusedIndex);e&&e.spanned&&(this._focusedIndex.layout=e.spanHead.layout)}},t.prototype.$_isBottomCell=function(e){var t=this.getBodyCellAt(e);if(t)return this.getBodyView(t.cell).isBottomCell(t)},t.prototype.$_getLowerOfCell=function(e){var t=this.getBodyCellAt(e);if(t)return(t=this.getBodyView(t.cell).getLowerOf(t))&&t.layout.source},t.prototype.$_isTopCell=function(e){var t=this.getBodyCellAt(e);if(t)return this.getBodyView(t.cell).isTopCell(t)},t.prototype.$_getUpperOfCell=function(e){var t=this.getBodyCellAt(e);if(t)return(t=this.getBodyView(t.cell).getUpperOf(t))&&t.layout.source},t.prototype.setCheckFieldIndex=function(e){this._items.setCheckFieldIndex(e)},t.prototype._fireCurrentChanging=function(e,t){return this.fireConfirmEvent("onGridBaseCurrentChanging",e,t)},t.prototype._fireCurrentChanged=function(e){this.fireEvent("onGridBaseCurrentChanged",e)},t.prototype._fireCurrentRowChanged=function(e,t){this.fireEvent("onGridBaseCurrentRowChanged",e,t)},t.prototype._fireValidateCell=function(e,t,i){this.fireEvent("onGridBaseValidateCell",e,t,i)},t.prototype._fireValidateRow=function(e,t,i){this.fireEvent("onGridBaseValidateRow",e,t,i)},t.prototype._fireValidationFail=function(e,t,i){return this.fireObjectEvent("onGridBaseValidationFail",e,t,i)},t.prototype._fireCellClicked=function(e){this.fireEvent("onGridBaseCellClicked",e)},t.prototype._fireCellDblClicked=function(e){this.fireEvent("onGridBaseCellDblClicked",e)},t.prototype._fireCellItemClicked=function(e,t){return this.fireConfirmEvent("onGridBaseCellItemClicked",e,t)},t.prototype._fireColumnCheckedChanged=function(e){this.fireEvent("onGridBaseColumnCheckedChanged",e,e.checked)},t.prototype._fireMenuItemClicked=function(e,t){this.fireEvent("onGridBaseMenuItemClicked",e,t)},t.prototype._fireContextMenuPopup=function(e,t,i,n,r){return this.fireObjectEvent("onGridBaseContextMenuPopup",e,t,i,n,r)},t.prototype._fireContextMenuItemClicked=function(e,t){this.fireEvent("onGridBaseContextMenuItemClicked",e,t)},t.prototype._fireCellButtonClicked=function(e){this.fireEvent("onGridBaseCellButtonClicked",e)},t.prototype._fireEditButtonClicked=function(e){this.fireEvent("onGridBaseEditButtonClicked",e)},t.prototype._fireScrollToBottom=function(){this.fireEvent("onGridBaseScrollToBottom")},t.prototype._fireTopIndexChanging=function(e,t,i,n){return this.fireObjectEvent("onGridBaseTopIndexChanging",e,t,i,n)},t.prototype._fireTopIndexChanged=function(e){this.fireEvent("onGridBaseTopIndexChanged",e)},t.prototype._fireLeftPosChanged=function(e){this.fireEvent("onGridBaseLeftPosChanged",e)},t.prototype._fireDataCellClicked=function(e){this.fireEvent("onGridBaseDataCellClicked",e)},t.prototype._fireDataCellDblClicked=function(e){this.fireEvent("onGridBaseDataCellDblClicked",e)},t.prototype._fireRowsDeleting=function(e){return this.fireConfirmEvent("onGridBaseRowsDeleting",e)},t.prototype._fireRowInserting=function(e,t){return this.fireConfirmEvent("onGridBaseRowInserting",e,t)},t.prototype._fireItemCommit=function(e,t){this.fireEvent("onGridBaseItemCommit")},t.prototype._fireSelectionChanged=function(e){return this.fireEvent("onGridBaseSelectionChanged",e)},t.prototype._fireSelectionAdded=function(e){return this.fireEvent("onGridBaseSelectionAdded",e)},t.prototype._fireSelectionRemoved=function(){return this.fireEvent("onGridBaseSelectionRemoved")},t.prototype._fireSelectionCleared=function(){return this.fireEvent("onGridBaseSelectionCleared")},t.prototype._fireSelectionResized=function(e){return this.fireEvent("onGridBaseSelectionResized")},t.prototype._fireSelectionEnded=function(e){return this.fireEvent("onGridBaseSelectionEnded",e)},t.prototype._fireUpdateStarted=function(e,t){this.fireEvent("onGridBaseUpdateStarted",e)},t.prototype._fireInsertStarted=function(e,t){this.fireEvent("onGridBaseInsertStarted",e,t)},t.prototype._fireShowEditor=function(e,t,i){return this.fireConfirmEvent("onGridBaseShowEditor",e,t,i)},t.prototype._fireShowEditCommand=function(e){return this.fireConfirmEvent("onGridBaseShowEditCommand",e)},t.prototype._fireHideEditor=function(e){return this._doEditorActivated(e,!1,null),this.fireEvent("onGridBaseHideEditor",e)},t.prototype._fireEditChange=function(e,t){this.fireEvent("onGridBaseEditChange",e,t)},t.prototype._fireGetEditValue=function(e,t){return this.fireObjectEvent("onGridBaseGetEditValue",e,t)},t.prototype._fireEditCommit=function(e,t,i){return this.fireConfirmEvent("onGridBaseEditCommit",e,t,i)},t.prototype._fireEditCanceled=function(e){this.fireEvent("onGridBaseEditCanceled",e)},t.prototype._fireItemEditCancel=function(e){return this.fireConfirmEvent("onGridBaseItemEditCancel",e)},t.prototype._fireItemEditCanceled=function(e){this.fireEvent("onGridBaseItemEditCanceled",e)},t.prototype._fireEditSearch=function(e,t){this.fireEvent("onGridBaseEditSearch",e,t)},t.prototype._fireSearchCellButtonClick=function(e,t){return this.fireObjectEvent("onGridBaseSearchCellButtonClick",e,t)},t.prototype._fireCellEdited=function(e,t){this.fireEvent("onGridBaseCellEdited",e,t)},t.prototype._fireEditRowChanged=function(e,t,i,n){this.fireEvent("onGridBaseEditRowChanged",e,t,i,n)},t.prototype._fireEditItemPasted=function(e,t,i,n){this.fireEvent("onGridBaseEditRowPasted",e,t,i,n)},t.prototype._fireItemsPasted=function(e){this.fireEvent("onGridBaseRowsPasted",e)},t.prototype._fireCellPasting=function(e,t,i){return this.fireObjectEvent("onGridBaseCellPasting",e,t,i)},t.prototype._fireItemChecked=function(e){this.fireEvent("onGridBaseItemChecked",e,e.checked)},t.prototype._fireItemsChecked=function(e,t){this.fireEvent("onGridBaseItemsChecked",e,t)},t.prototype._fireItemAllChecked=function(e){this.fireEvent("onGridBaseItemAllChecked",e)},t.prototype._fireErrorClicked=function(e,t){this.fireEvent("onGridBaseErrorClicked",t)},t.prototype._fireSorting=function(e,t){return this.fireConfirmEvent("onGridBaseSorting",e,t)},t.prototype._fireFiltering=function(e){return this.fireConfirmEvent("onGridBaseFiltering",e)},t.prototype._fireKeyDown=function(e){return this.fireConfirmEvent("onGridBaseKeyDown",e)},t.prototype._fireWheel=function(e){return this.fireConfirmEvent("onGridBaseWheel",e)},t.prototype._fireKeyPress=function(e){this.fireEvent("onGridBaseKeyPress",e)},t.prototype._fireKeyUp=function(e){this.fireEvent("onGridBaseKeyUp",e)},t.prototype._fireShowTooltip=function(e,t){return this.fireObjectEvent("onGridBaseShowTooltip",e,t)},t.prototype._fireShowHeaderTooltip=function(e,t,i){return this.fireObjectEvent("onGridBaseShowHeaderTooltip",e,t,i)},t.prototype._fireColumnPropertyChanged=function(e,t,i,n){this.fireEvent("onGridBaseColumnPropertyChanged",e,t,i,n)},t.prototype._fireLayoutPropertyChanged=function(e,t,i,n){this.fireEvent("onGridBaseLayoutPropertyChanged",e,t,i,n)},t.prototype._fireGridActivated=function(){return this.fireEvent("onGridBaseGridActivated",this)},t.prototype._fireGridFocusChanged=function(e,t,i){this.fireEvent("onGridBaseGridFocusChanged",e,t,i)},t.prototype._fireCopy=function(e,t){return this.fireConfirmEvent("onGridBaseCopy",e,t)},t.prototype._firePaste=function(e,t){return this.fireConfirmEvent("onGridBasePaste",e,t)},t.prototype._firePasted=function(){this.fireEvent("onGridBasePasted")},t.prototype._fireCommandStackChanged=function(e,t){this.fireEvent("onGridBaseCommandStackChanged",e,t)},t.prototype.onPopupMenuManagerMenuItemClicked=function(e,t,i){this._fireMenuItemClicked(t,i)},t.prototype.onPopupMenuManagerPopup=function(e,t,i,n,r,o){return this._fireContextMenuPopup(t,i,n,r,o)},t.prototype.onItemProviderOuterSort=function(e,t,i,n){var r,o,s=this;if(t instanceof Function)return r=n,o=i.map(function(e,t,i){return{fieldName:s.dataSource.getFieldName(e),orgFieldName:s.dataSource.getOrgFieldName(e),direction:r[t]||bd.ASCENDING}}),t.call(s,s.handler,o)},t.prototype.onScrollBarScrolled=function(e,t,i,n){var r,o,s,a=this.displayOptions,l=this.fixedOptions,u=a.scrollMessageCallback,c=t===yC.SCROLL_END;if(!c&&this.scrollOnEditing(),e.vertical){var h=-1;switch(t){case yC.LINE:return void this.scrollRow(i);case yC.PAGE:h=Math.max(0,this.topIndex+i*e._page);break;case yC.THUMB_TRACK:var d=a.scrollDuration;a.liveScroll||this._scrolledTime>0&&Bp.getTimer()-this._scrolledTime>d?(h=n,this._scrolledTime=0):(this._scrollTipView||(this._scrollTipView=new HC(this.container)),this._vscrollBar.tipView=this._scrollTipView,this._vscrollBar.setPosition(n,!0),o=this._vscrollBar.pos+l.rowCount,r=u?u(this.handler,e.vertical,o):String(o+1),this._vscrollBar.setText(r),d>0&&0==this._scrolledTime&&(this._scrolledTime=Bp.getTimer()));break;case yC.THUMB_END:this._scrollTipView&&this._scrollTipView.hide(),this._vscrollBar.tipView=null,h=n,c=!0;break;default:h=n}h>=0&&(this.topIndex=h)}else{var p=-1;switch(t){case yC.LINE:p=Math.max(0,this.leftPos+8*i);break;case yC.PAGE:p=i>0?this._layoutManager.scrollToNextCell():this._layoutManager.scrollToPrevCell();break;case yC.THUMB_TRACK:d=a.hscrollDuration,a.liveScroll||this._scrolledTime>0&&Bp.getTimer()-this._scrolledTime>d?(p=n,this._scrolledTime=0):(this._scrollTipView||(this._scrollTipView=new HC(this.container)),this._hscrollBar.tipView=this._scrollTipView,(s=this._layoutManager.getPositionToVIndex(n))>-1&&(r=u?u(this.handler,e.vertical,s):this.getVisibleLayout(s).getDataColumn().header.displayText,this._hscrollBar.setText(r)),this._hscrollBar.setPosition(n,!0),d>0&&0==this._scrolledTime&&(this._scrolledTime=Bp.getTimer()));break;case yC.THUMB_END:this._scrollTipView&&this._scrollTipView.hide(),this._hscrollBar.tipView=null,p=n,c=!0;break;default:p=n}p>=0&&(this.leftPos=p)}c&&!Bp.isMobile()&&this.setFocus()},t.prototype.$_checkFocusedRow=function(e){void 0===e&&(e=!1),this.focusedRow>=this.itemCount&&this.clearFocusedIndex(e)},t.prototype.onItemProviderReset=function(e,t){this.hideEditor(),this._dataChanged=!0,this._needRefresh=!0,this.clearRowHeights(),this._columnsReset(),this._populateMerges(),this.$_checkFocusedRow(),this._itemCheckChanged=!0,this.resetGrid(t),this.$_refreshInvalidList(!0)},t.prototype.onItemProviderRefresh=function(e,t){this.hideEditor(),this._dataChanged=!0,this._needRefresh=!0,this._resetColumnSortStates(),!1!==t&&this.clearRowHeights(),this._populateMerges(),this._filterRunning&&this.filteringOptions.clearFocusWhenFiltered||this.$_checkFocusedRow(!0),this._itemCheckChanged=!0,this.refreshView(),this.$_refreshInvalidList(!1)},t.prototype.onItemProviderRefreshClient=function(e){this.hideEditor(),this._dataChanged=!0,this._needRefresh=!0,this._populateMerges(),this.$_checkFocusedRow(),this.refreshView()},t.prototype.onItemProviderItemInserted=function(e,t){if(e.dataSource.undoing||e.dataSource.redoing){var i=this._focusedIndex.clone();i.itemIndex=t.index,this.setFocusedIndex(i,!0,!0)}},t.prototype.onItemProviderItemDeleted=function(e,t){if(e.dataSource.undoing||e.dataSource.redoing){var i=this._focusedIndex.clone();i.itemIndex=t.index,this.setFocusedIndex(i,!0,!0)}},t.prototype.onItemProviderItemUpdated=function(e,t){if(e.dataSource.undoing||e.dataSource.redoing){var i=this._focusedIndex.clone();i.itemIndex=t.index,this.setFocusedIndex(i,!0,!0)}},t.prototype.onItemProviderCheckableChanged=function(e,t){this._itemCheckChanged=!0,this.refreshView()},t.prototype.onItemProviderItemChecked=function(e,t){this.refreshView(),this._fireItemChecked(t)},t.prototype.onItemProviderItemsChecked=function(e,t,i){this.refreshView(),this._fireItemsChecked(t,i)},t.prototype.onItemProviderItemAllChecked=function(e,t){this.refreshView(),this._fireItemAllChecked(t)},t.prototype.onItemProviderItemCheckChanged=function(e,t,i){this._itemCheckChanged=!0,!this.isTree()&&this.checkBar.canMerge()&&this._populateMerges()},t.prototype.onItemProviderRowStateChanged=function(e,t){this.refreshView()},t.prototype.onItemProviderRowStatesChanged=function(e,t){this.refreshView()},t.prototype.onItemProviderRowStatesCleared=function(e){this.refreshView()},t.prototype.onItemProviderSort=function(e,t,i){this.refreshView()},t.prototype.onItemProviderSorted=function(e){this.header.dirty=!0,this._needRefresh=!0,this.refreshView(),this.fireEvent("onGridBaseSortingChanged")},t.prototype.onItemProviderFiltered=function(e,t,i,n){this._populateMerges(),this._filterRunning&&this.filteringOptions.clearFocusWhenFiltered||this.$_checkFocusedRow(),this._itemCheckChanged=!this._loading,this.header.dirty=!0,this._needRefresh=!0,this.refreshView(),this.fireEvent("onGridBaseFilteringChanged",t,i,n)},t.prototype.onItemProviderCommandStackChanged=function(e,t,i){this._fireCommandStackChanged(t,i)},t.prototype.onItemProviderDataLoadComplated=function(e){this._prevLast=0,this._dataLoad=!0},t.prototype.$_focusEditItem=function(e){var t=this.getIndex(e.index,this.focusedIndex?this.focusedIndex.column:null);!t.column&&this.visibleLayoutCount>0&&(t._layout=this.getVisibleLayout(0)),this.setFocusedIndex(t,!0),this.makeCellVisible(this.focusedIndex)},t.prototype.$_beforeEditing=function(e,t){},t.prototype.onItemEditUpdateStarted=function(e,t){this.$_beforeEditing(e,t),this.refreshView(),this._fireUpdateStarted(t,!1)},t.prototype.onItemEditAppendStarted=function(e,t){this.$_beforeEditing(e,t),this.hideEditor(),this._populateMerges(),this.refreshView(),this.$_focusEditItem(t),this.requestPrepareEditor(),this._fireInsertStarted(t,!0)},t.prototype.onItemEditInsertStarted=function(e,t){this.$_beforeEditing(e,t),this.hideEditor(),this._populateMerges(),this.refreshView(),this.$_focusEditItem(t),this.requestPrepareEditor(),this._fireInsertStarted(t,!1)},t.prototype.onItemEditCellEdited=function(e,t,i){this.refreshView(),!this._cellUpdateEventLock&&this._fireCellEdited(t,i)},t.prototype.onItemEditCellUpdated=function(e,t,i,n,r){this.refreshView(),!this._cellUpdateEventLock&&this._fireEditRowChanged(t,i,n,r)},t.prototype.onItemEditCommitting=function(e,t){},t.prototype.onItemEditCommitted=function(e,t){this._appendDummy(),this.hideEditor(),this.refreshView()},t.prototype.onItemEditCanceled=function(e){this._appendDummy(),this.hideEditor(),this._populateMerges(),this.refreshView(),this._fireItemEditCanceled(e._editingItem)},t.prototype.onItemEditCommitRequest=function(e){this.commit(!1)},t.prototype.onItemEditCancelReuqest=function(e){this.cancel()},t.prototype.onLookupSourceProviderChanged=function(e){this._resetColumnIndices(),this.refreshView()},t.prototype.onSelectionChanged=function(e,t,i){this._refreshSideViews(),i&&this._fireSelectionChanged(t)},t.prototype.onSelectionAdded=function(e,t,i){this._addSelectionView(t),this._layoutSelectionViews(),i&&this._fireSelectionAdded(t)},t.prototype.onSelectionRemoved=function(e,t){this._removeSelectionView(t),this._fireSelectionRemoved()},t.prototype.onSelectionCleared=function(e,t){this._selectionLayer.clearViews(),this._refreshSideViews(),t&&this._fireSelectionCleared()},t.prototype.onSelectionResized=function(e,t){this._layoutSelectionViews(),this._fireSelectionResized(t)},t.prototype.onSelectionEnded=function(e,t){this._fireSelectionEnded(t)},t.prototype.onLayoutExpanding=function(e,t){return this.fireConfirmEvent("onGridBaseLayoutExpanding",t)},t.prototype.onLayoutExpanded=function(e,t){this.fireEvent("onGridBaseLayoutExpanded",t)},t.prototype.onLayoutCollapsing=function(e,t){return this.fireConfirmEvent("onGridBaseLayoutCollapsing",t)},t.prototype.onLayoutCollapsed=function(e,t){this.fireEvent("onGridBaseLayoutCollapsed",t)},t.prototype.onMenuItemClick=function(e,t){this._fireContextMenuItemClicked(e,t)},t}(Pb),sE=function(e){function t(){var t=e.call(this)||this;return t.prepareProgress=10,t.indicatorNo=1,t}return gd(t,e),t.prototype.dispose=function(){return null},t.prototype.export=function(e,t){this.grid=e},t}(Ag),aE=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype.dispose=function(){return e.prototype.dispose.call(this),null},t.prototype.export=function(t,i){e.prototype.export.call(this,t,i);var n=this._exportOptions=i;this._cols=[];var r=t.collectColumns(!0,!0,!0);this._cols=r.filter(function(e){return e instanceof vv});var o=this.indicator=n.indicatorVisible(t)?t.rowIndicator:null;this.header=n.headerVisible(t),this.headerSummary=n.headerSummaryVisible(t),this.footer=n.footerVisible(t),this.indicatorHead=o&&Bp.toStr(o.headText),this.indicatorFoot=o&&Bp.toStr(o.footText),this.indicatorSummary=o&&Bp.toStr(o.sumText),this.done=function(){this.save()},this.buildBook()},t.prototype.prepare=function(){},t.prototype.finallize=function(){},t.prototype.buildBook=function(){this.buildSheet(this.grid)},t.prototype.buildSheet=function(e){this._rows=[],this.header&&this.buildHeader(e),this.headerSummary&&this.buildSummaryItem(e,!1,this._exportOptions.headerSummary),this.buildItems(e),this.footer&&this.buildSummaryItem(e,!0,this._exportOptions.footer),this.done()},t.prototype.addQuatation=function(e,t){return Bp.addQuatation(e,t===vd.TEXT,this._exportOptions.replaceLfText,this._exportOptions.replaceCrText)},t.prototype.buildHeader=function(e){var t=[],i=this._cols;this.indicator&&t.push(this.indicatorHead);for(var n=i.length,r=0;r<n;r++){var o=i[r];t.push(this.addQuatation(o.header.displayText))}this._rows.push(t.join(","))},t.prototype.buildSummaryItem=function(e,t,i){var n,r=this._exportOptions,o=t?e.footers:e.headerSummaries;if(o.visible)for(var s=o.visibleCount,a=0;a<s;a++){var l=[];this.indicator&&l.push(0==a?this.indicatorFoot:"");for(var u=o.getVisible(a),c=0,h=this._cols.length;c<h;c++){var d=this._cols[c],p=u.getCell(d.layout),f=p.getSummary(),_=p.value;n="number"==typeof _?isNaN(_)?p.text:String(_):_ instanceof Date?r.datetimeCallback?(_=r.datetimeCallback(-1,d.name,_,e.handler))instanceof Date?i_.Default.getText(_):_:i_.Default.getText(_):null==_?p.text||f.text:String(_),l.push(this.addQuatation(n))}this._rows.push(l.join(","))}},t.prototype.buildItems=function(e){for(var t=this.allItems?this.allItems.length:e.itemSource.itemCount,i=this.allItems,n=0;n<t;n++){var r=i?i[n]:e.getItem(n);this.buildRow(e,r)}},t.prototype.buildRow=function(e,t){var i,n=this._exportOptions,r=[];if(this.indicator){var o=n.showIndicatorRow(e)?t.dataRow:this.indicatorNo++;r.push(o.toString())}for(var s=0,a=this._cols.length;s<a;s++){var l=this._cols[s],u=void 0;if(i=void 0,l instanceof bv)if(u=l.getField()){var c=Gv.tempItem(e,t,l);i=e.getDisplayText(c)}else i="";r.push(this.addQuatation(i,u&&u.dataType))}this._rows.push(r.join(","))},t.prototype.buildGroupHeader=function(e,t){},t.prototype.buildGroupFooter=function(e,t){},t.prototype.buildMergedGroupHeader=function(e,t){},t.prototype.buildMergedGroupFooter=function(e,t){},t.prototype.buildTreeSheet=function(e){this._rows=[],this.header&&this.buildHeader(e),this.headerSummary&&this.buildSummaryItem(e,!1,this._exportOptions.headerSummary),this.buildTreeItems(e),this.footer&&this.buildSummaryItem(e,!0,this._exportOptions.footer),this.done()},t.prototype.buildTreeItems=function(e){for(var t=this.allItems?this.allItems.length:e.itemCount,i=this.allItems,n=0;n<t;n++){var r=i?i[n]:e.getItem(n);if(!(r instanceof Fy))throw"Unkonw tree item type";this.buildTreeRow(e,r)}},t.prototype.buildTreeRow=function(e,t){this.buildRow(e,t)},t.prototype.save=function(){var e=this._exportOptions,t=e.fileName,i="\ufeff"+this._rows.join("\n"),n=this.grid.doc;e.done&&"function"==typeof e.done&&(e.target===eg.STREAM?e.done(i):e.done()),e.target==eg.LOCAL?this.saveLocal(t,i,n):e.target==eg.REMOTE&&this.saveServer(t,Vp.encode(i),e.url,n,e.params)},t}(sE),lE=function(e){function t(t){var i=e.call(this)||this;return i._styles=null,i.message="",i.visible=!0,i.spaceTop=0,i.spaceBottom=0,i.height=-1,i.styleName="",t&&i.extend(t),i._styles=t&&t.styles?t.styles:null,i}return gd(t,e),t.prototype._doDispose=function(){this._styles=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"cssStyle",{get:function(){return this._styles},enumerable:!1,configurable:!0}),t}(Yp),uE="default",cE="hidden",hE="visible",dE="item",pE="reverse";!function(e){e.IGNORE="ignore",e.CURRENT="current",e.EXPAND="expand",e.COLLAPSE="collapse"}(HI||(HI={}));var fE=function(e){function t(t){var i=e.call(this,t)||this;return i.nullDateText="",i.linear=!1,i.allColumns=!1,i.allItems=!0,i.onlyCheckedItems=!1,i.pagingAllItems=!1,i.indicator=uE,i.checkBar=cE,i.header=uE,i.footer=uE,i.headerSummary=uE,i.indicatorValue="default",i.checkMark="v",i.unCheckMark="",i.indenting=!0,i.separateRows=!1,i.fillMergeFooterValue=!1,i.lookupDisplay=!1,i.showLevelOutline=!1,i.outlineSummaryBelow=!0,i.outlineSummaryRight=!0,i.applyFitStyle=!0,i.applyDynamicStyles=!1,i.applyDefaultColumnFormat=!1,i.applyFixed=!1,i.sheetName=null,i.exportSeriesColumn=!1,i.showColumns=[],i.hideColumns=[],i.hiddenColumns=[],i.exportLink=!1,i.exportTemplate=!1,i.sheetAttrs=null,i.stylePrefix="",i.trailPointZeroFormat=void 0,i.layoutExpand=null,i.exportShape=void 0,i.exportImage=void 0,i.bulkImageDownload=!0,i.exportLayout=void 0,i.userCells=void 0,i.userCellsCallback=void 0,i.sheetProtect=!1,i.protectPassword=void 0,i.exportMemo=void 0,i.extend(t),i}return gd(t,e),t.prototype._doDispose=function(){this._documentTitle&&(this._documentTitle=this._documentTitle.dispose()),this._documentSubtitle&&(this._documentSubtitle=this._documentSubtitle.dispose()),this._documentTail&&(this._documentTail=this._documentTail.dispose()),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"documentTitle",{get:function(){return this._documentTitle},set:function(e){this._documentTitle=new lE(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"documentSubtitle",{get:function(){return this._documentSubtitle},set:function(e){this._documentSubtitle=new lE(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"documentTail",{get:function(){return this._documentTail},set:function(e){this._documentTail=new lE(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"protectProperties",{get:function(){return this.sheetProtect&&(this._protectProperties=this._protectProperties||{},Bp.extendObj({objects:"1",scenarios:"1"},this._protectProperties)),this._protectProperties},set:function(e){this._protectProperties=e?Bp.deepCopy(e):void 0},enumerable:!1,configurable:!0}),t.prototype.indicatorVisible=function(e){if(e)switch(this.indicator){case hE:return!0;case cE:return!1;default:return e.rowIndicator.visible}return!1},t.prototype.checkBarVisible=function(e){if(e)switch(this.checkBar){case hE:return!0;case cE:return!1;default:return e.checkBar.visible}return!1},t.prototype.headerVisible=function(e){if(e)switch(this.header){case hE:return!0;case cE:return!1;default:return e.header.visible}return!1},t.prototype.headerSummaryVisible=function(e){if(e)switch(this.headerSummary){case hE:return!0;case cE:return!1;default:return e.headerSummaries.visible&&e.headerSummaries.visibleCount>0}return!1},t.prototype.footerVisible=function(e){if(e)switch(this.footer){case hE:return!0;case cE:return!1;default:return e.footers.visible&&e.footers.visibleCount>0}return!1},t.prototype.showIndicatorRow=function(e){if(e)switch(this.indicatorValue){case pE:case dE:return!1;case"row":return!0;default:return e.rowIndicator.displayValue==Hv.ROW}return!1},t.prototype.showIndicatorReverse=function(e){if(e)switch(this.indicatorValue){case"row":case dE:return!1;case pE:return!0;default:return e.rowIndicator.displayValue==Hv.REVERSE}},Object.defineProperty(t.prototype,"yOffset",{get:function(){return null==this._yOffset?0:this._yOffset},set:function(e){this._yOffset=Math.floor(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xOffset",{get:function(){return null==this._xOffset?0:this._xOffset},set:function(e){this._xOffset=Math.floor(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xOffsetWidth",{get:function(){return null==this._xOffsetWidth?100:this._xOffsetWidth},set:function(e){this._xOffsetWidth=Math.floor(e)},enumerable:!1,configurable:!0}),t}(Lg),_E=function(e){function t(t,i){var n=e.call(this,i)||this;return n._grids=[],n._parseGrids(t,i),n}return gd(t,e),Object.defineProperty(t.prototype,"exportGrids",{get:function(){return this._grids},enumerable:!1,configurable:!0}),t.prototype._doDispose=function(){this._grids=null,e.prototype._doDispose.call(this)},t.prototype._parseGrids=function(e,t){var i=t.exportGrids;if(i&&Array.isArray(i))for(var n=0,r=i.length;n<r;n++){var o,s=i[n].grid;s=s.$_handler?s:s._view,(o=new fE(t)).assignFrom(i[n]),o.extend(i[n]),o.grid=s;var a={grid:s,sheetName:i[n].sheetName,options:o};this._grids.push(a)}else(o=new fE(t)).extend(t),o.grid=e,this._grids.push({grid:e,sheetName:t.sheetName?String(t.sheetName):"sheet1",options:o})},t}(fE),gE=Bp.hex,mE=function(){function e(t,i){void 0===t&&(t=null),void 0===i&&(i=!1),this._r=0,this._g=0,this._b=0,this._a=0,"string"==typeof t?e._parse(t,this,i,!1):t instanceof e?(this._r=t._r,this._g=t._g,this._b=t._b,this._a=t._a):isNaN(t)?(this._r=this._g=this._b=0,this._a=i?NaN:1):(this._a=(t>>>24)/255,this._r=(16711680&t)>>16,this._g=(65280&t)>>8,this._b=255&t)}return e._parse=function(e,t,i,n){if(e){var r=e.length;if("#"==(e=e.trim().toLowerCase()).charAt(0))if(e=e.substr(1),--r>=6&&r<=8)t._b=Bp.toInt(e.substr(r-2,2),16),t._g=Bp.toInt(e.substr(r-4,2),16),t._r=Bp.toInt(e.substr(r-6,2),16),t._a=6==r?i?NaN:1:Bp.toInt(e.substr(0,r-6),16)/255;else{if(3!=r){if(n)throw"Invalid color value text: "+e;return!1}t._r=Bp.toInt(e.charAt(0)+e.charAt(0),16),t._g=Bp.toInt(e.charAt(1)+e.charAt(1),16),t._b=Bp.toInt(e.charAt(2)+e.charAt(2),16),t._a=i?NaN:1}else if(0==e.indexOf("rgba(")&&")"==e.charAt(r-1)){var o=(e=e.substring(5,r-1)).split(",");t._r=Bp.toInt(o[0]),t._g=Bp.toInt(o[1]),t._b=Bp.toInt(o[2]),t._a=Bp.toFloat(o[3])}else{if(0!=e.indexOf("rgb(")||")"!=e.charAt(r-1)){if(yE.hasOwnProperty(e))return o=yE[e],t._r=o._r,t._g=o._g,t._b=o._b,t._a=o._a,o;if(n)throw new Error("Invalid color text: "+e);return!1}o=(e=e.substring(4,r-1)).split(",");t._r=Bp.toInt(o[0]),t._g=Bp.toInt(o[1]),t._b=Bp.toInt(o[2]),t._a=i?NaN:1}return!0}return!1},e.prototype.toHex=function(){return""+gE(Math.floor(255*this._a))+gE(this._r)+gE(this._g)+gE(this._b)},e.prototype.toColorHex=function(){return""+gE(this._r)+gE(this._g)+gE(this._b)},e.prototype.toString=function(){return"#"+gE(Math.floor(255*this._a))+gE(this._r)+gE(this._g)+gE(this._b)},e}(),yE={transparent:new mE("#00000000"),ltGray:new mE("#d3d3d3"),ltgray:new mE("#d3d3d3"),aliceblue:new mE("#f0f8ff"),antiquewhite:new mE("#faebd7"),aqua:new mE("#00ffff"),aquamarine:new mE("#7fffd4"),azure:new mE("#f0ffff"),beige:new mE("#f5f5dc"),bisque:new mE("#ffe4c4"),black:new mE("#000000"),blanchedalmond:new mE("#ffebcd"),blue:new mE("#0000ff"),blueviolet:new mE("#8a2be2"),brown:new mE("#a52a2a"),burlywood:new mE("#deb887"),cadetblue:new mE("#5f9ea0"),chartreuse:new mE("#7fff00"),chocolate:new mE("#d2691e"),coral:new mE("#ff7f50"),cornflowerblue:new mE("#6495ed"),cornsilk:new mE("#fff8dc"),crimson:new mE("#dc143c"),cyan:new mE("#00ffff"),darkblue:new mE("#00008b"),darkcyan:new mE("#008b8b"),darkgoldenrod:new mE("#b8860b"),darkgray:new mE("#a9a9a9"),darkgreen:new mE("#006400"),darkgrey:new mE("#a9a9a9"),darkkhaki:new mE("#bdb76b"),darkmagenta:new mE("#8b008b"),darkolivegreen:new mE("#556b2f"),darkorange:new mE("#ff8c00"),darkorchid:new mE("#9932cc"),darkred:new mE("#8b0000"),darksalmon:new mE("#e9967a"),darkseagreen:new mE("#8fbc8f"),darkslateblue:new mE("#483d8b"),darkslategray:new mE("#2f4f4f"),darkslategrey:new mE("#2f4f4f"),darkturquoise:new mE("#00ced1"),darkviolet:new mE("#9400d3"),deeppink:new mE("#ff1493"),deepskyblue:new mE("#00bfff"),dimgray:new mE("#696969"),dimGray:new mE("#696969"),dimgrey:new mE("#696969"),dodgerblue:new mE("#1e90ff"),firebrick:new mE("#b22222"),floralwhite:new mE("#fffaf0"),forestgreen:new mE("#228b22"),fuchsia:new mE("#ff00ff"),gainsboro:new mE("#dcdcdc"),ghostwhite:new mE("#f8f8ff"),goldenrod:new mE("#daa520"),gold:new mE("#ffd700"),gray:new mE("#808080"),green:new mE("#008000"),greenyellow:new mE("#adff2f"),grey:new mE("#808080"),honeydew:new mE("#f0fff0"),hotpink:new mE("#ff69b4"),indianred:new mE("#cd5c5c"),indigo:new mE("#4b0082"),ivory:new mE("#fffff0"),khaki:new mE("#f0e68c"),lavenderblush:new mE("#fff0f5"),lavender:new mE("#e6e6fa"),lawngreen:new mE("#7cfc00"),lemonchiffon:new mE("#fffacd"),lightblue:new mE("#add8e6"),lightcoral:new mE("#f08080"),lightcyan:new mE("#e0ffff"),lightgoldenrodyellow:new mE("#fafad2"),lightgray:new mE("#d3d3d3"),lightgreen:new mE("#90ee90"),lightgrey:new mE("#d3d3d3"),lightpink:new mE("#ffb6c1"),lightsalmon:new mE("#ffa07a"),lightseagreen:new mE("#20b2aa"),lightskyblue:new mE("#87cefa"),lightslategray:new mE("#778899"),lightslategrey:new mE("#778899"),lightsteelblue:new mE("#b0c4de"),lightyellow:new mE("#ffffe0"),lime:new mE("#00ff00"),limegreen:new mE("#32cd32"),linen:new mE("#faf0e6"),magenta:new mE("#ff00ff"),maroon:new mE("#800000"),mediumaquamarine:new mE("#66cdaa"),mediumblue:new mE("#0000cd"),mediumorchid:new mE("#ba55d3"),mediumpurple:new mE("#9370db"),mediumseagreen:new mE("#3cb371"),mediumslateblue:new mE("#7b68ee"),mediumspringgreen:new mE("#00fa9a"),mediumturquoise:new mE("#48d1cc"),mediumvioletred:new mE("#c71585"),midnightblue:new mE("#191970"),mintcream:new mE("#f5fffa"),mistyrose:new mE("#ffe4e1"),moccasin:new mE("#ffe4b5"),navajowhite:new mE("#ffdead"),navy:new mE("#000080"),oldlace:new mE("#fdf5e6"),olive:new mE("#808000"),olivedrab:new mE("#6b8e23"),orange:new mE("#ffa500"),orangered:new mE("#ff4500"),orchid:new mE("#da70d6"),palegoldenrod:new mE("#eee8aa"),palegreen:new mE("#98fb98"),paleturquoise:new mE("#afeeee"),palevioletred:new mE("#db7093"),papayawhip:new mE("#ffefd5"),peachpuff:new mE("#ffdab9"),peru:new mE("#cd853f"),pink:new mE("#ffc0cb"),plum:new mE("#dda0dd"),powderblue:new mE("#b0e0e6"),purple:new mE("#800080"),rebeccapurple:new mE("#663399"),red:new mE("#ff0000"),rosybrown:new mE("#bc8f8f"),royalblue:new mE("#4169e1"),saddlebrown:new mE("#8b4513"),salmon:new mE("#fa8072"),sandybrown:new mE("#f4a460"),seagreen:new mE("#2e8b57"),seashell:new mE("#fff5ee"),sienna:new mE("#a0522d"),silver:new mE("#c0c0c0"),skyblue:new mE("#87ceeb"),slateblue:new mE("#6a5acd"),slategray:new mE("#708090"),slategrey:new mE("#708090"),snow:new mE("#fffafa"),springgreen:new mE("#00ff7f"),steelblue:new mE("#4682b4"),tan:new mE("#d2b48c"),teal:new mE("#008080"),thistle:new mE("#d8bfd8"),tomato:new mE("#ff6347"),turquoise:new mE("#40e0d0"),violet:new mE("#ee82ee"),wheat:new mE("#f5deb3"),white:new mE("#ffffff"),whitesmoke:new mE("#f5f5f5"),yellow:new mE("#ffff00"),yellowgreen:new mE("#9acd32")},vE=function(){function e(){}return e.parseDocumentStyles=function(e){for(var t,i,n,r={},o=e.styleSheets,s=0,a=o.length;s<a;s++){t=o[s];try{t.rules?i=t.rules:t.cssRules&&(i=t.cssRules)}catch(p){continue}if(i)for(var l=i.length;l--;){var u=(n=i[l]).selectorText;if(u)if(u.indexOf(",")>-1)for(var c=u.split(","),h=c.length;h--;){var d=c[h].trim();d&&(r[d]=n.style)}else r[n.selectorText]=n.style}}return r},e.extendCssStyle=function(e,t){for(var i=0,n=e.length;i<n;i++){var r=e[i];"inherit"==e[r]||Bp.included(r,"background-color")&&Bp.included(e[r],"none","initial","unset","transparent")||(t[r]||(t[t.length]=r,t.length++),t[r]=e[r])}},e.$_getSelectorStyle=function(e,t){return e[t]},e.getSelectorStyle=function(t,i){if(e.prefix){var n=[],r={length:0};n.push(e.$_getSelectorStyle(t,i)),n.push(e.$_getSelectorStyle(t,e.prefix+i));for(var o=0,s=n.length;o<s;o++)n[o]&&e.extendCssStyle(n[o],r);return r}return e.$_getSelectorStyle(t,i)},e.getSelectorStyles=function(t,i){var n="string"==typeof i?i.trim().split(" "):Array.isArray(i)?i:null;return n?n.map(function(i){return e.getSelectorStyle(t,"."+i)}):[]},e}(),bE=function(){function e(e,t){this._grid=e,this._exportOptions=t,this._exportLayout=t.exportLayout,this._dataColumns=[],this._sparkColumns={},this.parse(t)}return e.prototype.dispose=function(){this._headerCells=null,this._dataCells=null,this._dataColumns=null,this._sparkColumns=null,this._exportLayout=null,this._layout=this._layout&&this._layout.dispose()},Object.defineProperty(e.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colCount",{get:function(){var e=this._layout&&this._layout._dataCells;return e&&e.length?e[0].length:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerRowCount",{get:function(){return(this._layout&&this._layout._headerCells).length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataRowCount",{get:function(){return(this._layout&&this._layout._dataCells).length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sparkColumns",{get:function(){return this._sparkColumns},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"documentCssStyles",{get:function(){return this._documentCssStyles},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupModel",{get:function(){return this._groupModel},enumerable:!1,configurable:!0}),e.prototype.getHeader=function(e,t){return this._headerCells[e][t]},e.prototype.getItem=function(e,t){return this._dataCells[e][t]},e.prototype.getFooterItem=function(e,t){return this._footerCells[e][t]},e.prototype.getSummaryItem=function(e,t){return this._summaryCells[e][t]},e.prototype.clearDataSpanned=function(){for(var e=this._dataCells,t=0;t<e.length;t++)for(var i=0;i<e[t].length;i++)e[t][i].spanned=!1},e.prototype.getItemLevel=function(e){for(var t=this.grid,i=e.parent,n=e.level-1;i&&i.level>0;){var r=t.columnByField(i.groupField),o=r.layout;r.visible&&o.visible||n--,i=i.parent}return Math.max(n,0)},e.prototype.prepareLayout=function(){var e,t=this.grid,i=this._exportOptions,n=t.activeCellLayout;if(i.linear){for(var r=n.getDataColumns(!1),o=[],s=0;s<=r.length-1;s++){var a=r[s],l=a.visible&&a.layout.visible||i.allColumns;(l=l&&i.hideColumns.indexOf(a.name)<0||i.showColumns.indexOf(a.name)>=0)&&o.push({column:a.name,width:a.layout.domWidth||a.layout.width})}e=new Bv(t).load(o)}else e=i.exportLayout?new Bv(t).load(i.exportLayout):new Bv(t).load(t.activeCellLayout.getLayout(!0,i.applyFitStyle,i.allColumns,i.showColumns,i.hideColumns,i.layoutExpand));return e},e.prototype.parse=function(e){var t=this._grid,i=this._layout=this.prepareLayout(),n=this._exportOptions.stylePrefix;vE.prefix=n?n.trim()+" ":void 0,i.$_refresh2(t._columns,t.displayOptions.minCellWidth),i.$_prepareLayout(t,t.fixedOptions.colCount,t.fixedOptions.rightCount),i.$_prepareMerges(t);var r=t.footers,o=t.headerSummaries;this._setCellInfo(i._headerCells,this._headerCells=[]),this._setCellInfo(i._dataCells,this._dataCells=[]),this._setFooterInfo(i._dataCells,e.footer===hE?r.count:r.visibleCount,this._footerCells=[]),this._setFooterInfo(i._dataCells,e.headerSummary===hE?o.count:o.visibleCount,this._summaryCells=[]),this._documentCssStyles=vE.parseDocumentStyles(t.doc),this._setDataColumns(i._dataCells),this._setSparkInfo(this._dataCells)},e.prototype._setCellInfo=function(e,t){for(var i=0;i<e.length;i++){for(var n=[],r=0;r<e[i].length;r++)n.push({layout:e[i][r],spanned:!1});t.push(n)}},e.prototype._setFooterInfo=function(e,t,i){for(var n=0;n<t;n++)for(var r=0;r<e.length;r++){for(var o=[],s=0;s<e[r].length;s++)o.push({footerIndex:n,layout:e[r][s],spanned:!1});i.push(o)}},e.prototype.setGroupFooterItms=function(e,t,i){this._groupModel=e;var n=this._groupFooterCells=[],r=this._dataCells,o=!1;if(!(e.footerCount>0)){var s=e.provider._expandedAdornments,a=e.provider._collapsedAdornments;o=i?t&&!e.expanded&&Bp.included(a,Ed.SUMMARY,Ed.FOOTER):(o=e.expanded&&s===Ed.SUMMARY)||!t&&!e.expanded&&Bp.included(a,Ed.SUMMARY,Ed.FOOTER)}for(var l=o?e.allFooterCount:e.footerCount,u=0;u<l;u++)for(var c=o?e._allFooters[u]:e.getFooter(u),h=0;h<r.length;h++){for(var d=[],p=0;p<r[h].length;p++)d.push({footerIndex:c.footerIndex,layout:r[h][p].layout,spanned:!1});n.push(d)}},e.prototype.getGroupFooterCells=function(){return this._groupFooterCells},e.prototype._setDataColumns=function(e){var t,i;this._dataColumns=[];for(var n=0,r=e.length;n<r;n++){t=[];for(var o=0,s=e[n].length;o<s;o++)(i=e[n][o]).isProxy&&(i=i.source),t.push(i.firstColumn);this._dataColumns.push(t)}},e.prototype._setSparkInfo=function(e){function t(e,t){var i={start:void 0,end:void 0,row:void 0},n=s[0],r=s[s.length-1],o=a.columnByField(n),l=a.columnByField(r);if(!o||!l)return null;for(var u=0,c=t.length;u<c;u++)for(var h=0,d=t[u].length;h<d;h++)o==t[u][h]&&(i.start=h,i.row=u-e),l==t[u][h]&&(i.end=h);return i}var i,n,r,o,s,a,l=this.documentCssStyles;this._sparkColumns=[];for(var u=0,c=e.length;u<c;u++)for(var h=0,d=e[u].length;h<d;h++)if((r=(n=(i=e[u][h]).layout)instanceof Sv?n.firstColumn:null)instanceof wv&&(o=r.renderer)&&Uw.interfaced(o)){s=r.fields,a=r.grid;var p=s.length>0&&t(u,this._dataColumns);if(p){var f=o.firstStyle,_=o.lastStyle,g=o.highStyle,m=o.lowStyle,y=void 0,v=void 0,b=void 0;if(Ww.interfaced(o)){y="line",!_&&(_=Ww.LAST_STYLE),!g&&(g=Ww.HIGH_STYLE),!m&&(m=Ww.LOW_STYLE);var w=o.pointStyle?vE.getSelectorStyle(l,"."+o.pointStyle):void 0;v=w?new mE(w.fill).toHex():void 0,b=(x=vE.getSelectorStyle(l,"."+Ww.CHART_STYLE))?new mE(x.stroke).toHex():void 0}else{var C=void 0;Gw.interfaced(o)?(y="column",C=Gw.CHART_STYLE,!_&&(_=Gw.LAST_STYLE),!g&&(g=Gw.HIGH_STYLE),!m&&(m=Gw.LOW_STYLE)):(y="stacked",C=zw.CHART_STYLE);var x=vE.getSelectorStyle(l,"."+C);b=new mE(x.fill).toHex()}var I=g?vE.getSelectorStyle(l,"."+g):void 0,E=m?vE.getSelectorStyle(l,"."+m):void 0,O=f?vE.getSelectorStyle(l,"."+f):void 0,S=_?vE.getSelectorStyle(l,"."+_):void 0,k={type:y,colors:{colorHigh:I&&I.fill?new mE(I.fill).toHex():void 0,colorLow:E&&E.fill?new mE(E.fill).toHex():void 0,colorFirst:O&&O.fill?new mE(O.fill).toHex():void 0,colorLast:S&&S.fill?new mE(S.fill).toHex():void 0,colorMarkers:v,colorSeries:b},sparkLines:{},range:p};i.sparkLineGroup=k,this._sparkColumns[r.$_hash]=i}}},e}(),wE=function(){function e(){}return e.convertNumberFormat=function(e){return e.indexOf(";")>0&&(e=e.split(";")[0]),e.indexOf(".#")>0?e.replace(".#",".0"):e},e.convertDateFormat=function(e){for(var t="",i=e.length,n=0;n<i;n++){var r=e.charAt(n);switch(r){case"y":case"d":case"m":case"s":case":":t+=r;break;case"M":t+="m";break;case"a":t+="AM/PM";break;case"H":t+="h",(n>=i-1||"H"!=e.charAt(n+1))&&(t+="h");break;case"h":0!=n&&"h"==e.charAt(n-1)||(t+="h");break;case"S":case"T":case"t":case"Z":case"z":case"+":break;case".":case"/":case"-":case" ":(n>=i-1||"S"!=e.charAt(n+1))&&(t=t+"\\"+r);break;default:t=t+'"'+r+'"'}}return t},e}(),CE=function(){function e(){this._contentTypes={},this._bulkDownload=!0}return Object.defineProperty(e.prototype,"bulkDownload",{get:function(){return this._bulkDownload},set:function(e){this._bulkDownload=e},enumerable:!1,configurable:!0}),e.prototype.executeDownLoad=function(e,t,i){return function(e,t,i,n){return new(i||(i=Promise))(function(t,r){function o(e){try{a(n.next(e))}catch(t){r(t)}}function s(e){try{a(n.throw(e))}catch(t){r(t)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i(function(e){e(n)})).then(o,s)}a((n=n.apply(e,[])).next())})}(this,0,void 0,function(){var n,r,o,s,a;return function(t,i){var n,r,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=i.call(t,a)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,function(l){switch(l.label){case 0:if(n=[],r=Object.keys(t),!this.bulkDownload)return[3,1];for(o=0;o<r.length;o++)s=r[o],a=t[s],n.push(this.download(a).then(function(e){return new Promise(function(t,i){var n=new Uint8Array(e.buffer);try{var r=Array.prototype.map.call(n,function(e){return String.fromCharCode(e)}).join(""),o="data:".concat(e.type,";base64,").concat(Vp.btoa(r)),s=document.createElement("img");s.style.position="fixed",s.style.top="-10000px",s.style.left="-10000px",s.src=o,s.onload=function(){e.width=s.width,e.height=s.height,s.src="",t(e)},s.onerror=function(){i()}}finally{}})}).catch(function(){}));return Promise.all(n).catch(function(){}).finally(function(){i&&i.call(e,t)}),[3,6];case 1:o=0,l.label=2;case 2:return o<r.length?(s=r[o],a=t[s],[4,this.download(a).then(function(e){return new Promise(function(t,i){var n=new Uint8Array(e.buffer);try{var r=Array.prototype.map.call(n,function(e){return String.fromCharCode(e)}).join(""),o="data:".concat(e.type,";base64,").concat(Vp.btoa(r)),s=document.createElement("img");s.style.position="fixed",s.style.top="-10000px",s.style.left="-10000px",s.src=o,s.onload=function(){e.width=s.width,e.height=s.height,s.src="",t(e)},s.onerror=function(){i()}}finally{}})}).catch(function(){})]):[3,5];case 3:l.sent(),l.label=4;case 4:return o++,[3,2];case 5:i&&i.call(e,t),l.label=6;case 6:return[2]}})})},e.prototype.getContentTypes=function(){return this._contentTypes},e.prototype.getExtension=function(e,t){var i=function(e){return Array.prototype.map.call(e,function(e){return Bp.hex(e)}).join("")};if(e){var n="",r=e.toLowerCase().split(/\s*(?:;|$)\s*/),o=Bp.find(r,function(e){return 0===e.indexOf("image")});o&&(n=o.indexOf("svg")>=0?"svg":o.substring(6));var s=Bp.find(r,function(e){return e.indexOf("octet-stream")>=0});if(!n&&s&&t.byteLength>20){var a=new Uint8Array(t),l=i(a.slice(0,10)),u=i(a.slice(-18));0===l.indexOf("474946")?(n="gif",e="image/gif"):0===l.indexOf("89504e47")?(n="png",e="image/png"):0===l.indexOf("ffd8")&&"ffd9"===u.substr(-4)?(n="jpeg",e="image/jpeg"):0===l.indexOf("424d")&&(n="bmp",e="image/bmp")}return n&&!this._contentTypes.hasOwnProperty(n)&&(this._contentTypes[n]=e),{ext:n,type:e}}},e.prototype.download=function(e){var t=this;return new Promise(function(i,n){var r=new XMLHttpRequest;r.open("GET",e.url),r.onload=function(){if(200===r.status){var n=t.getExtension(r.getResponseHeader("content-type"),r.response),o=n.ext,s=n.type;o?(e.fileName="".concat(e.id,".").concat(o),e.type=s,e.buffer=r.response,i(e)):i(null)}else i(null)},r.onerror=function(){n()},r.responseType="arraybuffer",r.send()})},e}(),xE=/\<|\>|\&|\"|\'/;function IE(e){return xE.test(e)?e.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;"):e}var EE=function(){function e(){}return e.createDocument=function(e,t){var i={name:e,attrs:{}};for(var n in t)i.attrs[n]=t[n];return i},e.removeItem=function(t){if(t.texts=null,t.attrs=null,t.childs)for(var i=t.childs.length;i--;)e.removeItem(t.childs[i]),delete t.childs[i];t.childs=null},e.addChild=function(t,i,n,r){var o={name:i,attrs:n};return r&&e.addText(o,IE(r)),e.addChildElement(t,o),o},e.addChildElement=function(e,t){e.childs||(e.childs=[]),e.childs.push(t)},e.addProperty=function(e,t,i){e.attrs||(e.attrs={}),e.attrs[t]=IE(i)},e.addText=function(e,t){e.texts||(e.texts=[]),e.texts.push(t)},e.toString=function(t){var i="<"+t.name;for(var n in t.attrs)i+=" "+n+'="'+t.attrs[n]+'"';if(t.childs||t.texts){if(i+=">",t.texts)for(var r=0,o=t.texts.length;r<o;r++)i+=t.texts[r];if(t.childs)for(r=0,o=t.childs.length;r<o;r++)i+=e.toString(t.childs[r]);i+="</"+t.name+">"}else i+="/>";return i},e.xmlEscape=function(e){return IE(e)},e}(),OE=function(){function e(){}return e.toColCaption=function(e){for(var t="";e>=0;)t=String.fromCharCode(e%26+65)+t,e=Math.floor(e/26)-1;return t},e.toRange=function(t,i,n,r,o){void 0===n&&(n=!1),void 0===r&&(r=1),void 0===o&&(o=1);var s=i+1;return n?e.toColCaption(t)+s+":"+e.toColCaption(t+r-1)+(s+o-1):e.toColCaption(t)+s},e.daysOfYear=function(t){for(var i=0,n=0;n<t.getMonth();n++)i+=e.$$_MONTH_DAYS[n];if(t.getMonth()>=2){var r=t.getFullYear();(r%400==0||r%4==0&&r%100!=0)&&i++}return i+t.getDate()},e.daysOfPriorYears=function(e){return e<=1900?0:365*(--e-1899)+(Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400)-460)},e.toExcelDate=function(t){var i=(1e3*(60*(60*t.getHours()+t.getMinutes())+t.getSeconds())+t.getMilliseconds())/e.$$_DAY_MILLISECONDS,n=e.daysOfPriorYears(t.getFullYear())+this.daysOfYear(t)+i;return n>=60&&n++,n},e.XML_HEAD_STRING='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',e.$$_DAY_MILLISECONDS=864e5,e.$$_MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30],e}(),SE=function(){function e(){this._nextId=0,this._count=0,this._stringMap={},this._strings=[]}return e.prototype.dispose=function(){for(var e in this._strings=null,this._stringMap)delete this._stringMap[e];this._stringMap=null},Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),e.prototype.uniqueCount=function(){return this._nextId},e.prototype.add=function(e){this._count++;var t=this._stringMap[e];return void 0===t&&(t=this._nextId++,this._stringMap[e]=t,this._strings[t]=e),t},e.prototype.getIndex=function(e){return this._stringMap[e]},e.prototype.createPart=function(){var e=EE.createDocument("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"});EE.addProperty(e,"count",this._count.toString()),EE.addProperty(e,"uniqueCount",this._nextId.toString());for(var t=/^\s|\s$|\r|\n|\r\n/,i=0,n=this._strings.length;i<n;i++){var r=EE.addChild(e,"si"),o=this._strings[i].replace(/([\u0000-\u0008\u000b\u000c\u000e-\u001F])/g,function(e){return"_x".concat(("0000"+e.charCodeAt(0).toString(16)).substr(-4),"_")}),s=EE.addChild(r,"t",null,o);t.test(this._strings[i])&&EE.addProperty(s,"xml:space","preserve")}var a=EE.toString(e);return OE.XML_HEAD_STRING+a},e}(),kE=function(){function e(e,t){this._id=e,this._url=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),e}(),PE=function(){function e(){this._images=[],this._imageMap={}}return e.prototype.add=function(e){if(this._images.indexOf(e)<0){var t=this._images.push(e);this._imageMap[e]=new kE(t,e)}return e},e.prototype.getImageMap=function(){return this._imageMap},e.prototype.getImage=function(e){return this._imageMap&&this._imageMap[e]},e.prototype.getImageId=function(e){return this._imageMap&&this._imageMap[e]&&this._imageMap[e].id},e}(),RE=function(){function e(e,t,i,n){this.col=e,this.toCol=e,this.row=t,this.toRow=t,this.cWidth=7*i,this.cHeight=n>0?n/.75:-1}return e.prototype.getDrawingInfos=function(){return{col:this.col.toString(),fromColOff:Math.round(this.fromX*e.emu).toString(),row:this.row.toString(),fromRowOff:Math.round(this.fromY*e.emu).toString(),toCol:this.toCol.toString(),toColOff:Math.round(this.colOff*e.emu).toString(),toRow:this.toRow.toString(),toRowOff:Math.round(this.rowOff*e.emu).toString()}},e.prototype.drawPosition=function(e){var t=EE,i=this.getDrawingInfos(),n=t.addChild(e,"xdr:from");t.addChild(n,"xdr:col",null,i.col),t.addChild(n,"xdr:colOff",null,i.fromColOff),t.addChild(n,"xdr:row",null,i.row),t.addChild(n,"xdr:rowOff",null,i.fromRowOff),n=t.addChild(e,"xdr:to"),t.addChild(n,"xdr:col",null,i.toCol),t.addChild(n,"xdr:colOff",null,i.toColOff),t.addChild(n,"xdr:row",null,i.toRow),t.addChild(n,"xdr:rowOff",null,i.toRowOff)},e.emu=9525,e}(),TE=function(e){function t(t,i,n,r,o,s){void 0===s&&(s=!0);var a=e.call(this,t,i,n,r)||this;return a.offset=4,a.xLocation="left",a.yLocation="center",a.transparent=!1,a.text="",a.style=o,a.border=s,a}return gd(t,e),Object.defineProperty(t.prototype,"gradientFill",{get:function(){var e=this.style["background-image"],t="linear-gradient(",i=e?e.indexOf(t):-1;if(i>-1){var n=this.splitEscape(e.slice(i+16,e.length-1));return n.length>2?new mE(n[1]).toColorHex():new mE(n[0]).toColorHex()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return new mE(this.style.fill||this.style["background-color"],!1).toColorHex()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.style.stroke?new mE(this.style.stroke,!1).toColorHex():this.fill},enumerable:!1,configurable:!0}),t.prototype.splitEscape=function(e,t){if(void 0===t&&(t=","),e){for(var i=[],n=!1,r="",o=0;o<e.length;o++){var s=e[o];s!=t||n?(" "!=s||n)&&(r+=s):(i.push(r),r=""),"("==s&&(n=!0),")"==s&&(n=!1)}return r&&i.push(r),i}return null},t.prototype.getRectangleSize=function(e,t){if("number"==typeof e)return e;if(e&&-1!==e.indexOf("px"))e=e.replace("px","");else if(e&&e.indexOf("%")){var i=parseFloat(e.replace("%",""));e=t*i/100}return Number(e)},t.prototype.drawFill=function(e){var t=EE;if(this.gradientFill){var i=t.addChild(e,"a:solidFill");t.addChild(i,"a:srgbClr",{val:this.gradientFill})}else i=t.addChild(e,"a:solidFill"),t.addChild(i,"a:srgbClr",{val:this.fill})},t.prototype.calcPosition=function(){var e=this.getRectangleSize(this.percentageOffset,this.cWidth-2*this.offset-3)||this.offset;switch(this.width=this.width?this.width:this.getRectangleSize(this.percentageWidth,this.cWidth-2*this.offset-3),this.height=this.height?this.height:this.getRectangleSize(this.percentageHeight,this.cHeight-2*this.offset-3),this.fromX=this.offset,this.fromY=(this.cHeight-this.height)/2,this.rowOff=this.fromY+this.height,this.xLocation){case"left":this.colOff=this.width+this.offset;break;case"percent":this.fromX=Math.max(e,this.offset)+this.offset,this.colOff=this.fromX+this.width;break;case"right":this.fromX=Math.max(1,this.cWidth-this.width-2*this.offset),this.colOff=this.cWidth-2*this.offset}switch(this.yLocation){case"top":this.fromY=this.offset,this.rowOff=this.fromY+this.height;break;case"center":break;case"bottom":this.rowOff=this.cHeight-this.offset,this.fromY=this.rowOff-this.height}for(var t=this.cHeight/2-this.height/2,i=this.cWidths||[],n=1;n<i.length;n++){var r=i[n]-i[n-1];switch(this.xLocation){case"left":this.fromX>=i[n]&&(this.col++,this.fromX-=r),this.fromX+this.width>i[n]&&(this.toCol++,this.colOff-=r);break;case"percent":e>=i[n]&&(this.col++,this.fromX-=r),e+this.width>i[n]&&(this.toCol++,this.colOff-=r);break;case"right":this.fromX>=i[n]&&(this.col++,this.fromX-=r),this.cWidth<=i[n]&&(n>1&&this.toCol++,this.colOff=r-2*this.offset)}}var o=this.cHeights||[];switch(this.yLocation){case"top":case"center":for(n=1;n<o.length;n++)t>=o[n]&&(this.row++,this.fromY-=o[n]-o[n-1]),t+this.height>o[n]&&(this.toRow++,this.rowOff-=o[n]-o[n-1]);break;case"bottom":for(n=o.length-1;n>0;n--)this.toRow++,this.rowOff-=o[n]-o[n-1],this.height<o[n]&&(this.row++,this.fromY-=o[n]-o[n-1])}},t.prototype.draw=function(e,t){var i=EE,n=i.addChild(e,"xdr:twoCellAnchor",{editAs:"oneCell"});this.calcPosition(),this.drawPosition(n);var r=i.addChild(n,"xdr:sp",{macro:"",textlink:""}),o=i.addChild(r,"xdr:nvSpPr");i.addChild(o,"xdr:cNvPr",{id:t+2,name:"rectangle "+t}),i.addChild(o,"xdr:cNvSpPr");var s=i.addChild(r,"xdr:spPr"),a=i.addChild(s,"a:xfrm");if(i.addChild(a,"a:off",{x:"1",y:"1"}),i.addChild(a,"a:ext",{cx:"1181100",cy:"124995"}),i.addChild(s,"a:prstGeom",{prst:"rect"}),this.transparent?i.addChild(s,"a:noFill"):this.drawFill(s),!this.border){var l=i.addChild(s,"a:ln");i.addChild(l,"a:noFill")}var u=i.addChild(r,"xdr:style"),c=i.addChild(u,"a:lnRef",{idx:"2"});i.addChild(c,"a:srgbClr",{val:this.stroke});var h=i.addChild(u,"a:fillRef",{idx:"1"});i.addChild(h,"a:srgbClr",{val:"000000"});var d=i.addChild(u,"a:effectRef",{idx:"0"});i.addChild(d,"a:schemeClr",{val:"accent1"});var p=i.addChild(u,"a:fontRef",{idx:"minor"});i.addChild(p,"a:schemeClr",{val:"lt1"});var f=i.addChild(r,"xdr:txBody");i.addChild(f,"a:bodyPr",{vertOverflow:"clip",horzOverflow:"clip",rtlCol:"0",anchor:"ctr"}),i.addChild(f,"a:lstStyle");var _=i.addChild(f,"a:p");if(i.addChild(_,"a:pPr",{algn:"ctr"}),this.text){var g=i.addChild(_,"a:r"),m=i.addChild(g,"a:rPr",{lang:"ko-KR",altLang:"en-US",sz:"1000"}),y=i.addChild(m,"a:solidFill");i.addChild(y,"a:schemeClr",{val:"tx1"}),i.addChild(g,"a:t").texts=[this.text]}else i.addChild(_,"a:endParaRPr",{lang:"ko-KR",altLang:"en-US",sz:"1100"});i.addChild(n,"xdr:clientData")},t}(RE),DE=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,n,r)||this;switch(a.imageUrl=s,o){case Kd.CENTER:a.location=Kd.CENTER;break;case Kd.RIGHT:case Kd.RIGHT_EDGE:a.location=Kd.RIGHT;break;default:a.location=Kd.LEFT}return a}return gd(t,e),t.prototype.calcPosition=function(){var e,t=this.rHeight,i=this.rWidth,n=this.imageWidth,r=this.imageHeight;null!=t&&t>0&&null!=i&&i>0?(n=i,r=t):null!=t&&t>0?(e=t/r,r=t,n*=e):null!=i&&i>0&&(e=i/n,n=i,r*=e),this.cWidth=this.cWidth<0?n:this.cWidth,this.cHeight=this.cHeight<0?r:this.cHeight,e=1,(this.cWidth<n||this.cHeight<r)&&(r*=e=Math.min((this.cWidth-2)/n,(this.cHeight-2)/r),n*=e);var o=1;this.location===Kd.CENTER?o=Math.max(1,this.cWidth/2-n/2):this.location===Kd.RIGHT&&(o=this.cWidth-n-1);for(var s=this.cHeight/2-r/2,a=this.row,l=this.col,u=a,c=this.col,h=s,d=o,p=s+r,f=o+n,_=this.cHeights||[],g=1;g<_.length;g++)s>=_[g]&&(a++,h-=_[g]-_[g-1]),s+r>_[g]&&(u++,p-=_[g]-_[g-1]);var m=this.cWidths||[];for(g=1;g<m.length;g++)o>=m[g]&&(l++,d-=m[g]-m[g-1]),o+n>m[g]&&(c++,f-=m[g]-m[g-1]);this.row=a,this.toRow=u,this.col=l,this.toCol=c,this.fromX=Math.max(1,d),this.fromY=Math.max(1,h),this.colOff=Math.min(f,this.cWidth-1),this.rowOff=Math.min(p,this.cHeight-1)},t.prototype.draw=function(e,t){var i=EE;if(this.eImage&&this.eImage.fileName){this.imageWidth=this.eImage.width,this.imageHeight=this.eImage.height,this.calcPosition();var n=i.addChild(e,"xdr:twoCellAnchor",{editAs:"oneCell"});this.drawPosition(n);var r=i.addChild(n,"xdr:pic"),o=i.addChild(r,"xdr:nvPicPr");i.addChild(o,"xdr:cNvPr",{id:t+2,name:"picture "+t});var s=i.addChild(o,"xdr:cNvPicPr");i.addChild(s,"a:picLocks",{noChangeAspect:"1"});var a=i.addChild(r,"xdr:blipFill"),l=i.addChild(a,"a:blip",{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":"rId"+this.imageIndex}),u=i.addChild(l,"a:extLst"),c=i.addChild(u,"a:ext",{uri:"{28A0092B-C50C-407E-A947-70E740481C1C}"});i.addChild(c,"a14:useLocalDpi",{"xmlns:a14":"http://schemas.microsoft.com/office/drawing/2010/main",val:"0"}),i.addChild(i.addChild(a,"a:stretch"),"a:fillRect");var h=i.addChild(r,"xdr:spPr"),d=i.addChild(h,"a:xfrm");i.addChild(d,"a:off",{x:"1",y:"1"}),i.addChild(d,"a:ext",{cx:"1181100",cy:"1189663"}),i.addChild(i.addChild(h,"a:prstGeom",{prst:"rect"}),"a:avLst"),i.addChild(n,"xdr:clientData")}},t}(RE),ME=function(){function e(e,t,i){this._infos=[],this._book=e,this._sheet=t,this._index=i}return e.prototype.dispose=function(){return null},Object.defineProperty(e.prototype,"fileName",{get:function(){return"drawing"+this._index+".xml"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"relationId",{get:function(){return"rId"+this._rId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rId",{set:function(e){this._rId=e},enumerable:!1,configurable:!0}),e.prototype.createPart=function(){for(var e=EE.createDocument("xdr:wsDr",{"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"}),t=this._infos,i=0;i<t.length;i++){var n=t[i],r=this._sheet.getMergeInfo(n.row,n.col);if(r){for(var o=[0],s=-1,a=0,l=[0],u=r.row;u<r.row+r.rows;u++){var c=this._sheet.getRow(u);if(!(c._height>0)){s=-1,o=[];break}o.push(s+=c._height/.75)}for(var h=r.col;h<r.col+r.cols;h++)l.push(a+=7*this._sheet.getColumnWidth(h));n.cHeight=s,n.cWidth=a,n.cWidths=l.slice(),n.cHeights=o.slice()}n instanceof DE&&(n.eImage=this._book.getExcelImage(n.imageUrl),n.imageIndex=this._book.getImageIndex(n.imageUrl)),n.draw(e,i)}var d=EE.toString(e);return OE.XML_HEAD_STRING+d},e.prototype.addImage=function(e,t,i,n,r,o,s,a){var l=new DE(e,t,i,n,r,o);return l._rWidth=s,l._rHeight=a,this._infos.push(l),l},e.prototype.addActualTarget=function(e,t,i,n,r,o,s,a){var l=r[0],u=r[1],c=r[2];c=c||100;var h=new TE(e,t,i,n,a.background),d=new TE(e,t,i,n,a.actual),p=new TE(e,t,i,n,a.target,!1);h.xLocation="left",h.percentageWidth="100%",h.percentageHeight="80%",d.xLocation="left",d.percentageWidth=Math.min(100,Math.max(1,u/c*100))+"%",d.percentageHeight=o||"40%",p.xLocation="percent",p.percentageOffset=Math.min(100,Math.max(0,l/c*100))+"%",p.width=s||3,p.percentageHeight="80%",null!=u&&u>0?this._infos.push(h,d,p):this._infos.push(h,p)},e.prototype.addBar=function(e,t,i,n,r,o,s,a,l,u){var c=new TE(e,t,i,n,s.barStyle,!1),h=new TE(e,t,i,n,{},!1),d=u-l||1,p=Math.min(100,(r-l)/d*100);if(isNaN(a)){switch(o){case mm.LEFT:case mm.TOP:c.xLocation="left";break;case mm.RIGHT:case mm.BOTTOM:c.xLocation="right"}c.percentageWidth=Math.max(1,p)+"%",h.xLocation="left",h.percentageWidth="100%"}else c.xLocation="percent",r<a?(h.xLocation="percent",c.percentageOffset=Math.max(1,p)+"%",h.percentageOffset=Math.max(1,(a-l)/d*100)+"%",c.style=s.negativeStyle):(h.xLocation="left",c.percentageOffset=Math.max(1,(a-l)/d*100)+"%"),h.percentageWidth="50%",c.percentageWidth=Math.max(1,Math.abs((r-a)/d*100))+"%";c.percentageHeight="80%",h.percentageHeight="80%",h.transparent=!0,h.text=r.toString(),null!=r&&(r>0||r<a)&&a!==r?this._infos.push(c,h):this._infos.push(h)},e.prototype.addSignal=function(e,t,i,n,r,o,s,a,l,u,c){var h=a?Math.abs(r):r;isNaN(l)||isNaN(u)||(h=s*(h-l)/(u-l));for(var d=o[0],p=o[1],f=1,_=d*(100/Math.max(d,p)),g=(p-d)/(s-1),m=0;m<s;m++){var y=new TE(e,t,i,n,m<h?c.barStyle:c.inactiveStyle,!1),v=(100-2*(s+1))/s;y.offset=1,y.xLocation="percent",y.yLocation="bottom",y.percentageHeight=_+"%",y.percentageWidth=v+"%",y.percentageOffset=f+"%",f+=v+2,_+=g,this._infos.push(y)}},e.prototype.createSheetRel=function(){var e=EE.createDocument("Relationships",{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}),t=EE.addChild(e,"Relationship",{Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing"});EE.addProperty(t,"Id",this.relationId),EE.addProperty(t,"Target","../drawings/"+this.fileName);var i=EE.toString(e);return OE.XML_HEAD_STRING+i},e.prototype.createRel=function(){var e=[];this._infos.forEach(function(t){e.indexOf(t.imageUrl)<0&&e.push(t.imageUrl)});for(var t=EE.createDocument("Relationships",{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}),i=0;i<e.length;i++){var n=e[i],r=this._book.getExcelImage(n);if(r&&r.fileName){var o=EE.addChild(t,"Relationship",{Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image"});EE.addProperty(o,"Id","rId"+this._book.getImageIndex(n).toString()),EE.addProperty(o,"Target","../media/"+r.fileName)}}var s=EE.toString(t);return OE.XML_HEAD_STRING+s},e}(),LE=function(){function e(e,t){this._memoText=[],this._vmlText=[],this._authors=[],this._sId=0,this._sheet=e,this._index=t,this._ctx=document.createElement("canvas").getContext("2d")}return e.prototype.dispose=function(){return null},Object.defineProperty(e.prototype,"fileName",{get:function(){return"comments"+this._index+".xml"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"relationId",{get:function(){return"rId"+this.rId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vmlId",{get:function(){return"rId"+this.vId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sId",{get:function(){return this._sId++},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shapeId",{get:function(){return"_x0000_s"+String(this.sId).padStart(4,"0")},enumerable:!1,configurable:!0}),e.prototype.addAuthor=function(e){e=EE.xmlEscape(e);var t=this._authors.indexOf(e);return t>=0?t:this._authors.push(e)-1},e.prototype.addMemo=function(e,t,i){for(var n=this.addAuthor(i.author),r=this.getMemoWidth(i),o=e+1,s=o,a=r,l=0;a>0;){var u=7*this._sheet.getColumnWidth(s);if(a+15<=u){l=a+15;break}a-=u,s++}var c=7*this._sheet.getColumnWidth(s),h=Math.round(l/c*1024),d='<v:shape id="'.concat(this.shapeId,'" type="#_x0000_t202" style=\'position:absolute;margin-left:165pt;margin-top:8pt;width:').concat(r,'px;height:81pt;z-index:1;visibility:hidden\' fillcolor="#ffffe1 [80]" strokecolor="#217346" o:insetmode="auto"><v:fill color2="#ffffe1 [80]"/><v:fill color2="#ffffe1 [80]"/><v:shadow color="none [81]" obscured="t"/><v:path o:connecttype="none"/><v:textbox style=\'mso-direction-alt:auto\'><div style=\'text-align:left\'></div></v:textbox><x:ClientData ObjectType="Note"><x:MoveWithCells/><x:SizeWithCells/><x:Anchor>').concat(o,", 15, ").concat(t>0?t-1:0,", 8, ").concat(s,", ").concat(h,", ").concat(t+2,", 17</x:Anchor><x:AutoFill>False</x:AutoFill><x:Row>").concat(t,"</x:Row><x:Column>").concat(e,"</x:Column></x:ClientData></v:shape>");this._vmlText.push(d);var p='<comment ref="'.concat(OE.toRange(e,t),'" authorId="').concat(n>-1?n:0,'" shapeId="0"><text>').concat(i.authorVisible?'<r><rPr><b /><sz val="10" /><color rgb="FF000000" /><rFont val="Malgun Gothic" /><family val="2" /><charset val="129" /></rPr><t>'.concat(this._authors[n],'</t></r><r><rPr><b /><sz val="10" /><color rgb="FF000000" /><rFont val="Malgun Gothic" /><family val="2" /><charset val="129" /></rPr><t>:</t></r><r><rPr><sz val="10" /><color rgb="FF000000" /><rFont val="Malgun Gothic" /><family val="2" /><charset val="129" /></rPr><t xml:space="preserve">\n</t></r>'):"",'<r><rPr><sz val="').concat(i.fontSize||10,'" /><color rgb="FF000000" /><rFont val="Malgun Gothic" /><family val="2" /><charset val="129" /></rPr><t>').concat(EE.xmlEscape(i.message),"</t></r></text></comment>");this._memoText.push(p)},e.prototype.getMemoWidth=function(e){var t=this,i=e.message,n=Math.ceil((e.fontSize||10)*(96/72))+"px";this._ctx.font=n+" Malgun Gothic";var r=i.split("\n"),o=0;if(r.forEach(function(e){o=Math.max(o,t._ctx.measureText(e).width)}),e.authorVisible&&e.author){this._ctx.font="bold ".concat(n," Malgun Gothic");var s=this._ctx.measureText(e.author).width;o=Math.max(o,s)}return Math.max(e.minWidth,Math.min(Math.ceil(o+6),e.maxWidth))},e.prototype.createSheetRel=function(){var e=EE.createDocument("Relationships",{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}),t=EE.addChild(e,"Relationship",{Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments"});EE.addProperty(t,"Id","rId"+this.rId),EE.addProperty(t,"Target","../"+this.fileName),t=EE.addChild(e,"Relationship",{Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing"}),EE.addProperty(t,"Id",this.vmlId),EE.addProperty(t,"Target","../drawings/vmlDrawing1.vml");var i=EE.toString(e);return OE.XML_HEAD_STRING+i},e.prototype.createPart=function(){return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="xr" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision"><authors>'.concat(this._authors.map(function(e){return"<author>".concat(e,"</author>")}).join(""),"</authors><commentList>").concat(this._memoText.join(""),"</commentList></comments>")},e.prototype.createVmlPart=function(){return'<xml xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"><o:shapelayout v:ext="edit"><o:idmap v:ext="edit" data="1"/></o:shapelayout><v:shapetype id="_x0000_t202" coordsize="21600,21600" o:spt="202" path="m,l,21600r21600,l21600,xe"><v:stroke joinstyle="miter"/><v:path gradientshapeok="t" o:connecttype="rect"/></v:shapetype>'.concat(this._vmlText.join(""),"</xml>")},e}(),AE=function(){function e(e){this._id=e}return e.EqualsById=function(e,t){return!e&&!t||!(!e&&t||e&&!t)&&e._id==t.id},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){},e}(),FE=function(){function e(){this._items=[],this._indexer=0}return e.prototype.dispose=function(){for(var e=this._items.length;e--;)this._items[e].dispose();this._items=null},e.prototype.getIndexer=function(){return this._indexer++},e.prototype.create=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var n=this._items.length;n--;)if((e=this._items[n]).equals.apply(e,t))return e;return e=this.createInstance.apply(this,t),this._items.push(e),e},e.prototype.createUnique=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.createInstance.apply(this,e);return this._items.push(i),i},e}(),$E=function(e){function t(t,i,n,r,o,s,a,l,u){var c=e.call(this,t)||this;return c._bold=void 0,c._italic=void 0,c._underline=void 0,c._name=i,c._size=n,c._color=r,c._bold=o,c._italic=s,c._underline=a,c._strike=l,c._double=u,c}return gd(t,e),t.prototype.assignFrom=function(e){this._name=this._name||e._name,this._size=this._size||e._size,this._color=this._color||e._color,this._bold=null==this._bold?e._bold:this._bold,this._italic=null==this._italic?e._italic:this._italic,this._underline=null==this._underline?e._underline:this._underline,this._strike=null==this._strike?e._strike:this._strike,this._double=null==this._double?e._double:this._double},t.prototype.equals=function(e,t,i,n,r,o,s,a){return void 0===e&&(e="Tahoma"),void 0===t&&(t=10),void 0===i&&(i="ff000000"),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===a&&(a=!1),this._name==e&&this._size==t&&this._color==i&&this._bold==n&&this._italic==r&&this._underline==o&&this._strike==s&&this._double==a},t.prototype.toXml=function(e,t){K_.addChildWithAttr(e,t,"sz","val",this._size||10),K_.addChildWithAttr(e,t,"name","val",this._name||"Calibri"),K_.addChildWithAttr(e,t,"color","rgb",this._color||"ff000000"),K_.addChildWithAttr(e,t,"b","val",this._bold?"true":"false"),K_.addChildWithAttr(e,t,"i","val",this._italic?"true":"false"),this._underline&&K_.addChildWithAttr(e,t,"u","val",this._double?"double":""),this._strike&&K_.addChild(e,t,"strike")},t}(AE),NE=function(e){function t(t){var i=e.call(this)||this,n=Fp(t).getComputedStyle(t);return i._defFontSize=i.$_convertUnit(n.fontSize||"16px"),i}return gd(t,e),t.prototype.createInstance=function(e,t,i,n,r,o,s,a){return new $E(this.getIndexer(),e,t,i,n,r,o,s,a)},t.prototype.createFromCss=function(e){var t=e["font-family"];t?(t.indexOf(",")>-1&&(t=t.split(",")[0]),t=t.replace(/\"/g,"")):t=void 0;var i=this.$_convertUnit(e["font-size"]);i=isNaN(i)?void 0:72*i/96;var n=e.color;n&&(n="#"==n.charAt(0)?e.color:new mE(n).toColorHex());var r="bold"==e["font-weight"],o="italic"==e["font-style"],s=e["text-decoration-line"],a=!!s&&s.indexOf("underline")>=0,l=!!s&&s.indexOf("line-through")>=0,u="double"===e["text-decoration-style"];return this.create(t,i,n,r,o,a,l,u)},t.prototype.toXml=function(e,t){for(var i=this._items.length,n=0;n<i;n++){var r=K_.addChild(e,t,"font");this._items[n].toXml(e,r)}K_.setAttr(t,"count",i)},t.prototype.$_convertUnit=function(e){return null==e?void 0:"string"==typeof e?e.indexOf("px")>0?parseFloat(e):e.indexOf("pt")>0?Math.round(1.3333*parseFloat(e)):e.indexOf("em")>0?parseFloat(e)*this._defFontSize:12:parseInt(e)},t}(FE),jE=function(e){function t(t,i,n,r,o,s,a){void 0===i&&(i="solid"),void 0===r&&(r=0),void 0===o&&(o=!1),void 0===a&&(a=90);var l=e.call(this,t)||this;return l._pattern=i,l._color=n,l._linear=o,l._color2=s,l._degree=a,l._tint=r,l}return gd(t,e),t.prototype.assignFrom=function(e){this._pattern=e._pattern||this._pattern,this._color=e._color||this._color,this._tint=e._tint||this._tint,this._linear=null==e._linear?this._linear:e._linear,this._color2=e._color2||this._color2,this._degree=e._degree||this._degree},t.prototype.equalsObj=function(e){return this._pattern==e._pattern&&this._color==e._color&&this._color2==e._color2&&this._linear==e._linear&&this._degree==e._degree&&this._tint==e._tint},t.prototype.equals=function(e,t,i,n,r,o){return void 0===e&&(e="solid"),void 0===i&&(i=0),void 0===n&&(n=!1),void 0===o&&(o=90),this._pattern==e&&this._color==t&&this._color2==r&&this._linear==n&&this._degree==o&&this._tint==i},t.prototype.toXml=function(e,t){var i,n=this._tint||0;if(this._linear){var r=K_.addChildWithAttr(e,t,"gradientFill","degree",this._degree||90),o=K_.addChildWithAttr(e,r,"stop","position","0");i=K_.addChild(e,o,"color"),K_.setAttr(i,"rgb",this._color),K_.setAttr(i,"tint",this._tint||0),o=K_.addChildWithAttr(e,r,"stop","position","1"),i=K_.addChild(e,o,"color"),K_.setAttr(i,"rgb",this._color2),K_.setAttr(i,"tint",n)}else{var s=K_.addChildWithAttr(e,t,"patternFill","patternType",this._pattern.toString());"none"!=this._pattern&&null!=this._color&&(i=K_.addChild(e,s,"fgColor"),K_.setAttr(i,"rgb",this._color),K_.setAttr(i,"tint",n))}},t}(AE),BE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.createInstance=function(e,t,i,n,r,o){return new jE(this.getIndexer(),e,t,i,n,r,o)},t.prototype.createFromCss=function(e){var t=e["background-image"],i="linear-gradient(",n=t?t.indexOf(i):-1;if(n>-1){var r=this._splitEscape(t.slice(n+16,t.length-1)),o=void 0,s=void 0,a=void 0;r.length>2?(o=new mE(r[1]),s=new mE(r[2]),a=parseInt(r[0])):(o=new mE(r[0]),s=new mE(r[1]),a=180),a=(a+270)%360;var l=1-o._a;return this.create("none",o.toHex(),l,!0,s.toHex(),a)}if(e["background-color"]){var u=new mE(e["background-color"]);return l=1-u._a,u?this.create("solid",u.toHex(),l):this._items[0]}},t.prototype.toXml=function(e,t){for(var i=this._items.length,n=0;n<i;n++){var r=K_.addChild(e,t,"fill");this._items[n].toXml(e,r)}K_.setAttr(t,"count",i)},t.prototype._splitEscape=function(e,t){if(void 0===t&&(t=","),e){for(var i=[],n=!1,r="",o=0;o<e.length;o++){var s=e[o];s!=t||n?(" "!=s||n)&&(r+=s):(i.push(r),r=""),"("==s&&(n=!0),")"==s&&(n=!1)}return r&&i.push(r),i}return null},t}(FE),VE=function(e){function t(t,i,n,r){void 0===n&&(n=1),void 0===r&&(r="none");var o=e.call(this,t)||this;return o._color=i,o._width=n,o._type=r,o}return gd(t,e),t.equalsObj=function(e,t){return!e&&!t||!(!e&&t||e&&!t)&&e._color==t._color&&e._type==t._type&&e._width==t._width},t.prototype.equals=function(e,t,i){return void 0===t&&(t=1),void 0===i&&(i="none"),this._color==e&&this._width==t&&this._type==i},t.prototype.toXml=function(e,t){var i=this._width<=1?"thin":this._width<=2?"medium":"thick";K_.setAttr(t,"style",i),K_.addChildWithAttr(e,t,"color","rgb",this._color)},t}(AE),HE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.createInstance=function(e,t,i){return new VE(this.getIndexer(),e,t,i)},t.prototype.createFromCss=function(e,t){var i=e[t+"-style"];if(i&&"none"!=i){var n=new mE(e[t+"-color"]),r=i,o=parseInt(e[t+"-width"]);if(!n&&isNaN(o))return this._items[0];if(isNaN(o))o=0;else if(0===o)return;return this.create(n.toColorHex(),o,r)}},t}(FE),UE=function(e){function t(t,i,n,r,o){var s=e.call(this,t)||this;return s._left=i,s._top=n,s._right=r,s._bottom=o,s}return gd(t,e),t.equalsObj=function(e,t){return VE.equalsObj(e._left,t._left)&&VE.equalsObj(e._top,t._top)&&VE.equalsObj(e._right,t._right)&&VE.equalsObj(e._bottom,t._bottom)},Object.defineProperty(t.prototype,"left",{get:function(){return this._left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this._right},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this._top},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this._bottom},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._left=null,this._top=null,this._right=null,this._bottom=null,e.prototype.dispose.call(this)},t.prototype.equals=function(e,t,i,n){return VE.EqualsById(this._left,e)&&VE.EqualsById(this._top,t)&&VE.EqualsById(this._right,i)&&VE.EqualsById(this._bottom,n)},t.prototype.toXml=function(e,t){this.borderToXml(e,t,"left"),this.borderToXml(e,t,"right"),this.borderToXml(e,t,"top"),this.borderToXml(e,t,"bottom")},t.prototype.borderToXml=function(e,t,i){var n=K_.addChild(e,t,i),r=this[i];r&&r.toXml(e,n)},t}(AE),WE=function(e){function t(t){var i=e.call(this)||this;return i._lines=t,i}return gd(t,e),t.prototype.dispose=function(){this._lines=null,e.prototype.dispose.call(this)},t.prototype.createInstance=function(e,t,i,n){return new UE(this.getIndexer(),e,t,i,n)},t.prototype.createFromCss=function(e){var t=this._lines,i=t.createFromCss(e,"border-left"),n=t.createFromCss(e,"border-right"),r=t.createFromCss(e,"border-top"),o=t.createFromCss(e,"border-bottom");return i||n||r||o?this.create(i,r,n,o):void 0},t.prototype.extend=function(e,t){e=e||{};for(var i=new UE(null,t.left||e.left,t.top||e.top,t.right||e.right,t.bottom||e.bottom),n=this._items.length;n--;){var r=this._items[n];if(UE.equalsObj(this._items[n],i))return r}return i._id=this.getIndexer(),this._items.push(i),i},t.prototype.toXml=function(e,t){for(var i=this._items.length,n=0;n<i;n++){var r=K_.addChild(e,t,"border");this._items[n].toXml(e,r)}K_.setAttr(t,"count",i)},t}(FE),GE=function(e){function t(t,i,n,r,o,s,a,l,u){void 0===o&&(o=!1),void 0===s&&(s=0);var c=e.call(this,i)||this;return c._collection=t,c._horzAlign=n,c._vertAlign=r,c._wrapText=o,c._formatId=s,c._font=a,c._fill=l,c._border=u,c}return gd(t,e),Object.defineProperty(t.prototype,"horzAlign",{get:function(){return this._horzAlign},set:function(e){this._horzAlign=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertAlign",{get:function(){return this._vertAlign},set:function(e){this._vertAlign=e},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._font=null,this._fill=null,this._border=null,this._collection=null,e.prototype.dispose.call(this)},t.prototype.equals=function(e,t,i,n,r,o,s,a){return this._horzAlign==e&&this._vertAlign==t&&this._wrapText==i&&this._formatId==n&&$E.EqualsById(this._font,r)&&jE.EqualsById(this._fill,o)&&UE.EqualsById(this._border,s)&&Bp.equalObjects(this._cellProptectProps,a)},t.prototype.toXml=function(e,t){var i=this;K_.setAttr(t,"borderId",(this._border?this._border.id:0)+""),K_.setAttr(t,"fillId",(this._fill?this._fill.id:0)+""),K_.setAttr(t,"fontId",(this._font?this._font.id:0)+""),K_.setAttr(t,"numFmtId",this._formatId+""),K_.setAttr(t,"xfId","0");var n=K_.addChild(e,t,"alignment");if(K_.setAttr(n,"horizontal",this._horzAlign||"left"),K_.setAttr(n,"vertical",this._vertAlign||"center"),this._wrapText&&K_.setAttr(n,"wrapText","1"),this._cellProptectProps){var r=K_.addChild(e,t,"protection");Object.keys(this._cellProptectProps).forEach(function(e){K_.setAttr(r,e,i._cellProptectProps[e])})}},t.prototype.cloneAsNew=function(e,i,n,r,o,s,a,l,u){return new t(this._collection,e,i||this._horzAlign,n||this._vertAlign,null!=r?r:this._wrapText,null!=o?o:this._formatId,s||this._font,a||this._fill,l||this._border)},t}(AE),zE=function(e){function t(t,i,n){var r=e.call(this)||this;return r._fonts=t,r._fills=i,r._borders=n,r}return gd(t,e),t.prototype.dispose=function(){this._fonts=null,this._fills=null,this._borders=null,e.prototype.dispose.call(this)},t.prototype.addStyle=function(e){for(var t=this._items.length;t--;){var i=this._items[t];if(i.equals(e.horzAlign,e.vertAlign,e._wrapText,e._formatId,e._font,e._fill,e._border,e._cellProptectProps))return i}return e._id=this.getIndexer(),e._collection=this,e},t.prototype.changeFormatId=function(e,t){for(var i,n=this._items.length;n--;)if((i=this._items[n]).equals(e.horzAlign,e.vertAlign,e._wrapText,t,e._font,e._fill,e._border,e._cellProptectProps))return i;return(i=e.cloneAsNew(this.getIndexer(),null,null,null,t,null,null,null))._cellProptectProps=Bp.deepCopy(e._cellProptectProps),this._items.push(i),i},t.prototype.changeBorder=function(e,t){for(var i,n=this._borders.extend(e._border,t),r=this._items.length;r--;)if((i=this._items[r]).equals(e.horzAlign,e.vertAlign,e._wrapText,e._formatId,e._font,e._fill,n,e._cellProptectProps))return i;var o=e.cloneAsNew(this.getIndexer(),null,null,null,null,null,null,n);return o._cellProptectProps=Bp.deepCopy(e._cellProptectProps),this._items.push(o),o},t.prototype.createInstance=function(e,t,i,n,r,o,s){return void 0===i&&(i=!1),void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),new GE(this,this.getIndexer(),e,t,i,n,r,o,s)},t.prototype.createFromCss=function(e,t,i,n,r,o,s){void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===r&&(r=!1),void 0===o&&(o=0),void 0===s&&(s=null);var a,l,u=t?this._borders.createFromCss(e):null,c=i?this._fonts.createFromCss(e):null,h=n?this._fills.createFromCss(e):null,d=e["text-align"];d&&("center"==d?a="center":"right"==d?a="right":"left"==d&&(a="left"));var p=e["vertical-align"];return p&&("top"==p?l="top":"bottom"==p&&(l="bottom")),this.create(a,l,r,o,c,h,u,s)},t.prototype.toXml=function(e,t){for(var i=this._items.length,n=0;n<i;n++){var r=K_.addChild(e,t,"xf");this._items[n].toXml(e,r)}K_.setAttr(t,"count",i)},t}(FE),YE=function(){function e(e){this._numberFmts=[],this._fonts=new NE(e),this._fills=new BE,this._lines=new HE,this._borders=new WE(this._lines),this._styles=new zE(this._fonts,this._fills,this._borders),this._fills.create("none"),this._fills.create("gray125"),this._borders.create(),this._fonts.create(),this._styles.create()}return e.prototype.dispose=function(){this._styles.dispose(),this._borders.dispose(),this._lines.dispose(),this._fills.dispose(),this._fonts.dispose()},e.prototype.addNumberFormat=function(t){var i=this._numberFmts.indexOf(t);return i<0&&(this._numberFmts.push(t),i=this._numberFmts.length-1),e.EXCEL_NUMFMT_START+i},e.prototype.addStyle=function(e,t,i,n,r,o){return e?this._styles.createFromCss(e,t,i,n,r,o):null},e.prototype.extendStyle=function(e,t,i,n,r){n=null==n?e._formatId:n;var o=this._styles.createFromCss(t,!0,!0,!0,i,n,r);return o._border=o._border||e._border,o._fill=o._fill||e._fill,o._font&&e._font?o._font.assignFrom(e._font):o._font=o._font||e._font,o._horzAlign=o._horzAlign||e._horzAlign,o._vertAlign=o._vertAlign||e._vertAlign,o._wrapText=null!=o._wrapText?o._wrapText:e._wrapText,o._formatId=null!=n&&null!=o._formatId?o._formatId:e._formatId,o._cellProptectProps=Bp.deepCopy(r)||Bp.deepCopy(e._cellProptectProps),this._styles.addStyle(o)},e.prototype.changeFormatId=function(e,t){return this._styles.changeFormatId(e,t)},e.prototype.changeBorder=function(e,t){return this._styles.changeBorder(e,t)},e.prototype.createPart=function(){var e='<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"></styleSheet>',t=K_.parse(e),i=t.documentElement;if(this._numberFmts.length>0){var n=K_.addChild(t,i,"numFmts");this._createNumberFormats(t,n)}var r=K_.addChild(t,i,"fonts");this._createFonts(t,r);var o=K_.addChild(t,i,"fills");this._createFills(t,o);var s=K_.addChild(t,i,"borders");this._createBorders(t,s);var a=K_.addChild(t,i,"cellStyleXfs");this._createDefXfs(t,a);var l=K_.addChild(t,i,"cellXfs");return this._createStyles(t,l),e=K_.toString(t),OE.XML_HEAD_STRING+e},e.prototype._createNumberFormats=function(t,i){for(var n=0,r=this._numberFmts.length;n<r;n++){var o=K_.addChild(t,i,"numFmt");K_.setAttr(o,"formatCode",this._numberFmts[n]),K_.setAttr(o,"numFmtId",e.EXCEL_NUMFMT_START+n)}},e.prototype._createFonts=function(e,t){this._fonts.toXml(e,t)},e.prototype._createFills=function(e,t){this._fills.toXml(e,t)},e.prototype._createBorders=function(e,t){this._borders.toXml(e,t)},e.prototype._createDefXfs=function(e,t){var i=K_.addChildWithAttr(e,t,"xf","count",1);K_.setAttr(i,"borderId",0),K_.setAttr(i,"fillId",0),K_.setAttr(i,"fontId",0),K_.setAttr(i,"numFmtId",0)},e.prototype._createStyles=function(e,t){this._styles.toXml(e,t)},e.EXCEL_NUMFMT_START=200,e}(),qE=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t)||this;return a._hash=i,a._width=n,a._style=r,a._hidden=o,a._position=s,a}return gd(t,e),t.prototype.dispose=function(){this._style=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"position",{get:function(){return this._position||this.id+1},enumerable:!1,configurable:!0}),t.prototype.equals=function(e){return this.id==e},t.prototype.toTextXml=function(e){var t=this._position||this.id+1,i={min:t,max:t,width:this._width,customWidth:"1"};this._style&&(i.style=this._style.id),this._hidden&&(i.hidden="1"),EE.addChild(e,"col",i)},t}(AE),KE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.createInstance=function(e,t,i,n,r){return new qE(this.getIndexer(),e,t,i,n,r)},Object.defineProperty(t.prototype,"count",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),t.prototype.toTextXml=function(e){for(var t=EE.addChild(e,"cols"),i=0,n=this.count;i<n;i++)this._items[i].toTextXml(t)},t.prototype.getWidth=function(e){return this._items[e]?this._items[e]._width:9},t.prototype.getColumn=function(e){for(var t=this._items,i=0;i<t.length;i++)if(t[i].position===e)return t[i]},t}(FE),XE=function(){function e(e,t,i,n,r,o){void 0===r&&(r=""),this._range=OE.toRange(t,e),this._style=i,this._type=r,this._fomula=o,this._value=n}return e.prototype.dispose=function(){this._style=null},Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(e){this._style=e},enumerable:!1,configurable:!0}),e.prototype.toXmlText=function(){var t=[];return t.push("<"+e.ELEMENT_NAME),t.push(' r="'.concat(this._range,'"')),""!=this._type&&t.push(' t="'.concat(this._type,'"')),this._style&&t.push(' s="'.concat(this._style.id,'"')),t.push(">"),this._fomula&&t.push("<f>".concat(this._fomula,"</f>")),null!=this._value&&t.push("<v>".concat(this._value,"</v>")),t.push("</"+e.ELEMENT_NAME+">"),t.join("")},e.ELEMENT_NAME="c",e}(),ZE=function(){function e(e,t,i){this._row=0,this._sheet=e,this._book=e.workbook,this._index=t,this._height=i,this._cells=[]}return Object.defineProperty(e.prototype,"outLineLevel",{get:function(){return this._outlineLevel},set:function(e){this._outlineLevel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){for(var e=this._cells.length;e--;)this._cells[e].dispose(),this._cells[e]=null;this._cells=null},e.prototype.toXmlText=function(){var t=[];t.push("<"+e.ELEMENT_NAME),t.push(' r="'.concat(this._index+1,'"')),this._height&&this._height>-1&&(t.push(' ht="'.concat(this._height,'"')),t.push(' customHeight="1"')),null!=this._outlineLevel&&t.push(' outlineLevel="'.concat(this._outlineLevel,'"')),t.push(">");for(var i=0,n=this._cells.length;i<n;i++){var r=this._cells[i];r&&t.push(r.toXmlText())}return t.push("</"+e.ELEMENT_NAME+">"),t.join("")},e.prototype.borrowCell=function(e,t,i,n,r){void 0===n&&(n="");var o=this._cells[e];o&&o.dispose(),o=new XE(this._index,e,t,i,n,r),this._cells[e]=o},e.prototype.addBlank=function(e,t){this.borrowCell(e,t)},e.prototype.addCell=function(e,t,i,n,r){this.borrowCell(e,n,i,t,r)},e.prototype.addText=function(e,t,i){var n=null!=t?String(t):"",r=this._book.addSharedString(n);this.addCell(e,"s",r,i)},e.prototype.addNumber=function(e,t,i,n){var r=isNaN(t)||null==t?"":String(t);this.addCell(e,"n",r,i,n)},e.prototype.addBool=function(e,t,i){this.addCell(e,"b",null==t?"":t?1:0,i)},e.prototype.addDate=function(e,t,i){if(t){var n=OE.toExcelDate(t);this.addNumber(e,n,i)}else this.addCell(e,"s","",i)},e.prototype.addLink=function(e,t,i,n){if(i&&""!=i){var r=document.createElement("div");r.innerText=r.textContent=i,i=r.innerHTML.replace(/(<br>|<br\/>)/gi,"&#13;&#10;"),r.innerText=r.textContent=t,i='HYPERLINK("'+i+((t=r.innerHTML.replace(/(<br>|<br\/>)/gi,"\r\n"))?'","'+t+'")':'")'),this.addCell(e,"str",t,n,i)}else this.addText(e,t,n)},e.prototype.addImage=function(e,t,i,n,r,o,s,a){if(r)return t&&n!==Kd.CENTER?this.addText(e,t,o):this.addBlank(e,o),this._sheet.addImage(e,this._index,i,this._height,n,r,s,a);t?this.addText(e,t,o):this.addBlank(e,o)},e.prototype.addActualTarget=function(e,t,i,n,r,o,s){this.addBlank(e,s),this._sheet.addActualTarget(e,this._index,i,this._height,t,r,o,n)},e.prototype.addBar=function(e,t,i,n,r,o,s,a,l){this.addBlank(e,l),this._sheet.addBar(e,this._index,i,this._height,t,n,r,o,s,a)},e.prototype.addSignal=function(e,t,i,n,r,o,s,a,l,u){this.addBlank(e,u),this._sheet.addSignal(e,this._index,i,this._height,t,n,r,o,s,a,l)},e.prototype.addSparkLine=function(e,t,i,n){var r=i.layout.firstColumn,o=this._sheet,s=this._index,a=o.borrowSparkGroup(r.index,i.sparkLineGroup),l=a.range.start,u=a.range.end-l+1,c=a.range.row;c=null==c?0:c;var h=a.sparkLines,d="'".concat(o.name,"'!").concat(OE.toRange(t+l,s+c,!0,u));h[OE.toRange(e,this._index)]=d,this.addBlank(e,n)},e.ELEMENT_NAME="row",e.LINE_REGEX=/\r|\n|\r\n/,e.BR_REGEX=/<br>|<br\/>/,e}(),JE=function(){function e(e,t,i,n){this._mergeCount=0,this._outlineLevel=0,this._dataRows=[],this._sparkGroups={},this._firstRow=-1,this._firstCol=-1,this._lastRow=-1,this._fixedCol=0,this._fixedRow=0,this._relation_indexer=1,this._mergeInfos={},this._book=e,this._index=t,this._name=i,this._attrs=n.sheetAttrs,this._protectPassword=n.protectPassword,this._protectProperties=n.protectProperties,this._sheetProtect=n.sheetProtect,this._outlineSummaryBelow=n.outlineSummaryBelow,this._outlineSummaryRight=n.outlineSummaryRight,this._columns=new KE,this._prepare()}return e.prototype.dispose=function(){this._txmerge=null,EE.removeItem(this._txdoc),this._txdoc=null,this._columns=null,this.clearRows(),this._dataRows=null,this._borderEdges=null},Object.defineProperty(e.prototype,"id",{get:function(){return e.RELATION_ID+this._index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colCount",{get:function(){return this._columns.count},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rowCount",{get:function(){return this._dataRows.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"workbook",{get:function(){return this._book},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"drawing",{get:function(){return this._drawing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"memo",{get:function(){return this._memo},enumerable:!1,configurable:!0}),e.prototype.setFirstRow=function(e){this._firstRow<0&&(this._firstRow=e)},e.prototype.setLastRow=function(e){this._lastRow=Math.max(this._lastRow,e)},e.prototype.setFirstCol=function(e){this._firstCol<0&&(this._firstCol=e)},e.prototype.clearRows=function(){for(var e=this._dataRows.length;e--;)this._dataRows[e].dispose(),this._dataRows[e]=null;this._dataRows=[]},e.prototype.addColumn=function(e,t,i,n,r){return this._columns.createUnique(e,t,i,n,r)},e.prototype.getColumn=function(e){return this._columns.getColumn(e)},e.prototype.getColumnWidth=function(e){return this._columns.getWidth(e)},e.prototype.getMergeInfo=function(e,t){return this._mergeInfos["".concat(e,":").concat(t)]},e.prototype.addRow=function(e,t){return this._dataRows[e]=new ZE(this,e,t)},e.prototype.getRow=function(e){return this._dataRows[e]},e.prototype.borrowRow=function(e,t){return this._dataRows[e]||this.addRow(e,t)},e.prototype.borrowSparkGroup=function(e,t){return this._sparkGroups[e]||(this._sparkGroups[e]=t),this._sparkGroups[e]},e.prototype.setRowLevel=function(e,t){if(t>=0){var i=this._dataRows[e];i&&(i.outLineLevel=t,this._outlineLevel=Math.max(t,this._outlineLevel))}},e.prototype.addMerge=function(e,t,i,n){if(i>1||n>1){var r=OE.toRange(t,e,!0,n,i);this._mergeInfos["".concat(e,":").concat(t)]={row:e,rows:i,col:t,cols:n,range:r}}},e.prototype.createPart=function(){var e=this._txdoc,t="A1:"+OE.toRange(this._columns.count-1,this._dataRows.length-1);if(this._outlineLevel>0){var i=EE.addChild(e,"sheetPr");EE.addChild(i,"outlinePr",{summaryBelow:this._outlineSummaryBelow,summaryRight:this._outlineSummaryRight}),EE.addChild(e,"sheetFormatPtr",{outlineLevelRow:this._outlineLevel})}EE.addChild(e,"dimension",{ref:t});var n=EE.addChild(e,"sheetViews"),r={workbookViewId:0,showOutlineSymbols:"true"};this._attrs&&Bp.extendObj(this._attrs,r),0==this._book.count&&(r.tabSelected=1);var o=EE.addChild(n,"sheetView",r);(this._fixedCol>0||this._fixedRow>0)&&EE.addChild(o,"pane",{xSplit:this._fixedCol,ySplit:this._fixedRow,topLeftCell:OE.toRange(this._fixedCol,this._fixedRow),activePane:"bottomRight",state:"frozen"}),this._columns&&this._columns.toTextXml(e);for(var s=EE.addChild(e,"sheetData"),a=this._dataRows,l=this._borderEdges,u=0,c=a.length;u<c;u++){if(u==this._firstRow){for(var h=0,d=Math.max(0,this._firstCol);d<a[u]._cells.length;d++)(p=a[u]._cells[d])&&l&&(p.style=this._book.changeBorderId(p.style,l[h++?"top":"leftTop"]));for(d=a[u]._cells.length;d--;)if((p=a[u]._cells[d])&&l){p.style=this._book.changeBorderId(p.style,l.rightTop);break}}else if(u===this._lastRow){for(h=0,d=Math.max(0,this._firstCol);d<a[u]._cells.length;d++)(p=a[u]._cells[d])&&l&&(p.style=this._book.changeBorderId(p.style,l[h++?"bottom":"leftBottom"]));for(d=a[u]._cells.length;d--;)if((p=a[u]._cells[d])&&l){p.style=this._book.changeBorderId(p.style,l.rightBottom);break}}else if(u>this._firstRow&&u<this._lastRow){for(d=Math.max(0,this._firstCol);d<a[u]._cells.length;d++)if((p=a[u]._cells[d])&&l){p.style=this._book.changeBorderId(p.style,l.left);break}for(d=a[u]._cells.length;d--;){var p;if((p=a[u]._cells[d])&&l){p.style=this._book.changeBorderId(p.style,l.right);break}}}a[u]&&EE.addText(s,a[u].toXmlText())}if(this._sheetProtect){var f=EE.addChild(e,"sheetProtection");if(EE.addProperty(f,"sheet","1"),this._protectPassword){var _=function(e){var t,i,n=0,r=function(e){for(var t=[],i=e.split(""),n=0;n<i.length;++n)t[n]=i[n].charCodeAt(0);return t}(e),o=r.length+1;i=o,(t="undefined"!=typeof Buffer?Buffer.alloc?Buffer.alloc(i):new Buffer(i):"undefined"!=typeof Uint8Array?new Uint8Array(i):new Array(i))[0]=r.length;for(var s=1;s<o;++s)t[s]=r[s-1];for(s=o-1;s>=0;--s)n=((16384&n?1:0)|n<<1&32767)^t[s];return(52811^n).toString(16).toUpperCase()}(this._protectPassword);EE.addProperty(f,"password",_)}if(this._protectProperties){var g=this._protectProperties;Object.keys(g).forEach(function(e){EE.addProperty(f,e,g[e])})}}if(this._mergeCount=Object.keys(this._mergeInfos).length,this._mergeCount>0){for(var m in EE.addProperty(this._txmerge,"count",this._mergeCount+""),this._mergeInfos)EE.addChild(this._txmerge,"mergeCell",{ref:this._mergeInfos[m].range});EE.addChildElement(this._txdoc,this._txmerge)}if(this._drawing&&EE.addChild(e,"drawing",{"r:id":this._drawing.relationId}),Object.keys(this._sparkGroups).length>0){var y=EE.addChild(e,"extLst"),v=EE.addChild(y,"ext",{uri:"{05C60535-1F16-4fd2-B633-F4F36F0B64E0}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),b=EE.addChild(v,"x14:sparklineGroups",{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"});for(var u in this._sparkGroups){var w=this._sparkGroups[u],C=w.colors,x=w.sparkLines,I=EE.addChild(b,"x14:sparklineGroup",{type:w.type||"line"});C.colorSeries&&EE.addChild(I,"x14:colorSeries",{rgb:C.colorSeries}),C.colorMarkers&&(EE.addProperty(I,"markers","1"),EE.addChild(I,"x14:colorMarkers",{rgb:C.colorMarkers})),C.colorFirst&&(EE.addProperty(I,"first","1"),EE.addChild(I,"x14:colorFirst",{rgb:C.colorFirst})),C.colorLast&&(EE.addProperty(I,"last","1"),EE.addChild(I,"x14:colorLast",{rgb:C.colorLast})),C.colorHigh&&(EE.addProperty(I,"high","1"),EE.addChild(I,"x14:colorHigh",{rgb:C.colorHigh})),C.colorLow&&(EE.addProperty(I,"low","1"),EE.addChild(I,"x14:colorLow",{rgb:C.colorLow}));var E=EE.addChild(I,"x14:sparklines");for(var O in x){var S=EE.addChild(E,"x14:sparkline");EE.addChild(S,"xm:f",void 0,x[O]),EE.addChild(S,"xm:sqref",void 0,O)}}}return this._memo&&EE.addChild(e,"legacyDrawing",{"r:id":this._memo.vmlId}),OE.XML_HEAD_STRING+EE.toString(e)},e.prototype.createBorderEdges=function(e){function t(t){var i={};return t.forEach(function(t){i["border-".concat(t,"-style")]=e["border-".concat(t,"-style")],i["border-".concat(t,"-color")]=e["border-".concat(t,"-color")],i["border-".concat(t,"-width")]=e["border-".concat(t,"-width")]}),this._book._styles._borders.createFromCss(i)||{}}e&&(this._borderEdges={leftTop:t.call(this,["left","top"]),top:t.call(this,["top"]),rightTop:t.call(this,["right","top"]),left:t.call(this,["left"]),right:t.call(this,["right"]),leftBottom:t.call(this,["left","bottom"]),bottom:t.call(this,["bottom"]),rightBottom:t.call(this,["right","bottom"])})},e.prototype.setFixedInfo=function(e,t){this._fixedRow=null==e?this._fixedRow:Math.max(this._fixedRow,e),this._fixedCol=null==t?this._fixedCol:Math.max(this._fixedCol,t)},e.prototype.addImage=function(e,t,i,n,r,o,s,a){this._createDrawing();var l=this._book.addImage(o);return this._drawing.addImage(e,t,i,n,r,l,s,a)},e.prototype.addActualTarget=function(e,t,i,n,r,o,s,a){this._createDrawing(),this._drawing.addActualTarget(e,t,i,n,r,o,s,a)},e.prototype.addBar=function(e,t,i,n,r,o,s,a,l,u){this._createDrawing(),this._drawing.addBar(e,t,i,n,r,o,s,a,l,u)},e.prototype.addSignal=function(e,t,i,n,r,o,s,a,l,u,c){this._createDrawing(),this._drawing.addSignal(e,t,i,n,r,o,s,a,l,u,c)},e.prototype.addMemo=function(e,t,i){this._createMemo(),this._memo.addMemo(e,t,i)},e.prototype._prepare=function(){this._txdoc=EE.createDocument("worksheet",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}),this._txmerge=EE.createDocument("mergeCells")},e.prototype._createDrawing=function(){void 0===this._drawing&&(this._drawing=this._book.createDrawing(this),this._drawing.rId=this._relation_indexer++)},e.prototype._createMemo=function(){void 0===this._memo&&(this._memo=this._book.createMemo(this),this._memo.rId=this._relation_indexer++,this._memo.vId=this._relation_indexer++)},e.RELATION_ID="rId",e}(),QE=function(){function e(e){this._sheet_indexer=3,this._drawing_indexer=1,this._comments_indexer=1,this._parts={},this._parts={},this._strings=new SE,this._images=new PE,this._styles=new YE(e),this._downloader=new CE,this._sheets=[],this._drawings=[],this._memos=[],this._preapreTemplateParts()}return e.prototype.dispose=function(){this._parts={},this._strings.dispose(),this._strings=null,this._styles.dispose(),this._styles=null,this._drawings.forEach(function(e){e.dispose()}),this._drawings=null,this._memos.forEach(function(e){e.dispose()}),this._memos=null,this._sheets.forEach(function(e){e.dispose()}),this._sheets=null},Object.defineProperty(e.prototype,"currentSheet",{get:function(){return this._currentSheet},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._sheets?this._sheets.length:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){return this._styles},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"downloader",{get:function(){return this._downloader},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasImage",{get:function(){return this._images._images.length>0},enumerable:!1,configurable:!0}),e.prototype.createSheet=function(e,t){var i=new JE(this,this._sheet_indexer++,e||"Sheet"+(this._sheets.length+1),t);return this._sheets.push(i),this._currentSheet=i,i},e.prototype.createDrawing=function(e){var t=new ME(this,e,this._drawing_indexer++);return this._drawings.push(t),t},e.prototype.createMemo=function(e){var t=new LE(e,this._comments_indexer++);return this._memos.push(t),t},e.prototype.addSharedString=function(e){return this._strings.add(e)},e.prototype.addImage=function(e){return this._images.add(e)},e.prototype.getImageMap=function(){return this._images.getImageMap()},e.prototype.getExcelImage=function(e){return this._images.getImage(e)},e.prototype.getImageIndex=function(e){return this._images.getImageId(e)},e.prototype.addNumberFormat=function(e){return this._styles.addNumberFormat(e)},e.prototype.addStyle=function(e,t,i,n,r,o){if(null==r){var s=e.whiteSpace||e["white-space"];r=null!=s&&"none"!==s&&"nowrap"!==s}return this._styles.addStyle(e,t,i,n,r,o)},e.prototype.changeFormatId=function(e,t){return this._styles.changeFormatId(e,t)},e.prototype.changeBorderId=function(e,t){return this._styles.changeBorder(e,t)},e.prototype.extendStyle=function(e,t,i,n,r){return this._styles.extendStyle(e,t,i,n,r)},e.prototype.createParts=function(){var e=this._parts,t=EE.createDocument("Types",{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"});if(EE.addChild(t,"Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),this._memos.length>0&&EE.addChild(t,"Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),EE.addChild(t,"Default",{Extension:"xml",ContentType:"application/xml"}),EE.addChild(t,"Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),EE.addChild(t,"Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),EE.addChild(t,"Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),EE.addChild(t,"Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),EE.addChild(t,"Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),this._drawings.length>0){for(var i="application/vnd.openxmlformats-officedocument.drawing+xml",n=0;n<this._drawings.length;n++){var r="/xl/drawings/"+(f=this._drawings[n]).fileName;EE.addChild(t,"Override",{PartName:r,ContentType:i})}var o=this.downloader.getContentTypes();Object.keys(o).forEach(function(e){EE.addChild(t,"Default",{Extension:e,ContentType:o[e]})})}if(this._memos.length>0)for(i="application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",n=0;n<this._memos.length;n++)r="/xl/"+(_=this._memos[n]).fileName,EE.addChild(t,"Override",{PartName:r,ContentType:i});var s=EE.createDocument("Relationships",{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"});EE.addChild(s,"Relationship",{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}),EE.addChild(s,"Relationship",{Id:"rId2",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"});var a=EE.createDocument("workbook",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"});EE.addChild(a,"workbookPr",{date1904:"false"});var l=EE.addChild(a,"bookViews");EE.addChild(l,"workbookView",{activeTab:"0"});for(var u=EE.addChild(a,"sheets"),c=(n=0,this._sheets.length);n<c;n++){var h=this._sheets[n],d="worksheets/sheet"+(n+1).toString()+".xml",p="xl/"+d;if(e[p]=h.createPart(),t&&EE.addChild(t,"Override",{PartName:"/"+p,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"}),u&&EE.addChild(u,"sheet",{name:h.name||"Sheet"+(n+1).toString(),sheetId:(n+1).toString(),"r:id":h.id}),s&&EE.addChild(s,"Relationship",{Id:h.id,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:d}),h.drawing){var f=h.drawing;e[p="xl/worksheets/_rels/sheet"+(n+1).toString()+".xml.rels"]=f.createSheetRel(),e[p="xl/drawings/_rels/"+f.fileName+".rels"]=f.createRel(),e[p="xl/drawings/"+f.fileName]=f.createPart()}if(h.memo){var _=h.memo;e[p="xl/worksheets/_rels/sheet"+(n+1).toString()+".xml.rels"]=_.createSheetRel(),e[p="xl/"+_.fileName]=_.createPart(),e[p="xl/drawings/vmlDrawing1.vml"]=_.createVmlPart()}}var g=OE.XML_HEAD_STRING;return e["[Content_Types].xml"]=g+EE.toString(t),e["xl/workbook.xml"]=g+EE.toString(a),e["xl/_rels/workbook.xml.rels"]=g+EE.toString(s),e["xl/sharedStrings.xml"]=this._strings.createPart(),e["xl/styles.xml"]=this._styles.createPart(),e},e.prototype.createCoreProperties=function(e){var t=e.created?e.created.toISOString():(new Date).toISOString(),i=OE.XML_HEAD_STRING;for(var n in this._parts["docProps/core.xml"]=i+'<coreProperties xmlns="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dcterms:created xsi:type="dcterms:W3CDTF">'+t+"</dcterms:created>",e)if("created"!==n){var r=("keywords"==n||"category"==n?"cp:":"dc:")+n;this._parts["docProps/core.xml"]+="<"+r+">"+EE.xmlEscape(e[n])+"</"+r+">"}this._parts["docProps/core.xml"]+="</coreProperties>"},e.prototype._preapreTemplateParts=function(){var e=this._parts,t=OE.XML_HEAD_STRING;e["_rels/.rels"]=t+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/></Relationships>',e["docProps/app.xml"]=t+'<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties"><Application>RealGrid</Application><AppVersion>2.0</AppVersion></Properties>'},e}(),eO=function(e){function t(t,i){void 0===i&&(i=null);var n=e.call(this,null,t)||this;return n._groupSorting=!0,n._groupSortDirection=bd.ASCENDING,n._groupSortCase=wd.SENSITIVE,n.source=n._rs=new Ty(!1),n._groupedProvider=new ry(n._rs,!1),n._groupedProvider.footerCounter=i,n._summarizer=new By(n._rs),n}return gd(t,e),t.prototype._doDispose=function(){this.clearListener(),this._rs&&this._rs.dispose(),this._rs=null,this._groupedProvider&&this._groupedProvider.dispose(),this._groupedProvider=null,this._summarizer&&this._summarizer.dispose(),this._summarizer=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"maxRowCount",{get:function(){return this._rs.maxItemCount},set:function(e){this._rs.maxItemCount=Math.max(0,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideDeleted",{get:function(){return this._rs.hideDeleted},set:function(e){this._rs.hideDeleted=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inclusiveFiltering",{get:function(){return this._rs.isFilterOr},set:function(e){this._rs.isFilterOr=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summaryMode",{get:function(){return this._rs.summaryMode},set:function(e){this._rs.summaryMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupSummaryMode",{get:function(){return this._groupedProvider.summaryMode},set:function(e){this._groupedProvider.summaryMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortMode",{get:function(){return this._rs.sortMode},set:function(e){this._rs.sortMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterMode",{get:function(){return this._rs.filterMode},set:function(e){this._rs.filterMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{get:function(){return this._groupedProvider.grouped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergedGrouped",{get:function(){return this._groupedProvider.grouped&&this._groupedProvider.mergeMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupLevels",{get:function(){return this._groupedProvider.groupCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupByFieldCount",{get:function(){return this._groupedProvider.groupCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupByFields",{get:function(){return this._groupedProvider.groupedFields},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandWhenGrouping",{set:function(e){this._groupedProvider.expandWhenGrouping=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summarizer",{get:function(){return this._summarizer},enumerable:!1,configurable:!0}),t.prototype.canGrouping=function(e){return this.source.canGrouping(e)},t.prototype.getFieldDomain=function(e){return this._rs.getFieldDomain(e)},t.prototype.isFiltered=function(e){return null!=e?this._rs.hasFilter(e):this._rs.hasFilters()},t.prototype.addFilter=function(e,t){this._rs.addFilter(e,t)},t.prototype.clearAllFilters=function(){this._rs.clearAllFilters()},t.prototype.beginFiltering=function(){this._rs.beginFilter()},t.prototype.endFiltering=function(e,t,i){this._rs.endFilter(!0,e,t,i)},t.prototype.setHideDeletedRows=function(e){this._rs.hideDeleted=e},t.prototype.orderBy=function(e,t,i){if(this._groupedProvider.grouped&&this._groupSorting){for(var n=t?t.length:0,r=i?i.length:0,o=this._groupedProvider.groupedFields,s=this._rs.getSortDirections(),a=this._rs.getSortCases(),l=[],u=0,c=o.length;u<c;u++)l.push(o[u]);for(u=0,c=e.length;u<c;u++){var h,d,p=e[u],f=l.indexOf(p);h=n>u?t[u]:n>0?t[n-1]:bd.ASCENDING,d=r>u?i[u]:r>0?i[r-1]:wd.SENSITIVE,f<0?(l.push(p),s[l.length-1]=h,a[l.length-1]=d):(s[f]=h,a[f]=d)}o=l,this._rs.orderBy(o,s,a)}else this._rs.orderBy(e,t,i)},t.prototype.getSortFields=function(){return this._rs.getSortFields()},t.prototype.getSortDirections=function(){return this._rs.getSortDirections()},t.prototype.getSortCases=function(){return this._rs.getSortCases()},t.prototype.setLabelComparer=function(e){this._rs.labelComparer=e},t.prototype.groupBy=function(e,t,i,n){void 0===t&&(t=!0),void 0===i&&(i=bd.ASCENDING),void 0===n&&(n=wd.SENSITIVE),(e&&!(e.length<1)||this._groupedProvider.grouped)&&this.canGrouping(e)&&(this._groupSorting=t,this._groupSortDirection=i,t&&this._rs.orderBy(e,[i],[n],!1),this.$_groupBy(e))},t.prototype.groupByMode=function(e,t){if(e&&e.length>0){if(this._groupSorting&&this._rs.orderBy(e,[this._groupSortDirection],[this._groupSortCase],!1),!this.canGrouping(e))return;this._groupedProvider.groupByMode(e,t)}else null!=t&&(this._groupedProvider._mergeMode=t)},t.prototype.$_groupBy=function(e,t){e&&e.length>0?(this.source=this._groupedProvider,this._groupedProvider.groupByMode(e,t)):(this._groupedProvider.groupByMode(e,t),this.source=this._rs)},t.prototype.addGroupBy=function(e,t,i){var n;if(this._groupedProvider.groupCount<1?n=[t]:(n=this._groupedProvider.groupedFields).splice(e,0,t),this._groupSorting=0===e?i:this._groupSorting,this.canGrouping(n)){if(this._groupSorting){var r=[this._groupSortDirection];this._rs.orderBy(n,r,null,!1)}this.$_groupBy(n)}},t.prototype.removeGroupBy=function(e,t){if(this._groupedProvider.grouped){for(var i=this._groupedProvider.groupedFields,n=-1,r=0,o=i.length-1;o>=0;o--)if(r++,i[o]==e){n=o;break}if(n>=0){if(i.splice(n,t?r:1),!this.canGrouping(i))return;this._groupSorting&&this._rs.orderBy(i,[this._groupSortDirection],null,!1),this.$_groupBy(i)}else{if(!this.canGrouping(null))return;this._groupSorting&&this._rs.orderBy(null,null,null,!1)}}},t.prototype.isGroupedField=function(e){return this._groupedProvider.isGroupedField(e)},t.prototype.getGroupLevel=function(e){return this._groupedProvider.getGroupLevel(e)},t.prototype.expand=function(e,t,i,n){this._groupedProvider.expand(e,t,i,n)},t.prototype.collapse=function(e,t,i,n){this._groupedProvider.collapse(e,t,i,n)},t.prototype.collapseAll=function(e){this._groupedProvider.collapseAll(e)},t.prototype.expandAll=function(e,t){this._groupedProvider.expandAll(e,t)},t.prototype.setPaging=function(e,t,i,n){this._rs.setPaging(e,t,i,n)},Object.defineProperty(t.prototype,"page",{get:function(){return this._rs.page},enumerable:!1,configurable:!0}),t.prototype.setPage=function(e,t){this._rs.setPage(e,t)},Object.defineProperty(t.prototype,"pageCount",{get:function(){return this._rs.pageCount},set:function(e){this._rs.pageCount=e},enumerable:!1,configurable:!0}),t.prototype.getPageOfDataRow=function(e){return this._rs.getPageOfDataRow(e)},t.prototype.getDisplayItemIndex=function(e){return this._rs.isPaging?e.index+this._rs.pageStartIndex:e.index},t.prototype.getCheckedRows=function(e){return this._rs.getCheckedRows(e)},Object.defineProperty(t.prototype,"checkableExpression",{set:function(e){this._rs.checkableExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkableCallback",{set:function(e){this._rs.checkableCallback=e},enumerable:!1,configurable:!0}),t.prototype.resetCheckables=function(){this._rs.resetCheckables()},t.prototype.applyCheckables=function(){this._rs.applyCheckables()},t.prototype.getFirstRow=function(){if(this.itemCount>0)return this._groupedProvider.grouped?this._groupedProvider.getFirstRow():this._rs.getItem(0)},t.prototype.getLastRow=function(){if(this.itemCount>0)return this._groupedProvider.grouped?this._groupedProvider.getLastRow():this._rs.getItem(this._rs.itemCount-1)},t.prototype.getPrevRow=function(e){if(this.itemCount>0)return this._groupedProvider.grouped?this._groupedProvider.getPrevRow(e):e&&e.index>0?this._rs.getItem(e.index-1):this._rs.getItem(0)},t.prototype.getNextRow=function(e){if(this.itemCount>0)return this._groupedProvider.grouped?this._groupedProvider.getNextRow(e):e&&e.index<this._rs.itemCount-1?this._rs.getItem(e.index+1):this._rs.getItem(0)},t.prototype.getGroupItem=function(e){if(this._groupedProvider.grouped)return this._groupedProvider.getGroupItem(e)},t.prototype.getJsonRows=function(){return this._rs.getJsonRows()},Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._rs.rowCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemLength",{get:function(){return this._rs.itemLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleRowCount",{get:function(){return this.grouped?this._groupedProvider.visibleRowCount:this._rs.rowCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sorted",{get:function(){return this._rs.sorted},enumerable:!1,configurable:!0}),t.prototype.getMovable=function(e){return!this.grouped&&this._rs.getMovable(e)},t.prototype.getAllItems=function(){return this.source.getAllItems()},t.prototype.getPagingAllItems=function(){var e=this._rs;return e.isSorted?e._sortedItems.slice():e._items.slice()},t.prototype.findItem=function(e,t,i,n,r){return this._groupedProvider.findItem(e,t,i,n,r)},t.prototype.findCell=function(e,t,i,n,r,o){return this._groupedProvider.findCell(e,t,i,n,r,o)},t.prototype.checkItems=function(e,t,i){this.source.checkItems(e,t,i)},t.prototype.checkItem=function(e,t,i,n){this.source.checkItem(e,t,i,n)},t.prototype.checkAll=function(e,t,i,n,r){var o=this.editingItem;o&&(!i||o.checkable)&&o._setChecked(e),this.source.checkAll(e,t,i,n,r)},t.prototype.setCheckFieldIndex=function(e){this._rs.setCheckFieldIndex(e)},t.prototype.setItemChecked=function(e,t){return this._rs.setItemChecked(e,t)},t.prototype.getItemChecked=function(e,t){return this._rs.getItemChecked(e,t)},t.prototype.setGroupCheckable=function(e,t){this.grouped&&this._groupedProvider.setGroupCheckable(e,t)},t.prototype.getItemOfRow=function(e,t){return this._rs.getItemOfRow(e,t)},t.prototype.addCellStyle=function(e,t,i){return this._rs.addCellStyle(e,t,i)},t.prototype.removeCellStyle=function(e,t){return this._rs.removeCellStyle(e,t)},t.prototype.getUserCellStyle=function(e,t){return this._rs.getUserCellStyle(e,t)},t.prototype._doBeginUpdate=function(t){var i=e.prototype._doBeginUpdate.call(this,t);return this._groupedProvider.$_setEditItem(i),i},t.prototype._doBeginAppendDummy=function(){var t=e.prototype._doBeginAppendDummy.call(this);return this._groupedProvider.$_setDummyEditItem(t),t},t.prototype._doBeginAppend=function(t){var i=e.prototype._doBeginAppend.call(this,t);return this._groupedProvider.$_setEditItem(i),i},t.prototype._doBeginInsert=function(t,i,n,r){var o=e.prototype._doBeginInsert.call(this,t,i,n,r);return this._groupedProvider.$_setEditItem(o),o},t.prototype._doCancelDummyEdit=function(){e.prototype._doCancelDummyEdit.call(this),this._groupedProvider.$_setDummyEditItem(null)},t.prototype._doCancelEdit=function(t,i){e.prototype._doCancelEdit.call(this,t,i),this._groupedProvider.$_setEditItem(null)},t.prototype._doCommitEdit=function(t,i){return!!e.prototype._doCommitEdit.call(this,t,i)&&(this._groupedProvider.$_setEditItem(null),!0)},t.prototype.moveItem=function(e,t){this.source.moveItem(e,t)},t.prototype.setSortingOptions=function(e){this._rs.setSortingOptions(e)},t.prototype.onGroupedItemProviderGrouping=function(e,t){return this.fireConfirmEvent(ry.GROUPING,t)},t.prototype.onGroupedItemProviderGrouped=function(e){this.fireEvent(ry.GROUPED)},t.prototype.onGroupedItemProviderExpand=function(e,t){return this.fireConfirmEvent(ry.EXPAND,t)},t.prototype.onGroupedItemProviderExpanded=function(e,t){this.fireEvent(ry.EXPANDED,t)},t.prototype.onGroupedItemProviderCollapse=function(e,t){return this.fireConfirmEvent(ry.COLLAPSE,t)},t.prototype.onGroupedItemProviderCollapsed=function(e,t,i){this.fireEvent(ry.COLLAPSED,t,i)},t}(hm),tO=function(e){function t(t,i,n){return void 0===n&&(n=null),e.call(this,t,i,n)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"cellView",{get:function(){return this.owner},enumerable:!1,configurable:!0}),t}(function(e){function t(t,i,n){void 0===n&&(n=null);var r=e.call(this,t,n)||this;return r._clickable=!1,r._owner=i,r}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return this._clickable},set:function(e){e!=this._clickable&&(this._clickable=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype._getCssSelector=function(){return""},t.prototype._doDraw=function(e){},t.prototype._hoverChanged=function(){this.invalidate()},t.prototype._changed=function(){this.invalidate()},t}(Sb)),iO=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),t.prototype._doUpdateContent=function(e,t,i){i[Bp.TextProp]=""},t.prototype._doRender=function(e){},t}(GC),nO=function(e){function t(t,i){var n=e.call(this,t,null,i)||this;return n._cells=[],n._levels=0,n}return gd(t,e),t.prototype._doDispose=function(){this._cells.forEach(function(e){e.dispose()}),this._cells=null,e.prototype._doDispose.call(this)},t.prototype.prepare=function(e){for(this._levels=e;this._cells.length<e;){var t=this.$_createCell();this._cells.push(t)}},t.prototype._doPrepareTableExtents=function(t){if(e.prototype._doPrepareTableExtents.call(this,t),this._levels>0)for(var i=this.width/this._levels,n=0;n<this._levels;n++)this._cells[n].width=i},t.prototype._doPrepareTableRow=function(t,i,n,r){e.prototype._doPrepareTableRow.call(this,t,i,n,r),r.className=this.$_getRowClassName(i)},t.prototype._prepareCellContent=function(e,t){var i=$p(e);return e[Dd]=t+1,i.createElement("div")},t.prototype._doLayoutContent=function(e){for(var t=this._levels;this.childCount<t;)this.addChild(this._cells[this.childCount]);for(;this.childCount>t;)this.removeLast()},t.prototype._doRender=function(e){},t.prototype._getCellCount=function(e){return this._levels},t.prototype._getCellWidth=function(e,t){return this._cells[t].width},t}(Bw),rO=function(e){function t(t){return e.call(this,t,"rowGroupHeadView")||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-rowgroup-head"},t.prototype._getTableRowHeight=function(e,t){var i=this.grid,n=[];return i.header.visible&&n.push(e.headBounds.height),i.filterPanel.visible&&n.push(e.filterPanelBounds.height),i.headerSummaries.visible&&n.push(e.sumBounds.height),n[t]||0},t.prototype.$_createCell=function(){return new iO(this.doc,"rowGroupHeadCellView")},t.prototype._getTableRowCount=function(e){var t=this.grid,i=0;return t.header.visible&&i++,t.filterPanel.visible&&i++,t.headerSummaries.isVisible()&&i++,i},t.prototype.$_getRowClassName=function(e){var t=this.grid,i=[];return t.header.visible&&i.push(""),t.filterPanel.visible&&i.push("rg-rowgroup-filter-panel"),t.headerSummaries.isVisible()&&i.push("rg-rowgroup-summary"),i[e]||""},t}(nO),oO=function(e){function t(t){return e.call(this,t,"rowGroupFootView")||this}return gd(t,e),t.prototype._getCssSelector=function(){return"rg-rowgroup-foot"},t.prototype._getTableRowHeight=function(e,t){return e.footBounds.height},t.prototype.$_createCell=function(){return new iO(this.doc,"rowGroupFootCellView")},t.prototype._getTableRowCount=function(e){return 1},t.prototype.$_getRowClassName=function(e){return"rg-rowgroup-foot-row"},t}(nO),sO="rg-rowgroup-expander",aO=sO+" rg-rowgroup-expander-expanded",lO=sO+" rg-rowgroup-expander-collapsed",uO=function(e){function t(t,i){var n=e.call(this,t,i,"rowGroupExpandHandle")||this;return n._expanded=!1,n.clickable=!0,n}return gd(t,e),t.isExpander=function(e){var t=e.className;return t&&t.indexOf(sO)>=0},Object.defineProperty(t.prototype,"expanded",{get:function(){return this._expanded},set:function(e){e!=this._expanded&&(this._expanded=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype._createDom=function(e){return e.createElement("span")},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),t.style.position="",t.style.display="inline-block"},t.prototype._getCssSelector=function(){return this._expanded?aO:lO},t.prototype._getCssDisplay=function(){return""},t.prototype._beforeDraw=function(e){this._setClassName(e)},t}(tO),cO=function(e){function t(t){var i=e.call(this,t,"rowGroupBarCell")||this;return i._level=0,i._expander=new uO(t,i),i.addChild(i._expander),i}return gd(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!1,configurable:!0}),t.prototype.updateCell=function(t,i,n){e.prototype.updateCell.call(this,t,i,n);var r,o=i.item,s=o.getAncestor(this.bar.l);if(s){var a=t.rowGroup;r=(s.expanded?a.expandedAdornments:a.collapsedAdornments)===Ed.SUMMARY}if(s&&(o instanceof nm&&o===s||s.getFirstVisibleItem(r)===o)&&s.level===this.bar.l){var l=this._expander._dom;n.appendChild(l),this._expander.setBounds(1,1,this.width-2,this.width-2),this._expander.expanded=s.expanded;var u=t.rowGroup.$_isExpanderVisible(s);this._expander.visible=!s.expanded||null==u||u,l[Pd]=o.index}else this._expander.visible=!1;n.style.paddingTop="2px"},t.prototype.validate=function(){e.prototype.validate.call(this);var t=this._expander._dom;Bp.detach(t)},t}(GC),hO=function(e){function t(t,i){var n=e.call(this,t,i,"rowGroupBarContainer")||this;return n._cells=[],n._levels=0,n._bars=[],n}return gd(t,e),t.prototype._doDispose=function(){this._cells=null,e.prototype._doDispose.call(this)},t.prototype.prepare=function(e,t){this._levels=t},t.prototype.getLevelIndent=function(e){return e*this.width/Math.max(1,this._levels)},t.prototype.getViewOf=function(e){for(var t=this.getChildren(),i=0,n=t.length;i<n;i++){var r=t[i];if(r._expander._dom===e)return r}},Object.defineProperty(t.prototype,"currentLevels",{get:function(){return this._levels},enumerable:!1,configurable:!0}),t.prototype._getCssSelector=function(){return"rg-rowgroup-bar"},t.prototype._prepareCellContent=function(e,t){return $p(e).createElement("div")},t.prototype._doLayoutContent=function(e){for(var t,i=e.grid,n=i.rowGroup,r=this.width/Math.max(1,this._levels),o=this._bars,s=o.length,a=e.topIndex,l=e.fixedItemCount,u=l>0;this.childCount<s;)t=this._cells.length>0?this._cells.pop():this._createCell(),this.addChild(t);for(;this.childCount>s;)(t=this.removeLast()).validate(),this._cells.push(t);for(var c=0;c<s;c++){var h=o[c];t=this.getChild(c);var d=h.tr1,p=u?d<l?d:d-1+a:d+a,f=Wv.temp(i,p),_=n.getBarCell(f),g=e.getTableItemBounds(h.r);t.bar=h,t.level=h.l,t.updateCell(i,_,this.getCellContent(d,h.c)),g.x=r*h.c,g.width=r,t.setRect(g)}},t.prototype._doRender=function(e){},t.prototype._doPrepareTableRows=function(t,i){e.prototype._doPrepareTableRows.call(this,t,i),this.$_layoutBarCells(t,i)},t.prototype._getTableRowHeight=function(e,t){var i=e.fixedItemCount>0&&t>e.fixedItemCount?1:0;return e.getTableItemHeight(t-i)},t.prototype._getCellCount=function(e){return this._levels},t.prototype._getCellWidth=function(e,t){return this.width/Math.max(1,this._levels)},t.prototype._createCell=function(){return new cO(this.doc)},t.prototype.$_calcLevels=function(e,t,i,n){for(var r,o=[],s=1,a=0,l=0;l<n-i;l++){var u=e[l+i].getAncestor(t);o.push(-1),u&&r===u||(o[a]=s,r=u,a=o.length-1,s=0),s++}return o[a]=s,o},t.prototype.$_layoutBarCells=function(e,t){var i=e.grid,n=this.model,r=e.$_getItems(),o=r.length,s=e.fixedItemCount,a=t.children,l=this._bars=[];if(!(o<1)){for(var u=0,c=this._getCellCount(e);u<c;u++){var h,d=i.rowGroupLevels,p=n.indentVisibleLevel;h=p<0?d+p+u+1:u+1;var f=0,_=0;if(s>0){for(var g=void 0,m=void 0;f<s;f++,_++)(m=(g=a[_]).children[u]).style.display="",m.removeAttribute("rowspan"),Bp.setClassName(m,""),0===u&&Bp.setClassName(g,""),m[Pd]=f;g=a[_++],0===u&&Bp.setClassName(g,Mw.ROW_BAR_STYLE),(m=g.children[u]).style.display="",m.removeAttribute("rowspan"),Bp.setClassName(m,Mw.ROW_BAR_CELL_STYLE)}if(f<o)for(var y=this.$_calcLevels(r,h,f,o),v=0;f<o;f++,v++,_++){var b=y[v],w=(m=(g=a[_]).children[u],r[f]),C=w.getAncestor(h);if(0===u&&Bp.setClassName(g,""),m.removeAttribute("rowspan"),b>0){var x=this.grid.rowGroup,I=C&&(C.expanded?x.expandedAdornments:x.collapsedAdornments)===Ed.SUMMARY,E=1===b&&C&&(w instanceof nm||C.getFirstVisibleItem(I)===w);(b>1||E)&&(l.push({r:f,tr1:_,tr2:_+b-1,c:u,l:h}),m.rowSpan=b),m.style.display="",Bp.setClassName(m,"rg-rowgroup-bar-cell rg-rowgroup-bar-level-"+String(h)),m[Pd]=w.index}else m.style.display="none",Bp.setClassName(m,"")}}l.sort(function(e,t){return e.r-t.r})}},t}(Vw),dO=function(e){function t(t,i){var n=e.call(this,t,"rowGroupBarPane")||this;return n._barContainer=new hO(t,i),n.addChild(n._barContainer),n._footView=new oO(t),n.addChild(n._footView),n._headView=new rO(t),n.addChild(n._headView),n}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"levelCount",{get:function(){return this.grid.layoutManager.rowGroupLevels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this._barContainer.currentLevels},enumerable:!1,configurable:!0}),t.prototype.getLevelIndent=function(e){return this._barContainer.getLevelIndent(e)},t.prototype._doMeasure=function(e,t,i){var n=this._barContainer.model.getIndentCount(this.levelCount);return this._headView.prepare(n),this._footView.prepare(n),this._barContainer.prepare(e,n),new Aw(n*e.rowGroup.levelIndent,i)},t.prototype._doLayoutContent=function(e){var t=this.grid,i=e.headBounds;if(this._headView.visible=t.header.visible||t.headerSummaries.isVisible()||t.filterPanel.visible){var n=0;t.header.visible&&(n+=i.height),t.headerSummaries.isVisible()&&(n+=e.summaryBounds.height),t.filterPanel.visible&&(n+=e.filterPanelBounds.height),this._headView.setBounds(0,i.y,this.width,n),this._headView.layoutContent(e)}i=e.footBounds,(this._footView.visible=t.footers.isVisible())&&(this._footView.setBounds(0,i.y,this.width,i.height),this._footView.layoutContent(e)),i=e.rowBarBounds,this._barContainer.setBounds(0,i.y,this.width,i.height),this._barContainer.layoutContent(e)},t.prototype._getCssSelector=function(){return"rg-rowgroup-bar-container"},t.prototype._visibleChanged=function(){var t=this;e.prototype._visibleChanged.call(this),this.getChildren().forEach(function(e){e.visible=t.visible})},t}(rx);!function(e){function t(t){return e.call(this,t,"rowGroupPane")||this}gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)}}(rx);var pO=function(e){function t(t){var i=e.call(this,t,"rowGroupHeaderCellView")||this;return i._indent=0,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"indent",{get:function(){return this._indent},set:function(e){this._indent=Math.max(0,e)},enumerable:!1,configurable:!0}),t.prototype._createDom=function(e){return e.createElement("div")},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t);var i=t.style;i.top="50%",i.msTransform=i.transform="translate(0px, -50%)",i.setProperty("overflow","hidden","important"),i.setProperty("pointer-events","none","important")},t.prototype._beforeDraw=function(e){},t.prototype._doUpdateContent=function(e,t,i){i[Bp.TextProp]=t.text,i.style.left=this._indent>0?this._indent+"px":""},t}(GC),fO=function(e){function t(t){var i=e.call(this,t,"rowGroupHeaderView")||this;return i._cellView=new pO(t),i.addChild(i._cellView),i}return gd(t,e),t.prototype._doDispose=function(){this._item=null,this._cellView=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"item",{get:function(){return this._item},set:function(e){this._item=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemIndex",{get:function(){return this._item.index},enumerable:!1,configurable:!0}),t.prototype._initDom=function(t){e.prototype._initDom.call(this,t),t.style.setProperty("overflow","hidden","important")},t.prototype._getCssSelector=function(){return"rg-rowgroup-header rg-rowgroup-header-level-"+String(this._item.level)},t.prototype._doLayoutContent=function(e){var t=e.grid,i=t.rowGroup;this._cellView.indent=i.indentVisible?0:t.groupBarPane.getLevelIndent(this._item.level-1),this._cellView.updateCell(t,i.getHeaderCell(this._item),this._cellView._dom)},t}(Fw),_O=function(e){function t(t){return e.call(this,t,"rowGroupRightHeaderView")||this}return gd(t,e),t.prototype._doDispose=function(){this._item=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"item",{get:function(){return this._item},set:function(e){this._item=e},enumerable:!1,configurable:!0}),t.prototype._getCssSelector=function(){return"rg-rowgroup-header rg-rowgroup-header-level-"+String(this._item.level)},t}(Fw),gO=function(e){function t(t){return e.call(this,t,"rowGroupFooterView")||this}return gd(t,e),t.prototype._doLayoutContent=function(e){var t=e.grid,i=t.rowGroup,n=e.cellLayouts._dataCells.length,r=this._getFirstCell(e),o=this._getStartCell(e)-r,s=o,a=this._getEndCell(e)-r,l=this._item instanceof ey;l&&(s=Math.max(o,this._item.parent.level-r)),this.$_refreshSpans(this._item.index,this._item.$_footerIndex,n,s,a),s=0;for(var u=0;u<n;u++){var c=this._getTableRow(e,this._domIndex+u),h=this._getBodyCells(this._domIndex+u),d=i.getFooterStyleName(this._item);c.className=d;for(var p=s;p<=a;p++){var f=h[p],_=f.layout;if(!(l&&f.merged&&f.head&&f===f.head))if(t.isRecycleMode()&&c.recycle);else if(f.clearExpander(),f.clearButtons(),f.renderer2&&f.renderer2.clearContent(),f.visible)if(_.isNull)_.isProxy||f.setClassName(BI.FOOTER_CELL_STYLE);else{var g=Wv.temp(t,this._item.index,_),m=i.getFooterCell(g);this._updateCell(t,i,m,f)}}}},t.prototype._getBodyCells=function(e){return this.parent.$_getBodyCells(e)},t.prototype._getTableRow=function(e,t){return this.parent.$_getTableRow(e,t)},t.prototype._getTableCell=function(e){return this.parent.$_getTableCell(this._domIndex,e)},t.prototype._getFirstCell=function(e){return e._firstCell},t.prototype._getLastCell=function(e){return e._lastCell},t.prototype._getStartCell=function(e){return e.getStartCell(!1)},t.prototype._getEndCell=function(e){return e.getEndCell(!1)},t.prototype._getBodyView=function(){return this.parent._bodyView},t.prototype._updateCell=function(e,t,i,n){var r=i.valueColumn.groupFooters.get(i.footerIndex),o=t.getFooterCellStyle(i,n.style.clear()),s=i.getSummary(),a=n.cell.firstElementChild;if(n.setClassName(o.styleName),Bp.setClassName(a,BI.FOOTER_CELL_RENDERER),n.refreshFormatters(o),t.getFooterCellFormatters(r,n),s){var l=i.getTemplate(n),u=i.getSummary().templateEvents;void 0===l?a[Bp.TextProp]=i.getDisplayText(n):(a.innerHTML=l,u&&Iy(a,u))}else a[Bp.TextProp]=""},t.prototype.$_refreshSpans=function(e,t,i,n,r){for(var o=this.grid.layoutManager._tableRowPoints,s=0;s<i;s++)for(var a=this._getBodyCells(this._domIndex+s),l=n;l<=r;l++){var u=a[l],c=u.layout,h=c.parent,d=h&&h.vertical;if(u.spanned);else if(c.isProxy)u.clear(!1);else{var p=0,f=0,_=c.getGroupFooterUserSpan(this._item.parent,t),g=_?0:c.getGroupFooterSpan(e,t)-1;if(_){var m=this._item,y=(m.parent.footerCount-m.vindex)*i,v=_.footerCount||0,b=v>0?v*i:_.rowspan||1,w=_.colspan||1;b=Math.min(b,y),u.set(w,b,!0);for(var C=0;C<b;C++)for(var x=this._getBodyCells(this._domIndex+C+s),I=0;I<w;I++){var E=x&&x[I+l];E&&E!==u&&E.span(u)}}else if(g>0){var O=0,S=c.vindex+1;if(d)for(;O++<g&&O<i;)f+=(k=h.getVisible(S++))._dspan,this._getBodyCells(this._domIndex+s+1)[l].span(u);else for(;O++<g&&l-n+O<a.length&&S<h.visibleCount;){var k;if(!(k=h.getVisible(S++)))break;p+=k._cspan,a[l+O].span(u)}}c.isNull&&u.clear(!0),!_&&u.set(c._cspan+p,c._dspan+f,!0),u.rowSpan>1&&(u.height=o[u.rowIndex+u.rowSpan]-o[u.rowIndex],u.cell.firstElementChild.style.maxHeight=u.height-2+"px")}}},t}(Yw),mO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getBodyCells=function(e){return this.parent.$_getFixedBodyCells(e)},t.prototype._getTableRow=function(e,t){return this.parent.$_getFixedTableRow(t)},t.prototype._getTableCell=function(e){return this.parent.$_getFixedTableCell(this._domIndex,e)},t.prototype._getBodyView=function(){return this.parent._fixedView},t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return 0},t.prototype._getEndCell=function(e){return e.fixedCellCount-1},t}(gO),yO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getBodyCells=function(e){return this.parent.$_getRightBodyCells(e)},t.prototype._getTableRow=function(e,t){return this.parent.$_getRightTableRow(t)},t.prototype._getTableCell=function(e){return this.parent.$_getRightTableCell(this._domIndex,e)},t.prototype._getBodyView=function(){return this.parent._rightView},t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return e.cellCount-e.rightCellCount},t.prototype._getEndCell=function(e){return e.cellCount-1},t}(gO),vO=function(e){function t(t,i){var n=e.call(this,t,i||"rowGroupLayer")||this;return n._headerPool=[],n._headerViews=[],n._rightHeaderPool=[],n._rightHeaderViews=[],n._footerPool=[],n._footerViews=[],n._fixedFooterPool=[],n._fixedFooterViews=[],n._rightFooterPool=[],n._rightFooterViews=[],n._indents=[],n}return gd(t,e),t.prototype._doDispose=function(){this._bodyView=this._fixedView=this._rightView=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"grid",{get:function(){return this.getAncestor(IO)},enumerable:!1,configurable:!0}),t.prototype.layout=function(e){this._doPrepareContent(e),this._doLayoutContent(e)},t.prototype.getHeaderView=function(e){for(var t=0,i=this._headerViews;t<i.length;t++){var n=i[t];if(n.item===e)return n}},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t);var i=t.style;i.setProperty("overflow","hidden","important"),i.setProperty("pointer-events","none","important")},t.prototype._getCssSelector=function(){return"rg-rowgroup-layer"},t.prototype._doDraw=function(e){},t.prototype._doPrepareContent=function(e){this.$_prepareHeaders(e)},t.prototype.$_prepareIndents=function(e){for(var t=this._indents=[],i=e.rowGroupLevels+1,n=0;n<i;n++)t[n]=e.getLevelIndent(n);return t},t.prototype._doLayoutContent=function(e){var t,i=this.$_prepareIndents(e),n=e.$_getItems(),r=n.length,o=e.fixedItemCount,s=o>0,a=this._rightView,l=e.contentBounds.right-e.sideContentBounds.x,u=0,c=0,h=e.trs,d=o,p=s?d*h+1:d*h;for(a&&(t=e.rightContentBounds.clone(),l=Math.min(l,this.width-t.width),t.x-=this.x,t.leftBy(e.rightBarWidth));d<r;d++){var f=n[d];if(f instanceof nm){var _=this._headerViews[u],g=e.getTableItemBounds(d),m=i[f.level];if(_.item=f,_.setBounds(m,g.y,l-m,g.height),_.layoutContent(e),a){var y=this._rightHeaderViews[u];y.item=f,y.setBounds(t.x,g.y,t.width,g.height),y.layoutContent(e)}u++,p++}else f instanceof rm?(this._fixedView&&((_=this._fixedFooterViews[c]).updateItem(f,p,h,!0),_.layoutContent(e)),this._rightView&&((_=this._rightFooterViews[c]).updateItem(f,p,h,!0),_.layoutContent(e)),this._bodyView&&(_=this._footerViews[c++],Bp.isDebugging(),_.updateItem(f,p,h,!0),_.layoutContent(e)),p+=h):p+=h}},t.prototype.$_prepareHeaders=function(e){for(var t=e.$_getItems(),i=0,n=e.fixedItemCount,r=t.length;n<r;n++)t[n]instanceof nm&&i++;for(var o=this._headerPool,s=this._headerViews;s.length<i;)(a=o.pop())||(a=new fO(this.doc)),this.addChild(a),s.push(a);for(;s.length>i;){var a=s.pop();this.removeChild(a),o.push(a)}var l=this._rightHeaderPool,u=this._rightHeaderViews;if(this._rightView){for(;u.length<i;)(a=l.pop())||(a=new _O(this.doc)),this.addChild(a),u.push(a);for(;u.length>i;)a=u.pop(),this.removeChild(a),l.push(a)}else for(;u.length>0;)a=u.pop(),this.removeChild(a),l.push(a)},t.prototype.$_prepareGroupItems=function(e,t,i,n){this._bodyView=t,this._fixedView=i,this._rightView=n},t.prototype.$_prepareGroupFooters=function(e,t){for(var i=0,n=t.fixedItemCount,r=e.length;n<r;n++)e[n]instanceof rm&&i++;for(;this._footerViews.length<i;)(o=this._footerPool.pop())||(o=new gO(this.doc)),this.addChild(o),this._footerViews.push(o);for(;this._footerViews.length>i;){var o=this._footerViews.pop();this.removeChild(o),this._footerPool.push(o)}if(this._fixedView){for(;this._fixedFooterViews.length<i;)(o=this._fixedFooterPool.pop())||(o=new mO(this.doc)),this.addChild(o),this._fixedFooterViews.push(o);for(;this._fixedFooterViews.length>i;)o=this._fixedFooterViews.pop(),this.removeChild(o),this._fixedFooterPool.push(o)}else for(;this._fixedFooterViews.length>0;)o=this._fixedFooterViews.pop(),this.removeChild(o),this._fixedFooterPool.push(o);if(this._rightView){for(;this._rightFooterViews.length<i;)(o=this._rightFooterPool.pop())||(o=new yO(this.doc)),this.addChild(o),this._rightFooterViews.push(o);for(;this._rightFooterViews.length>i;)o=this._rightFooterViews.pop(),this.removeChild(o),this._rightFooterPool.push(o)}else for(;this._rightFooterViews.length>0;)o=this._rightFooterViews.pop(),this.removeChild(o),this._rightFooterPool.push(o)},t.prototype.$_getTableRow=function(e,t){return this._bodyView._tbody.children[t]},t.prototype.$_getTableCell=function(e,t){return this._bodyView._tbody.children[e].children[t]},t.prototype.$_getFixedTableRow=function(e){return this._fixedView._tbody.children[e]},t.prototype.$_getFixedTableCell=function(e,t){return this._fixedView._tbody.children[e].children[t]},t.prototype.$_getRightTableRow=function(e){return this._rightView._tbody.children[e]},t.prototype.$_getRightTableCell=function(e,t){return this._rightView._tbody.children[e].children[t]},t.prototype.$_getBodyCells=function(e){return this._bodyView._cells[e]},t.prototype.$_getFixedBodyCells=function(e){return this._fixedView._cells[e]},t.prototype.$_getRightBodyCells=function(e){return this._rightView._cells[e]},t}(kb),bO=function(e){function t(t){var i=e.call(this,t)||this;return i._enabled=!0,i._expandWhenGrouping=!0,i._summarizing=!0,i._fixMergedColumns=!0,i._headerClickable=!1,i._toast=new ex({visible:!1,message:i._messageCallback}),i.assignFrom(u_.grouping),i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prompt",{get:function(){return this._prompt||r_.messages.groupingPrompt},set:function(e){e!=this._prompt&&(this._prompt=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandWhenGrouping",{get:function(){return this._expandWhenGrouping},set:function(e){this._expandWhenGrouping=e,this._changed()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summarizing",{get:function(){return this._summarizing},set:function(e){e!=this._summarizing&&(this._summarizing=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixMergedColumns",{get:function(){return this._fixMergedColumns},set:function(e){this._fixMergedColumns=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerClickable",{get:function(){return this._headerClickable},set:function(e){this._headerClickable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toast",{get:function(){return this._toast},set:function(e){e&&!e.message&&((e=md(md({},e),{message:this._messageCallback})).message=this._messageCallback),this._toast.assignFrom(e)},enumerable:!1,configurable:!0}),t.prototype._changed=function(){this.grid._groupingOptionsChanged(this),this._layoutOwner()},t.prototype._messageCallback=function(){var e;return(null===(e=u_.grouping.toast)||void 0===e?void 0:e.message)||r_.messages.groupingToastMessage},t}(Dw),wO=function(e){function t(t){var i=e.call(this,t)||this;return i._field=-1,i._text="",i._textWidth=0,i._textHeight=0,i._closeHeight=0,i._padHorz=5,i._padVert=4,i._itemGap=8,i}return gd(t,e),t.prototype._doDispose=function(){Bp.detach(this._textView),Bp.detach(this._closeView),this._textView=this._closeView=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"field",{get:function(){return this._field},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},enumerable:!1,configurable:!0}),t.prototype.setColumn=function(e){this._field=e.dataIndex,this._textView[Bp.TextProp]=this._text=e.displayText},t.prototype.isCloseButton=function(e){return e===this._closeView},t.prototype._getCssSelector=function(){return"rg-header rg-header-cell rg-group-panel-item"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t);var i=$p(t);this._textView=i.createElement("span"),this._textView.className=this._getTextCss(),this._textView.style.display="inline-block",t.appendChild(this._textView),this._closeView=i.createElement("span"),this._closeView.className=this._getButtonCss(),t.appendChild(this._closeView)},t.prototype._doMeasure=function(e,t,i){var n=(this._textWidth=this._textView.offsetWidth)+this._itemGap+this._closeView.offsetWidth+2*this._padHorz,r=this._textHeight=this._textView.offsetHeight;return r=Math.max(r,this._closeHeight=this._closeView.offsetHeight),r+=2*this._padVert,new Aw(n,r)},t.prototype._doLayoutContent=function(e){},t.prototype._doDraw=function(e){var t=this._dom.clientHeight;this._textView.style.left=this._padHorz+"px",this._textView.style.top=Math.floor((t-this._textHeight)/2)+"px",this._closeView.style.left=this._padHorz+this._textWidth+this._itemGap+"px",this._closeView.style.top=Math.floor((t-this._closeHeight)/2)+"px"},t.prototype._getTextCss=function(){return"rg-group-panel-item-text"},t.prototype._getButtonCss=function(){return"rg-group-panel-item-close"},t}(Fw),CO=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype.setText=function(e){this._textView[Bp.TextProp]=this._text=e},t.prototype._getCssSelector=function(){return"rg-header rg-header-cell rg-group-panel-reset"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t)},t.prototype._doMeasure=function(t,i,n){if(this._text)return e.prototype._doMeasure.call(this,t,i,n);var r=e.prototype._doMeasure.call(this,t,i,n);return r.width=this._closeView.offsetWidth+2*this._padHorz,r},t.prototype._doDraw=function(t){if(this.text)e.prototype._doDraw.call(this,t);else{var i=this._dom,n=i.clientHeight,r=i.clientWidth,o=this._closeView.clientWidth;this._closeView.style.left=(r-o)/2+"px",this._closeView.style.top=Math.floor((n-this._closeHeight)/2)+"px"}},t.prototype._getTextCss=function(){return"rg-group-panel-reset-text"},t.prototype._getButtonCss=function(){return"rg-group-panel-reset-close"},t}(wO),xO=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._minHeight=0,n._itemViews=[],n._count=0,n._padHorz=16,n._padVert=10,n._itemGap=20,n.visible=!1,n.assignFrom(u_.groupPanel),n}return gd(t,e),t.prototype._doDispose=function(){this._itemViews&&this._itemViews.forEach(function(e,t){e.dispose()}),this._itemViews=null,Bp.detach(this._messageView),this._messageView=null,this._resetView=this._resetView.dispose(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"showResetButton",{get:function(){return null!=this._showResetButton?this._showResetButton:u_.groupPanel.showResetButton},set:function(e){this._showResetButton!=e&&(this._showResetButton=e,this._doSizeChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetText",{get:function(){return null!=this._resetText?this._resetText:u_.groupPanel.resetText||r_.messages.groupResetText},set:function(e){this._resetText!=e&&(this._resetText=e,this._doSizeChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this._minHeight},set:function(e){this._minHeight!==e&&(this._minHeight=e,this._doSizeChanged())},enumerable:!1,configurable:!0}),t.prototype._getCssSelector=function(){return"rg-group-panel"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t);var i=$p(t);t.style.overflow="hidden";var n=this._messageView=i.createElement("span");this._resetView=new CO(i),n.className="rg-group-panel-message",t.appendChild(n)},t.prototype._doMeasure=function(e,t,i){var n=e.groupingOptions;this._count=e.rowGroupLevels;var r=this.minHeight,o=0,s=this._messageView.style;if(this._count>0?s.display="none":(s.display="",this._messageView[Bp.TextProp]=n.prompt,o=this._messageView.offsetHeight,r=Math.max(r,o+2*this._padVert),s.left=this._padHorz+"px",s.top=(r-o)/2+"px"),this.$_prepareItemViews(e,this._count),this._count>0){for(var a=0;a<this._count;a++){var l=(u=this._itemViews[a]).measure(e,t,i);u.width=l.width,o=Math.max(o,l.height)}for(r=Math.max(r,o+2*this._padVert),a=0;a<this._count;a++)(u=this._itemViews[a]).height=o,u.y=(r-o)/2;var u;if(this.showResetButton)l=(u=this._resetView).measure(e,t,i),u.width=l.width,u.height=o,u.y=(r-o)/2}return new Aw(t,r)},t.prototype._doPrepareContent=function(e){},t.prototype._doLayoutContent=function(e){if(this._count>0){var t=this._padHorz;this._padVert;for(var i=0;i<this._count;i++){var n;(n=this._itemViews[i]).x=t,t+=this._itemGap+n.width}this.showResetButton&&((n=this._resetView).x=t)}},t.prototype._doDraw=function(e){},t.prototype._visibleChanged=function(){var e=this.grid;e&&(e.invalidateLayout(),e.invalidatePosition())},t.prototype._doSizeChanged=function(){var e=this.grid;this.invalidate(!0),e&&(e.invalidateLayout(),e.invalidatePosition())},t.prototype.$_prepareItemViews=function(e,t){for(var i=this._itemViews,n=this._resetView,r=e.rowGroupFields,o=i.length;o<t;o++)i.push(new wO(e.doc));for(o=0;o<t;o++){var s=i[o];s.setColumn(e.$_getVisibleRootByField(r[o],!0)),s.visible=!0,this.addChild(s)}for(o=t;o<i.length;o++)this.removeChild(i[o]);this.showResetButton&&this._count>0?(n.setText(this.resetText),this.addChild(n)):this.removeChild(n)},t}($w),IO=function(e){function t(t,i,n){var r=e.call(this,t,i,n)||this;r._rowGroupSummaryRuntime=new Zv,r._rs=r._createItemSource(),r.itemSource=r._rs,r._groupingOptions=new bO(r),r._groupingOptionsChanged(r._groupingOptions),r._groupPanelView=new xO(r.doc,r.rowGroup),r.topContentPane.addChild(r._groupPanelView);for(var o=[r._groupBarPane._headView,r._groupBarPane._footView,r._groupBarPane._barContainer],s=o.length-1;s>=0;s--){var a=o[s];r._tableViews[a.$_hash]=a}return r.editOptions.displayEmptyEditRow&&r.editOptions.appendable&&r._rs.appendDummy(),r}return gd(t,e),t.prototype._doDispose=function(){this._rs.dispose(),this._rs=null,this._groupPanelView=this.groupPanelView.dispose(),this._rowGroup=this._rowGroup&&this._rowGroup.dispose(),this._groupingOptions=this._groupingOptions.dispose(),e.prototype._doDispose.call(this)},t.prototype._doCreateOtherElements=function(){this._groupView=new vO(this.doc),this.addElement(this._groupView)},Object.defineProperty(t.prototype,"maxRowCount",{get:function(){return this._rs.maxRowCount},set:function(e){this._rs.maxRowCount=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowGroup",{get:function(){return this._rowGroup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupPanelView",{get:function(){return this._groupPanelView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupBarPane",{get:function(){return this._groupBarPane},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupView",{get:function(){return this._groupView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupingOptions",{get:function(){return this._groupingOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paged",{get:function(){return this._rs.page>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._rs.page},set:function(e){this.setPage(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this._rs.pageCount},set:function(e){var t=this._rs.pageCount;this._rs.pageCount=e,this._rs.pageCount!=t&&this.$_firePageCountChanged(this._rs.pageCount)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowGroupLevels",{get:function(){return this._rs.groupLevels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowGroupFields",{get:function(){return this._rs.groupByFields},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowGrouped",{get:function(){return this._rs.grouped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergedRowGrouped",{get:function(){return this._rs.mergedGrouped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowGroupSummaryRuntime",{get:function(){return this._rowGroupSummaryRuntime},enumerable:!1,configurable:!0}),t.prototype.isTree=function(){return!1},t.prototype.recursiveDeleting=function(){return!1},t.prototype._beforeChangeLayout=function(){this.ungroupBy()},t.prototype.isGrouped=function(e){return e&&e.groupLevel>0},t.prototype.isGroupedField=function(e){return this._rs.isGroupedField(e)},t.prototype.isSortByLabelColumn=function(e){return this.columnByField(e).sortByLabel},t.prototype.getGroupLevel=function(e){return this._rs.getGroupLevel(e)},t.prototype.groupByFieldNames=function(e,t,i){void 0===i&&(i=bd.ASCENDING);var n=this.dataSource;if(n&&e&&e.length>0){for(var r=[],o=0;o<e.length;o++){var s=e[o],a=n.getFieldIndex(s),l=this.columnByField(s),u=l&&this.layoutByColumn(l);!u||this.rowGroup.mergeMode&&u.parent!=this.activeCellLayout._root||a>=0&&r.push(a)}r.length>0&&(t=void 0===t?this.rowGroup.sorting:t,this.groupBy(r,t,i))}else this.ungroupBy()},t.prototype.groupBy=function(e,t,i){this._beforevIndex=null,this.isItemEditing(null)||this.toastManager.show(this.groupingOptions.toast,!0,function(){this.$_doGroupBy(e,t,i)}.bind(this))},t.prototype.clearGroupBy=function(){this.isItemEditing(null)||(this._rs.setLabelComparer(null),this._rs.groupBy(null,!0,bd.ASCENDING),this.$_clearColumnMergeGrouped())},t.prototype.ungroupBy=function(){this.clearGroupBy()},t.prototype.addGroupBy=function(e,t){var i=this;t&&(this.isItemEditing(null)||this.isGrouped(t)||t.layout&&t.layout.visible&&(!t.layout.isRoot&&this.rowGroup.mergeMode||t.dataIndex>=0&&this.toastManager.show(this.groupingOptions.toast,!0,function(){i.$_doAddGroupBy(e,t)})))},t.prototype.removeGroupByField=function(e){e<0||this.isItemEditing(null)||!this.isGroupedField(e)||this._rs.removeGroupBy(e,!1)},t.prototype.expand=function(e,t,i,n){this.isItemEditing(null)||this._rs.expand(e,t,i,n)},t.prototype.expandAll=function(e,t){this.isItemEditing(null)||this._rs.expandAll(e,t)},t.prototype.collapse=function(e,t,i,n){this.isItemEditing(null)||this._rs.collapse(e,t,i,n)},t.prototype.collapseAll=function(e){this.isItemEditing(null)||this._rs.collapseAll(e)},t.prototype.isGroupedColumn=function(e){return e&&e.dataIndex>=0&&this._rs.isGroupedField(e.dataIndex)},t.prototype.blankGroupData=function(){return!this.rowGroup.mergeMode&&this.rowGroup.blankGroupData},t.prototype.getSortFields=function(){return this.itemSource.getSortFields()},t.prototype.getSortDirections=function(){return this.itemSource.getSortDirections()},t.prototype.getSortCases=function(){return this.itemSource.getSortCases()},t.prototype.setPaging=function(e,t,i){void 0===t&&(t=10),void 0===i&&(i=-1),this._rs.setPaging(e,t,i,null)},t.prototype.setPage=function(e,t){if(void 0===t&&(t=-1),(e=Math.max(0,Math.min(e,this._rs.pageCount-1)))!=this._rs.page){var i=!1;this.$_firePageChanging(e)&&(this._rs.setPage(e,t),i=!0),i&&this.$_firePageChanged(this._rs.page)}},t.prototype.getPageOfDataRow=function(e){return this._rs.getPageOfDataRow(e)},Object.defineProperty(t.prototype,"isLayer",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summarizer",{get:function(){return this._rs.summarizer},enumerable:!1,configurable:!0}),t.prototype._createSidePane=function(){return this._addGridObject(this._rowGroup=new BI(this)),this._groupBarPane=new dO(this.doc,this.rowGroup)},t.prototype.isSidePaneVisible=function(){return this.rowGrouped&&!this.mergedRowGrouped&&this._rowGroup.indentVisible},t.prototype._createLayoutManager=function(){return new EO(this)},t.prototype.canGrouping=function(){return this._groupPanelView.visible},t.prototype._canMerge=function(){return this.dataCount>0},Object.defineProperty(t.prototype,"undoable",{get:function(){return this._rs.undoable},set:function(e){this._rs.undoable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canUndo",{get:function(){return this._rs.canUndo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){return this._rs.canRedo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"undoing",{get:function(){return this._rs.undoing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redoing",{get:function(){return this._rs.redoing},enumerable:!1,configurable:!0}),t.prototype.undo=function(){return!!this._rs.canUndo&&(this._rs.cancelWhenLastUndo=this.editOptions.cancelWhenLastUndo,this.editController.cancelEditor(!0),this._rs.undo(),!0)},t.prototype.redo=function(){return!!this._rs.canRedo&&(this._rs.redo(),!0)},t.prototype.execute=function(e){this._rs.execute(e)},t.prototype.clearCommandStack=function(e){void 0===e&&(e=!0),this._rs.clearCommandStack(e)},t.prototype.getRowView=function(t,i){return i instanceof nm?this._groupView.getHeaderView(i):e.prototype.getRowView.call(this,t,i)},t.prototype._doSortItems=function(e,t,i){var n=this.itemSource;n.setLabelComparer(this._doPrepareComparer(e)),n.orderBy(e,t,i)},t.prototype._doColumnFiltersChanged=function(e,t,i){this.applyFilters(e,t,i),this.invalidateLayout()},t.prototype.setOptions=function(t){if(t){var i=this._rs;void 0!==t.hideDeleted&&(i.hideDeleted=t.hideDeleted),void 0!==t.hideDeletedRows&&(i.hideDeleted=t.hideDeletedRows),void 0!==t.inclusiveFiltering&&(i.inclusiveFiltering=t.inclusiveFiltering),void 0!==t.filterOr&&(i.inclusiveFiltering=t.filterOr),void 0!==t.summaryMode&&(i.summaryMode=t.summaryMode),void 0!==t.groupSummaryMode&&(i.groupSummaryMode=t.groupSummaryMode),void 0!==t.sortMode&&(i.sortMode=t.sortMode),void 0!==t.filterMode&&(i.filterMode=t.filterMode),t.rowGroup&&this.rowGroup.assignFrom(t.rowGroup),e.prototype.setOptions.call(this,t)}},t.prototype.$_beforeRender=function(){this._groupBarPane.levelCount!==this._groupBarPane.currentLevel&&(this._needPosition=!0),e.prototype.$_beforeRender.call(this)},t.prototype._visualObjectChanged=function(t){e.prototype._visualObjectChanged.call(this,t),t instanceof mb&&(this._rs.checkableExpression=t.checkableExpression)},t.prototype.resetCheckables=function(){this._rs.resetCheckables()},t.prototype.applyCheckables=function(){this._rs.applyCheckables()},t.prototype.getCheckedRows=function(e,t,i){var n,r;if(t){n=[];for(var o=0,s=this.itemCount;o<s;o++)(r=this.getItem(o)).checked&&r.dataRow>=0&&n.push(r.dataRow)}else n=this._rs.getCheckedRows(i);return e&&n.sort(function(e,t){return e-t}),n},t.prototype.getCheckedItemIndices=function(e){for(var t=[],i=0,n=this.itemCount;i<n;i++){var r=this.getItem(i);r.checked&&(e||r.dataRow>=0)&&t.push(r.index)}return t},t.prototype.getCheckedItems=function(e){for(var t=[],i=0,n=this.itemCount;i<n;i++){var r=this.getItem(i);r.checked&&(e||r.dataRow>=0)&&t.push(r)}return t},t.prototype.getMergedItems=function(e,t,i,n){var r=function(){return l.index<c?u.mergeRows?a.$_checkFixedMerge(this.itemSource,o,e,c):null:a.$_checkMerge(this.itemSource,o,e,!0,c)}.bind(this),o=t instanceof bv?t:this.columnByName(t),s=o.layout,a=s.merges,l=this.getItem(e);if(!l)return null;if(!a)return n?i&&!l.isDataRow?null:[l.index]:null;var u=this.fixedOptions,c=u.rowCount,h=r();if(!h){var d=this.getGroupLevel(o.dataIndex);(d>0&&o.mergeGrouped&&!this.isTree()?Qy.getDefault(d,this.rowGroup.mergeMode):s.$_mergeRuleObj()).parseBounds(this.itemSource,o.dataIndex,0,this.itemCount-1,a._flags),h=r()}if(!h&&n)return[e];if(h){for(var p=[],f=h.top;f<=h.bottom;f++)(this.getItem(f).isDataRow||!i)&&p.push(f);return p.length>0?p:null}return null},t.prototype.findGroupItem=function(e,t){var i=this.getGroupLevel(t);if(i>0)for(var n=e instanceof im?e:e.parent;n;){if(n.level==i)return n;n=n.parent}return null},t.prototype.getItemOfModel=function(e){return e instanceof em?e:e.itemIndex>=0?this.getItem(e.itemIndex):e.id>=0?this._rs.getGroupItem(e.id):null},t.prototype.getJsonRows=function(){return this._rs.getJsonRows()},t.prototype.getIndicatorIndex=function(e,t){var i=this._rs.getDisplayItemIndex(e),n=this.paged?this._rs.itemLength:this.itemCount;return t?n-i-1:i},t.prototype.indicatorReverse=function(e){return!(this.rowGrouped&&this.paged)&&e===Hv.REVERSE},t.prototype.getFirstRow=function(){return this._rs.getFirstRow()},t.prototype.getLastRow=function(){return this._rs.getLastRow()},t.prototype.getPrevRow=function(e){return this._rs.getPrevRow(e)},t.prototype.getNextRow=function(e){return this._rs.getNextRow(e)},t.prototype.canMoveRows=function(e,t,i){if(i&&this.canMoveRow(t,!1)&&e){for(var n=!1,r=0;r<e.length;r++){var o=e[r];o&&o.isDataRow&&(n=!0)}return n}},t.prototype._getMoveTarget=function(e,t,i,n){return this.getItem(i+n)},t.prototype._doMoveRows=function(e,t){var i=t&&t.dataRow;if(i>=0){for(var n=[],r=0,o=e;r<o.length;r++){var s=o[r],a=s&&s.dataRow;a>=0&&n.push(a)}if(n.length>0)return this.dataSource.moveRowList(n,i)}},t.prototype._getCellTypeOf=function(e){return e instanceof rO?Bd.GROUP_HEAD:e instanceof oO?Bd.GROUP_FOOT:e instanceof hO?Bd.GROUP_BAR:void 0},t.prototype.updatePastedRow=function(e,t,i){var n=e.dataRow;if(n>=0){var r=this.dataSource;r&&r.updateRow(n,t,i)}},t.prototype.appendPastedRow=function(e){var t=this.dataSource;if(t)return t.appendRow(e)},t.prototype.getSummaryCount=function(t){return"groupFooter"===t?this.rowGroup.footers.count:e.prototype.getSummaryCount.call(this,t)},t.prototype.isRecycleMode=function(){return e.prototype.isRecycleMode.call(this)&&(!this.rowGrouped||1===this.activeCellLayout.dataRows)},t.prototype.resetGrid=function(t){var i=this.itemSource;i&&(i.grouped||i.source===i._rs||(i.source=i._rs,this.setNeedRefresh(!0))),e.prototype.resetGrid.call(this,t)},t.prototype.setColumns=function(t){e.prototype.setColumns.call(this,t),this.mergedRowGrouped&&this._doRowGroupMergeModeChanged()},t.prototype._createItemSource=function(){var e=new eO(!0,this._rowGroup);return e.setSortingOptions(this.sortingOptions),e},t.prototype.$_rowGroupChanged=function(e){this._doRowGroupMergeModeChanged()},t.prototype._groupingOptionsChanged=function(e){this._rs.expandWhenGrouping=e.expandWhenGrouping,this.groupPanelView&&this.groupPanelView.invalidate()},t.prototype.$_rowGroupAdornmentsChanged=function(e,t){this._rs._groupedProvider.resetAdornments(this.handler,e,t)},t.prototype.$_getVisibleRootByField=function(e,t){for(var i=this.visibleLayoutCount,n=0;n<i;n++){var r=this.getVisibleLayout(n),o=r instanceof Sv&&Bp.cast(r.firstColumn,bv);if(o&&o.dataIndex==e)return o}return t?this.columnByField(e):null},t.prototype.$_clearColumnMergeGrouped=function(){this._activeCellLayout._clearMergeGrouped()},t.prototype._doRowGroupMergeModeChanged=function(){this.$_clearColumnMergeGrouped();var e=this._rs.groupByFields;if(this.rowGroup.mergeMode){if(e&&e.length>0)for(var t=e.length-1;t>=0;t--){var i=this.$_getVisibleRootByField(e[t],!1);i?i.$_setMergeGrouped(!0):e.splice(t,1)}this._rs.groupByMode(e,!0)}else this._rs.groupByMode(e,!1)},t.prototype.$_doGroupBy=function(e,t,i){var n,r=this.dataSource;if(this.$_clearColumnMergeGrouped(),r&&e&&(n=e.length)>0){for(var o=r.fieldCount,s=[],a=0;a<n;a++)e[a]>=0&&e[a]<o&&s.push(e[a]);if(s.length>0){if(this.rowGroup.mergeMode)for(a=s.length-1;a>=0;a--){var l=this.$_getVisibleRootByField(s[a],!1);l?l.$_setMergeGrouped(!0):s.splice(a,1)}s.length>0&&(this._rs.setLabelComparer(this._doPrepareComparer(s)),this._rs.groupBy(s,t,i))}}else this._rs.setLabelComparer(null),this._rs.groupBy(null,!0,bd.ASCENDING)},t.prototype.$_doAddGroupBy=function(e,t){var i=t.dataIndex;t.$_setMergeGrouped(this.rowGroup.mergeMode);try{var n=this.rowGroupFields?this.rowGroupFields.slice():[];n.push(i),this._rs.setLabelComparer(this._doPrepareComparer(n)),this._rs.addGroupBy(e,i,this.rowGroup.sorting)}catch(r){throw t.$_setMergeGrouped(!1),r}},t.prototype.$_clearGroupedIndices=function(){for(var e=this.columnCount-1;e>=0;e--){var t=Bp.cast(this.getColumn(e),bv);t&&t.$_setGroupLevel(this._rs.getGroupLevel(-1))}},t.prototype.$_setGroupedIndices=function(){for(var e=this.columnCount-1;e>=0;e--){var t=Bp.cast(this.getColumn(e),bv);t&&t.$_setGroupLevel(this._rs.getGroupLevel(t.dataIndex))}},t.prototype.$_firePageChanging=function(e){return this.fireConfirmEvent(t.PAGE_CHANGING,e)},t.prototype.$_firePageChanged=function(e){this.fireEvent(t.PAGE_CHANGED,e)},t.prototype.$_firePageCountChanged=function(e){this.fireEvent(t.PAGE_COUNT_CHANGED,e)},t.prototype.$_fireGrouping=function(e){return this.fireConfirmEvent(t.GROUPING,e)},t.prototype.$_fireGrouped=function(){this.fireEvent(t.GROUPED)},t.prototype.$_fireExpanding=function(e){return this.fireConfirmEvent(t.EXPANDING,e)},t.prototype.$_fireExpanded=function(e){this.fireEvent(t.EXPANDED,e)},t.prototype.$_fireCollapsing=function(e){return this.fireConfirmEvent(t.COLLAPSING,e)},t.prototype.$_fireCollapsed=function(e){this.fireEvent(t.COLLAPSED,e)},t.prototype.onGroupedItemProviderGrouping=function(e,t){return this.$_fireGrouping(t)},t.prototype.onGroupedItemProviderGrouped=function(e){this.selections.clear(!0),this.$_clearGroupedIndices(),this.groupPanelView.invalidate(),this.setNeedRefresh(!0);var t,i,n=this._rs.groupByFields;if(n&&n.length>0&&this.$_setGroupedIndices(),this.rowGroup.mergeMode){var r=[],o=this.visibleLayoutCount,s=this._beforevIndex;(t=!this._beforevIndex)&&(s=this._beforevIndex={});for(var a=[],l=0;l<o;l++){var u=this.getVisibleLayout(l),c=Bp.cast(u.firstColumn,bv);if(i=u.merges,c){t&&(s[c.$_hash]={vIndex:u.vindex});var h=s[c.$_hash];c.mergeGrouped&&c.groupLevel<=0?(i&&i.clear(),c.$_setMergeGrouped(!1)):c.mergeGrouped&&(i||(i=new av(u)),r.push(c),h&&(h.hasGrouped=!0)),a.push(c)}}if(this.rowGroup.resetOriginVindex)for(l=a.length;--l>=0;)(h=s[a[l].$_hash]).hasGrouped&&(a[l].layout.vindex=h.vIndex);if((o=r.length)>0)for(r=r.sort(function(e,t){return e.groupLevel-t.groupLevel}),l=0;l<o;l++)(i=r[l].layout.merges).clear(),i.initialize(Jy.INIT_COUNT),r[l].layout.vindex=l;else this._beforevIndex=null;for(o=this.visibleLayoutCount,l=0;l<o;l++)(c=Bp.cast(this.getVisibleLayout(l).firstColumn,bv))&&!c.mergeGrouped&&(i=c.layout.merges)&&(i.clear(),i.initialize(Jy.INIT_COUNT))}this.requestPrepareEditor(),this._itemCheckChanged=!0,this.$_fireGrouped(),this._cellLayoutChanged(),this.container.defaultTool.layoutChanged()},t.prototype.onGroupedItemProviderExpand=function(e,t){return this.$_fireExpanding(t)},t.prototype.onGroupedItemProviderExpanded=function(e,t){this.$_fireExpanded(t)},t.prototype.onGroupedItemProviderCollapse=function(e,t){return this.$_fireCollapsing(t)},t.prototype.onGroupedItemProviderCollapsed=function(e,t,i){if(i&&t instanceof ty){var n=t.getFirstVisibleItem(this.rowGroup.collapsedAdornments===Ed.SUMMARY);if(this.topIndex>n.index){var r=this.layoutByColumn(this.columnByField(t.groupField)),o=Gv.tempItem(this,n,r);Wv.areEquals(this.focusedIndex,o)?this.topIndex=o.itemIndex:this.setFocusedIndex(o)}}this.$_fireCollapsed(t)},t.PAGE_CHANGING="onGridViewPageChanging",t.PAGE_CHANGED="onGridViewPageChanged",t.PAGE_COUNT_CHANGED="onGridViewPageCountChanged",t.GROUPING="onGridViewGrouping",t.GROUPED="onGridViewGrouped",t.EXPANDING="onGridViewExpanding",t.EXPANDED="onGridViewExpanded",t.COLLAPSING="onGridViewCollapsing",t.COLLAPSED="onGridViewCollapsed",t}(oE),EO=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),Object.defineProperty(t.prototype,"panelVisible",{get:function(){return this.grid.groupPanelView.visible},enumerable:!1,configurable:!0}),t.prototype.getLevelIndent=function(e){var t=this.grid;if(this.mergedRowGrouped){for(var i=this.fixedLayoutCount,n=0,r=0;r<e;r++)n+=r<i?this.getFixedLayoutWidth(r):this.getLayoutWidth(r-i);return i?e>i?n=Math.max(this.fixedWidth,n+this.fixedBarWidth-this.leftPos):e===i&&(n+=this.fixedBarWidth):n-=this.leftPos,n}return t.rowGroup.indentVisible?t.groupBarPane.getLevelIndent(e):0},Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topPanelVisible",{get:function(){return this.panelVisible},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowGrouped",{get:function(){return!this.grid.rowGroup.mergeMode&&this.grid.rowGrouped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mergedRowGrouped",{get:function(){return this.grid.rowGroup.mergeMode&&this.grid.rowGrouped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowGroupLevels",{get:function(){return this.grid.rowGroupLevels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowGroupFields",{get:function(){return this.grid.rowGroupFields},enumerable:!1,configurable:!0}),t.prototype.$_groupView=function(e){return this.grid.groupView},t.prototype.setLeftPos=function(t,i){e.prototype.setLeftPos.call(this,t,i);var n=this.grid,r=n.mergedRowGrouped,o=this.$_groupView(r);o.visible&&this.$_layoutRowGroupView(n,o)},t.prototype._prepareItems=function(t){e.prototype._prepareItems.call(this,t);var i=this.grid;if(i.rowGrouped){var n=i.mergedRowGrouped,r=this.$_groupView(n),o=this.contentBounds.isEmpty?null:i.bodyView,s=this.fixedContentBounds.isEmpty?null:i.fixedBodyView,a=this.rightContentBounds.isEmpty?null:i.rightBodyView;r.$_prepareGroupItems(this,o,s,a),r.$_prepareGroupFooters(this._items,this)}},t.prototype._doMeasureTopPane=function(e,t){var i=e.groupPanelView;if(this.panelVisible)if(i._dirty){var n=i.measure(e,t.width,t.height);t.height=n.height}else t.height=i.bounds.height;else t.height=1,t.width=1},t.prototype._doLayoutTopPane=function(e,t){var i=e.groupPanelView;i.setBounds(0,0,t.width,t.height),this.panelVisible&&i.layoutContent(this)},t.prototype._doLayout=function(t,i){e.prototype._doLayout.call(this,t,i)},t.prototype._adjustLayout=function(t,i){e.prototype._adjustLayout.call(this,t,i);var n=t.rowGrouped,r=t.mergedRowGrouped,o=t._sideContentPane;o&&this._layoutSidePane(t,o);var s=this.$_groupView(r);this.$_groupView(!r).visible=!1,(s.visible=n)&&this.$_layoutRowGroupView(t,s)},t.prototype.isMergedCell=function(e){var t=this.grid;if(t.rowGroup.mergeMode&&t.isGroupedColumn(e.dataColumn))return!0;var i=e.layout;if(i&&i.isColumn&&e.layout.merged){var n=i.merges;if(n)return null!=n.getRoom(e)}return!1},t.prototype.$_layoutRowGroupView=function(e,t){var i=this.contentBounds,n=this.sideContentBounds.clone();n.top=i.y+this.bodyBounds.y,n.right=this.rightContentBounds.right,n.bottom=Math.min(this.footBounds.y+i.y,i.bottom),t.setRect(n),t.layout(this)},t}(cC),OO=function(e){function t(t){var i=e.call(this,t,"gridSelectionTool")||this;return i._panelCellReq=new SO,i._panelCellFeedback=new kO(t.doc),i._groupingReq=new RO,i}return gd(t,e),t.prototype._doDispose=function(){this._panelCellReq=null,e.prototype._doDispose.call(this)},t.prototype._doPointerDown=function(t){var i=this.grid,n=this.mouseEventTarget;if(0===t.button&&(Xw.isExpander(n)||uO.isExpander(n))){var r=this._findTableCell(n),o=i.getTableView(r);if(Xw.isExpander(n)&&o instanceof nC){var s=i.getDataCellIndex(r,this._tempIndex),a=o.getCellAt(i.layoutManager,s),l=i.findGroupItem(a.item,a.layout.firstColumn.dataIndex);this.$_toggleExpanded(i,l,t)}else if(uO.isExpander(n)&&o instanceof hO){var u=o.getViewOf(n);return void((l=(l=i.getItem(n[Pd])).getAncestor(u.level))instanceof nm&&this.$_toggleExpanded(i,l,t))}}e.prototype._doPointerDown.call(this,t)},t.prototype._doClick=function(t){var i=t.mouseX,n=t.mouseY,r=this.grid,o=this.findElementAt(i,n,!1);o instanceof CO&&o._dom.contains(t.target)?r.ungroupBy():(o instanceof wO&&o.isCloseButton(t.target)&&r.removeGroupByField(o.field),e.prototype._doClick.call(this,t))},t.prototype._doDblClick=function(t){var i=t.mouseX,n=t.mouseY,r=this.grid,o=this.findElementAt(i,n,!1);o instanceof fO&&r.groupingOptions.headerClickable?this.$_toggleExpanded(r,o.item,t):e.prototype._doDblClick.call(this,t)},t.prototype._getEditRequest=function(t,i,n,r,o,s,a){var l=e.prototype._getEditRequest.call(this,t,i,n,r,o,s,a);if(l)return l;if(this.grid.container.contains(t)){var u=this.grid,c=this.findElementAt(n,r,!1),h=this._findTableCell(t),d=h&&u.getTableView(h);if(d instanceof aC&&!o){var p=d.layoutByCell(h),f=p.firstColumn;if(u.groupPanelView.visible&&f&&f.groupable&&u.groupingOptions.enabled){var _=u.layoutManager.getHeaderCellRect(p);return this._groupingReq.init(p,_,n,r)}}return c instanceof wO?this._panelCellReq.init(c,n,r):void 0}},t.prototype._getDragTracker=function(t,i,n){var r=this.grid;return t instanceof SO?new PO(r,t,this._panelCellFeedback):t instanceof RO?new TO(r,t,this._panelCellFeedback):e.prototype._getDragTracker.call(this,t,i,n)},t.prototype.getNextRequest=function(t,i,n,r){if(!(t instanceof Cx&&t.layout instanceof Sv))return t instanceof RO&&t.layout instanceof Sv&&i instanceof Zx?this._colMoveReq.init(t.layout,n,r,null):e.prototype.getNextRequest.call(this,t,i,n,r);var o=this.grid,s=t.layout.firstColumn;return o.groupingOptions.enabled&&o.layoutManager.topPanelVisible&&s instanceof bv&&s.groupable&&r+3<o.groupPanelView.bottom?this._groupingReq.init(t.layout,i,n,r):void 0},t.prototype._getClickData=function(t,i){if(t instanceof fO)return Wx.getItem(Bd.GROUP_HEADER,t.itemIndex,null);if(t instanceof xO)return Wx.getData(Bd.GROUP_PANEL);if(t instanceof wO){if(t.isCloseButton(i.target)||t.field<0)return;var n=this.grid.dataSource.getOrgFieldName(t.field);return Wx.getField(Bd.GROUP_COLUMN,t.field,n)}return e.prototype._getClickData.call(this,t,i)},t.prototype.$_toggleExpanded=function(e,t,i){t.expanded?e.collapse(t,!1,!1,i):e.expand(t,!1,!1,0)},t}(rI),SO=function(e){function t(){var t=e.call(this)||this;return t._field=-1,t}return gd(t,e),Object.defineProperty(t.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"field",{get:function(){return this._field},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t,i){return this._source=e,this._x=t,this._y=i,this._field=e.field,this},Object.defineProperty(t.prototype,"cursor",{get:function(){return"pointer"},enumerable:!1,configurable:!0}),t}(TC),kO=function(e){function t(t){var i=e.call(this,t)||this;return i._no=!1,i}return gd(t,e),t.prototype.setField=function(e,t){void 0===t&&(t=!1),this._textView[Bp.TextProp]=e,this._noMark.style.display=(this._no=t)?"inline-block":"none"},t.prototype._getCssSelector=function(){return"rg-header rg-header-cell rg-group-panel-item rg-group-panel-cell-feedback"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t);var i=this.doc;this._textView=i.createElement("span"),this._textView.className="rg-group-panel-item-text",this._textView.style.display="inline-block",t.appendChild(this._textView),this._noMark=i.createElement("span"),this._noMark.className="rg-group-panel-no-mark",this._noMark.style.display="none",t.appendChild(this._noMark)},t.prototype._doDraw=function(e){var t=this._textView.offsetWidth,i=this._textView.offsetHeight,n=this._textView.style;n.left=Math.max(0,(this.width-t)/2)+"px",n.top=Math.max(0,(this.height-i)/2)+"px",this._no&&(t=this._noMark.offsetWidth,i=this._noMark.offsetHeight,(n=this._noMark.style).left=Math.max(0,(this.width-t)/2)+"px",n.top=Math.max(0,(this.height-i)/2)+"px")},t}(Sb),PO=function(e){function t(t,i,n){var r=e.call(this,t,"groupPanelCellTracker")||this;return r._request=i,r._feedback=n,r}return gd(t,e),t.prototype._doDispose=function(){this._request=null,this._feedback=null,e.prototype._doDispose.call(this)},t.prototype.getRequest=function(){return this._request},t.prototype._doStart=function(e,t,i,n){var r=this.grid,o=this._request.source.boundsByContainer();return this._feedback.setRect(o),this._feedback.setField(this._request.source.text),this._feedback.visible=!0,r.addFeedbackElement(this._feedback),this._offsetX=t-o.x,this._offsetY=i-o.y,!0},t.prototype._doDrag=function(e,t,i,n){return t-=this._offsetX,i-=this._offsetY,this._feedback.move(t,i),!0},t.prototype._doCompleted=function(){var e=this.grid,t=e.layoutManager;this.currentY>t.contentBounds.y&&e.removeGroupByField(this._request.field)},t.prototype._doEnded=function(){this.grid.removeFeedbackElement(this._feedback)},t}(bC),RO=function(e){function t(){return e.call(this)||this}return gd(t,e),t.prototype._doDispose=function(){this._layout=null,this._source=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t,i,n){return this._layout=e,this._source=t,this._x=i,this._y=n,this},Object.defineProperty(t.prototype,"cursor",{get:function(){return"pointer"},enumerable:!1,configurable:!0}),t}(TC),TO=function(e){function t(t,i,n){var r=e.call(this,t,"groupingCellTracker")||this;return r._request=i,r._feedback=n,r}return gd(t,e),t.prototype._doDispose=function(){this._request=null,this._feedback=null,e.prototype._doDispose.call(this)},t.prototype.getRequest=function(){return this._request},t.prototype._doStart=function(e,t,i,n){var r=this.grid,o=this._request.source,s=o instanceof Sb?o.boundsByContainer():o,a=r.isGroupedField(this._request.layout.firstColumn.dataIndex);return this._feedback.setRect(s),this._feedback.setField(this._request.layout.firstColumn.displayText,a),this._feedback.visible=!0,r.addFeedbackElement(this._feedback),this._offsetX=t-s.x,this._offsetY=s.height/3,!0},t.prototype._doDrag=function(e,t,i,n){return!(i>this.grid.layoutManager.topContentBounds.bottom||(t-=this._offsetX,i-=this._offsetY,this._feedback.move(t,i),0))},t.prototype._doCompleted=function(){var e=this.grid,t=e.layoutManager;if(this.currentY<t.contentBounds.y){var i=e.$_getVisibleRootByField(this._request.layout.firstColumn.dataIndex,!0);e.rowGroup.mergeMode&&e.activeCellLayout.setMoveColumn(this._request.layout),e.addGroupBy(t.rowGroupLevels,i)}},t.prototype._doEnded=function(){this.grid.removeFeedbackElement(this._feedback)},t.prototype.getNextRequest=function(e,t){return this.grid.activeTool.getNextRequest(this._request,this._request.source,e,t)},t}(bC),DO=function(e){function t(t,i,n,r){void 0===n&&(n=!1),void 0===r&&(r=null);var o=e.call(this,t,n,r)||this,s=o._containerDom.parentElement;return s.style.height&&(o._orgCssHeight=s.style.height),o._gridView&&(o._gridView.$_handler=i),o}return gd(t,e),t.prototype._doDispose=function(){this._gridView=null,this._watchTimer&&clearInterval(this._watchTimer),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"gridView",{get:function(){return this._gridView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"heightMeasurer",{get:function(){return this._heightMeasurer},enumerable:!1,configurable:!0}),t.prototype.setWatchTimer=function(e){this._watchTimer&&clearInterval(this._watchTimer),this._watchTimer=null,this._displayObserver=this._displayObserver||this.$_displayObserver.bind(this),e&&(this._watchTimer=setInterval(this._displayObserver,100))},t.prototype.recallHeight=function(){var e=this._containerDom.parentElement.style;this.gridView._loading||(this._orgCssHeight?e.height=this._orgCssHeight:e.removeProperty("height"))},t.prototype.getTableCell=function(e){return this._gridView.getTableCell(e)},t.prototype.getThreshold=function(){return Bp.isMobile()?this._gridView.mobileOptions.tapThreshold:3},t.prototype._doResized=function(t){e.prototype._doResized.call(this,t),this._gridView.$_containerResized()},t.prototype._isOutChildElement=function(e){var t=this.gridView,i="focusout"===e.type?e.relatedTarget:e.target;if(t.filterSelector.opened&&(i===t.filterSelector._element||Bp.isAncestorOf(t.filterSelector._element,i,e)))return!0;if(i instanceof SVGElement)for(var n=Bp.getComposedPath(e);n&&n.length&&!((i=n.shift())instanceof HTMLElement););var r=i&&i.className||"";if("string"==typeof r){if(t.popupMenuManager.isShow()&&r.indexOf("rg-popup")>=0)return!0;try{if(r.indexOf("rg-editor")>=0&&i.$_owner._grid.container!==this)return!1;if(r.indexOf("rg-root")>=0&&i!==this._containerDom)return!1;if(t.isEditing())for(var o=i;o;){if((o.className||"").indexOf("rg-")>=0)return!0;o=o.parentElement}}catch(s){Bp.log("check outer elements fail => ".concat(i))}return!1}},t.prototype._doPrepareContainer=function(e,t,i){e.className="rg-root rg-grid",Bp.isMobile()&&(e.style.touchAction="unset"),this._gridView=this._createGridView(t,i),this.addElement(this._gridView),this._heightMeasurer=new MO(this.measurer),this._sizeInfo=new _p(0,0,e.clientWidth,e.clientHeight)},t.prototype._createDefaultTool=function(){return new OO(this)},t.prototype._doLayout=function(e){var t=this._gridView,i=e.clone();t.setRect(i),i.x=i.y=0,t.$_layout(i)},t.prototype._layoutChildren=function(e){this._sizeInfo.width=e.width,this._sizeInfo.height=e.height,(isNaN(this._zoomRatio)||this._gridView&&this._gridView._loading)&&(this._zoomRatio=Bp.getZoom(this._containerDom))},t.prototype._doBeforeRender=function(){var e=this.gridView,t=e._dom;if(t&&t.scrollLeft>0){var i=t.scrollLeft;e.leftPos=i,t.scrollLeft=0}e.visible&&e.$_beforeRender()},t.prototype._doAfterRender=function(){if(!this.gridView.fitSyncHeight()){var e=this._containerDom.parentElement;this._orgCssHeight=e.style.height}this._gridView.visible&&this._gridView.$_afterRender()},t.prototype._doPrepareRender=function(e){var t=e.clone();this._gridView.visible&&(this._gridView.setRect(t),t.x=t.y=0,this._gridView.$_prepareRender(t))},t.prototype._focusChanged=function(e,t,i){this._gridView&&this._gridView._fireGridFocusChanged(e,t,i)},t.prototype._createGridView=function(e,t){return new IO(this,e,t)},t.prototype._resizeHandler=function(e){if(null==this._watchTimer){var t=this;this._resizeTimer=setTimeout(function(){t._displayObserver()},100)}},t.prototype.$_displayObserver=function(){var e=this._containerDom,t=e.clientWidth,i=e.clientHeight,n=this._sizeInfo;t>0&&i>0&&(Math.abs(this._sizeInfo.width-t)>=1||Math.abs(this._sizeInfo.height-i)>=1)&&(this._gridView.fitSyncHeight()||(this._orgCssHeight=e.parentElement.style.height),n.width=t,n.height=i,this.invalidateLayout(),this._doResized(null))},t}(WC),MO=function(e){function t(t){var i=e.call(this)||this;return i._bodyStyle="rg-body",i._headerStyle="rg-header",i._summaryStyle="rg-header-summary",i._footerStyle="rg-footer",i._dataRowStyle="rg-data-row",i._headerRowStyle="",i._summaryRowStyle="",i._footerRowStyle="",i._groupFooterStyle="rg-rowgroup-footer",i._dataCellStyle="rg-data-cell",i._headerCellStyle="rg-header-cell",i._summaryCellStyle="rg-header-summary-cell",i._footerCellStyle="rg-footer-cell",i._groupFooterCellStyle="rg-rowgroup-footer-cell",i._rowHeight=0,i._headerHeight=0,i._summaryHeight=0,i._footerHeight=0,i._gfooterHeight=0,i._dirty=!0,i._container=t,i.$_prepareElements(t),i}return gd(t,e),t.prototype._doDispose=function(){this._container=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"rowHeight",{get:function(){return this._rowHeight||(this._rowHeight=this.$_measure(this._bodyStyle,this._dataRowStyle,this._dataCellStyle))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerHeight",{get:function(){return this._headerHeight||(this._headerHeight=this.$_measure(this._headerStyle,this._headerRowStyle,this._headerCellStyle))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summaryHeight",{get:function(){return this._summaryHeight||(this._summaryHeight=this.$_measure(this._summaryStyle,this._summaryRowStyle,this._summaryCellStyle))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerHeight",{get:function(){return this._footerHeight||(this._footerHeight=this.$_measure(this._footerStyle,this._footerRowStyle,this._footerCellStyle))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupFooterHeight",{get:function(){return this._gfooterHeight||this.$_measure(this._bodyStyle,this._groupFooterStyle,this._groupFooterCellStyle)},enumerable:!1,configurable:!0}),t.prototype.measure=function(e){this._dirty&&(this._dirty=!1)},t.prototype.invalidate=function(){this._dirty=!0},t.prototype.$_prepareElements=function(e){var t=$p(e),i=t.createElement("table");i.setAttribute("inert","");var n=i.createCaption();n.textContent="grid measurer table",n.style.width=n.style.height="0px",n.style.padding="none",n.style.boxSizing="border-box",n.style.overflow="hidden",i.createTHead().appendChild(document.createElement("tr")).appendChild(document.createElement("th")).scope="col",e.appendChild(i);var r=i.style;r.width="1000px",r.height="1px",r.left="-10000px",r.position="absolute",i.className="rg-table";var o=t.createElement("tbody");i.appendChild(o);var s=t.createElement("tr");o.appendChild(s);var a=t.createElement("td");a.className="rg-data-cell",s.appendChild(a);var l=t.createElement("div");a.appendChild(l),l[Bp.TextProp]="AYwyhi"},t.prototype.$_measure=function(e,t,i){var n=this._container,r=this._container.firstElementChild.tBodies[0].rows[0],o=r.cells[0];return n.className=e,r.className=t,o.className=i,r.offsetHeight},t}(Yp),LO=function(e){function t(t){var i=e.call(this,t)||this;return i._levelIndent=16,i._lineVisible=!0,i._showCheckBox=!1,i._iconImagesRoot="",i._defaultIcon=-1,i._collapseWhenLeftKey=!0,i._collapseWhenCtrlKey=!0,i._expandWhenRightKey=!0,i._expandWhenCtrlKey=!0,i._iconVisible=!0,i._expanderIconStyle=ap.TRIANGLE,i._expandedIcon=-1,i._collapsedIcon=-1,i._recursiveSoftDeleting=!1,i}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"levelIndent",{get:function(){return this._levelIndent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineVisible",{get:function(){return this._lineVisible},set:function(e){e!=this._lineVisible&&(this._lineVisible=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCheckBox",{get:function(){return this._showCheckBox},set:function(e){e!=this._showCheckBox&&(this._showCheckBox=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconImagesRoot",{get:function(){return this._iconImagesRoot},set:function(e){e!==this._iconImagesRoot&&(this._iconImagesRoot=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconImages",{get:function(){return this._iconImages},set:function(e){e!==this._iconImages&&(this._iconImages=e?e.slice():[],this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultIcon",{get:function(){return this._defaultIcon},set:function(e){e!=this._defaultIcon&&(this._defaultIcon=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandedIcon",{get:function(){return this._expandedIcon},set:function(e){e!=this._expandedIcon&&(this._expandedIcon=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapsedIcon",{get:function(){return this._collapsedIcon},set:function(e){e!=this._collapsedIcon&&(this._collapsedIcon=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconCallback",{get:function(){return this._iconCallback},set:function(e){e!=this._iconCallback&&(this._iconCallback=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapseWhenLeftKey",{get:function(){return this._collapseWhenLeftKey},set:function(e){this._collapseWhenLeftKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapseWhenCtrlKey",{get:function(){return this._collapseWhenCtrlKey},set:function(e){this._collapseWhenCtrlKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandWhenRightKey",{get:function(){return this._expandWhenRightKey},set:function(e){this._expandWhenRightKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandWhenCtrlKey",{get:function(){return this._expandWhenCtrlKey},set:function(e){this._expandWhenCtrlKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconVisible",{get:function(){return this._iconVisible},set:function(e){e!=this._iconVisible&&(this._iconVisible=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expanderIconStyle",{get:function(){return this._expanderIconStyle},set:function(e){e!=this._expanderIconStyle&&(this._expanderIconStyle=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"recursiveDeleting",{get:function(){return this._recursiveSoftDeleting},set:function(e){this._recursiveSoftDeleting=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandWhenSetData",{get:function(){return this._expandWhenSetData},set:function(e){e!==this._expandWhenSetData&&(this._expandWhenSetData=e,this._changed())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateOptions",{get:function(){return this._templateOptions},set:function(e){this._templateOptions=e,this._templateChanged=!0,this._changed()},enumerable:!1,configurable:!0}),t}(Dw);!function(e){function t(t,i){var n=e.call(this,t,i,"treeExpandHandle")||this;return n._expanded=!1,n.clickable=!0,n}gd(t,e),Object.defineProperty(t.prototype,"expanded",{get:function(){return this._expanded},set:function(e){e!=this._expanded&&(this._expanded=e,this._changed())},enumerable:!1,configurable:!0}),t.prototype._createDom=function(){return null}}(tO);var AO,FO=function(e){function t(t){var i=e.call(this)||this;return i._exclusive=!1,i.assignFrom(t),i}return gd(t,e),t.prototype._doDispose=function(){this._dom.style.removeProperty("padding-left"),this._expander=this._check=this._icon=this._span=this._label=this._checkImage=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"template",{get:function(){return this._parser&&this._parser.template},set:function(e){e!=this.template&&(this._parser||(this._parser=new Oy),this._parser.template=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueCallback",{get:function(){return this._valueCallback},set:function(e){this._valueCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"callback",{get:function(){return this._callback},set:function(e){this._callback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateEvents",{get:function(){return this._templateEvents},set:function(e){this._templateEvents=Bp.makeArray(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputFocusable",{get:function(){return this._inputFocusable},set:function(e){this._inputFocusable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderCallback",{get:function(){return this._renderCallback},set:function(e){this._renderCallback=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleName",{get:function(){var e=t.STYLE_NAME;return null==this.template&&null==this.callback||(e+=" rg-tree-template"),e},enumerable:!1,configurable:!0}),t.prototype.canClick=function(e){var t=Fp(this._dom),i=e.target;return!(i instanceof t.HTMLTableCellElement&&i.className.indexOf("rg-")>=0||this._div===i)},t.prototype._doClick=function(e,t,i){return{type:this.type,target:i||t.target,value:e.value}},t.prototype.$_setHtml=function(e,t){if(e!=this._html){var i=this._div;return this._html=e,i.innerHTML=e,this.renderCallback=t&&Iy(i,t),!0}return!1},t.prototype._doInitContent=function(e){var t=$p(e),i=this._expander=t.createElement("span");e.appendChild(i);var n=this._check=t.createElement("input");n.type="checkbox",n.className="rg-tree-checkbox",n.style.display="inline-block",(this._checkImage=t.createElement("label")).style.display="none";var r=this._icon=t.createElement("img");r.className="rg-tree-icon",r.alt="",e.appendChild(r);var o=this._span=t.createElement("span");e.appendChild(o);var s=this._div=t.createElement("div");s.style.display="none",e.appendChild(s);var a=this._label=t.createElement("label");a.style.display="none",e.appendChild(a)},t.prototype._doRenderCell=function(e,i,n,r,o){var s=e,a=s.treeOptions,l=a.showCheckBox,u=a.levelIndent,c=this._expander,h=this._dom,d=this._check,p=this._icon,f=this._span,_=this._label,g=i.item,m=n.cell,y=this._checkImage,v=e.checkBar,b=a.expanderIconStyle===ap.SQUARE?" square":"";if(c.className=g.isLeaf?"rg-tree-leaf":g.expanded?"rg-tree-expanded"+b:"rg-tree-collapsed"+b,e.accessibility&&(g.isLeaf?m.removeAttribute("aria-expanded"):m.setAttribute("aria-expanded",g.expanded?"true":"false")),this._exclusive!=v.exclusive&&(this._exclusive=v.exclusive,d.setAttribute("type",this._exclusive?"radio":"checkbox"),d.className=this._exclusive?"rg-tree-radio":"rg-tree-checkbox"),d.disabled=!(s.editOptions.checkable&&g.checkable),l){d.checked=g.checked,d.indeterminate=g.indeterminate;var w=d.id=t.FOR_ID+i.item.index+"-"+e.$_hash;if(_.setAttribute("for",w),_[Bp.TextProp]=this._makeText(e,i,n)+(d.checked?" checked":" unchecked"),v.useImages){d.style.display="none",y.style.display="inline-block",y.parentElement||(h.insertBefore(y,this._span),h.insertBefore(d,this._span)),y.setAttribute("for",w);var C="rg-tree-checkimage";C+=" ".concat(!v.exclusive&&g.indeterminate?"indeterminate":g.checked?"checked":"unchecked"),C+=" ".concat(v.exclusive?" radio":""),C+=" ".concat(d.disabled?" disabled":""),y.className=C.trim()}else d.style.display="inline-block",y.style.display="none",d.parentElement||h.insertBefore(d,this._span)}else d.parentElement&&(Bp.detach(d),Bp.detach(y));if(a.iconVisible){p.parentElement||h.insertBefore(p,this._span);var x=e.getTreeIcon(g);x?(p.src=x,p.removeAttribute("height"),p.style.removeProperty("visibility")):(p.removeAttribute("src"),p.height=1,p.style.visibility="hidden")}else p.parentElement&&h.removeChild(p);if(null!=this.template||null!=this.callback){var I=a.templateOptions;this._span.style.display="none",this._div.style.display="inline-block";var E,O=I.callback,S=Bp.makeArray(I.templateEvents);E=O?this.$_setHtml(O.call(this,e.handler,i,r,o),S):this.$_setHtml(this._parser.realize(e,i,n,I.valueCallback),S),this.renderCallback&&this.renderCallback.forEach(function(t){t.callback.call(null,e.handler,i,t.elt,E)})}else this._span.style.removeProperty("display"),this._div.style.display="none",f[Bp.TextProp]=this._makeText(e,i,n);h.style.setProperty("padding-left",3+(g.level-1)*u+"px","important")},t.TYPE="tree",t.FOR_ID="$$-tree-check",t.STYLE="rg-tree-renderer",t.STYLE_NAME="rg-renderer "+t.STYLE,t}(sy),$O=function(e){function t(t){return e.call(this,t,"treeItemView")||this}return gd(t,e),t.prototype.isCheckBox=function(e){var t=e.className;return"rg-tree-checkbox"==t||"rg-tree-radio"==t},t.prototype.isCheckImage=function(e){var t=e.className;return t&&t.indexOf("rg-tree-checkimage")>=0},t.prototype._doLayoutContent=function(t){e.prototype._doLayoutContent.call(this,t)},t.prototype._createRenderer=function(t,i,n,r,o){var s=t;if(this.isTreeCell(t,i)){var a=s&&s.treeOptions.templateOptions;return new FO(md(md({},r),a))}return e.prototype._createRenderer.call(this,t,i,n,r,o)},t.prototype.$_getRenderer=function(t,i,n,r,o){var s=t;return this.isTreeCell(t,i)&&s.treeOptions._templateChanged&&(o.rendererChanged=!0),e.prototype.$_getRenderer.call(this,t,i,n,r,o)},t.prototype.$_getDefaultRenderer=function(e,t){return this.isTreeCell(e,t)?FO.TYPE:ay.TYPE},t.prototype.isTreeCell=function(e,t){return 0===e.layoutManager.getHorzColumnIndex(t.valueColumn.layout)},t}(Xw),NO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return 0},t.prototype._getEndCell=function(e){return e.fixedCellCount-1},t}($O),jO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype._getFirstCell=function(e){return this._getStartCell(e)},t.prototype._getLastCell=function(e){return this._getEndCell(e)},t.prototype._getStartCell=function(e){return e.cellCount-e.rightCellCount},t.prototype._getEndCell=function(e){return e.cellCount-1},t}($O),BO=function(e){function t(t,i){return e.call(this,t,i)||this}return gd(t,e),t.prototype.isTreeCell=function(e){var t=this.bodyCellAt(e);return t&&t.renderer2 instanceof FO},t.prototype.createRowElement=function(){return new $O(this.doc)},t}(nC),VO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.isTreeCell=function(e){var t=this.bodyCellAt(e);return t&&t.renderer2 instanceof FO},t.prototype.createRowElement=function(){return new NO(this.doc)},t}(rC),HO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.isTreeCell=function(e){var t=this.bodyCellAt(e);return t&&t.renderer2 instanceof FO},t.prototype.createRowElement=function(){return new jO(this.doc)},t}(oC),UO=function(e){function t(t){var i=e.call(this,t.doc)||this;return i._levelWidth=16,i._handleWidth=9,i._handleHeight=9,i._stroke="gray",i._linePool=[],i._lines=[],i._startIndex=-1,i._endIndex=-1,i._treeView=t,i}return gd(t,e),t.prototype._doDispose=function(){this._linePool=null,this._lines=null,e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"levelWidth",{get:function(){return this._levelWidth},set:function(e){e!=this._levelWidth&&(this._levelWidth=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handleWidth",{get:function(){return this._handleWidth},set:function(e){e!=this._handleWidth&&(this._handleWidth=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handleHeight",{get:function(){return this._handleHeight},set:function(e){e!=this._handleHeight&&(this._handleHeight=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){e!=this._stroke&&(this._stroke=e,this.invalidate())},enumerable:!1,configurable:!0}),t.prototype.setRange=function(e,t,i){t==this._startIndex&&i==this._endIndex||(this._startIndex=t,this._endIndex=i,this.invalidate())},t.prototype.layout=function(e){var t=this._treeView;if(this.$_hideAll(),!(!t||this._startIndex<0||this._endIndex<0||this._startIndex>this._endIndex)){var i,n=null;for(i=this._startIndex;i<=this._endIndex&&!(n=t.getItem(i));i++);if(n){var r=n.level;if(r>1||n.childIndex>0){for(var o=0;o<r;o++){var s=n.getAncestor(o);(a=s.last)&&a.index>=i&&(a=this.$_findLevelItem(o+1,i),this.$_drawVertLine(e,this.$_borrowLine(),null,a,s.level))}n.childIndex>0&&this.$_drawVertLine(e,this.$_borrowLine(),null,n,n.parent.level)}for(;i<=this._endIndex;i++){var a,l=(n=t.getItem(i)).parent;(o=n.childIndex)<l.count-1&&((a=l.getItem(o+1)).index>this._endIndex&&(a=null),this.$_drawVertLine(e,this.$_borrowLine(),n,a,l.level)),(l=n)&&l.expanded&&l.count>0&&((a=l.getItem(0)).index>this._endIndex&&(a=null),this.$_drawChildLine(e,this.$_borrowLine(),n,a)),this.$_drawHorzLine(e,this.$_borrowLine(),n)}}}},t.prototype._getCssSelector=function(){return"rg-tree-lines"},t.prototype._initDom=function(t){e.prototype._initDom.call(this,t);var i=t.style;i.setProperty("pointer-events","none","important"),i.setProperty("overflow","hidden")},t.prototype._doDraw=function(e){},t.prototype.$_borrowLine=function(){var e=this._linePool.pop();return e||((e=this._treeView.doc.createElement("div")).className="rg-tree-line",e.style.position="absolute",this._dom.appendChild(e)),e.style.display="inline-block",this._lines.push(e),e},t.prototype.$_hideAll=function(){for(var e=this._lines.length-1;e>=0;e--)"none"!=this._lines[e].style.display&&(this._lines[e].style.display="none");this._linePool=this._linePool.concat(this._lines.splice(0,this._lines.length))},t.prototype.$_findLevelItem=function(e,t){for(var i=t;i<=this._endIndex;i++){var n=this._treeView.getItem(i);if(n&&n.level==e)return n}return null},t.prototype.$_setBounds=function(e,t,i,n,r){var o=e.style;o.left=3+t+"px",o.top=i+"px",o.width=1==n?"1px":n+"px",o.height=1==r?"1px":r+"px"},t.prototype.$_drawVertLine=function(e,t,i,n,r){var o=e.topIndex,s=r*this._levelWidth+this._levelWidth/2,a=0,l=this.height,u=this._handleHeight;if(i){var c=e.getItemBounds(i.index-o),h=i instanceof Fy&&i.hasChildren?u+2:0;a=c.y+c.height/2+h/2+1}n&&(c=e.getItemBounds(n.index-o),h=n instanceof Fy&&n.hasChildren?u:0,l=c.y+c.height/2-h/2),this.$_setBounds(t,s,a,1,l-a)},t.prototype.$_drawHorzLine=function(e,t,i){var n,r=e.topIndex,o=i.parent.level*this._levelWidth+this._levelWidth/2,s=i.level*this._levelWidth+1;i.hasChildren&&(o+=this._handleWidth/2+1);var a=e.getItemBounds(i.index-r);n=a.y+a.height/2,this.$_setBounds(t,o,n,s-o,1)},t.prototype.$_drawChildLine=function(e,t,i,n){var r,o=e.topIndex,s=i.level*this._levelWidth+this._levelWidth/2,a=this.height,l=e.getItemBounds(i.index-o);if(r=l.y+l.height/2+5,n){l=e.getItemBounds(n.index-o);var u=n.hasChildren?this._handleHeight:0;a=l.y+l.height/2-u/2}this.$_setBounds(t,s,r,1,a-r)},t}(kb),WO=function(e){function t(t){return e.call(this,t,"treeViewSelectionTool")||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},t.prototype._doKeyDown=function(t){var i,n=this.focused.clone(),r=this.grid.treeOptions,o=t.which,s=Bp.ctrlKey(t);if(n&&(i=n.item))switch(o){case 39:if(!s&&1==this.grid.visibleLayoutCount&&n.isRight&&r.expandWhenRightKey||s&&r.expandWhenCtrlKey){if(!i.expanded)return i.setExpanded(!0,!1,!1),!0;if(i.count>0)return n.down(),this.setFocused(n,!0,!0),!0}break;case 37:if(!s&&n.isLeft&&r.collapseWhenLeftKey||s&&r.collapseWhenCtrlKey){if(i.expanded)return i.setExpanded(!1,!1,!1),!0;if(!(i.parent instanceof $y))return n.itemIndex=i.parent.index,this.setFocused(n,!0,!0),!0}}return e.prototype._doKeyDown.call(this,t)},t.prototype._doPointerDown=function(t){var i=t.mouseX,n=t.mouseY,r=t.altKey,o=this.grid,s=this.findElementAt(i,n,!1),a=this.mouseEventTarget;if(s instanceof $O&&Xw.isExpander(a)&&!r){var l=s._item;l instanceof Fy&&(l.expanded?o.collapse(l,!1):o.expand(l,!1,!1))}e.prototype._doPointerDown.call(this,t)},t.prototype._doClick=function(t,i,n){i=i||t.mouseX,n=n||t.mouseY;var r=t.shiftKey,o=this.grid,s=o.checkBar,a=this.findElementAt(i,n,!1),l=t.target;if(a instanceof $O){if(a.isCheckImage(l))return;if(a.isCheckBox(l)){var u=o.getItem(a.itemIndex);o.editOptions.checkable&&u.checkable?(s.exclusive&&s.toggleRadio&&(l.checked=!u.checked),this._doCheck(l,u,r)):t.preventDefault()}}e.prototype._doClick.call(this,t,i,n)},t.prototype._canMoveRowAt=function(e,t,i){var n=e.boundsByContainer(e.getCellRectAt(this.grid.layoutManager,t,!1)),r=3+(t.item.level-1)*this.grid.treeOptions.levelIndent;if(i<n.x+(e.isTreeCell(t)?r:20)){var o=this.grid.getSelectedItems();if(o.length>1)for(var s=o[0].level,a=1;a<o.length;a++)if(o[a].level<s)return!1;return!0}},t}(rI),GO=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return gd(t,e),t.prototype._doDispose=function(){e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"treeView",{get:function(){return this.gridView},enumerable:!1,configurable:!0}),t.prototype._createGridView=function(e,t){return new qO(this,e,t)},t.prototype._createDefaultTool=function(){return new WO(this)},t}(DO),zO=function(e){function t(){return e.call(this,"treeItemExpanderCell")||this}return gd(t,e),Object.defineProperty(t.prototype,"getText",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return null},enumerable:!1,configurable:!0}),t}(km),YO=function(e){function t(){return e.call(this,"treeItemFooterCell")||this}return gd(t,e),Object.defineProperty(t.prototype,"getText",{get:function(){var e=String(this.value());if(!e){var t=this.index;t.dataColumn&&(e=t.column.footer.text)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return null},enumerable:!1,configurable:!0}),t}(km),qO=function(e){function t(t,i,n){var r=e.call(this,t,i,n)||this;return r._expanderCell=new zO,r._footerCell=new YO,r._focusedRow=-1,r.itemSource=r._rs=r._createItemSource(),r}return gd(t,e),t.prototype._doDispose=function(){this.itemSource=this._rs=this.itemSource&&this.itemSource.dispose(),e.prototype._doDispose.call(this)},Object.defineProperty(t.prototype,"treeOptions",{get:function(){return this._treeOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linesView",{get:function(){return this._linesView},enumerable:!1,configurable:!0}),t.prototype.isTree=function(){return!0},t.prototype.recursiveDeleting=function(){return this.treeOptions.recursiveDeleting},t.prototype._beforeChangeLayout=function(){},t.prototype.getLevels=function(e){return this._rs.getLevels(e)},t.prototype.getExpanderCell=function(e){return this._expanderCell.setIndex(Wv.temp(this,e)),this._expanderCell},t.prototype.getFooterCell=function(e){return this._footerCell.setIndex(e),this._footerCell},t.prototype.expand=function(e,t,i,n){this.isItemEditing(null)||this._rs.expand(e,t,i,n)},t.prototype.collapse=function(e,t){this.isItemEditing(null)||this._rs.collapse(e,t)},t.prototype.expandAll=function(e,t){this.isItemEditing(null)||this._rs.expandAll(e,t)},t.prototype.collapseAll=function(){this.isItemEditing(null)||this._rs.collapseAll()},t.prototype.getTreeIcon=function(e){var t=this.treeOptions,i=t.iconImages;if(i){var n=void 0;n=e.hasChildren&&e.expanded&&t.expandedIcon>-1?t.expandedIcon:e.hasChildren&&e.collapsed&&t.collapsedIcon>-1?t.collapsedIcon:e.iconIndex;var r=t.iconCallback;if(r){var o=r(this.handler,e.index,e.dataRow,n);if("string"==typeof o)return o;isNaN(o)||(n=o)}if((n<0||n>=i.length)&&(n=t.defaultIcon),n>=0&&n<i.length)return t.iconImagesRoot+i[n]}},t.prototype.getCheckedItems=function(){for(var e=[],t=0,i=this.itemCount;t<i;t++){var n=this.getItem(t);n.checked&&e.push(n)}return e},t.prototype.getCheckedItemIndices=function(){for(var e=[],t=0,i=this.itemCount;t<i;t++){var n=this.getItem(t);n.checked&&e.push(n.index)}return e},t.prototype.getCheckedRows=function(e){var t=null;if(e){t=[];for(var i=0,n=this.itemCount;i<n;i++){var r=this.getItem(i);r.checked&&t.push(r.row)}}else t=this._rs.getCheckedRows();return t},t.prototype.getCheckedRowIds=function(e){var t=null;if(e){t=[];for(var i=0,n=this.itemCount;i<n;i++){var r=this.getItem(i);r.checked&&t.push(r.dataRow)}}else t=this._rs.getCheckedRowIds();return t},t.prototype.checkChildren=function(e,t,i,n,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=!1),e)for(var s=0,a=e.count;s<a;s++){var l=e.getItem(s);r?l.checkable&&l.setChecked(t,o):l.setChecked(t,o),!i||!l.expanded&&n||this.checkChildren(l,t,!0,n,r,o)}},t.prototype.resetCheckables=function(){this._rs.resetCheckables()},t.prototype.applyCheckables=function(){this._rs.applyCheckables()},t.prototype.getItemOfModel=function(e){return e.itemIndex>=0?this.getItem(e.itemIndex):e.dataRow>=0?this.getItemOfRow(e.dataRow,!1):0===e.level&&-1===e.parentId?this.itemSource.rootItem:null},t.prototype.getJsonRows=function(){return this._rs.getJsonRows()},Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._rs&&this._rs.dataSource},set:function(e){this._rs&&(this._rs.dataSource=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxItemCount",{get:function(){return this._rs?this._rs.maxItemCount:0},set:function(e){this._rs&&(this._rs.maxItemCount=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summarizer",{get:function(){return this._rs.summarizer},enumerable:!1,configurable:!0}),t.prototype._initStyles=function(){e.prototype._initStyles.call(this),this._treeOptions=new LO(this)},t.prototype._createItemSource=function(){var e=new Hy(!0);return e.setSortingOptions(this.sortingOptions),e},t.prototype._doContentPanesCreated=function(){this._linesView=new UO(this),this.addElement(this._linesView)},t.prototype._createSidePane=function(){return e.prototype._createSidePane.call(this)},t.prototype._createLayoutManager=function(){return new KO(this)},t.prototype._createBodyView=function(e){return new BO(this.doc,e)},t.prototype._createFixedBodyView=function(e){return new VO(this.doc,e)},t.prototype._createRightBodyView=function(e){return new HO(this.doc,e)},t.prototype._visualObjectChanged=function(t){e.prototype._visualObjectChanged.call(this,t)},t.prototype.append=function(e,t){return this.insert(this._rs.rootItem,!1,!0,e,t)},t.prototype._doCanInsert=function(e,t,i){return e&&(e.count>0||!i||0==e.level||this.editOptions.appendable)},t.prototype._doMaxRowCountChanged=function(){this._rs.maxItemCount=this.maxItemCount},t.prototype.getSortFields=function(){return this._rs.getSortFields()},t.prototype.getSortDirections=function(){return this._rs.getSortDirections()},t.prototype.getSortCases=function(){return this._rs.getSortCases()},t.prototype._doSortItems=function(e,t,i){this._rs.setLabelComparer(this._doPrepareComparer(e)),this._rs.orderBy(e,t,i)},t.prototype._doColumnFiltersChanged=function(e,t,i){this._rs.includeParentItem=this.filteringOptions.includeParentItem,this.applyFilters(e,t,i)},t.prototype.setOptions=function(t){if(t){var i=this._rs;void 0!==t.hideDeleted&&(i.hideDeleted=t.hideDeleted),void 0!==t.hideDeletedRows&&(i.hideDeleted=t.hideDeletedRows),void 0!==t.summaryMode&&(i.summaryMode=t.summaryMode),void 0!==t.sortMode&&(i.sortMode=t.sortMode),e.prototype.setOptions.call(this,t)}},t.prototype._doPrepareRender=function(t){var i=this._horzScrolled;e.prototype._doPrepareRender.call(this,t),i&&this.layoutManager.$_layoutLines()},t.prototype.$_doLayout=function(t,i){this._treeOptions,e.prototype.$_doLayout.call(this,t,i)},t.prototype.assignImageList=function(e){},t.prototype.getEditBounds=function(t,i){return e.prototype.getEditBounds.call(this,t,i)},t.prototype.updatePastedRow=function(e,t,i){if(e instanceof Fy){var n=e.row;n&&n.update(t,i)}},t.prototype.appendPastedRow=function(e){var t=this.dataSource;if(t){var i=t.createRow(e,-1,!1);return t.rootRow.addChild(i,!1),i.rowId}},Object.defineProperty(t.prototype,"undoable",{get:function(){return this._rs.undoable},set:function(e){this._rs.undoable=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canUndo",{get:function(){return this._rs.canUndo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){return this._rs.canRedo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"undoing",{get:function(){return this._rs.undoing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redoing",{get:function(){return this._rs.redoing},enumerable:!1,configurable:!0}),t.prototype.undo=function(){return!!this._rs.canUndo&&(this._rs.cancelWhenLastUndo=this.editOptions.cancelWhenLastUndo,this.editController.cancelEditor(!0),this._rs.undo(),!0)},t.prototype.redo=function(){return!!this._rs.canRedo&&(this._rs.redo(),!0)},t.prototype.execute=function(e){this._rs.execute(e)},t.prototype.clearCommandStack=function(e){void 0===e&&(e=!0),this._rs.clearCommandStack(e)},t.prototype.getFirstRow=function(){return null},t.prototype.getLastRow=function(){return null},t.prototype.getPrevRow=function(e){return null},t.prototype.getNextRow=function(e){return null},t.prototype.canMoveRows=function(e,t,i){if(i&&this.canMoveRow(t,!1)&&e&&e.length>0){var n=e[0].parent;if(n!==i.parent)return!1;for(var r=1,o=e.length;r<o;r++)if(n!==e[r].parent)return!1;var s=!1;for(r=0;r<e.length;r++){var a=e[r];a&&a.isDataRow&&(s=!0)}return s}},t.prototype._getMoveTarget=function(e,t,i,n){if("keydown"===e){var r=this.getItem(i),o=r.parent;if(r.childIndex+t.length>=o.children.length&&n>0||0===r.childIndex&&n<0)return;var s=this.getItem(i+n);if(r.level===s.level)return s;var a=r.childIndex+n;if(!o||a<0||a>=o.children.length)return;return o.children[a]}return this.getItem(i+n)},t.prototype._doMoveRows=function(e,t){var i=t&&t.dataId;if(i>=0){for(var n=[],r=0,o=e;r<o.length;r++){var s=o[r],a=s&&s.dataId;a>=0&&n.push(a)}if(n.length>0){var l=this.dataSource,u=l.rowsByIds(n,!1);if(u.length>0)return l.moveRows(u,l.rowById(i))}}return!1},t.prototype._fitLayoutWidth=function(e){if(!e.visible)return 0;var t,i=this.itemSource,n=this.getIndex(this.topIndex,e.firstColumn),r="",o=0;t=r=e.firstColumn.header.displayText;var s,a=this.getBodyCellAt(n,!1),l=a&&a.renderer2&&a.renderer2._dom,u=a&&a.renderer2 instanceof FO,c={0:Bp.getTextLength(t)},h={0:t};if(l){var d=Fp(l).getComputedStyle(l);if(d){r=d.paddingLeft;var p=parseInt(r.substr(0,r.indexOf("px")));o+=p>0?p:0,r=d.paddingRight,o+=(p=parseInt(r.substr(0,r.indexOf("px"))))>0?p:0,s={fontSize:d.fontSize,fontFamily:d.fontFamily,fontWeight:d.fontWeight,fontStyle:d.fontStyle}}}for(var f=0,_=i.itemCount;f<_;f++)n.itemIndex=f,c[b=u?n.item.level:0]=c[b]||0,r=this.getDisplayText(n),Bp.getTextLength(r)>c[b]&&(c[b]=Bp.getTextLength(r),h[b]=r);for(var g=0,m=0,y=0,v=Object.keys(c);y<v.length;y++){var b=v[y];g=u?parseInt(b)*this.linesView.levelWidth+6+(this.treeOptions.iconVisible?24:0):6,g+=this.container.measureText("rg-data-cell",h[b],s),m=Math.max(m,g)}o+=m;var w=e.firstColumn,C=w.editor,x=this.delegate.getCellEditor(Gb.getEditorType(C));return x.hasButton(this.displayOptions.showNativeEditButton,C)&&(o+=this.body.editButtonWidth*x.buttonCount),w.button!==Yd.NONE&&(o+=this.body.cellButtonWidth),o},t.prototype.optionsChanged=function(t){if(e.prototype.optionsChanged.call(this,t),t instanceof LO){var i=this._rs;i&&i.setTreeOptions(t)}},t.prototype.$_afterRender=function(){e.prototype.$_afterRender.call(this),this.treeOptions._templateChanged=!1},t.prototype.$_getVisibleAncestor=function(e){var t=this._rs.getItemOfRow(e);if(t){for(;t&&!t.visible;)t=t.parent;return t}return null},t.prototype.onItemProviderReset=function(t,i){this._currentRowId=-1,e.prototype.onItemProviderReset.call(this,t,i)},t.prototype.onTreeItemProviderItemChanged=function(e,i){this.invalidateLayout(),this.fireEvent(t.CHANGED,i)},t.prototype.onTreeItemProviderExpanding=function(e,i){return this._focusedRow=this.focusedIndex?this.focusedIndex.dataRow:-1,this.editController.editing&&!e.isEditing()&&this.editController.cancelEditor(!0),!this.editController.editing&&!e.isEditing()&&this.fireConfirmEvent(t.EXPANDING,i)},t.prototype.onTreeItemProviderExpanded=function(e,i){this.fireEvent(t.EXPANDED,i)},t.prototype.onTreeItemProviderCollapsing=function(e,i){return this._focusedRow=this.focusedIndex?this.focusedIndex.dataRow:-1,this.editController.editing&&!e.isEditing()&&this.editController.cancelEditor(!0),!this.editController.editing&&!e.isEditing()&&this.fireConfirmEvent(t.COLLAPSING,i)},t.prototype.onTreeItemProviderCollapsed=function(e,i){this.fireEvent(t.COLLAPSED,i)},t.EXPANDING="onTreeViewExpanding",t.EXPANDED="onTreeViewExpanded",t.COLLAPSING="onTreeViewCollapsing",t.COLLAPSED="onTreeViewCollapsed",t.CHANGED="onTreeViewChanged",t}(oE),KO=function(e){function t(t){return e.call(this,t)||this}return gd(t,e),t.prototype.layout=function(t){e.prototype.layout.call(this,t),this.$_layoutLines()},t.prototype.$_layoutLines=function(){var e=this.grid,t=e.linesView;if(t.visible=e.treeOptions.lineVisible){var i=this.fixedLayoutCount>0,n=(i?this.fixedBodyBounds:this.bodyBounds).clone();i?(n.y+=this.fixedContentBounds.y,n.x+=this.fixedContentBounds.x):(n.y+=this.contentBounds.y,n.x+=this.contentBounds.x),this.layoutCount>0?n.width=Math.max(0,this.getLayoutWidth(0)):n.width=0,t.setRect(n),t.levelWidth=16,t.setRange(e,this.topIndex,Math.min(e.itemCount,this.topIndex+this.itemCount)-1),t.layout(this)}},t}(cC),XO=function(e){function t(){var t=e.call(this)||this;return t._columns=null,t}return gd(t,e),t.prototype._doDispose=function(){this._columns=null,e.prototype._doDispose.call(this)},t.prototype.setColumns=function(e){this._columns=[];for(var t=0;t<e.length;t++)e[t].layout instanceof Sv&&this._columns.push(e[t].layout.firstColumn.name)},t.prototype.setItemIndex=function(e,t){this._itemIndex=e,this._startCol=t},t.prototype.isIdentifier=function(i){return i=i.toLowerCase(),t.IDENTS.hasOwnProperty(i)?t.IDENTS[i]:e.prototype.isIdentifier.call(this,i)},t.prototype.evaluateIdentifier=function(e){if(e===t.ID_ROW)return String(this._itemIndex+1);throw new Kp("Invalid identifier key: "+e)},t.prototype.evaluateIndexerI=function(e,i){if(e==t.ID_EXCELCOLUMN){if(i<0||i>=this._columns.length)throw new Kp("Data field index out of bounds:"+i);return this._columns[i]}throw new Kp("Invalid identifier indexer: "+e)},t.prototype.evaluateIndexerS=function(e,i,n){if(e!=t.ID_EXCELCOLUMN)throw new Kp("Invalid identifier indexer: "+e);if(this._columns){var r=this._columns.indexOf(i);if(r<0||r>=this._columns.length)throw new Kp("Column is not exists:"+i);return OE.toColCaption(r+this._startCol)}},t.ID_EXCELCOLUMN=0,t.ID_ROW=1,t.IDENTS={excelcolumn:t.ID_EXCELCOLUMN,row:t.ID_ROW},t}(nf),ZO=function(e){function t(){var t=e.call(this)||this;return t._gridIndex=0,t._numberFormatId=0,t._textFormatId=49,t._dateFormatId=14,t._rowLevels=0,t._indentWidth=3,t._seriesCell=new Lm,t._excelFormulaRuntime=new XO,t}return gd(t,e),t.prototype.dispose=function(){return e.prototype.dispose.call(this),this._seriesCell=this._seriesCell.dispose(),this._linkRenderer=this._linkRenderer&&this._linkRenderer.dispose(),this._templateRenderer=this._templateRenderer&&this._templateRenderer.dispose(),this._imageRenderer=this._imageRenderer&&this._imageRenderer.dispose(),this._bulletRenderer=this._bulletRenderer&&this._bulletRenderer.dispose(),this._barRenderer=this._barRenderer&&this._barRenderer.dispose(),this._signalRenderer=this._signalRenderer&&this._signalRenderer.dispose(),this._excelFormulaRuntime=this._excelFormulaRuntime.dispose(),this._css=null,null},t.prototype._progressCallback=function(e,t,i,n){var r=this._progressGrid,o=this._multiOptions;r&&r.setExportProgress(i,n+o.prepareProgress,o.progressMessage)},t.prototype.getShowOutline=function(){return this._rowGrouped&&this._exportOptions.showLevelOutline},t.prototype.export=function(t,i){if(e.prototype.export.call(this,t,i),this._progressGrid=t,i){var n=this._multiOptions=i,r=this._multiOptions.exportGrids;if(r&&!(r.length<=0)){var o=$p(t.container._containerDiv).documentElement;this._css=this.grid.doc.createElement("span").style;var s=new QE(o);if(s.createCoreProperties(n.coreProperties||{creator:"Wooritech"}),this._mergeHeads={},n.showProgress)this._allCount=this._prepareCount(n,r),this._progressMax=this._allCount+n.prepareProgress,this._progressPos=0,this._progressStep=Math.max(this._allCount/10|0,1),n.progressCallback?this.setProgress=n.progressCallback:(this._progressGrid&&this._progressGrid.beginExportProgress(n.progressMessage),this.setProgress=this._progressCallback),this._exportGridAsync(s,n,this._gridIndex=0,function e(){var t=++this._gridIndex;t<n.exportGrids.length?this._exportGridAsync(s,n,t,e.bind(this)):(!i.progressCallback&&this._progressGrid&&this._progressGrid.endExportProgress(),this.save())}.bind(this));else{for(var a=0,l=r.length;a<l;a++)this._exportGrid(s,r[a].options);this.save()}}}},t.prototype.buildBook=function(e){var t=this._exportOptions.grid;t.isTree()?this.buildTreeSheet(t,e):this.buildSheet(t,e)},t.prototype.buildSheet=function(e,t){var i=this,n=this._exportOptions,r=this._workbook,o=r.createSheet(this._sheetName,n),s=e.displayOptions;if(this._defaultHeight=s.rowHeight||s.minRowHeight,this._rowGrouped=e.rowGrouped,this._mergedGrouped=e.mergedRowGrouped,this._rowGrouped&&(this._rowLevels=e.rowGroupLevels),this._startItem=0,n.allItems&&this._rowGrouped){this.allItems=e.itemSource.getAllItems();var a=e.layoutManager.fixedItemCount;if(a>0)for(var l=0;l<a;l++)this.allItems.splice(l,0,e.getItem(l))}else if(n.pagingAllItems&&e.paged){var u=e.itemSource;u instanceof eO&&(this.allItems=u.getPagingAllItems()),n.onlyCheckedItems&&!e.rowGrouped&&(this.allItems=this.allItems.filter(function(e){return e.checked}))}else n.onlyCheckedItems&&!e.rowGrouped&&(this.allItems=e.getCheckedItems(!1));var c=this.allItems,h=c?c.length:e.itemCount;if(!this._rowGrouped){this._startItem=n.start>0?n.start:0;var d=n.count>0?n.count:h;h=d>0?this._startItem+d>h?h-this._startItem:d:h-this._startItem}this._indexItem=this._startItem,this._lastItem=this._startItem+h,this._currentRow=n.yOffset,o.setFirstCol(this._startCol=n.xOffset),this._prepareCommonStyles(e),this._buildColumns(e),o.createBorderEdges(vE.getSelectorStyle(this._preparer.documentCssStyles,".rg-grid")),this._buildDocumentTitle(r),this.header&&this.buildHeader(e),this.headerSummary&&this.buildSummaryItem(e,!1,n.headerSummary),this.buildItems(e,function(){i.footer&&i.buildSummaryItem(e,!0,n.footer),i._buildDocumentTail(r),i._buildUserCells(e,r),t&&t()})},t.prototype.buildHeader=function(e){for(var i=this._workbook,n=i.currentSheet,r=this._preparer,o=r.colCount,s=r.headerRowCount,a=e.header.heights||[],l=a&&a.length>0?e.header.minRowHeight:Math.max(e.header.height,e.header.minRowHeight*s)/s,u=[],c=0;c<s;c++)u.push(Math.max(a[c]||l,l)*t.LINE_HEIGHT);var h=this._indents,d=this._currentRow;n.setFirstRow(this._currentRow);var p,f=this._startCol,_=this._headerCellStyle,g=[];for(c=0;c<s;c++)g.push(n.borrowRow(d+c,u[c]));if(this.indicator){if((p=g[0]).addText(f,this.indicatorHead,_),s>1){for(c=1;c<s;c++)g[c].addBlank(f,_);n.addMerge(d,f,s,1)}f++}if(this.checkBar){if((p=g[0]).addText(f,this.checkBarHead,_),s>1){for(c=1;c<s;c++)g[c].addBlank(f,_);n.addMerge(d,f,s,1)}f++}if(h>0){for(var m=0;m<h;m++){for(c=0;c<s;c++)g[c].addBlank(m+f,this._indentHeadStyle);n.addMerge(d,m+f,s,1)}f+=h}for(c=0;c<s;c++){var y=d+c;for(p=g[c],m=0;m<o;m++){var v=r.getHeader(c,m),b=v&&v.layout,w=m+f;if(b.isProxy||v.spanned)p.addBlank(w,_);else{var C=b.displayText,x=this._preparer.documentCssStyles,I=b instanceof Sv?b.firstColumn.header:b.header,E=I.exportStyleName||I.styleName;_=this._headerCellStyle,E&&(_=this._parseStyles(i,this._inheritStyles(yd([this._headerCssStyle],vE.getSelectorStyles(x,E),!0)),!0)),p.addText(w,C,_);var O=0,S=b.getHeaderSpan()-1,k=b.parent,P=k&&k.vertical;if(S>0){var R=0,T=b.vindex+1;if(P)for(;R++<S&&R<s;)O+=k.getVisible(T++)._hspan,r.getHeader(c+R,m).spanned=!0;else for(;R++<S&&m+R<o&&T<k.visibleCount;)O+=k.getVisible(T++)._cspan,r.getHeader(c,m+R).spanned=!0}P?n.addMerge(y,w,b.hspan+O,b.cspan):n.addMerge(y,w,b.hspan,b.cspan+O)}}}this._currentRow+=s,this._exportOptions.applyFixed&&n.setFixedInfo(this._currentRow,void 0),n.setLastRow(this._currentRow-1)},t.prototype.buildSummaryItem=function(e,i,n){function r(e,t,n,r,s,a){var l=o.getCell(n.layout),u=this._exportOptions,c=l.value;if(a&&null!=a.text)e.addText(t,a.text,s);else if(c instanceof Date)u.datetimeCallback?(c=u.datetimeCallback(-1,n.name,c))instanceof Date?e.addDate(t,c,s):e.addText(t,c,s):e.addDate(t,c,s);else if(isNaN(c)){var h=i?n.getFooter(o._childIndex):n.getHeaderSummary(o._childIndex),d=h&&o.getCellFormatters(h,null),p=d?l.getDisplayText(d):c;e.addText(t,p||"",s)}else e.addNumber(t,c,s)}var o,s=this._workbook.currentSheet,a=this._preparer,l=a.colCount,u=a.dataRowCount,c=this._indents,h=i?e.footers:e.headerSummaries,d=n===hE?h.count:h.visibleCount,p=d*u,f=this._currentRow;s.setFirstRow(this._currentRow);for(var _,g=this._startCol,m=e.layoutManager.getDataRowHeights(u),y=m.reduce(function(e,t){return e+t},0),v=[],b=0;b<d;b++){var w=(o=n===hE?h.get(b):h.getVisible(b)).heights||[],C=w.reduce(function(e,t){return e+t},0),x=o.height;x=-1===x?-1:x>0?x/u:Math.max(o.minHeight,e.heightMeasurer.summaryHeight,x);for(var I=0;I<u;I++)C>0&&w[I]>0?v.push(w[I]*t.LINE_HEIGHT):y>0&&m[I]>0?v.push(m[I]*o.height/y*t.LINE_HEIGHT):v.push(-1===x?-1:x*t.LINE_HEIGHT)}for(b=0;b<d*u;b++)s.borrowRow(f+b,v[b]);if(this.indicator){b=0;for(var E=0;b<d;b++)for(var O=0;O<u;O++)_=s.borrowRow(f+E,v[E]),i?0===E?_.addText(g,this.indicatorFoot,this._indicatorFootStyle):_.addBlank(g,this._indicatorFootStyle):0===E?_.addText(g,this.indicatorSummary,this._indicatorSumStyle):_.addBlank(g,this._indicatorSumStyle),E++;s.addMerge(f,g++,p,1)}if(this.checkBar){for(b=0,E=0;b<d;b++)for(O=0;O<u;O++)_=s.borrowRow(f+E,v[E]),i?0===E?_.addText(g,this.checkBarSummary,this._checkBarSumStyle):_.addBlank(g,this._checkBarSumStyle):0===E?_.addText(g,this.checkBarFoot,this._checkBarFootStyle):_.addBlank(g,this._checkBarFootStyle),E++;s.addMerge(f,g++,p,1)}if(c>0){for(var S=0;S<c;S++){for(b=0,E=0;b<d;b++)for(O=0;O<u;O++)(_=s.borrowRow(f+E,v[E])).addBlank(g+S,this._indentFootStyle),E++;s.addMerge(f,g+S,d*u,1)}g+=c}for(var k=f,P=(i?a.getFooterItem:a.getSummaryItem).bind(a),R=(I=0,0);I<d;I++)for(o=n===hE?h.get(I):h.getVisible(I),b=0;b<u;b++,R++){for(_=s.borrowRow(k,v[R]),S=0;S<l;S++){var T=P(I*u+b,S),D=T.layout,M=D.firstColumn,L=S+g,A=D.firstColumn.$_hash,F=(i?this._columnFooterStyles:this._columnSummaryStyles)[A][I];if(D.isProxy||T.spanned)_.addBlank(L,F);else{var $=0,N=i?D.getFooterSpan(I)-1:D.getSummarySpan(I)-1,j=i?D.getFooterUserSpan(o._childIndex):D.getSummaryUserSpan(o._childIndex),B=D.parent,V=B&&B.vertical;if(j){var H=j.footerCount||0,U=H>0?H*u:j.rowspan||1,W=j.colspan||1;r.call(this,_,L,M,I,F);for(var G=0,z=0,Y=0;Y<U;Y++){var q=(i?a._footerCells:a._summaryCells)[I*u+b+Y];q&&G++;for(var K=0;q&&K<W;K++){var X=q[S+K];X&&(z=Math.max(z,K+1),X.spanned=!0)}}(U>1||W>1)&&s.addMerge(k,L,G,z)}else{if(N>0){var Z=0,J=D.vindex+1;if(V)for(;Z++<N&&Z<u;)$+=B.getVisible(J++)._dspan,P(I*u+b+Z,S).spanned=!0;else for(;Z++<N&&S+Z<l&&J<B.visibleCount;)$+=B.getVisible(J++)._cspan,P(I*u+b,S+Z).spanned=!0}r.call(this,_,L,M,I,F,T),V?s.addMerge(k,L,D._dspan+$,D._cspan):s.addMerge(k,L,D._dspan,D._cspan+$)}}}k++}this.getShowOutline()&&s.setRowLevel(k,1),this._currentRow+=p,s.setLastRow(this._currentRow-1)},t.prototype.buildItems=function(e,t){for(var i=this._exportOptions,n=i.showIndicatorRow(e),r=i.showIndicatorReverse(e),o=this.allItems,s=o?o.length:e.itemCount,a=this._progressStep?this._indexItem+Math.min(this._progressStep,this._lastItem-this._indexItem):this._lastItem,l=this._indexItem;l<a;l++){var u=o?o[l]:e.getItem(l);if(this._indicatorNo=n?u.isDataRow?u.dataRow+1:void 0:r?s-l:l+1,u instanceof tm)this.buildRow(e,u);else if(u instanceof ty)this.buildMergedGroupHeader(e,u);else if(u instanceof ey||u instanceof rm)this._preparer.groupModel!=u.parent&&this._preparer.setGroupFooterItms(u.parent,i.allItems,e.rowGroup.mergeMode),u instanceof ey?this.buildMergedGroupFooter(e,u):this.buildGroupFooter(e,u);else{if(!(u instanceof nm))throw new Error("Unkown item type");this.buildGroupHeader(e,u)}this._progressPos+=1,this._preparer.clearDataSpanned()}this.setProgress&&this.setProgress(e.handler,"process",this._progressMax,this._progressPos),this._indexItem=a,this._indexItem>=this._lastItem?t&&t():setTimeout(function(){this.buildItems(e,t)}.bind(this),0)},t.prototype.buildRow=function(e,i){var n,r,o=e.rowGroup,s=this._preparer,a=s.dataRowCount,l=s.colCount,u=e.layoutManager,c=this._columnMerged,h=this._mergeHeads,d=this._indents,p=this._workbook.currentSheet,f=this._currentRow;p.setFirstRow(this._currentRow);var _,g=this._startCol,m=e.displayOptions,y=m.rowHeightCallback;i.index>=0&&y&&(u.getRowHeightOfCallback(e,i.index),_=i.heights);var v=(_=_||u.getDataRowHeights(a)).reduce(function(e,t){return e+t},0)||i.height;isNaN(v)&&(v=-1===m.rowHeight?-1:Math.max(m.rowHeight||0,m.minRowHeight*a)),v=-1===v?-1:v>0?v/a:v;for(var b=o.expandedAdornments===Ed.SUMMARY&&o.mergeMode,w=[],C=0;C<a;C++)w.push(p.borrowRow(f+C,-1===v?-1:(_[C]||v)*t.LINE_HEIGHT));for(this.indicator&&this._buildIndicatorCell(e,p,w,this._indicatorNo,f,g++,a),this.checkBar&&this._buildCheckBarCell(e,p,w,i.checked,f,g++,a),C=0;C<a;C++){var x=w[C];x._row=C;var I=f+C,E=g;for(n=0;n<d;n++)x.addBlank(E,this._indentBarStyle),E++;for(n=0;n<l;n++){var O=n+E,S=s.getItem(C,n),k=S.layout,P=k.firstColumn,R=P.$_hash,T=this._columnStyles[R],D=Gv.tempItem(e,i,k);if(k.isProxy||S.spanned)x.addBlank(O,S.style||T);else{var M=k._dspan,L=!1,A=!1;if(c){var F=u.getMergeRoom(D);if(F)if(F.isHead(D)&&0==C||this._startItem>0&&i.index==this._startItem&&!b)T=this._buildValueCell(e,p,x,i,k,O,E),h[R]={startRow:I,style:T},L=!0,A=!P.mergeGrouped&&i.isDataRow;else{var $=h[R];x.addBlank(O,$.style||T),(F.isTail(D)||this._lastItem>0&&i.index==this._lastItem-1)&&(M=I-$.startRow+a,p.addMerge($.startRow,O,M,1+($.cols||0)),delete h[R]),L=!0,A=!P.mergeGrouped&&i.isDataRow}else if(this.allItems&&!i.visible&&e.isGroupedColumn(P)&&this._mergedGrouped){for(x.addBlank(O,T),L=!0,r=i.parent;P.groupLevel!=r.level&&r;)r=r.parent;var N=h[R]?h[R].startRow:void 0;switch(e.rowGroup.expandedAdornments){case Ed.NONE:i==r.firstItem&&i==r.lastDataItem?L=!1:i==r.firstItem?(T=this._buildValueCell(e,p,x,i,k,O,E),h[R]={startRow:I,style:T}):i==r.lastDataItem&&(M=I-N+a,p.addMerge(N,O,M,1));break;case Ed.BOTH:i==r.lastDataItem&&0==r.footerCount&&(M=I-N+a,p.addMerge(N,O,M,1));break;case Ed.HEADER:case Ed.SUMMARY:i==r.firstItem&&i==r.lastDataItem?h[R]?(M=I-N+a,p.addMerge(N,O,M,1),delete h[R]):L=!1:i==r.lastDataItem?(M=I-N+a,p.addMerge(N,O,M,1),delete h[R]):r.firstDataItem;break;case Ed.FOOTER:i==r.firstItem&&(T=this._buildValueCell(e,p,x,i,k,O,E),h[R]={startRow:I,style:T}),i==r.lastDataItem&&(r.footerCount>0||(M=I-h[R].startRow+a,p.addMerge(h[R].startRow,O,M,1),delete h[R]))}}}if(!L||A){var j=!A&&this._buildValueCell(e,p,x,i,k,O,E),B=k.parent,V=B&&B.vertical,H=!0,U=k.spanCallback,W=U?U(e.handler,k,i.index):void 0;void 0===W&&(W=k.dataSpan),void 0===W&&(H=!1,W=k.cellSpan);var G=0;if(W>0){var z=0,Y=k.vindex+1;if(V)for(W--;z++<W&&z<a;)G+=(ee=B.getVisible(Y++))._dspan,s.getItem(C+z,n).spanned=!0,s.getItem(C+z,n).style=j;else{for(var q=k._dspan,K=[],X=0;X<q;X++)K.push(0);for(var Z=0;Z<q;Z++){K[Z]+=k._defColSpan;for(var J=1;J<W&&n+J<l;J++){var Q=s.getItem(C+Z,n+J).layout;Q&&!Q.isProxy&&(K[Z]+=Q._defColSpan)}}for(H=Math.max.apply(Math,K)===W;z++<W-1&&n+z<l&&(H||Y<B.visibleCount);){var ee;if(!(ee=H?s.getItem(C,n+z).layout:B.getVisible(Y++)))break;!ee.isProxy&&(G+=ee._defColSpan)}for(k._defColSpan+G!==W&&(G=0),z=1;z<k._defColSpan+G;z++){if(q>1&&H)for(J=1;J<a&&q>J;J++)s.getItem(C+J,n+z).spanned=!0,s.getItem(C+J,n+z).style=j;s.getItem(C,n+z).spanned=!0,s.getItem(C,n+z).style=j}}}if(A){var te=h[R];te&&(te.cols=G)}else V?p.addMerge(I,O,k._dspan+G,k._defColSpan):p.addMerge(I,O,k._dspan,k._defColSpan+G)}}}this.getShowOutline()&&Ad(this.grid.rowGroup.expandedAdornments)&&p.setRowLevel(I,i.level)}this._currentRow+=a,p.setLastRow(this._currentRow-1)},t.prototype.buildGroupHeader=function(e,i){var n=this._workbook,r=n.currentSheet,o=this._preparer,s=i.level-1,a=this._indentBarStyle,l=o.colCount,u=this._currentRow;r.setFirstRow(this._currentRow);var c=this._startCol,h=e.layoutManager.getDataRowHeights(o.dataRowCount).reduce(function(e,t){return e+t},0);h=h||Math.max(e.displayOptions.rowHeight,e.displayOptions.minRowHeight,e.displayOptions.minTableRowHeight*o.dataRowCount);var d=this._exportOptions,p=r.borrowRow(u,h*t.LINE_HEIGHT);if(this.indicator&&this._buildIndicatorCell(e,r,p,this._indicatorNo,u,c++,1),this.checkBar&&this._buildCheckBarCell(e,r,p,i.checked,u,c++,1),d.indenting)for(var f=0;f<s;f++)p.addBlank(c,a),c++;var _=e.rowGroup.getHeaderText(i),g=this._groupHeaderStyle,m=this._preparer.documentCssStyles,y=this._dynamicStyles,v="groupheader-style=.rg-rowgroup-header-level-"+i.level;if(y[v])g=y[v];else{var b=vE.getSelectorStyle(m,".rg-rowgroup-header-level-"+i.level);b&&(g=this._extendStyles(n,g,b)),this._dynamicStyles[v]=g}p.addText(c,_,g),this._indents>0&&(l+=this._indents-(i.level-1));for(var w=1;w<l;w++)p.addBlank(w+c,g);r.addMerge(u,c,1,l),this.getShowOutline()&&r.setRowLevel(u,i.level),this._currentRow++,r.setLastRow(this._currentRow-1)},t.prototype.buildGroupFooter=function(e,i){function n(t,n,r,o,s){var a=FI.getValue(i,r),l=this._exportOptions;if(s&&null!=s.text)t.addText(n,s.text,o);else if(a instanceof Date)l.datetimeCallback?(a=l.datetimeCallback(i.index,r.name,a))instanceof Date?t.addDate(n,a,o):t.addText(n,a,o):t.addDate(n,a,o);else if(isNaN(a))if(a)t.addText(n,a,o);else{var u=void 0;if(i){var c=Gv.tempItem(e,i,r);u=e.getDisplayText(c)||""}else u=r.groupFooter.text||"";t.addText(n,u,o)}else t.addNumber(n,a,o)}var r,o,s,a=this._workbook.currentSheet,l=this._exportOptions,u=this._preparer,c=u.dataRowCount,h=u.colCount,d=this._groupFooterCellStyle,p=this._indentBarStyle,f=this._indents,_=i.level,g=this._currentRow;a.setFirstRow(this._currentRow);for(var m=this._startCol,y=e.rowGroup.expandedAdornments==Ed.SUMMARY,v=Math.max(Math.max(this._defaultHeight,e.displayOptions.minRowHeight)/c,e.displayOptions.minTableRowHeight),b=e.layoutManager.getDataRowHeights(c),w=[],C=0;C<c;C++)w.push(a.borrowRow(g+C,(b[C]||v)*t.LINE_HEIGHT));this.indicator&&this._buildIndicatorCell(e,a,w,this._indicatorNo,g,m++,c),this.checkBar&&this._buildCheckBarCell(e,a,w,i.checked,g,m++,c);var x=u.getGroupFooterCells(),I=i.vindex*c;for(C=0;C<c;C++){var E=g+C,O=m,S=w[C];if(f>0)for(var k=0;k<f;k++)y?k<_-2?S.addBlank(O,p):S.addBlank(O,d):S.addBlank(O,p),0==C&&c>1&&a.addMerge(E,O,c,1),O++;for(k=0;k<h;k++){r=k+O;var P=x[I+C][k],R=P.layout;if(o=R.firstColumn,s=this._columnGroupFooterStyles[o.$_hash][i.footerIndex],l.applyDynamicStyles){var T=Gv.tempItem(e,i,R),D=e.rowGroup.getFooterCell(T),M=D.getSummary();s=this.$_summaryStyleSet(D,M,s,P,i)}if(R.isProxy||P.spanned)S.addBlank(r,s);else{var L=R.parent,A=L&&L.vertical,F=0,$=0,N=R.getGroupFooterUserSpan(i.parent,i.footerIndex),j=N?0:R.getGroupFooterSpan(i.index,i.footerIndex)-1;if(N){var B=N.footerCount||0;F=B>0?B*c:N.rowspan||1,$=N.colspan||1,F=Math.min((i.parent.footerCount-i.vindex)*c,F),a.addMerge(E,r,F,$);for(var V=0;V<F;V++)for(var H=0;H<$;H++)x[I+V+C][k+H].spanned=!0}else if(j>0){var U=0;if(T=R.vindex+1,A)for(;U++<j&&U<c;)F+=L.getVisible(T++)._dspan,x[I+U][k].spanned=!0;else for(;U++<j&&T<Math.min(h,L.visibleCount);)$+=L.getVisible(T++)._cspan,x[I+C][k+U].spanned=!0}n.call(this,S,r,o,s,P),!N&&a.addMerge(E,r,R._dspan+F,R._cspan+$)}this.getShowOutline()&&a.setRowLevel(E,i.level)}}this._currentRow+=c,a.setLastRow(this._currentRow-1)},t.prototype.buildMergedGroupHeader=function(e,i){var n=this._workbook.currentSheet,r=this._preparer,o=i.level,s=Math.max(e.displayOptions.rowHeight,e.displayOptions.minRowHeight,e.displayOptions.minTableRowHeight*r.dataRowCount),a=this._exportOptions,l=r.colCount,u=this._currentRow;n.setFirstRow(this._currentRow);var c=this._startCol,h=n.borrowRow(u,-1===s?-1:s*t.LINE_HEIGHT);this.indicator&&this._buildIndicatorCell(e,n,h,this._indicatorNo,u,c++,1),this.checkBar&&this._buildCheckBarCell(e,n,h,i.checked,u,c++,1);for(var d=0;d<o-1;d++){var p=r.getItem(0,d),f=c+d;if(h.addBlank(f,this._columnStyles[p.layout.firstColumn.$_hash]),!a.allItems){var _=p.layout,g=_.firstColumn,m=Gv.tempItem(e,i,_).clone(),y=_.merges.getRoom(m);if(y.isHead(m)){var v=this._buildValueCell(e,n,h,i.firstItem,p.layout,f);this._mergeHeads[g.$_hash]={startRow:u,style:v}}else if(y.isTail(m)){var b=this._mergeHeads[g.$_hash];n.addMerge(b.startRow,f,u-b.startRow+1,1)}}}var w=o-1,C=r.getItem(0,w).layout,x=C.firstColumn,I=this._buildValueCell(e,n,h,i.firstItem,C,c+w);this._mergeHeads[x.$_hash]={startRow:u,style:I};var E=e.rowGroup.getHeaderText(i);for(d=c+o,I=this._groupHeaderStyle,o<r.colCount&&h.addText(d++,E,I);d<l+c;d++)h.addBlank(d,I);l-o>1&&n.addMerge(u,o+c,1,l-o),this._currentRow++,n.setLastRow(this._currentRow-1)},t.prototype.buildMergedGroupFooter=function(e,i){function n(t,n,r,o,s){var a=FI.getValue(i,r),l=this._exportOptions;if(s&&null!=s.text)t.addText(n,s.text,o);else if(a instanceof Date)l.datetimeCallback?(a=l.datetimeCallback(i.index,r.name,a))instanceof Date?t.addDate(n,a,o):t.addText(n,a,o):t.addDate(n,a,o);else if(isNaN(a)){var u=Gv.tempItem(e,i,r).clone(),c=e.getDisplayText(u)||"";t.addText(n,c,o)}else t.addNumber(n,a,o)}var r,o,s,a,l=this._workbook.currentSheet,u=this._exportOptions,c=this._preparer,h=c.dataRowCount,d=c.colCount,p=c.getItemLevel(i),f=this._currentRow;l.setFirstRow(this._currentRow);for(var _=this._startCol,g=e.rowGroup.expandedAdornments==Ed.SUMMARY,m=Math.max(Math.max(this._defaultHeight,e.displayOptions.minRowHeight)/h,e.displayOptions.minTableRowHeight),y=e.layoutManager.getDataRowHeights(h),v=[],b=0;b<h;b++){var w=l.borrowRow(f+b,(y[b]||m)*t.LINE_HEIGHT);w._row=b,v.push(w)}for(this.indicator&&this._buildIndicatorCell(e,l,v,this._indicatorNo,f,_++,h),this.checkBar&&this._buildCheckBarCell(e,l,v,i.checked,f,_++,h),r=0;r<p;r++){s=(T=c.getItem(0,r).layout).firstColumn;var C=this._mergeHeads[s.$_hash];a=C?C.style:this._columnStyles[s.$_hash];for(var x=i.parent;x&&s.groupLevel!==x.level;)x=x.parent;if(this.allItems||i.parent.expanded){for(b=0;b<h;b++)if(v[b].addBlank(_+r,a),0===b)if(u.separateRows)(u.fillMergeFooterValue||i.parent.level===s.groupLevel)&&(a=this._buildValueCell(e,l,v[b],i.parent.firstItem,T,_+r)),l.addMerge(v[b].index,_+r,h,1);else if(g)x.getFirstVisibleItem(!0)===i&&(a=this._buildValueCell(e,l,v[b],i.parent.firstItem,T,_+r),this._mergeHeads[s.$_hash]={startRow:f,style:a});else if(x.getLastItem(!1)===i){var I=this._mergeHeads[s.$_hash];I&&l.addMerge(I.startRow,_+r,f+h-I.startRow,1)}}else for(b=0;b<h;b++)if(v[b].addBlank(_+r,a),0===b)if(u.separateRows)(u.fillMergeFooterValue||i.parent.level===s.groupLevel)&&(a=this._buildValueCell(e,l,v[b],i.parent.firstItem,T,_+r)),l.addMerge(v[b].index,_+r,h,1);else{var E=Gv.tempItem(e,i,T).clone(),O=T.merges.getRoom(E);if(O.isHead(E)){var S=this._buildValueCell(e,l,v[b],i.parent.firstItem,T,_+r);this._mergeHeads[s.$_hash]={startRow:f,style:S}}O.isTail(E)&&(C=this._mergeHeads[s.$_hash],l.addMerge(C.startRow,r+_,f-C.startRow+h,1))}}var k=c.getGroupFooterCells(),P=i.vindex*h;for(b=0;b<h;b++){var R=f+b;for(r=p;r<d;r++){o=r+_;var T,D=k[P+b][r];if(s=(T=D.layout).firstColumn,T.isProxy||D.spanned)a=this._columnStyles[s.$_hash],v[b].addBlank(o,a);else{var M=T.parent,L=M&&M.vertical,A=0,F=0,$=T.getGroupFooterUserSpan(i.parent,i.footerIndex),N=$?0:T.getGroupFooterSpan(i.index,i.footerIndex)-1;if($){var j=$.footerCount||0;A=j>0?j*h:$.rowspan||1,F=$.colspan||1,A=Math.min((i.parent.footerCount-i.vindex)*h,A),l.addMerge(R,o,A,F);for(var B=0;B<A;B++)for(var V=0;V<F;V++)k[P+B+b][V+r].spanned=!0}else if(N>0){var H=0;if(E=T.vindex+1,L)for(;H++<N&&H<h;)A+=M.getVisible(E++)._dspan,k[P+H][r].spanned=!0;else for(;H++<N&&E<Math.min(d-1,M.visibleCount);)F+=M.getVisible(E++)._cspan,k[P+b][r+H].spanned=!0}if(a=this._columnGroupFooterStyles[s.$_hash][i.footerIndex],u.applyDynamicStyles){E=Gv.tempItem(e,i,T);var U=e.rowGroup.getFooterCell(E),W=U.getSummary();a=this.$_summaryStyleSet(U,W,a,D,i)}n.call(this,v[b],o,s,a,D),!$&&l.addMerge(R,o,T._dspan+A,T._cspan+F)}this.getShowOutline()&&l.setRowLevel(R,p)}}this._currentRow+=h,l.setLastRow(this._currentRow-1)},t.prototype.buildTreeSheet=function(e,t){var i=this,n=this._exportOptions,r=this._workbook;n.allItems&&(this.allItems=e.getAllItems());var o=this.allItems,s=o?o.length:e.itemCount,a=r.createSheet(this._sheetName,n),l=e.displayOptions;if(this._defaultHeight=l.rowHeight||l.minRowHeight,this._rowLevels=e.getLevels(!1),this._startItem=this._indexItem=0,!this._rowGrouped){this._startItem=n.start>0?n.start:0;var u=n.count>0?n.count:s;s=u>0?this._startItem+u>s?s-this._startItem:u:s-this._startItem}this._lastItem=this._startItem+s,this._prepareCommonStyles(e),this._currentRow=n.yOffset,this._startCol=n.xOffset,this._buildColumns(e),a.createBorderEdges(vE.getSelectorStyle(this._preparer.documentCssStyles,".rg-grid")),this._buildDocumentTitle(r),this.header&&this.buildHeader(e),this.headerSummary&&this.buildSummaryItem(e,!1,n.headerSummary),this.buildTreeItems(e,function(){i.footer&&i.buildSummaryItem(e,!0,n.footer),i._buildDocumentTail(r),i._buildUserCells(e,r),t&&t()})},t.prototype.buildTreeItems=function(e,t){for(var i=this._exportOptions.showIndicatorRow(e),n=this.allItems,r=this._progressStep?this._indexItem+Math.min(this._progressStep,this._lastItem-this._indexItem):this._lastItem,o=this._indexItem;o<r;o++){var s=n?n[o]:e.getItem(o);if(this._indicatorNo=s instanceof tm&&i?s.dataRow:o+1,!(s instanceof Fy))throw new Error("Unkown tree item type");this.buildTreeRow(e,s),this._progressPos+=1,this._preparer.clearDataSpanned()}this.setProgress&&this.setProgress(e.handler,"process",this._progressMax,this._progressPos),this._indexItem=r,this._indexItem>=this._lastItem?t&&t():setTimeout(function(){this.buildTreeItems(e,t)}.bind(this),0)},t.prototype.buildTreeRow=function(e,i){var n,r=this._workbook.currentSheet,o=this._preparer,s=o.dataRowCount,a=o.colCount,l=this._indents,u=i.level,c=this._currentRow;r.setFirstRow(this._currentRow);var h=this._startCol,d=e.displayOptions,p=e.layoutManager.getDataRowHeights(s),f=p.reduce(function(e,t){return e+t},0)||i.height;isNaN(f)&&(f=(d.rowHeight||d.minRowHeight)*s),f=-1===f?-1:f>0?f/s:f;for(var _=[],g=0;g<s;g++)_.push(r.borrowRow(c+g,-1===f?-1:(p[g]||f)*t.LINE_HEIGHT));this.indicator&&this._buildIndicatorCell(e,r,_,this._indicatorNo,c,h++,s),this.checkBar&&this._buildCheckBarCell(e,r,_,i.checked,c,h++,s);var m=this._bodyCellStyle;for(g=0;g<s;g++){var y=_[g];y._row=g;var v=c+g,b=l>0?h+u-1:h,w=o.getItem(g,0),C=w.layout,x=C.firstColumn,I=this._columnStyles[x.$_hash],E=l>0?l-u+1:0;for(n=0;n<u-1;n++)y.addBlank(n+h,m);for(C.isProxy||w.spanned?y.addBlank(b,I):(this._buildValueCell(e,r,y,i,C,b,b),r.addMerge(v,b,C._dspan,C._defColSpan+E)),n=0;n<E;n++)y.addBlank(1+n+b,I);for(b=l>0?h+l:h,n=1;n<a;n++){var O=n+b;if(x=(C=(w=o.getItem(g,n)).layout).firstColumn,I=this._columnStyles[x.$_hash],C.isProxy||w.spanned)y.addBlank(O,I);else{var S=C.parent,k=S&&S.vertical,P=C.spanCallback,R=P?P(e.handler,C,i.index)-1:void 0;void 0===R&&(R=C.getDataSpan()-1);var T=0;if(R>0){var D=0,M=C.vindex+1;if(k)for(;D++<R&&D<s;)T+=S.getVisible(M++)._dspan,o.getItem(g+D,n).spanned=!0;else for(;D++<R&&n+D<a&&M<S.visibleCount;)T+=S.getVisible(M++)._cspan,o.getItem(g,n+D).spanned=!0}this._buildValueCell(e,r,y,i,C,O,b),k?r.addMerge(v,O,C._dspan+T,C._cspan):r.addMerge(v,O,C._dspan,C._cspan+T)}}this._exportOptions.showLevelOutline&&r.setRowLevel(c,i.level)}this._currentRow+=s,r.setLastRow(this._currentRow-1)},t.prototype.prepare=function(){},t.prototype.finallize=function(){},t.prototype.save=function(){var e=this._multiOptions.zip||JSZip,t=function(t){var l=new e;if(t)for(var u=l.folder("xl/media"),c=Object.keys(t),h=0;h<c.length;h++){var d=t[c[h]];d.fileName&&d.buffer&&u.file(d.fileName,d.buffer)}var p=this._workbook.createParts();for(var f in p){var _=p[f];_.indexOf('xmlns=""')>=0&&(_=_.replace(/ xmlns=""/g,"").replace(/xmlns=""/g,"")),l.file(f,_)}var g=n.compression||"DEFLATE",m=null==n.streamFiles||n.streamFiles,y={level:n.compressionLevel||6};if(s)l.generateAsync?l.generateAsync({type:"blob",compression:g,streamFiles:m,compressionOptions:y},function(e){n.progressCallback&&n.progressCallback(null,"zip",100,e.percent)}).then(function(e){n.done&&"function"==typeof n.done&&n.done(),a.saveLocal(r,e,i)}):(n.done&&"function"==typeof n.done&&n.done(),a.saveLocal(r,l.generate({type:"blob",compression:g,streamFiles:m,compressionOptions:y}),i));else if(n.target===eg.STREAM)if(l.generateAsync)l.generateAsync({type:"base64",compression:g,streamFiles:m,compressionOptions:y},function(e){n.progressCallback&&n.progressCallback(null,"zip",100,e.percent)}).then(function(e){n.done&&"function"==typeof n.done&&n.done(e)});else{var v=l.generate({type:"base64",compression:g,streamFiles:m,compressionOptions:y});n.done&&"function"==typeof n.done&&n.done(v)}else l.generateAsync?l.generateAsync({type:"base64",compression:g,streamFiles:m,compressionOptions:y},function(e){n.progressCallback&&n.progressCallback(null,"zip",100,e.percent)}).then(function(e){n.done&&"function"==typeof n.done&&n.done(),a.saveServer(r,e,n.url,i,o)}):(n.done&&"function"==typeof n.done&&n.done(),a.saveServer(r,l.generate({type:"base64",compression:g,streamFiles:m,compressionOptions:y}),n.url,i,o))}.bind(this),i=this.grid.doc,n=this._multiOptions,r=n.fileName,o=n.params,s="local"==n.target,a=this,l=this._workbook;if(e.support.blob||!s)if(l.hasImage){var u=l.getImageMap();l.downloader.bulkDownload=n.bulkImageDownload,l.downloader.executeDownLoad(this,u,t)}else t();else alert("not supported on this browser")},t.prototype._prepareCount=function(e,t){for(var i=0,n=0,r=t.length;n<r;n++){var o=void 0,s=t[n].grid;if(s instanceof IO)if(e.allItems&&this._rowGrouped){o=s.itemSource.getAllItems();var a=s.layoutManager.fixedItemCount;if(a>0)for(var l=0;l<a;l++)o.splice(l,0,s.getItem(l))}else e.pagingAllItems&&s.paged?o=s.itemSource.getPagingAllItems():e.onlyCheckedItems&&!s.rowGrouped&&(o=s.getCheckedItems(!1));else s instanceof qO&&e.allItems&&(o=s.getAllItems());i+=o?o.length:s.itemCount}return i},t.prototype._inheritStyles=function(e){for(var t={length:0},i=0,n=e.length;i<n;i++)e[i]&&vE.extendCssStyle(e[i],t);return t},t.prototype._prepareCommonStyles=function(e){var t,i=this,n=this._preparer.documentCssStyles,r=function(e){return vE.getSelectorStyle(n,e)},o=function(e){return vE.getSelectorStyles(n,e)},s=function(e){var t=[];return e.forEach(function(e){var i="string"==typeof e?r(e):e;i&&t.push(i)}),i._inheritStyles(t)},a=r("table"),l=s([a,r("tr"),r("td")]),u=s(["html",".rg-root"]),c=r(".rg-header"),h=r(".rg-footer"),d=r(".rg-header-summary"),p=r(".rg-body"),f=r(".rg-fixed-body"),_=s([".rg-root table",".rg-root .rg-table",".rg-root table tr",".rg-root .rg-table tr",".rg-root table tr td",".rg-root .rg-table tr td",".rg-root .rg-table td"]),g=s([_,".rg-header table",".rg-header .rg-table",".rg-header table tr",".rg-header .rg-table tr",".rg-header table tr td",".rg-header .rg-table tr td"]),m=s([_,".rg-footer table",".rg-footer .rg-table",".rg-footer table tr",".rg-footer .rg-table tr",".rg-footer table tr td",".rg-footer .rg-table tr td"]),y=s([_,".rg-header-summary table",".rg-header-summary .rg-table",".rg-header-summary table tr",".rg-header-summary .rg-table tr",".rg-header-summary table tr td",".rg-header-summary .rg-table tr td"]),v=s([_,".rg-body table",".rg-body .rg-table",".rg-body table tr",".rg-body .rg-table tr",".rg-body table tr td",".rg-body .rg-table tr td"]),b=s([_,".rg-fixed-body .rg-table",".rg-fixed-body .rg-table tr",".rg-fixed-body table tr",".rg-fixed-body .rg-table tr td",".rg-fixed-body table tr td",".rg-fixed-body .rg-data-row"]),w=s([_,".rg-rowgroup-bar .rg-table",".rg-rowgroup-bar .rg-table tr",".rg-rowgroup-bar table tr",".rg-rowgroup-bar .rg-table tr td",".rg-rowgroup-bar table tr td"]),C=s([_,".rg-rowgroup-head .rg-table",".rg-rowgroup-head .rg-table tr",".rg-rowgroup-head table tr",".rg-rowgroup-head .rg-table tr td",".rg-rowgroup-head table tr td"]),x=s([_,".rg-rowgroup-foot .rg-table",".rg-rowgroup-foot .rg-table tr",".rg-rowgroup-foot table tr",".rg-rowgroup-foot .rg-table tr td",".rg-rowgroup-foot table tr td"]),I=s([_,v]),E=r(".rg-header-cell"),O=r(".rg-footer-cell"),S=r(".rg-header-summary-cell"),k=r(".rg-data-cell"),P=r(".rg-rowgroup-header"),R=r(".rg-rowgroup-footer"),T=r(".rg-rowgroup-footer-cell"),D=s([u,".rg-rowgroup-head",l,C]),M=s([u,".rg-rowgroup-foot",l,x]),L=s([u,".rg-rowgroup-bar",l,".rg-rowgroup-bar-cell",w]),A=r(".rg-data-row"),F=r(".rg-fixed-row"),$=s([u,".rg-rowbarcontainer",l,_,".rg-rowbarcontainer .rg-table tr",".rg-rowbarcontainer table tr",".rg-rowbarcontainer .rg-table tr td",".rg-rowbarcontainer table tr td",".rg-rowbarcontainer .rg-table tr td.rg-rowindicator-cell"]),N=s([u,".rg-foot",l,_,".rg-foot .rg-table tr td",".rg-rowindicator-foot"]),j=s([u,".rg-sum",l,_,".rg-sum .rg-table tr td",".rg-rowindicator-sum"]);this._indicatorCellStyle=this._parseStyles(this._workbook,$),this._indicatorFootStyle=this._parseStyles(this._workbook,N),this._indicatorSumStyle=this._parseStyles(this._workbook,j);var B=s([u,".rg-rowbarcontainer",l,_,".rg-rowbarcontainer .rg-table tr",".rg-rowbarcontainer table tr",".rg-rowbarcontainer .rg-table tr td",".rg-rowbarcontainer table tr td.rg-checkbar-cell"]),V=s([u,".rg-foot",l,_,".rg-foot .rg-table tr td",".rg-checkbar-foot"]),H=s([u,".rg-sum",l,_,".rg-sum .rg-table tr td",".rg-checkbar-sum"]);this._checkBarCellStyle=this._parseStyles(this._workbook,B),this._checkBarFootStyle=this._parseStyles(this._workbook,V),this._checkBarSumStyle=this._parseStyles(this._workbook,H),t=this._headerCssStyle=s(yd(yd(yd([u,c],o(e.header.styleName),!0),[l,E,g],!1),o(e.header.exportStyleName),!0)),this._headerCellStyle=this._parseStyles(this._workbook,t,!0);var U=this._exportOptions,W=U.footer===hE,G=U.headerSummary===hE;this._footerCellStyles=[];for(var z=0;z<(W?e.footers.count:e.footers.visibleCount);z++)t=s(yd(yd([u,h],o((W?e.footers.get(z):e.footers.getVisible(z)).styleName),!0),[l,O,m],!1)),this._footerCellStyles.push(this._parseStyles(this._workbook,t,!0));for(this._summaryCellStyles=[],z=0;z<(G?e.headerSummaries.count:e.headerSummaries.visibleCount);z++)t=s(yd(yd([u,d],o((G?e.headerSummaries.get(z):e.headerSummaries.getVisible(z)).styleName),!0),[l,S,y],!1)),this._summaryCellStyles.push(this._parseStyles(this._workbook,t,!0));if(this._groupFooterCellStyles=[],e instanceof IO)for(z=0;z<e.rowGroup.footers.count;z++){var Y=e.rowGroup.footers.get(z);t=s(yd(yd([u,R],o(Y.exportStyleName||Y.styleName),!0),[l,T,I],!1)),this._groupFooterCellStyles.push(this._parseStyles(this._workbook,t,!0))}t=this._cellCssStyle=s([u,p,a,v,A,k]),this._bodyCellStyle=this._parseStyles(this._workbook,t,!1),t=s([u,p,a,F,v,k]),this._bodyFixedCellStyle=this._parseStyles(this._workbook,t,!1),t=this._fixedCellCssStyle=s([u,f,a,A,b,k]),this._fixedCellStyle=this._parseStyles(this._workbook,t,!1),this._groupHeaderStyle=this._parseStyles(this._workbook,s([u,P])),this._groupFooterCellStyle=this._parseStyles(this._workbook,s([u,a,R,T,v])),this._indentHeadStyle=this._parseStyles(this._workbook,D),this._indentFootStyle=this._parseStyles(this._workbook,M),this._indentBarStyle=this._parseStyles(this._workbook,L),this._dynamicStyles={}},t.prototype._prepareMemo=function(e,t,i,n,r){"object"==typeof i?(i.author&&(t.author=i.author),void 0!==i.authorVisible&&(t.authorVisible=i.authorVisible),t.message=i.message,i.minWidth&&(t.minWidth=i.minWidth),i.maxWidth&&(t.maxWidth=i.maxWidth),t.fontSize=i.fontSize):"string"==typeof i&&(t.message=i),t.message&&t&&"object"==typeof t&&e.addMemo(n,r,t)},t.prototype._exportGridAsync=function(e,t,i,n){if(void 0===n&&(n=null),i<t.exportGrids.length){var r=t.exportGrids[i];setTimeout(function(){this._exportGrid(e,r.options,function(){n()}.bind(this))}.bind(this))}},t.prototype._exportGrid=function(e,t,i){var n=t.grid;this._preparer=new bE(n,t),this._exportOptions=t,this._indents=0;var r=this.indicator=t.indicatorVisible(n)?n.rowIndicator:null,o=this.checkBar=t.checkBarVisible(n)?n.checkBar:null;this.header=t.headerVisible(n),this.headerSummary=t.headerSummaryVisible(n),this.footer=t.footerVisible(n),this.indicatorHead=r&&Bp.toStr(r.headText),this.indicatorFoot=r&&Bp.toStr(r.footText),this.indicatorSummary=r&&Bp.toStr(r.sumText),this.checkBarHead=o&&Bp.toStr(o.headText),this.checkBarFoot=o&&Bp.toStr(o.footText),this.checkBarSummary=o&&Bp.toStr(o.sumText),this._sheetName=t.sheetName,this._workbook=e,this.allItems=null,this.buildBook(function(){this._preparer&&this._preparer.dispose(),i&&i()}.bind(this))},t.prototype._changeFormatId=function(e,t,i){return e.changeFormatId(t,i)},t.prototype._parseStyles=function(e,t,i){return e.addStyle(t,!0,!0,!0,i)},t.prototype._extendStyles=function(e,t,i,n,r,o){return void 0===n&&(n=!0),e.extendStyle(t,i,n,r,o)},t.prototype.$_summaryStyleSet=function(e,t,i,n,r){var o=this._exportOptions,s=this._workbook,a=void 0;if(t){var l=t.exportStyleName||t.styleName,u=void 0;if(o.applyDynamicStyles)if(e instanceof rb){var c=new uv;l=(u=e.getCellStyle(e.getCell(t.column.layout),c.clear(),!1)).exportStyleName||u.styleName||l,n&&(n.text=u.text)}else if(e instanceof FI){var h=this.grid,d=(c=new mv,h.rowGroup.getFooterStyleName(r||e.item));u=h.rowGroup.getFooterCellStyle(e,c.clear(),!1),n&&(n.text=u.text),l=(l=u.exportStyleName||u.styleName||l)?d+" "+l:d}var p=t.excelFormat,f=void 0;if(p||((p=u&&u.numberFormat||t.numberFormat)?p=wE.convertNumberFormat(p):(p=u&&u.datetimeFormat||t.datetimeFormat)&&(p=wE.convertDateFormat(p))),p&&((f=t.prefix)&&(p='"'+f+'"'+p),(f=t.suffix)&&(p=p+'"'+f+'"'),a=s.addNumberFormat(p)),l||void 0!==a){var _=this._preparer.documentCssStyles,g=vE.getSelectorStyles(_,l);if(t.$_owner.type){var m=t.$_owner.type+"=styleName="+l+"formatId="+a,y=this._dynamicStyles;return y[m]||(y[m]=this._extendStyles(s,i,this._inheritStyles(g),!0,a)),y[m]}return this._extendStyles(s,i,this._inheritStyles(g),!0,a)}}return i},t.prototype._buildColumns=function(e){for(var i,n,r,o=this._exportOptions,s=this._workbook,a=s.currentSheet,l=this._preparer,u=0;u<this._startCol;u++)a.addColumn(-1,o.xOffsetWidth/t.PIXELS_PER_CHAR,null);if(this.indicator&&(r=Math.round(e.rowIndicator.minWidth/t.PIXELS_PER_CHAR),a.addColumn(e.rowIndicator.$_hash,r,null)),this.checkBar&&(r=Math.round(e.checkBar.width/t.PIXELS_PER_CHAR),a.addColumn(e.checkBar.$_hash,r,null)),o.indenting&&(e instanceof IO&&this._rowGrouped&&!this._mergedGrouped?this._indents=e.rowGroup.getIndentCount(e.rowGroupLevels)-(e.rowGroup.expandedAdornments===Ed.SUMMARY?0:1):e instanceof qO&&(this._indents=this._rowLevels-1),this._indents>0))for(u=0;u<this._indents;u++)r=Math.max(this._indentWidth,1),a.addColumn(-1,r,null);var c=e.formatOptions;this._columnStyles={},this._columnFixedStyles={},this._columnFooterStyles={},this._columnSummaryStyles={},this._columnGroupFooterStyles={};var h=l.colCount,d=l.dataRowCount,p=!1;for(u=0;u<d;u++)for(var f=0;f<h;f++){var _=l.getItem(u,f).layout;if(i=_.firstColumn,0===u&&(r=Math.round(_._cellWidth/t.PIXELS_PER_CHAR),a.addColumn(i.$_hash,r,null,o.hiddenColumns.indexOf(i.name)>=0)),n=i.$_hash,!this._columnStyles[n]){var g=e.dataSource;if(i instanceof vv){var m=this._textFormatId;if(i instanceof bv){var y=o.exportLink&&i.renderer&&i.renderer.type==yy.TYPE&&!i.excelFormat,v=g.getField(i.dataIndex),b=v?v.dataType:vd.TEXT;b===vd.NUMBER?m=this._numberFormatId:b===vd.DATETIME&&(m=this._dateFormatId);var w=i.excelFormat,C=void 0,x=!0;if(null!=w)m="number"==typeof w||parseInt(w)>0?parseInt(w):s.addNumberFormat(w);else if(y)m=0;else{if(b==vd.NUMBER){var I=null===i.numberFormat?void 0:i.numberFormat||o.numberFormat||c.numberFormat;if(I)if(I.match(/^[#0]([#0,.;aAfFcC ]+$|$)/))w=wE.convertNumberFormat(I);else{var E=o_.numberFormats&&o_.numberFormats[I];w=E&&E.excelFormat,x=!1}}else b==vd.DATETIME&&"string"==typeof(w=i.datetimeFormat||o.datetimeFormat||c.datetimeFormat)&&(w=wE.convertDateFormat(w));w&&(x&&((C=i.prefix)&&(w='"'+C+'"'+w),(C=i.suffix)&&(w=w+'"'+C+'"')),m=s.addNumberFormat(w))}}this._columnStyles[n]=this._changeFormatId(s,_.isFixed?this._fixedCellStyle:this._bodyCellStyle,m),this._columnFixedStyles[n]=this._changeFormatId(s,this._bodyFixedCellStyle,m),this._columnFooterStyles[n]=[],this._columnSummaryStyles[n]=[],this._columnGroupFooterStyles[n]=[];for(var O=o.footer===hE,S=o.headerSummary===hE,k=0;k<(O?e.footers.count:e.footers.visibleCount);k++){var P=O?e.footers.get(k):e.footers.getVisible(k),R=i.footers.get(P._childIndex),T=this._preparer.getFooterItem(u+k*d,f);this._columnFooterStyles[n][k]=this.$_summaryStyleSet(P,R,this._footerCellStyles[k],T)}for(k=0;k<(S?e.headerSummaries.count:e.headerSummaries.visibleCount);k++){var D=S?e.headerSummaries.get(k):e.headerSummaries.getVisible(k),M=i.headerSummaries.get(D._childIndex);T=this._preparer.getSummaryItem(u+k*d,f),this._columnSummaryStyles[n][k]=this.$_summaryStyleSet(D,M,this._summaryCellStyles[k],T)}if(e instanceof IO)for(k=0;k<e.rowGroup.footers.count;k++){var L=e.rowGroup.footers.get(k),A=i.groupFooters.get(L.index);this._columnGroupFooterStyles[n][k]=this.$_summaryStyleSet(null,A,this._groupFooterCellStyles[k],null)}}e instanceof IO&&(o.separateRows||o.onlyCheckedItems&&!e.rowGrouped||i instanceof bv&&i.layout.canMerge()&&(p=!0))}}this._columnMerged=p},t.prototype._buildTitleCommon=function(e,t,i){if(t&&t.visible){for(var n=this._currentRow,r=this._startCol,o=void 0,s=e.currentSheet,a=0;a<t.spaceTop;a++){o=s.addRow(n+a,void 0);for(var l=0;l<i;l++)o.addBlank(r+l,void 0)}n+=t.spaceTop;var u=t.message,c=void 0;if(t.styleName){var h=this._preparer.documentCssStyles;c=this._parseStyles(e,this._inheritStyles(vE.getSelectorStyles(h,t.styleName)),!0)}else c=this._parseStyles(e,t.cssStyle,!0);for(o=s.addRow(n,t.height),a=0;a<i;a++)0==a?(o.addText(r,u,c),s.addMerge(n,r,1,i)):o.addBlank(r+a,c);for(n++,a=0;a<t.spaceBottom;a++)for(o=s.addRow(n+a,void 0),l=0;l<i;l++)o.addBlank(r+l,void 0);n+=t.spaceBottom,this._currentRow=n}},t.prototype._buildDocumentTitle=function(e){var t=this._exportOptions,i=e,n=this._preparer.colCount;this.indicator&&n++,this.checkBar&&n++,n+=Math.max(this._indents,0),this._buildTitleCommon(i,t.documentTitle,n),this._buildTitleCommon(i,t.documentSubtitle,n)},t.prototype._buildDocumentTail=function(e){var t=this._exportOptions,i=e,n=this._preparer.colCount;this.indicator&&n++,this.checkBar&&n++,n+=Math.max(this._indents,0),this._buildTitleCommon(i,t.documentTail,n)},t.prototype._buildIndicatorCell=function(e,t,i,n,r,o,s){var a=this._indicatorCellStyle;if((Array.isArray(i)?i[0]:i).addNumber(o,n,a),s>1){for(var l=1;l<s;l++)i[l].addBlank(o,a);t.addMerge(r,o,s,1)}},t.prototype._buildCheckBarCell=function(e,t,i,n,r,o,s){var a=this._checkBarCellStyle,l=Array.isArray(i)?i[0]:i,u=this._exportOptions.checkMark,c=this._exportOptions.unCheckMark;if(l.addText(o,n?u:c||"",a),s>1){for(var h=1;h<s;h++)i[h].addBlank(o,a);t.addMerge(r,o,s,1)}},t.prototype._buildValueCell=function(e,t,i,n,r,o,s){var a,l,u=this;void 0===s&&(s=0);var c,h,d=this._workbook,p=n.index>=0&&n.index<e.fixedOptions.rowCount,f=e.body,_=this._exportOptions,g=Gv.tempItem(e,n,r),m=r.firstColumn,y=f.getRowStyle(n,p,!0,_.applyDynamicStyles),v=y.exportStyleName||y.styleName,b=m.exportStyleName||m.styleName;_.applyDynamicStyles&&(h=f.getIndexCellStyle(g,!1));var w,C=h&&h.renderer||m.renderer,x=_.exportMemo,I=_.exportShape&&C&&(C.type===uy.TYPE||C.type===sI.TYPE||C.type===wy.TYPE),E=(!r.isFixed&&p?this._columnFixedStyles[m.$_hash]:this._columnStyles[m.$_hash])||this._bodyCellStyle,O=!1;_.applyFixed&&(!e.isTree()&&p&&t.setFixedInfo(i.index+1,void 0),r.$_fixed&&t.setFixedInfo(void 0,o+1));var S=function(e,t,i,n){var o=!1;if(v||b||h||n){var s=void 0,a=void 0,l=[r.isFixed?u._fixedCellCssStyle:u._cellCssStyle];if(h&&"object"==typeof h){var c=h;s="string"==typeof(s=h.exportStyleName||h.styleName||b)?s:void 0;var p=void 0;if(a=h.excelFormat)o=!0;else if(t==vd.NUMBER?a=(p=c.numberFormat)?wE.convertNumberFormat(p):void 0:t==vd.DATETIME&&(a=(p=c.datetimeFormat)?wE.convertDateFormat(p):void 0),a){o=!0;var f=c.prefix;f&&(a='"'+f+'"'+a);var g=c.suffix;g&&(a=a+'"'+g+'"')}}else s="string"==typeof h?h:void 0;var C=u._preparer.documentCssStyles,x=u._dynamicStyles,I=m.$_hash+"="+v+"="+JSON.stringify(y.style)+"="+b+"="+s+"="+JSON.stringify(null==h?void 0:h.style)+"="+(null==h?void 0:h.excelFormat)+"="+JSON.stringify(n)+"=true";if(x[I])e=x[I];else{var E=[];if(v){var O=v.trim().split(" ");Array.prototype.push.apply(E,O),r.isFixed&&O.forEach(function(e){E.push("rg-fixed-body .".concat(e))})}if(y.style){var S=document.createElement("span").style;S.cssText=Bp.objectToCssText(y.style),l.push(S)}b&&Array.prototype.push.apply(E,b.trim().split(" ")),s&&Array.prototype.push.apply(E,s.trim().split(" ")),l.push.apply(l,vE.getSelectorStyles(C,E)),_.applyDynamicStyles&&h.style&&(u._css.cssText=Bp.objectToCssText(h.style),l.push(u._css));var k=void 0;a&&(k=d.addNumberFormat(a)),w=u._inheritStyles(l),i&&(w["text-decoration-line"]=w["text-decoration-line"]||"underline",w.color="blue");var P=w.whiteSpace||w["white-space"],R=null!=P&&"none"!=P&&"nowrap"!=P,T=w.textWrap||w["text-wrap"]||w["text-wrap-mode"];R=R||(null!=T?"nowrap"!==T:R);var D=w.whiteSpaceCollapse||w["white-space-collapse"]||"";R=R||D.indexOf("preserve")>=0,e=u._extendStyles(d,e,w,R,k,n),u._dynamicStyles[I]=e}}return{es:e,hasFormat:o}};if(m.blankWhenExport)i.addBlank(o,E);else if(m instanceof bv){var k=m.dataIndex,P=h&&h.cellProtectProps||m.cellProtectProps,R=e.dataSource.getField(k),T=_.exportLink&&!m.excelFormat&&m.renderer&&m.renderer.type==yy.TYPE,D=_.exportTemplate&&m.renderer&&m.renderer.type===Sy.TYPE,M=!1!==_.exportImage&&C&&(C.type===cy.TYPE||C.type===dy.TYPE),L=(M=M&&(_.exportImage?!1!==C.exportImage:!!C.exportImage))&&C.type===dy.TYPE,A=M&&C.type===cy.TYPE,F=void 0;if(R){var $=n.getData(k),N=h&&h.text;switch(F=null!=N?void 0:m.displayCallback,E=(a=S(E,R.dataType,T,P)).es,O=a.hasFormat,R.dataType){case"number":if(null!=N?$=N:(_.numberCallback||F)&&($=_.numberCallback?_.numberCallback(n.index,m.name,$,e.handler):F(e.handler,g.proxy(),$)),!O&&!m.excelFormat&&_.trailPointZeroFormat&&$===parseInt($)){var j=wE.convertNumberFormat(_.trailPointZeroFormat);E=this._changeFormatId(d,E,d.addNumberFormat(j))}var B=m.excelFormulaExprStatement,V=void 0;if(B){var H=this._excelFormulaRuntime;H.setItemIndex(i.index,s),H.setColumns(this._preparer._dataCells[i._row]),V=B.evaluate(H)}if(null!=$&&I){if(C.type===uy.TYPE){this._barRenderer?(this._barRenderer.initOptions(),this._barRenderer.assignFrom(C)):this._barRenderer=e.delegate.createRenderer(uy.TYPE,C,null);var U=t.getColumnWidth(o),W=this._barRenderer,G=this._preparer.documentCssStyles,z={barStyle:this._inheritStyles(vE.getSelectorStyles(G,W.barStyle)),negativeStyle:this._inheritStyles(vE.getSelectorStyles(G,W.negativeStyle))};i.addBar(o,$,U,W.origin,z,W.baseValue,W.minimum,W.maximum,E);break}if(C.type===wy.TYPE){this._signalRenderer?(this._signalRenderer.initOptions(),this._signalRenderer.assignFrom(C)):this._signalRenderer=e.delegate.createRenderer(wy.TYPE,C,null),U=t.getColumnWidth(o),W=this._signalRenderer,G=this._preparer.documentCssStyles,z={barStyle:this._inheritStyles(vE.getSelectorStyles(G,W.barStyle)),inactiveStyle:this._inheritStyles(vE.getSelectorStyles(G,W.inactiveStyle))};var Y=[isNaN(W.startRate)?50:W.startRate,isNaN(W.endRate)?100:W.endRate],q=W.barCount||10;i.addSignal(o,$,U,Y,q,W.absoluteValue,W.minimum,W.maximum,z,E);break}}null!=$||V?"number"==typeof $?i.addNumber(o,$,E,V):i.addText(o,$,E):i.addBlank(o,E);break;case"datetime":case"date":null!=N?i.addText(o,N,E):$?_.datetimeCallback||F?($=_.datetimeCallback?_.datetimeCallback(n.index,m.name,$,e.handler):F(e.handler,g.proxy(),$))instanceof Date?i.addDate(o,$,E):i.addText(o,$,E):i.addDate(o,$,E):_.nullDateText?i.addText(o,_.nullDateText,E):i.addBlank(o,E);break;case"boolean":null!=N?i.addText(o,N,E):_.booleanCallback||F?"boolean"==typeof($=_.booleanCallback?_.booleanCallback(n.index,m.name,$,e.handler):F(e.handler,g.proxy(),$))?i.addBool(o,$,E):i.addText(o,$,E):_.booleanFormat?($=n_.getFormatter(_.booleanFormat).formatValue($),i.addText(o,$,E)):i.addBool(o,$,E);break;default:if(c=$||"",null!=N)c=N;else if(_.lookupDisplay&&(m.labelField||m.lookupDisplay))c=Tm.getText(n,m);else if(D){this._templateRenderer?this._templateRenderer.clearAndAssignFrom(m.renderer):this._templateRenderer=e.delegate.createRenderer(Sy.TYPE,m.renderer,null);var K=this._templateRenderer._parser,X=m.renderer.callback,Z=e.body.getCell(g),J=X?X.call(this,e.handler,Z,-1,-1):K.realize(e,Z,null,this._templateRenderer.valueCallback);c=J?J.replace(/<br[\s/]*>/gi,"\n").replace(/(<([^>]+)>)/gi,""):""}else if(R.dataType===vd.OBJECT&&"object"==typeof $)if(_.objectCallback)c=_.objectCallback(n.index,m.name,$,e.handler);else{var Q=m.objectKey||m.objectCallback,ee=Q?m.objectKey:R.objectKey,te=Q?m.objectCallback:R.objectCallback;c=te&&"function"==typeof te?te(R.orgFieldName,n.dataRow,$):ee&&$.hasOwnProperty(ee)?$[ee]:JSON.stringify($)}else null!=$&&(c=m.textFormatter?m.textFormatter.getText($):c);if("number"==typeof(c=_.textCallback?_.textCallback(n.index,m.name,c,e.handler):F&&!m.textFormatter?F(e.handler,g.proxy(),$):c))i.addNumber(o,c,E);else if(c&&T)if(Z=e.body.getCell(g),this._linkRenderer?(this._linkRenderer.initOptions(),this._linkRenderer.assignFrom(m.renderer)):this._linkRenderer=e.delegate.createRenderer(yy.TYPE,m.renderer,null),W=this._linkRenderer){var ie=W.$_getUrl(e,Z);i.addLink(o,c,ie,E)}else i.addText(o,c,E);else if(A){Z=e.body.getCell(g),this._imageRenderer?(this._imageRenderer.initOptions(),this._imageRenderer.assignFrom(C)):this._imageRenderer=e.delegate.createRenderer(cy.TYPE,C,null);var ne=(W=this._imageRenderer).$_getImageUrl(e,Z);U=t.getColumnWidth(o),ne?i.addImage(o,c,U,Kd.CENTER,ne,E,W.imageWidth,W.imageHeight):i.addText(o,c,E)}else L?(Z=e.body.getCell(g),this._iconRenderer?(this._iconRenderer.initOptions(),this._iconRenderer.assignFrom(C)):this._iconRenderer=e.delegate.createRenderer(dy.TYPE,C,null),ne=(W=this._iconRenderer).$_getIconUrl(e,Z),U=t.getColumnWidth(o),ne?i.addImage(o,c,U,W.iconLocation,ne,E,W.iconWidth,W.iconHeight):i.addText(o,c,E)):c?i.addText(o,c,E):i.addBlank(o,E)}}else i.addBlank(o,E)}else if(m instanceof Cv){E=S(E,vd.TEXT,!1,h&&h.cellProtectProps||m.cellProtectProps).es;var re=h&&null!=h.text?h.text:m.value;i.addText(o,re,E)}else if(m instanceof wv){var oe=m.renderer,se=oe&&(oe.type==sI.TYPE||oe.type==oI.TYPE||oe.type==Hw.SERIES_TYPE);if(oe&&oe.type&&!se){var ae=this._preparer;_.exportSeriesColumn&&Uw.interfaced(oe)&&ae.sparkColumns[m.$_hash]?i.addSparkLine(o,s,ae.sparkColumns[m.$_hash],E):i.addBlank(o,E)}else{this._seriesCell.setIndex(g);var le=this._seriesCell.value;if(le&&le.some(function(e){return!isNaN(e)})){var ue=m.valueSeparator;m.actualTarget&&oe.type==oI.TYPE?ue=oe.separator:!oe||oe.type&&oe.type!=Hw.SERIES_TYPE||(ue=oe.valueSeparator);var ce=this._seriesCell.getDisplayText(e,ue);if(I){this._bulletRenderer?(this._bulletRenderer.initOptions(),this._bulletRenderer.assignFrom(C)):this._bulletRenderer=e.delegate.createRenderer(sI.TYPE,C,null),U=t.getColumnWidth(o),W=this._bulletRenderer,G=this._preparer.documentCssStyles;var he={background:this._inheritStyles(vE.getSelectorStyles(G,W.backgroundStyle)),actual:this._inheritStyles(vE.getSelectorStyles(G,W.actualStyle)),target:this._inheritStyles(vE.getSelectorStyles(G,W.targetStyle))};i.addActualTarget(o,yd(yd([],le,!0),[oe.maxValue],!1),U,he,W.actualHeight,W.targetWidth,E)}else i.addText(o,ce,E)}else i.addBlank(o,E)}}if(x){var de={author:x.author||"RealGrid",message:"",fontSize:10,authorVisible:void 0===x.authorVisible||x.authorVisible,minWidth:x.minWidth?x.minWidth:128,maxWidth:x.maxWidth?x.maxWidth:400},pe=(R=e.dataSource.getFieldIndex(null===(l=g.dataColumn)||void 0===l?void 0:l.fieldName),x.validation&&e.validationManager.cellList[n.dataRowId]),fe=pe&&pe[R];fe&&fe.column===m.name&&(de.message=fe.message);var _e=(X=x.callback)&&X(e.handler,n.itemIndex,n.dataRow,m.name,de);this._prepareMemo(t,de,_e,o,i.index)}return E},t.prototype._buildUserCells=function(e,i){var n=this,r=this._exportOptions,o=i.currentSheet,s=r.userCellsCallback,a=r.userCells||s&&s(e.handler,o.rowCount,o.colCount,o.name);if(Bp.isArray(a)){var l=this._dynamicStyles,u=this._preparer.documentCssStyles,c=o.workbook.styles._styles._items[0],h=this._css;a.forEach(function(e){var s,a,d;if(e.format&&(d=i.addNumberFormat(e.format)),e.styleName){var p=e.styleName;if(s="userCells;styleName=".concat(p,";formatId=").concat(d),!(a=l[s])){var f=vE.getSelectorStyles(u,p),_=n._inheritStyles(f);a=l[s]=n._parseStyles(i,_,!!_.whiteSpace&&null),d&&(a._formatId=d)}}else if(e.styles){var g=Bp.objectToCssText(e.styles);s="userCells;styleName=".concat(g,";formatId=").concat(d),(a=l[s])||(h.cssText=g,a=l[s]=n._parseStyles(i,h,!!h.whiteSpace&&null),d&&(a._formatId=d))}else d&&(s="userCells;styleName=".concat(void 0,";formatId=").concat(d),(a=l[s])||(a=l[s]=n._extendStyles(i,c,{},!1,d)));a=a||c;for(var m=e.mergeRow||1,y=e.mergeCol||1,v=Bp.makeArray(e.heights,!0),b=Bp.makeArray(e.widths,!0),w=0;w<y;w++){var C=b[w]||e.width;if(C){var x=e.col+w+1;o.getColumn(x)||(C=Math.ceil(C/t.PIXELS_PER_CHAR),o.addColumn(-1,C,null,!1,x))}}for(var I=0;I<m;I++)for(var E=0;E<y;E++){var O=e.cellMemo,S=o.borrowRow(e.row+I,v[I]||e.height||-1);if(0===I&&0===E){var k=null==e.value?"":e.value,P=o.getColumnWidth(e.col);if(e.image&&!1!==r.exportImage){var R;R="string"==typeof e.image?{url:e.image}:e.image,S.addImage(e.col,k,P,R.location||Kd.CENTER,R.url,a,R.width,R.height)}else switch(typeof k){case"string":S.addText(e.col,k,a);break;case"number":S.addNumber(e.col,k,a,e.formula);break;case"boolean":S.addBool(e.col,null==k?null:k,a);break;default:k instanceof Date&&S.addDate(e.col,k,a)}}else S.addBlank(e.col+E,a);if(O){var T=void 0===r.exportMemo.authorVisible||r.exportMemo.authorVisible,D={author:r.exportMemo.author||"RealGrid",message:"",fontSize:10,authorVisible:T,minWidth:128,maxWidth:400};n._prepareMemo(o,D,O,e.col,S.index)}}m*y>1&&o.addMerge(e.row,e.col,m,y)})}},t.CSS_HEAD="rg-header",t.CSS_FOOT="rg-footer",t.CSS_BODY="rg-body",t.CSS_FIXED="rg-fixed-body",t.CSS_TABLE="rg-table",t.CSS_ROWGROUP_BAR="rg-rowgroup-bar",t.CSS_ROWGROUP_HEAD="rg-rowgroup-head",t.CSS_ROWGROUP_FOOT="rg-rowgroup-foot",t.CSS_HEAD_CELL="rg-header-cell",t.CSS_INDICATOR="rg-rowindicator-cell",t.CSS_CHECK="rg-checkbar-cell",t.CSS_DATA_ROW="rg-data-row",t.PIXELS_PER_CHAR=7,t.LINE_HEIGHT=.75,t}(sE),JO=function(){function e(){}return e.getColumn=function(e,t){if(t){if("string"==typeof t)return e.columnByName(t);if(t instanceof yv)return t;if(t.$_hash)return e.columnByHash(t.$_hash);if(t.name)return e.columnByName(t.name)}return null},e.getItemProxy=function(t,i){var n=t.parent,r={type:void 0,id:t.id,parentId:null==n?-1:n.id,itemIndex:t.index,index:t.index,dataRow:-1,checked:t.checked,checkable:t.checkable,indeterminate:t.indeterminate};return i&&(r.childIndex=t.childIndex,r.level=t.level),t instanceof tm?(r.type="row",r.dataRow=t.dataRow):t instanceof im?(r.count=t.children.length,r.expanded=t.expanded,t instanceof nm||t instanceof ty?(r.type="group",r.footerId=t.footer?t.footer.id:-1,t instanceof om||i&&(r.firstItem=e.getItemProxy(t.firstItem),r.firstDataItem=e.getItemProxy(t.firstDataItem),r.dataRows=t.getRows())):t instanceof Fy&&(r.type="tree",r.dataRow=t.dataRow?t.dataRow:-1)):t instanceof rm&&(r.type="footer"),r},e.getItemIndices=function(e){for(var t=[],i=0,n=e.length;i<n;i++)t.push(e[i].index);return t},e.getValues=function(e,t){var i={},n=t.dataSource;if(e.isItemEditing(t))return(i=t.getRowObject()).__rowId=t.dataRow,i;if(t.dataRow>=0){if(t instanceof Fy){var r=t.row,o=r.values;i.__rowId=r.rowId;for(var s=0,a=n.fieldCount;s<a;s++)i[n.getOrgFieldName(s)]=o[s]}else(i=n.getRowObject(t.dataRow)).__rowId=t.dataRow;return i}return null},e.getDisplayValues=function(e,t,i){var n=e.getDataColumns();if(t){for(var r=i?{}:t.getRowObject(),o=new mv,s=0,a=n.length;s<a;s++){var l=n[s],u=e.body.getCellAt(t,l);"hiddenDataCell"===u.name?u.setItem(t):u.setIndex2(e,t.index,l),o.clear(),o.assign(l),e.body.getCellStyle(u,o);var c=o.toFormatter(null);r[i?l.name:l.fieldName]=Tm._getDisplayText(e,t,l,t.getData(l.dataIndex),c)}return r}},e.setValues=function(e,t,i,n){var r,o,s,a=t.dataSource,l=a.fieldCount;if(e.isItemEditing(t))if(t)t.values=i;else for(var u=0;u<l;u++){var c=a.getOrgFieldName(u);i.hasOwnProperty(c)&&t.setData(u,i[c])}else if((s=t.dataRow)>=0)if(a instanceof Tg){var h=a.rowById(s);if(h){if(r=h.values||[],Array.isArray(i)){u=0;for(var d=i.length;u<d&&!(o=!a.getField(u).equalValues(r[u],i[u]));u++);}else for(u=0;u<l&&(c=a.getOrgFieldName(u),!i.hasOwnProperty(c)||!(o=!a.getField(u).equalValues(r[u],i[c])));u++);if(!o)return;h.update(i,n)}}else if(a instanceof Y_){if(r=a.getRow(s),Array.isArray(i))for(u=0,d=i.length;u<d&&!(o=!a.getField(u).equalValues(r[u],i[u]));u++);else for(u=0;u<l&&(c=a.getOrgFieldName(u),!i.hasOwnProperty(c)||!(o=!a.getField(u).equalValues(r[u],i[c])));u++);if(!o)return;a.updateRow(s,i,n)}},e}(),QO=function(){function e(e,t,i){this.onCurrentChanging=null,this.onCurrentChanged=null,this.onCurrentRowChanged=null,this.onValidateColumn=null,this.onValidateRow=null,this.onValidationFail=null,this.onColumnCheckedChanged=null,this.onMenuItemClicked=null,this.onContextMenuPopup=null,this.onContextMenuItemClicked=null,this.onCellButtonClicked=null,this.onScrollToBottom=null,this.onTopIndexChanged=null,this.onTopIndexChanging=null,this.onLeftPosChanged=null,this.onRowsDeleting=null,this.onRowInserting=null,this.onSelectionCleared=null,this.onSelectionChanged=null,this.onSelectionAdded=null,this.onSelectionEnded=null,this.onShowEditor=null,this.onShowEditCommand=null,this.onHideEditor=null,this.onEditChange=null,this.onGetEditValue=null,this.onEditCommit=null,this.onEditCanceled=null,this.onItemEditCanceled=null,this.onItemEditCancel=null,this.onEditSearch=null,this.onSearchCellButtonClick=null,this.onCellEdited=null,this.onEditRowChanged=null,this.onEditRowPasted=null,this.onRowsPasted=null,this.onCellPasting=null,this.onItemChecked=null,this.onItemAllChecked=null,this.onErrorClicked=null,this.onSorting=null,this.onSortingChanged=null,this.onFiltering=null,this.onFilteringChanged=null,this.onWheel=null,this.onKeyDown=null,this.onKeyPress=null,this.onKeyUp=null,this.onShowTooltip=null,this.onShowHeaderTooltip=null,this.onColumnPropertyChanged=null,this.onLayoutPropertyChanged=null,this.onGridActivated=null,this.onGridFocusChanged=null,this.onCopy=null,this.onCut=null,this.onPaste=null,this.onPasted=null,this.onItemsChecked=null,this.onCellClicked=null,this.onCellDblClicked=null,this.onCellItemClicked=null,this.onCommandStackChanged=null,this.onDataLoadComplated=null,this.onLayoutExpanding=null,this.onLayoutExpanded=null,this.onLayoutCollapsing=null,this.onLayoutCollapsed=null;try{this._view=this._createView(e,t,i),this._listener=this._createListener(this._view)}catch(n){throw n}}return e.prototype.dispose=function(){return this._view.dispose(),this._view=null,this._container=this._container&&this._container.dispose(),this._listener=this._listener&&this._listener.dispose()},Object.defineProperty(e.prototype,"summaryMode",{get:function(){return this._view.itemSource.summaryMode},set:function(e){this._view.itemSource.summaryMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hideDeletedRows",{get:function(){return this._view.itemSource.hideDeleted},set:function(e){this._view.itemSource.hideDeleted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sortMode",{get:function(){return this._view.itemSource.sortMode},set:function(e){this._view.itemSource.sortMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"undoable",{get:function(){return this._view.undoable},set:function(e){this._view.undoable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"undoing",{get:function(){return this._view.undoing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"redoing",{get:function(){return this._view.redoing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._view.container.disabled},set:function(e){this._view.container.disabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollBarWidth",{get:function(){return this._view.scrollBarWidth},set:function(e){this._view.scrollBarWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollBarHeight",{get:function(){return this._view.scrollBarHeight},set:function(e){this._view.scrollBarHeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fixedOptions",{get:function(){return this._view.fixedOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayOptions",{get:function(){return this._view.displayOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formatOptions",{get:function(){return this._view.formatOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editOptions",{get:function(){return this._view.editOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editorOptions",{get:function(){return this._view.editorOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"copyOptions",{get:function(){return this._view.copyOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pasteOptions",{get:function(){return this._view.pasteOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sortingOptions",{get:function(){return this._view.sortingOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filteringOptions",{get:function(){return this._view.filteringOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mobileOptions",{get:function(){return this._view.mobileOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataDropOptions",{get:function(){return this._view.dataDropOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rowIndicator",{get:function(){return this._view.rowIndicator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stateBar",{get:function(){return this._view.stateBar},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checkBar",{get:function(){return this._view.checkBar},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return this._view.header},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"footer",{get:function(){return this._view.footer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"footers",{get:function(){return this._view.footers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerSummary",{get:function(){return this._view.headerSummary},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerSummaries",{get:function(){return this._view.headerSummaries},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filterPanel",{get:function(){return this._view.filterPanel},enumerable:!1,configurable:!0}),e.prototype.ping=function(e){this._view instanceof oE&&alert(e)},e.prototype.refresh=function(e){this._view.refreshView(e,!e)},e.prototype.beginUpdate=function(){this._view.beginUpdate()},e.prototype.endUpdate=function(e){this._view.endUpdate(e)},e.prototype.isVisible=function(){return this._view.visible},e.prototype.setVisible=function(e){this._view.visible=e},e.prototype.getItemCount=function(){return this._view.itemCount},e.prototype.getDataRow=function(e){var t=this._view.getItem(e);return t?t.dataRow:-1},e.prototype.getRowsOfItems=function(e){var t=[];if(e)for(var i=0,n=e.length;i<n;i++){var r=this._view.getItem(e[i]);r&&t.push(r.dataRow)}return t},e.prototype.getItemIndex=function(e){return this._view.getItemIndexOfRow(e)},e.prototype.getItemsOfRows=function(e){return this._view.getItemIndicesOfRows(e)},e.prototype.restoreColumns=function(){this._view.restoreColumns()},e.prototype.getDataSource=function(){return this._dataDelegator},e.prototype.setDataSource=function(e){this._dataDelegator=e,this._dataProvider=e?e.getProvider():null,this._view.dataSource=this._dataProvider},e.prototype.getOptions=function(){return{summaryMode:this._view.itemSource.summaryMode.toString(),hideDeletedRows:this._view.itemSource.hideDeleted,sortMode:this._view.itemSource.sortMode.toString(),fixed:this.fixedOptions,display:this.displayOptions,format:this.formatOptions,edit:this.editOptions,editor:this.editorOptions,copy:this.copyOptions,paste:this.pasteOptions,sorting:this.sortingOptions,filtering:this.filteringOptions,dataDrop:this.dataDropOptions,rowIndicator:this.rowIndicator,checkBar:this.checkBar,stateBar:this.stateBar,header:this.header,footer:this.footer,footers:this.footers,headerSummary:this.headerSummary,headerSummaries:this.headerSummaries}},e.prototype.setOptions=function(e){e&&(this._view.setOptions(e),e.fixed&&this.setFixedOptions(e.fixed),e.display&&this.setDisplayOptions(e.display),e.format&&this.setFormatOptions(e.format),e.edit&&this.setEditOptions(e.edit),e.editor&&this.setEditorOptions(e.editor),e.copy&&this.setCopyOptions(e.copy),e.paste&&this.setPasteOptions(e.paste),e.sorting&&this.setSortingOptions(e.sorting),e.filtering&&this.setFilteringOptions(e.filtering),e.dataDrop&&this.setDataDropOptions(e.dataDrop),e.rowIndicator&&this.setRowIndicator(e.rowIndicator),e.checkBar&&this.setCheckBar(e.checkBar),e.stateBar&&this.setStateBar(e.stateBar),e.header&&this.setHeader(e.header),e.footer&&this.setFooter(e.footer),e.footers&&this.setFooters(e.footers),e.headerSummary&&this.setHeaderSummary(e.headerSummary),e.headerSummaries&&this.setHeaderSummaries(e.headerSummaries),e.filterPanel&&this.setFilterPanel(e.filterPanel))},e.prototype.getFixedOptions=function(){return this._view.fixedOptions.toProxy()},e.prototype.setFixedOptions=function(e){this._view.fixedOptions.assignFrom(e)},e.prototype.getDisplayOptions=function(){return this._view.displayOptions.toProxy()},e.prototype.setDisplayOptions=function(e){this._view.displayOptions.assignFrom(e)},e.prototype.getFormatOptions=function(){return this._view.formatOptions.toProxy()},e.prototype.setFormatOptions=function(e){this._view.formatOptions.assignFrom(e)},e.prototype.getEditOptions=function(){return this._view.editOptions.toProxy()},e.prototype.setEditOptions=function(e){this._view.editOptions.assignFrom(e)},e.prototype.getEditorOptions=function(){return this._view.editorOptions.toProxy()},e.prototype.setEditorOptions=function(e){this._view.editorOptions.assignFrom(e)},e.prototype.getCopyOptions=function(){return this._view.copyOptions.toProxy()},e.prototype.setCopyOptions=function(e){this._view.copyOptions.assignFrom(e)},e.prototype.getPasteOptions=function(){return this._view.pasteOptions.toProxy()},e.prototype.setPasteOptions=function(e){this._view.pasteOptions.assignFrom(e)},e.prototype.getSortingOptions=function(){return this._view.sortingOptions.toProxy()},e.prototype.setSortingOptions=function(e){this._view.sortingOptions.assignFrom(e)},e.prototype.getFilteringOptions=function(){return this._view.filteringOptions.toProxy()},e.prototype.setFilteringOptions=function(e){this._view.filteringOptions.assignFrom(e)},e.prototype.getMobileOptions=function(){return this._view.mobileOptions.toProxy()},e.prototype.setMobileOptions=function(e){this._view.mobileOptions.assignFrom(e)},e.prototype.getDataDropOptions=function(){return this._view.dataDropOptions.toProxy()},e.prototype.setDataDropOptions=function(e){this._view.dataDropOptions.assignFrom(e)},e.prototype.getRowIndicator=function(){return this._view.rowIndicator.toProxy()},e.prototype.setRowIndicator=function(e){this._view.rowIndicator.assignFrom(e)},e.prototype.getStateBar=function(){return this._view.stateBar.toProxy()},e.prototype.setStateBar=function(e){this._view.stateBar.assignFrom(e)},e.prototype.getCheckBar=function(){return this._view.checkBar.toProxy()},e.prototype.setCheckBar=function(e){this._view.checkBar.assignFrom(e)},e.prototype.getHeader=function(){return this._view.header.toProxy()},e.prototype.setHeader=function(e){this._view.header.assignFrom(e)},e.prototype.getFooter=function(){return this._view.footer.toProxy()},e.prototype.setFooter=function(e){this._view.footer.assignFrom(e)},e.prototype.getFooters=function(){return this._view.footers.toProxy()},e.prototype.setFooters=function(e){this._view.footers.assignFrom(e)},e.prototype.getHeaderSummary=function(){return this._view.headerSummary.toProxy()},e.prototype.setHeaderSummary=function(e){this._view.headerSummary.assignFrom(e)},e.prototype.getHeaderSummaries=function(){return this._view.headerSummaries.toProxy()},e.prototype.setHeaderSummaries=function(e){this._view.headerSummaries.assignFrom(e)},e.prototype.setFilterPanel=function(e){this._view.filterPanel.assignFrom(e)},e.prototype.setCellStyleCallback=function(e){this._view.body.cellStyleCallback=e},e.prototype.setRowStyleCallback=function(e){this._view.body.rowStyleCallback=e},e.prototype.addUserCellStyle=function(e,t,i){this._view.body.addUserCellStyle(e,t,i)},e.prototype.removeUserCellStyle=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this._view.body.removeUserCellStyle(e,t)},e.prototype.getUserCellStyle=function(e,t){return this._view.body.getUserCellStyle(e,t)},e.prototype.setAriaLabelCallback=function(e){this._view.body.ariaLabelCallback=e},e.prototype.orderBy=function(e,t,i){if(e){var n=[],r=[],o=[];e=Bp.makeArray(e,!1),t=Bp.makeArray(t,!0),i=Bp.makeArray(i,!0);for(var s=0,a=e.length;s<a;s++)n.push(this._view.columnByField(e[s])),r.push(t[s]||bd.ASCENDING),o.push(i[s]||wd.SENSITIVE);this._view.orderBy(n,r,o)}else this._view.orderBy([],[],[])},e.prototype.getSortedFields=function(){var e,t=this._view,i=t.getSortFields(),n=t.getSortDirections();if(i&&(e=i.length)>0){for(var r=this._dataProvider,o=[],s=0;s<e;s++)o.push({fieldName:r.getFieldName(i[s]),orgFieldName:r.getOrgFieldName(i[s]),direction:n[s]});return o}return null},e.prototype.setFocus=function(){this._view.setFocus(null,!0)},e.prototype.getColumn=function(e){return this._view.getColumn(e)},e.prototype.getColumns=function(){for(var e=this._view.columnCount,t=[],i=0;i<e;i++)t.push(this._view.getColumn(i));return t},e.prototype.setColumns=function(e){this._view.setColumns(e)},e.prototype.addColumn=function(e,t){return this._view.addColumn(e,t)},e.prototype.removeColumn=function(e){return this._view.removeColumn(e)},e.prototype.addLayout=function(e,t){return this._view.addLayout(e,t)},e.prototype.removeLayout=function(e){this._view.removeLayout(e)},e.prototype.layoutByColumn=function(e){return this._view.layoutByColumn(e)},e.prototype.layoutByName=function(e){return this._view.layoutByName(e)},e.prototype.getColumnNames=function(e,t){return this._view.collectColumnNames(e,t)},e.prototype.columnByName=function(e){return this._view.columnByName(e)},e.prototype.columnByField=function(e){return this._view.columnByField(e)},e.prototype.columnByTag=function(e){return this._view.columnByTag(e)},e.prototype.columnsByTag=function(e){return this._view.columnsByTag(e)},e.prototype.getColumnProperty=function(e,t){var i=JO.getColumn(this._view,e);if(i&&t)return i[t]instanceof Yp?i[t].toProxy():i[t]},e.prototype.setColumnProperty=function(e,t,i){var n=JO.getColumn(this._view,e);n&&t&&(n[t]instanceof Yp?n[t].assignFrom(i):n[t]=i)},e.prototype.setColumn=function(e){var t=JO.getColumn(this._view,e);t&&t.assignFrom(e)},e.prototype.getDisplayColumns=function(){return this._view.collectColumns(!0,!0,!0)},e.prototype.setColumnLayout=function(e){("string"!=typeof e||(e=this._view.findColumnLayout(e)))&&this._view.setCellLayout(e)},e.prototype.getLayoutByColumn=function(e){var t=this._view.layoutByColumn(e);return t?t.toProxy():null},e.prototype.saveColumnLayout=function(){return this._view.activeCellLayout.getLayout.apply(this._view.activeCellLayout,arguments)},e.prototype.linearizeColumns=function(e){this._view.linearizeColumns(e)},e.prototype.registerColumnLayouts=function(e){this._view.registerColumnLayouts(e)},e.prototype.fitLayoutWidth=function(e,t,i,n,r){var o;return e?e instanceof Ev?o=e:"string"==typeof e?o=this._view.layoutByName(e):e.name&&(o=this._view.layoutByColumn(e.name)):null==e&&(o=this._view.activeCellLayout._root),o&&this._view.fitLayoutWidth(o,t,i,n,r)},e.prototype.setRowHeight=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=!0),this._view.setRowHeight(e,t,i)},e.prototype.getRowHeight=function(e){var t=this._view.getRowHeight(e);if(isNaN(t)){var i=this._view.getItem(e);t=this._view.layoutManager.getItemHeight(i)}return t},e.prototype.clearRowHeights=function(e){this._view.clearRowHeights(e)},e.prototype.getCurrent=function(){var e=this._view.focusedIndex;return e?e.proxy():null},e.prototype.setCurrent=function(e,t){void 0===t&&(t=!0);var i=this._view.focusedIndex.clone();i.assignFrom(e),this._view.setFocusedIndex(i,t,!0)},e.prototype.resetCurrent=function(){this._view.setFocusedIndex(this._view.focusedIndex.clone().reset())},e.prototype.clearCurrent=function(){this._view.clearFocusedIndex()},e.prototype.mouseToIndex=function(e,t,i){var n=this._view.mouseToIndex(e,t,i);return n?n.proxy():null},e.prototype.getCellBounds=function(e,t,i){void 0===i&&(i=!0);var n=JO.getColumn(this._view,t),r=new Wv(this._view,e,n);if(n&&r){var o=this._view.layoutManager,s=o.getBodyView(r),a=s.getCellRectAt(o,r,!0);if(a=a&&(i?s.boundsByScreen(a):s.boundsByContainer(a)))return{x:a.x,y:a.y,width:a.width,height:a.height}}return null},e.prototype.getIndexOfElement=function(e){var t=this._view.getCellViewOf(e),i=this._view.getDataCellIndex(t);return i?i.proxy():null},e.prototype.getWritable=function(e,t){var i=JO.getColumn(this._view,t);if(i instanceof bv)return this._view.getWritable(e,i)},e.prototype.setColumnFilters=function(e,t){var i=JO.getColumn(this._view,e);i instanceof bv&&i.setFilters(t)},e.prototype.clearColumnFilters=function(e){var t=JO.getColumn(this._view,e);t instanceof bv&&t.clearFilters()},e.prototype.addColumnFilters=function(e,t,i){var n=JO.getColumn(this._view,e);n instanceof bv&&n.addFilters(t,i)},e.prototype.removeColumnFilters=function(e,t){var i=JO.getColumn(this._view,e);i instanceof bv&&i.removeFilters(t)},e.prototype.activateColumnFilters=function(e,t,i){var n=JO.getColumn(this._view,e);n instanceof bv&&n.activateFilters(t,i)},e.prototype.activateAllColumnFilters=function(e,t){var i=JO.getColumn(this._view,e);i instanceof bv&&i.activateAllFilters(t)},e.prototype.resetFilters=function(){this._view.resetFilters(!1)},e.prototype.hideColumnFilters=function(e,t,i){void 0===i&&(i=!0);var n=JO.getColumn(this._view,e);n instanceof bv&&(n.hideColumnFilters(t,i),this._view.closePopups())},e.prototype.hideAllColumnFilters=function(e,t){void 0===t&&(t=!0);var i=JO.getColumn(this._view,e);i instanceof bv&&(i.hideAllColumnFilters(t),this._view.closePopups())},e.prototype.toggleColumnFilters=function(e,t){var i=JO.getColumn(this._view,e);i instanceof bv&&i.toggleFilters(t)},e.prototype.toggleAllColumnFilters=function(e){var t=JO.getColumn(this._view,e);t instanceof bv&&t.toggleAllFilters()},e.prototype.getColumnFilter=function(e,t){var i=JO.getColumn(this._view,e);return i instanceof bv&&i.getFilter(t)?i.getFilter(t).toProxy():null},e.prototype.getColumnFilters=function(e){var t=JO.getColumn(this._view,e);if(t instanceof bv){for(var i=t.autoFilter?t.autoFilters.items:t.filters.items,n=[],r=0,o=i.length;r<o;r++)n.push(i[r].toProxy());return n}return null},e.prototype.getActiveColumnFilters=function(e,t){void 0===t&&(t=!0);var i=JO.getColumn(this._view,e);if(i instanceof bv){for(var n=i.getActiveFilters(t),r=[],o=0,s=n.length;o<s;o++)r.push(n[o].toProxy());return r}return null},e.prototype.isFiltered=function(e){if(e){var t=JO.getColumn(this._view,e);return t instanceof bv&&t.isFiltered()}var i=this._view.getFilteredColumns();return i&&i.length>0},e.prototype.autoFiltersRefresh=function(e,t){e=e?Bp.makeArray(e):this._view.getChildColumnNames(null);for(var i=0;i<e.length;i++){var n=JO.getColumn(this._view,e[i]);n instanceof bv&&n.autoFilterRefresh(t)}},e.prototype.showFilterSelector=function(e,t){var i=JO.getColumn(this._view,e);return!!i&&(null!=t&&(t=String(t)),this.closeList(),!!this._view.showFilterSelector(i,t))},e.prototype.inlineFilterFocus=function(e){var t=this._view.layoutByColumn(e);t&&this._view.inlineFilterFocus(t)},e.prototype.getValues=function(e){var t=this._view.getItem(e);return t?JO.getValues(this._view,t):null},e.prototype.getDisplayValues=function(e,t){var i=this._view.getItem(e);if(i)return JO.getDisplayValues(this._view,i,t)},e.prototype.getDisplayValuesOfRow=function(e,t){var i=this._view.getItemOfRow(e,!0);if(i)return JO.getDisplayValues(this._view,i,t)},e.prototype.getJsonRows=function(){return this._view.getJsonRows()},e.prototype.setValues=function(e,t,i){var n=this._view.getItem(e);n&&JO.setValues(this._view,n,t,i)},e.prototype.getValue=function(e,t,i){var n;void 0===i&&(i=!1);var r=this._view,o=r._clipboardManager;if(o.isPasting&&(n=o.appendingIndex.item).index!==e&&(n=null),n=n||r.getItem(e)){var s=this._dataProvider.getFieldIndex(t),a=r.columnByField(s);return i&&Wv.equalsTo(r.editController.editIndex,e,a.layout)?r.getEditCellValue():n.getData(s)}return null},e.prototype.setValue=function(e,t,i){t=this._dataProvider.getFieldIndex(t),this._view.setValueAt(e,t,i)},e.prototype.getEditValue=function(){return this._view.getEditCellValue()},e.prototype.setEditValue=function(e,t,i){void 0===i&&(i=!0),this._view.setEditCellValue(e,t,i)},e.prototype.registerCustomRenderer=function(e,t){this._view.registerCustomRenderer(e,t)},e.prototype.unregisterCustomRenderer=function(e){this._view.unregisterCustomRenderer(e)},e.prototype.existsCustomRenderer=function(e){return this._view.existsCustomRenderer(e)},e.prototype.unregisterAllCustomRenderer=function(){this._view.unregisterAllCustomRenderer()},e.prototype.addPopupMenu=function(e,t){this._view.addPopupMenu(e,t)},e.prototype.getPopupMenu=function(e){return this._view.getPopupMenu(e)},e.prototype.removePopupMenu=function(e){this._view.removePopupMenu(e)},e.prototype.setContextMenu=function(e){return this._view.setContextMenu(e)},e.prototype.getSelection=function(e){void 0===e&&(e=0);var t=this._view.getSelection(e);return t?t.toProxy():null},e.prototype.getSelections=function(){var e=this._view.getSelections(),t=[];return e.forEach(function(e){t.push(e.toProxy())}),t},e.prototype.setSelection=function(e,t){e.style&&"string"==typeof e.style&&(this._view.clearAddSelection(!0,!1,t),this.addSelection(e,t))},e.prototype.addSelection=function(e,t){if(void 0===t&&(t=!0),e.style&&"string"==typeof e.style){var i,n,r=Bp.valueIn(e.style,cb)?e.style:cb.BLOCK,o=0,s=0;if(e.hasOwnProperty("startItem"))s=o=e.startItem;else if(e.hasOwnProperty("startRow"))s=o=this._view.getItemIndexOfRow(e.startRow);else if("singleColumn"!=r&&"columns"!=r)return;if(e.hasOwnProperty("endItem"))s=e.endItem;else if(e.hasOwnProperty("endRow"))s=this._view.getItemIndexOfRow(e.endRow);else if("singleColumn"!=r&&"columns"!=r)return;i=JO.getColumn(this._view,e.startColumn),n=JO.getColumn(this._view,e.endColumn);var a=new Wv(this._view,o,i),l=new Wv(this._view,s,n);this._view.selections.add(a,l,r,t)}},e.prototype.clearSelection=function(){this._view.clearAddSelection()},e.prototype.removeSelection=function(e){var t=this._view.selections.getItem(e);t&&this._view.selections.remove(t)},e.prototype.getSelectedItems=function(e){return this._view.getSelectedItemIndices(e)},e.prototype.getSelectedRows=function(){return this._view.getSelectedRows()},e.prototype.deleteSelection=function(e){this._view.deleteSelection(e)},e.prototype.eraseSelection=function(e){this._view.eraseSelection(e,!1)},e.prototype.getSelectionData=function(e,t){return void 0===e&&(e=-1),void 0===t&&(t=0),t>=0&&t<this._view.selections.count?this._view.selections.getItem(t).getData(e):null},e.prototype.getSelectionsData=function(){var e=[],t=this._view.selections.getItems(),i={};return t.forEach(function(e){e.getData(-1).forEach(function(e){var t=e.__rowId;t>=0&&(i[t]=i[t]||{},Bp.extendObj(e,i[t]))})}),Object.keys(i).forEach(function(t){e.push(i[t])}),e},e.prototype.copyToClipboard=function(e,t){return void 0===t&&(t=!0),this._view.toClipboard(e,t)},e.prototype.commitEditor=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=!0),this._view.commitEditor(e,t)},e.prototype.commit=function(e){return this._view.commit(e)},e.prototype.cancel=function(){return this._view.cancel()},e.prototype.fillEditSearchItems=function(e,t,i,n,r){var o=JO.getColumn(this._view,e);this._view.fillEditSearchItems(o,t,i,n,r)},e.prototype.isItemEditing=function(){return this._view.isItemEditing()},e.prototype.isEditing=function(){return this._view.isEditing()},e.prototype.showEditor=function(e){void 0===e&&(e=!1),this._view.showEditor(null,null,e)},e.prototype.hideEditor=function(){this._view.hideEditor(!0)},e.prototype.cancelEditor=function(){this._view.cancelEditor(!0)},e.prototype.setValidations=function(e){this._view.validations=e},e.prototype.validateCells=function(e,t,i,n){return void 0===t&&(t=!0),void 0===i&&(i=!1),this._view.validateCells(Bp.makeArray(e),t,i,Bp.makeArray(n))},e.prototype.getInvalidCells=function(e){var t;return null!=e&&(t=this.getDataRow(e))<0?null:this._view.getInvalidCells(t)},e.prototype.getInvalidCellsOfRow=function(e){return null==e?null:this._view.getInvalidCells(e)},e.prototype.clearInvalidCells=function(e,t){var i;if(null==e||(i=this._view.getItem(e))&&i.isDataRow)return this._view.clearInvalidCells(i,t)},e.prototype.clearInvalidCellsOfRow=function(e,t){var i=this._view.getItemOfRow(e,!0);if(i)return this._view.clearInvalidCells(i,t)},e.prototype.addInvalidCell=function(e,t,i,n){var r=this._view.getItem(e);r&&this._view.addInvalidCell(r,t,i,n)},e.prototype.addInvalidCellOfRow=function(e,t,i,n){var r=this._view.getItemOfRow(e,!0);r&&this._view.addInvalidCell(r,t,i,n)},e.prototype.getEditingItem=function(){var e=this._view.getEditItem();return e?(e.getRowObject(),{itemIndex:e.index,dataRow:e.dataRow,values:e.getRowObject()}):null},e.prototype.getItemState=function(e){var t=this._view.getItem(e);if(t){var i=t.itemState;return i==Mg.NORMAL&&this._view.focusedIndex.itemIndex==t.index&&(i=Mg.FOCUSED),i}return null},e.prototype.showToast=function(e,t){this._view.showToast(e,t)},e.prototype.hideToast=function(e){this._view.hideToast(e)},e.prototype.showMessage=function(e,t,i){var n=this._view;if("object"==typeof t){var r=new Wv(this._view);if(r.assignFrom(t),!n.isValid(r,!0))return;var o=this.getCellBounds(r.itemIndex,r.column,!1);if(!o)return;t=o.x,i=o.y+o.height}"string"==typeof e&&(e={message:e}),this._view.showMessage(e,t,i)},e.prototype.setLookups=function(e){this._view.setLookups(e)},e.prototype.addLookupSource=function(e){this._view.addLookupSource(e)},e.prototype.removeLookupSource=function(e){this._view.removeLookupSource(e)},e.prototype.existsLookupData=function(e,t){return this._view.existsLookupData(e,t)},e.prototype.fillLookupData=function(e,t){this._view.fillLookupData(e,t)},e.prototype.getLookupData=function(e,t){return this._view.getLookupData(e,t)},e.prototype.clearLookupData=function(e){this._view.clearLookupData(e)},e.prototype.isCheckable=function(e){return this._view.isCheckable(e)},e.prototype.isCheckableOfRow=function(e){return this._view.isCheckableOfRow(e)},e.prototype.setCheckable=function(e,t){this._view.setCheckable(e,t)},e.prototype.setCheckableOfRow=function(e,t){this._view.setCheckableOfRow(e,t)},e.prototype.isIndeterminateItem=function(e){return this._view.isIndeterminateItem(e)},e.prototype.isCheckedItem=function(e){return this._view.isCheckedItem(e)},e.prototype.isIndeterminateRow=function(e){return this._view.isIndeterminateRow(e)},e.prototype.isCheckedRow=function(e){return this._view.isCheckedRow(e)},e.prototype.indeterminateItem=function(e,t){void 0===t&&(t=!0),this._view.indeterminateItem(e,t)},e.prototype.checkItem=function(e,t,i,n){void 0===t&&(t=!0),void 0===n&&(n=!0),this._view.checkItem(e,t,i,n)},e.prototype.indeterminateRow=function(e,t){void 0===t&&(t=!0),this._view.indeterminateRow(e,t)},e.prototype.checkRow=function(e,t,i,n){void 0===t&&(t=!0),void 0===n&&(n=!0),this._view.checkRow(e,t,i,n)},e.prototype.checkModel=function(e,t,i,n){void 0===t&&(t=!0),void 0===n&&(n=!0);var r=this._view.getItemOfModel(e);this._view.checkModel(r,t,i,n)},e.prototype.isCheckedModel=function(e){return this._view.getItemOfModel(e).checked},e.prototype.isCheckableModel=function(e){return this._view.getItemOfModel(e).checkable},e.prototype.indeterminateModel=function(e,t){var i=this._view.getItemOfModel(e);this._view.indeterminateModel(i,t)},e.prototype.isIndeterminateModel=function(e){return this._view.getItemOfModel(e).indeterminate},e.prototype.checkItems=function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!0),this._view.checkItems(e,t,i)},e.prototype.checkRows=function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!0),this._view.checkRows(e,t,i)},e.prototype.checkAll=function(e,t,i,n){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),this._view.checkAll(e,t,i,n)},e.prototype.setAllCheck=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this._view.setAllCheck(e,t)},e.prototype.isAllChecked=function(){return this._view.allChecked},e.prototype.resetCheckables=function(e){this._view.resetCheckables(),e&&(this._view.checkBar.checkableExpression=null,this._view.checkBar.checkableCallback=null)},e.prototype.applyCheckables=function(){this._view.applyCheckables()},e.prototype.setCheckableExpression=function(e,t){void 0===t&&(t=!0),this._view.checkBar.checkableExpression=e,t&&this._view.applyCheckables()},e.prototype.setCheckableCallback=function(e,t){void 0===t&&(t=!0),this._view.checkBar.checkableCallback=e,t&&this._view.applyCheckables()},e.prototype.getFilteredRows=function(e){return void 0===e&&(e=!0),this._view.getFilteredRows(e)},e.prototype.getSummary=function(e,t){var i=this._view.summarizer,n="string"==typeof e?this._dataProvider.getFieldIndex(e):e;if(-1==n)return null;switch(t){case"count":return i.getCount(n);case"sum":return i.getSum(n);case"max":return i.getMax(n);case"min":return i.getMin(n);case"avg":return i.getAvg(n);case"var":return i.getVar(n);case"varp":return i.getVarp(n);case"stdev":return i.getStdev(n);case"stdevp":return i.getStdevp(n);case"datacount":return i.getDataCount(n);case"dataavg":return i.getDataAvg(n)}},e.prototype.getModel=function(e,t){var i=this._view.getItem(e);return i&&JO.getItemProxy(i,t)},e.prototype.getModelAs=function(e,t,i){var n=this._view.getItem(e);switch(t){case"row":n=Bp.cast(n,tm);break;case"group":n=Bp.cast(n,im);break;case"footer":n=Bp.cast(n,rm);break;case"tree":n=Bp.cast(n,Fy)}return n?JO.getItemProxy(n,i):null},e.prototype.getGroupModel=function(e,t){var i=this._view.getItem(e);return!i||i instanceof im||(i=i.parent instanceof om?null:i.parent),i?JO.getItemProxy(i,t):null},e.prototype.getRootModel=function(e,t){if(!e||!this._view.isTree()&&!this._view.rowGrouped)return null;if(e){var i=this._view.getItem(e.index);if(i)return i.root?JO.getItemProxy(i.root,t):null}return null},e.prototype.getModels=function(e,t){if(e=Bp.makeArray(e)){for(var i=[],n=0,r=e.length;n<r;n++){var o=this._view.getItem(e[n]);o&&i.push(JO.getItemProxy(o,t))}return i}},e.prototype.getModelOfRow=function(e,t){var i=this._view.getItemOfRow(e,!1);return i?JO.getItemProxy(i,t):null},e.prototype.getModelsOfRows=function(e,t){if(e=Bp.makeArray(e)){for(var i=[],n=0,r=e.length;n<r;n++){var o=this._view.getItemOfRow(e[n],!1);o&&i.push(JO.getItemProxy(o,t))}return i}},e.prototype.getParentModel=function(e,t){var i;return e&&(i=this._view.getItemOfModel(e)),!i||!i.parent||i instanceof um||!this._view.isTree()&&!this._view.rowGrouped?null:JO.getItemProxy(i.parent,t)},e.prototype.getChildModel=function(e,t,i){var n=e&&this._view.getItemOfModel(e);if(n instanceof im){var r=n.getItem(t);return r?JO.getItemProxy(r,i):null}return null},e.prototype.getChildModels=function(e,t){var i=e&&this._view.getItemOfModel(e);if(i instanceof im){for(var n=[],r=0,o=i.count;r<o;r++)n.push(JO.getItemProxy(i.children[r],t));return n}return null},e.prototype.getDescendantModels=function(e,t){var i=e&&this._view.getItemOfModel(e);if(i instanceof im){var n=i.getDescendants(!1),r=[];if(n)for(var o=0,s=n.length;o<s;o++)r.push(JO.getItemProxy(n[o],t));return r}return null},e.prototype.getGroupSummary=function(e,t,i){if(e){var n=this._view.getItemOfModel(e),r="string"==typeof t?this._dataProvider.getFieldIndex(t):t;if(n instanceof im&&r>=0){var o={count:n.getNumber(r),sum:n.getSum(r),max:n.getMax(r),min:n.getMin(r),avg:n.getAvg(r),datacount:n.getDataCount(r),dataavg:n.getSum(r)/n.getDataCount(r)};return i&&(o.var=n.getVar(r,1),o.varp=n.getVar(r,0),o.stdev=n.getStdev(r,1),o.stdevp=n.getStdev(r,0)),o}}return null},e.prototype.getDistinctItemValues=function(e,t,i){return void 0===t&&(t=-1),void 0===i&&(i=bd.ASCENDING),e=this._dataProvider.getFieldIndex(e),this._view.getDistinctItemValues(e,t,i)},e.prototype.showProgress=function(){this._view.showProgress()},e.prototype.setProgress=function(e,t,i,n){this._view.setProgress(e,t,i,n)},e.prototype.closeProgress=function(){this._view.closeProgress()},e.prototype.showLoading=function(e){this._view.showLoading(e)},e.prototype.closeLoading=function(){this._view&&this._view.hideLoading()},e.prototype.searchItem=function(e){return e?this._view.searchItem(e):-1},e.prototype.searchCell=function(e){return e?this._view.searchCell(e):null},e.prototype.resetSize=function(e){this._view.container.resetSize(e)},e.prototype.closeList=function(){this._view.closePopups()},e.prototype.exportGrid=function(e){if("csv"===e.type){var t=new fE(e);(new aE).export(this._view,t)}else"excel"===e.type&&(t=new _E(this._view,e),(new ZO).export(this._view,t))},e.prototype.scrollPage=function(e){this._view._vscrollBar._doScroll(yC.PAGE,e,0)},e.prototype.getTopItem=function(){return this._view.topIndex},e.prototype.setTopItem=function(e){void 0===e&&(e=0),this._view.topIndex=e},e.prototype.getLeftPos=function(){return this._view.leftPos},e.prototype.setLeftPos=function(e){this._view.leftPos=e},e.prototype.setLeftCol=function(e){var t;if("string"==typeof e){var i=this._view.layoutByName(e);i&&(t=i._col)}else t=e;this._view.leftCell=t},e.prototype.getContainer=function(){return this._view.container._containerDiv},e.prototype.requestPrepareEditor=function(){this._view.requestPrepareEditor()},e.prototype.destroy=function(){return this.dispose()},e.prototype.fullItemCount=function(){return this._view.layoutManager.fullItemCount},e.prototype.undo=function(){return this._view.undo()},e.prototype.redo=function(){return this._view.redo()},e.prototype.clearCommandStack=function(e){void 0===e&&(e=!0),this._view.clearCommandStack(e)},e.prototype._getView=function(){return this._view},e}(),eS=function(e){function t(t,i,n){var r=e.call(this,t,i,n)||this;return r.onPageChanging=null,r.onPageChanged=null,r.onPageCountChanged=null,r.onGrouping=null,r.onGrouped=null,r.onExpanding=null,r.onExpanded=null,r.onCollapsing=null,r.onCollapsed=null,r}return gd(t,e),Object.defineProperty(t.prototype,"rowGroup",{get:function(){return this._view.rowGroup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupPanel",{get:function(){return this._view.groupPanelView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterMode",{get:function(){return this._view._rs.filterMode},set:function(e){this._view._rs.filterMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterOr",{get:function(){return this._view._rs.inclusiveFiltering},set:function(e){this._view._rs.inclusiveFiltering=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupSummaryMode",{get:function(){return this._view._rs.groupSummaryMode},set:function(e){this._view._rs.groupSummaryMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupingOptions",{get:function(){return this._view.groupingOptions},enumerable:!1,configurable:!0}),t.prototype.getDataSource=function(){return this._dataDelegator},t.prototype.getRowGroup=function(){return this._view.rowGroup.toProxy()},t.prototype.setRowGroup=function(e){this._view.rowGroup.assignFrom(e)},t.prototype.getGroupPanel=function(){return{visible:this._view.groupPanelView.visible,height:this._view.groupPanelView.height,minHeight:this._view.groupPanelView.minHeight}},t.prototype.setGroupPanel=function(e){this._view.groupPanelView.assignFrom(e)},t.prototype.getOptions=function(){var t=e.prototype.getOptions.call(this),i=this._view._rs;return t.filterOr=i.inclusiveFiltering,t.groupSummaryMode=i.groupSummaryMode,t.filterMode=i.filterMode,t.grouping=this.groupingOptions,t.groupPanel=this.groupPanel,t},t.prototype.setOptions=function(t){e.prototype.setOptions.call(this,t),t.grouping&&this._view.groupingOptions.assignFrom(t.grouping),t.groupPanel&&this._view.groupPanelView.assignFrom(t.groupPanel)},t.prototype.getGroupingOptions=function(){return this._view.groupingOptions.toProxy()},t.prototype.setGroupingOptions=function(e){this._view.groupingOptions.assignFrom(e)},t.prototype.groupBy=function(e,t,i){this._view.groupByFieldNames(e,t,i)},t.prototype.isGrouped=function(){return this._view.rowGrouped},t.prototype.isMergedGrouped=function(){return this._view.mergedRowGrouped},t.prototype.getGroupFields=function(){return this._view.rowGroupFields},t.prototype.getGroupFieldNames=function(e){void 0===e&&(e=!0);var t=this._view.rowGroupFields;if(t){var i=this._dataProvider;if(i){for(var n=[],r=0,o=t.length;r<o;r++)n.push(e?i.getOrgFieldName(t[r]):i.getFieldName(t[r]));return n}return t}return null},t.prototype.getGroupLevels=function(){return this._view.rowGroupLevels},t.prototype.getGroupLevel=function(e){return(e=this._dataProvider.getFieldIndex(e))>-1?this._view.getGroupLevel(e):-1},t.prototype.getGroupIndex=function(e){var t=this._view.getItem(e);if(t){var i=t.parent;return i?i.index:-1}return-1},t.prototype.isGroupItem=function(e){return this._view.getItem(e)instanceof im},t.prototype.isParentVisible=function(e){var t=this._view.getItem(e);return t&&t.parent&&t.parent.visible},t.prototype.expandGroup=function(e,t,i,n){void 0===n&&(n=0);var r=this._view.getItem(e);r&&r instanceof im&&this._view.expand(r,t,i,n)},t.prototype.collapseGroup=function(e,t,i){var n=this._view.getItem(e);n&&n instanceof im&&this._view.collapse(n,t,i)},t.prototype.expandParent=function(e,t,i,n){void 0===n&&(n=0);var r=this._view.getItem(e);if(r){var o=r.parent;o&&o.expandable&&(o.collapsed||i)&&this._view.expand(o,t,i,n)}},t.prototype.collapseParent=function(e,t,i){var n=this._view.getItem(e);if(n){var r=n.parent;r&&r.collapsable&&r instanceof im&&this._view.collapse(r,t,i)}},t.prototype.collapse=function(e,t){var i=this;void 0===t&&(t=-1);var n=function(e){return!e||e instanceof om?null:e instanceof im&&e.expanded&&(-1==t||e.level===t)&&Qm(e,i.rowGroup.collapsedAdornments)?e:n(e.parent)},r=this._view.getItem(e),o=n(r);o&&this._view.collapse(o,!1,!1)},t.prototype.expand=function(e,t){void 0===t&&(t=-1);var i=this._view.getItem(e);!i||i instanceof om||(i instanceof im||(i=i.parent),this._view.expand(i,!0,!0,t))},t.prototype.expandAll=function(e,t){void 0===e&&(e=!0),this._view.itemCount>0&&this._view.expandAll(e,t)},t.prototype.collapseAll=function(e){this._view.itemCount>0&&this._view.collapseAll(e)},t.prototype.getGroupSummaryValue=function(e,t,i){if(e&&this._view.rowGrouped){var n=this._view.getItemOfModel(e),r=JO.getColumn(this._view,t);if(n instanceof nm){var o=n._allFooters;return null!=(i=1===n.allFooterCount?0:i)&&n._allFooters[i]?(n=n._allFooters[i],FI.getValue(n,r)):o.map(function(e){return FI.getValue(e,r)})}if(n instanceof rm)return FI.getValue(n,r)}return null},t.prototype.layoutExpandAll=function(e){this._view.layoutExpandAll(!0,e)},t.prototype.layoutCollapseAll=function(e){this._view.layoutExpandAll(!1,e)},t.prototype.beginInsertRow=function(e,t,i){return void 0===e&&(e=-1),this._view.insertAt(e,t,i)},t.prototype.beginAppendRow=function(e){return this._view.appendAt(e)},t.prototype.beginUpdateRow=function(e){if(this._view.focusedIndex){var t=this._view.focusedIndex.clone();void 0!==e&&(t.itemIndex=e),this._view.edit(t)}},t.prototype.setPaging=function(e,t,i){void 0===t&&(t=10),void 0===i&&(i=-1),this._view.setPaging(e,t,i)},t.prototype.getPage=function(){return this._view.page},t.prototype.setPage=function(e,t){void 0===t&&(t=-1),this._view.setPage(e,t)},t.prototype.getPageCount=function(){return this._view.pageCount},t.prototype.setPageCount=function(e){this._view.pageCount=e},t.prototype.getPageOfDataRow=function(e){return this._view.getPageOfDataRow(e)},t.prototype.getCheckedItems=function(e){return void 0===e&&(e=!0),this._view.getCheckedItemIndices(!e)},t.prototype.getCheckedRows=function(e,t,i){return void 0===e&&(e=!0),this._view.getCheckedRows(e,t,i)},t.prototype.getMergedItems=function(e,t,i,n){return void 0===i&&(i=!0),void 0===n&&(n=!0),this._view.getMergedItems(e,t,i,n)},t.prototype.populateMerges=function(e){void 0===e&&(e=!0),this._view._populateMerges(e)},t.prototype._createView=function(e,t,i){return(this._container=new DO(e,this,t,i)).gridView},t.prototype._createListener=function(e){return new nS(this,e)},t}(QO),tS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTreeItemExpanding=null,t.onTreeItemExpanded=null,t.onTreeItemCollapsing=null,t.onTreeItemCollapsed=null,t.onTreeItemChanged=null,t}return gd(t,e),Object.defineProperty(t.prototype,"treeOptions",{get:function(){return this._view.treeOptions},enumerable:!1,configurable:!0}),t.prototype.getDataSource=function(){return this._dataDelegator},t.prototype.getTreeOptions=function(){return this._view.treeOptions.toProxy()},t.prototype.setTreeOptions=function(e){this._view.treeOptions.assignFrom(e)},t.prototype.getParent=function(e){var t=this._view.getItem(e);return t?t.parentIndex:-1},t.prototype.getChildren=function(e){var t=this._view.getItem(e);if(t){for(var i=[],n=0,r=t.count;n<r;n++)i.push(t.getItem(n).index);return i}return null},t.prototype.getDescendants=function(e){var t=this._view.getItem(e);if(t){for(var i=[],n=t.getDescendants(!1)||[],r=0,o=n.length;r<o;r++)i.push(n[r].index);return i}return null},t.prototype.getAncestors=function(e,t){void 0===t&&(t=!0);var i=this._view.getItem(e);if(i){for(var n=[],r=i.getAncestors(),o=0,s=r.length;o<s;o++)!t&&r[o]instanceof $y||n.push(r[o].index);return n}return null},t.prototype.expand=function(e,t,i,n){void 0===n&&(n=0);var r=this._view.getItem(e);r&&this._view.expand(r,t,i,n)},t.prototype.expandModel=function(e,t,i,n){void 0===n&&(n=0);var r=this._view.getItemOfModel(e);r&&this._view.expand(r,t,i,n)},t.prototype.collapse=function(e,t){var i=this._view.getItem(e);i&&this._view.collapse(i,t)},t.prototype.collapseModel=function(e,t){var i=this._view.getItemOfModel(e);i&&this._view.collapse(i,t)},t.prototype.expandAll=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!0),this._view.expandAll(e,t)},t.prototype.collapseAll=function(){this._view.collapseAll()},t.prototype.getCheckedItems=function(){return this._view.getCheckedItemIndices()},t.prototype.getCheckedRows=function(e){return this._view.getCheckedRowIds(e)},t.prototype.checkChildren=function(e,t,i,n,r,o){void 0===o&&(o=!0);var s=this._view.getItem(e);s&&this._view.checkChildren(s,t,i,n,r,o)},t.prototype._createView=function(e,t,i){return(this._container=new GO(e,this,t,i)).gridView},t.prototype._createListener=function(e){return new rS(this,e)},t}(QO),iS=function(e){function t(t,i){var n=e.call(this)||this;return n._del=t,n._view=i,n._view.addListener(n),n}return gd(t,e),t.prototype.dispose=function(){return this._view.removeListener(this),this._view=null,this._del=null},t.prototype.onGridBaseCurrentChanging=function(e,t,i){return this._del.onCurrentChanging?this._del.onCurrentChanging(this._del,t.proxy(),i.proxy()):(Bp.log("onCurrentChanging",t,i),!0)},t.prototype.onGridBaseCurrentChanged=function(e,t){this._del.onCurrentChanged?this._del.onCurrentChanged(this._del,t.proxy()):Bp.log("onCurrentChanged",t)},t.prototype.onGridBaseCurrentRowChanged=function(e,t,i){this._del.onCurrentRowChanged?this._del.onCurrentRowChanged(this._del,t,i):Bp.log("onCurrentRowChanged",t,i)},t.prototype.onGridBaseValidateCell=function(e,t,i,n){if(this._del.onValidateColumn){var r=t.itemIndex,o=t.item&&t.item.dataRow,s=this._del.onValidateColumn(this._del,t.column,i,n,r,o);if(s&&s.level&&s.message)throw new Wy(s.level,s.message,t.column,s.message);if("string"==typeof s||"number"==typeof s)throw new Wy(Ld.ERROR,s,t.column,s)}},t.prototype.onGridBaseValidateRow=function(e,t,i,n){if(this._del.onValidateRow){var r=this._del.onValidateRow(this._del,t.index,t.dataRow,i,n);if(r&&r.level&&r.message)throw new Wy(r.level,r.message,null,r.message);if("string"==typeof r||"number"==typeof r)throw new Wy(Ld.ERROR,r,null,r)}},t.prototype.onGridBaseValidationFail=function(e,t,i,n){if(!this._del.onValidationFail)return n;var r=this._del.onValidationFail(this._del,t,i,{level:n.level,message:n.message});return r&&r.level&&r.message?(n.level=r.level,n.message=r.message,n.userMessage=r.message,n):"string"==typeof r||"number"==typeof r?(n.message=r,n.userMessage=r,n):void 0},t.prototype.onGridBaseCellClicked=function(e,t){this._del.onCellClicked?this._del.onCellClicked(this._del,t):Bp.log("onCellClicked: ",t)},t.prototype.onGridBaseCellDblClicked=function(e,t){this._del.onCellDblClicked?this._del.onCellDblClicked(this._del,t):Bp.log("onCellDblClicked: ",t)},t.prototype.onGridBaseCellItemClicked=function(e,t,i){return this._del.onCellItemClicked?this._del.onCellItemClicked(this._del,t.toProxy(),i):Bp.log("onCellItemClicked: ",i)},t.prototype.onGridBaseColumnCheckedChanged=function(e,t,i){this._del.onColumnCheckedChanged?this._del.onColumnCheckedChanged(this._del,t,i):Bp.log("onColumnCheckedChanged: ("+t.name+", "+i+")")},t.prototype.onGridBaseMenuItemClicked=function(e,t,i){this._del.onMenuItemClicked?this._del.onMenuItemClicked(this._del,t.toProxy(),i):Bp.log("onMenuItemClicked: ",t.toProxy(),i)},t.prototype.onGridBaseContextMenuPopup=function(e,t,i,n,r,o){return this._del.onContextMenuPopup?this._del.onContextMenuPopup(this._del,t,i,n,r,o):Bp.log("onContextMenuPopup: x = ",t,", y = ",i,", clickData =",n)},t.prototype.onGridBaseContextMenuItemClicked=function(e,t,i){this._del.onContextMenuItemClicked?this._del.onContextMenuItemClicked(this._del,t.toProxy(),i):Bp.log("onContextMenuItemClicked: ",t.toProxy(),i)},t.prototype.onGridBaseCellButtonClicked=function(e,t){this._del.onCellButtonClicked?this._del.onCellButtonClicked(this._del,t.proxy(),t.column):Bp.log("onCellButtonClicked: ",t)},t.prototype.onGridBaseScrollToBottom=function(e){this._del.onScrollToBottom?this._del.onScrollToBottom(this._del):Bp.log("onScrollToBottom")},t.prototype.onGridBaseTopIndexChanged=function(e,t){this._del.onTopIndexChanged?this._del.onTopIndexChanged(this._del,t):Bp.log("onTopItemIndexChanged: "+t)},t.prototype.onGridBaseLeftPosChanged=function(e,t){this._del.onLeftPosChanged?this._del.onLeftPosChanged(this._del,t):Bp.log("onLeftPosChanged: "+t)},t.prototype.onGridBaseTopIndexChanging=function(e,t,i,n,r){return this._del.onTopIndexChanging?this._del.onTopIndexChanging(this._del,t,i,n,r):Bp.log("onTopItemIndexChanging: ",t,i,n,r)},t.prototype.onGridBaseRowsDeleting=function(e,t){return this._del.onRowsDeleting?this._del.onRowsDeleting(this._del,t):(Bp.log("onRowsDeleting:",t),!0)},t.prototype.onGridBaseRowInserting=function(e,t,i){if(this._del.onRowInserting)return this._del.onRowInserting(this._del,t,i);Bp.log("onRowInserting: "+t,i)},t.prototype.onGridBaseSelectionCleared=function(e){this._del.onSelectionCleared?this._del.onSelectionCleared(this._del):Bp.log("onSelectionCleared")},t.prototype.onGridBaseSelectionChanged=function(e,t){this._del.onSelectionChanged?this._del.onSelectionChanged(this._del,t):Bp.log("onSelectionChanged")},t.prototype.onGridBaseSelectionAdded=function(e,t){this._del.onSelectionAdded?this._del.onSelectionAdded(this._del,t):Bp.log("onSelectionAdded: ",t)},t.prototype.onGridBaseSelectionEnded=function(e,t){this._del.onSelectionEnded?this._del.onSelectionEnded(this._del,t):Bp.log("onSelectionEnded")},t.prototype.onGridBaseShowEditor=function(e,t,i,n){return this._del.onShowEditor?this._del.onShowEditor(this._del,t.proxy(),i,n):Bp.log("onShowEditor",t.proxy(),i,n)},t.prototype.onGridBaseShowEditCommand=function(e,t){return this._del.onShowEditCommand&&this._del.onShowEditCommand(this._del,t.proxy())},t.prototype.onGridBaseHideEditor=function(e,t){this._del.onHideEditor?this._del.onHideEditor(this._del,t.proxy()):Bp.log("onHideEditor: ",t.proxy())},t.prototype.onGridBaseEditChange=function(e,t,i){this._del.onEditChange?this._del.onEditChange(this._del,t.proxy(),i):Bp.log("onEditChange: "+i,t.proxy())},t.prototype.onGridBaseGetEditValue=function(e,t,i){return this._del.onGetEditValue?this._del.onGetEditValue(this._del,t.proxy(),i):Bp.log("onGetEditValue: ",t,i)},t.prototype.onGridBaseEditCommit=function(e,t,i,n){return this._del.onEditCommit?this._del.onEditCommit(this._del,t.proxy(),i,n):(Bp.log("onEditCommit",t.proxy(),i,n),!0)},t.prototype.onGridBaseEditCanceled=function(e,t){this._del.onEditCanceled?this._del.onEditCanceled(this._del,t.proxy()):Bp.log("onEditCanceled",t.proxy())},t.prototype.onGridBaseItemEditCanceled=function(e,t){this._del.onItemEditCanceled?this._del.onItemEditCanceled(this._del,t.index,t.itemState):Bp.log("onItemEditCanceled: "+t.index+", "+t.itemState)},t.prototype.onGridBaseItemEditCancel=function(e,t){return this._del.onItemEditCancel?this._del.onItemEditCancel(this._del,t.index,t.itemState):(Bp.log("onItemEditCancel: "+t.index+", "+t.itemState),!0)},t.prototype.onGridBaseEditSearch=function(e,t,i){this._del.onEditSearch?this._del.onEditSearch(this._del,t.proxy(),i):Bp.log("onEditSearch: "+i,t.proxy())},t.prototype.onGridBaseSearchCellButtonClick=function(e,t,i){return this._del.onSearchCellButtonClick?this._del.onSearchCellButtonClick(this._del,t.proxy(),i):(Bp.log("onSearchCellButtonClick: "+i,t.proxy()),null)},t.prototype.onGridBaseCellEdited=function(e,t,i){return this._del.onCellEdited?this._del.onCellEdited(this._del,t.index,t.dataRow,i):Bp.log("onCellEdited: "+t.index+", "+t.dataRow+", "+i)},t.prototype.onGridBaseEditRowChanged=function(e,t,i,n,r){return this._del.onEditRowChanged?this._del.onEditRowChanged(this._del,t.index,t.dataRow,i,n,r):Bp.log("onEditRowChanged: "+t.index+", "+t.dataRow+", "+i+", "+n+" => "+r)},t.prototype.onGridBaseEditRowPasted=function(e,t,i,n,r){return this._del.onEditRowPasted?this._del.onEditRowPasted(this._del,t.index,t.dataRow,i,n,r):Bp.log("onEditRowPasted: "+t.index+", "+t.dataRow,i,n,r)},t.prototype.onGridBaseRowsPasted=function(e,t){return this._del.onRowsPasted?this._del.onRowsPasted(this._del,t):Bp.log("onRowsPasted: ",t)},t.prototype.onGridBaseCellPasting=function(e,t,i,n){return this._del.onCellPasting?this._del.onCellPasting(this._del,t.proxy(),i,n):Bp.log("onCellPasting: ",t,i)},t.prototype.onGridBaseItemChecked=function(e,t,i){return this._del.onItemChecked?this._del.onItemChecked(this._del,t.index,i):Bp.log("onItemChecked",t.index,i)},t.prototype.onGridBaseItemsChecked=function(e,t,i){var n=JO.getItemIndices(t);return this._del.onItemsChecked?this._del.onItemsChecked(this._del,n,i):Bp.log("onItemsChecked: "+i,n)},t.prototype.onGridBaseItemAllChecked=function(e,t){return this._del.onItemAllChecked?this._del.onItemAllChecked(this._del,t):Bp.log("onItemAllChecked: "+t)},t.prototype.onGridBaseErrorClicked=function(e,t){this._del.onErrorClicked?this._del.onErrorClicked(this._del,t):Bp.log("onErrorClicked: "+t)},t.prototype.onGridBaseSorting=function(e,t,i){for(var n=[],r=0,o=i.length;r<o;r++)n.push(i[r]?i[r].toString():"ascending");return this._del.onSorting?this._del.onSorting(this._del,t,i):Bp.log("onSorting: ",t,n)},t.prototype.onGridBaseSortingChanged=function(e){this._del.onSortingChanged?this._del.onSortingChanged(this._del):Bp.log("onSortingChanged")},t.prototype.onGridBaseFiltering=function(e,t){return this._del.onFiltering?this._del.onFiltering(this._del,t):Bp.log("onFiltering")},t.prototype.onGridBaseFilteringChanged=function(e,t,i,n){var r=t?t.getOwner():null,o=i?i.toProxy():null,s=r?r.name:"",a=i?i.name:"";return this._del.onFilteringChanged?this._del.onFilteringChanged(this._del,r,o,n):Bp.log("onFilteringChanged: "+s+", "+a)},t.prototype.onGridBaseWheel=function(e,t){return this._del.onWheel?this._del.onWheel(this._del,t):Bp.keyLog("onWheel: "+t)},t.prototype.onGridBaseKeyDown=function(e,t){return this._del.onKeyDown?this._del.onKeyDown(this._del,t):Bp.keyLog("onKeyDown: "+t)},t.prototype.onGridBaseKeyPress=function(e,t){this._del.onKeyPress?this._del.onKeyPress(this._del,t):Bp.keyLog("onKeyPress: "+t)},t.prototype.onGridBaseKeyUp=function(e,t){this._del.onKeyUp?this._del.onKeyUp(this._del,t):Bp.keyLog("onKeyUp: "+t)},t.prototype.onGridBaseShowTooltip=function(e,t,i){return this._del.onShowTooltip?this._del.onShowTooltip(this._del,t.proxy(),i):(Bp.log("onShowTooltip: "+i,t.proxy()),i)},t.prototype.onGridBaseShowHeaderTooltip=function(e,t,i,n){return this._del.onShowHeaderTooltip?this._del.onShowHeaderTooltip(this._del,t,i,n):(Bp.log("onShowHeaderTooltip: "+t.name+", "+i),i)},t.prototype.onGridBaseColumnPropertyChanged=function(e,t,i,n,r){this._del.onColumnPropertyChanged?this._del.onColumnPropertyChanged(this._del,t,i,n,r):Bp.log("onColumnPropertyChanged: "+t.name+", "+i+", "+n+", "+r)},t.prototype.onGridBaseLayoutPropertyChanged=function(e,t,i,n,r){this._del.onLayoutPropertyChanged?this._del.onLayoutPropertyChanged(this._del,t,i,n,r):Bp.log("onLayoutPropertyChanged: "+t.name+", "+i+", "+n+", "+r)},t.prototype.onGridBaseGridActivated=function(e){this._del.onGridActivated?this._del.onGridActivated(this._del):Bp.log("onGridActivated")},t.prototype.onGridBaseGridFocusChanged=function(e,t,i,n){this._del.onGridFocusChanged?this._del.onGridFocusChanged(this._del,t,n):Bp.log("onGridFocusChanged")},t.prototype.onGridBasePaste=function(e,t,i){if(this._del.onPaste)return this._del.onPaste(this._del,t.proxy(),i);Bp.log("onPaste: ",t)},t.prototype.onGridBaseCopy=function(e,t,i){var n;if(Array.isArray(t)?(n=[],t.forEach(function(e){n.push(e.toProxy())})):n=t.toProxy(),i&&"cut"===i.type){if(this._del.onCut)return this._del.onCut(this._del,n,i)}else{if(this._del.onCopy)return this._del.onCopy(this._del,n,i);Bp.log("onCopy: ",n)}},t.prototype.onGridBasePasted=function(e){return this._del.onPasted?this._del.onPasted(this._del):Bp.log("onPasted")},t.prototype.onGridBaseCommandStackChanged=function(e,t,i){this._del.onCommandStackChanged?this._del.onCommandStackChanged(e.handler,t,i):Bp.log("onCommandStackChanged: undoable "+t+", redoable "+i)},t.prototype.onGridBaseDataLoadComplated=function(e){this._del.onDataLoadComplated?this._del.onDataLoadComplated(e.handler):Bp.log("onDataLoadComplated: ")},t.prototype.onGridBaseLayoutExpanding=function(e,t){return this._del.onLayoutExpanding?this._del.onLayoutExpanding(e.handler,t):(Bp.log("onLayoutExpanding"),!0)},t.prototype.onGridBaseLayoutExpanded=function(e,t){this._del.onLayoutExpanded?this._del.onLayoutExpanded(e.handler,t):Bp.log("onLayoutExpanded")},t.prototype.onGridBaseLayoutCollapsing=function(e,t){return this._del.onLayoutCollapsing?this._del.onLayoutCollapsing(e.handler,t):(Bp.log("onLayoutCollapsing"),!0)},t.prototype.onGridBaseLayoutCollapsed=function(e,t){this._del.onLayoutCollapsed?this._del.onLayoutCollapsed(e.handler,t):Bp.log("onLayoutCollapsed")},t}(jg),nS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.onGridViewPageChanging=function(e,t){return this._del.onPageChanging?this._del.onPageChanging(this._del,t):(Bp.log("onPageChanging:"+t),!0)},t.prototype.onGridViewPageChanged=function(e,t){this._del.onPageChanged?this._del.onPageChanged(this._del,t):Bp.log("onPageChanged:"+t)},t.prototype.onGridViewPageCountChanged=function(e,t){this._del.onPageCountChanged?this._del.onPageCountChanged(this._del,t):Bp.log("onPageCountChanged:"+t)},t.prototype.onGridViewGrouping=function(e,t){return this._del.onGrouping?this._del.onGrouping(this._del,t):(Bp.log("onGrouping",t),!0)},t.prototype.onGridViewGrouped=function(e){this._del.onGrouped?this._del.onGrouped(this._del):Bp.log("onGrouped")},t.prototype.onGridViewExpanding=function(e,t){return this._del.onExpanding?this._del.onExpanding(this._del,t.index):(Bp.log("onExpanding: "+t.index),!0)},t.prototype.onGridViewExpanded=function(e,t){this._del.onExpanded?this._del.onExpanded(this._del,t.index):Bp.log("onExpanded: "+t.index)},t.prototype.onGridViewCollapsing=function(e,t){return this._del.onCollapsing?this._del.onCollapsing(this._del,t.index):(Bp.log("onCollapsing: "+t.index),!0)},t.prototype.onGridViewCollapsed=function(e,t){this._del.onCollapsed?this._del.onCollapsed(this._del,t.index):Bp.log("onCollapsed: "+t.index)},t}(iS),rS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.onTreeViewExpanding=function(e,t){return this._del.onTreeItemExpanding?this._del.onTreeItemExpanding(this._del,t.index,t.rowId):(Bp.log("TreeItem expanding: "+t),!0)},t.prototype.onTreeViewExpanded=function(e,t){this._del.onTreeItemExpanded?this._del.onTreeItemExpanded(this._del,t.index,t.rowId):Bp.log("TreeItem expanded: "+t)},t.prototype.onTreeViewCollapsing=function(e,t){return this._del.onTreeItemCollapsing?this._del.onTreeItemCollapsing(this._del,t.index,t.rowId):(Bp.log("TreeItem collapsing: "+t),!0)},t.prototype.onTreeViewCollapsed=function(e,t){this._del.onTreeItemCollapsed?this._del.onTreeItemCollapsed(this._del,t.index,t.rowId):Bp.log("TreeItem collapsed: "+t)},t.prototype.onTreeViewChanged=function(e,t){this._del.onTreeItemChanged?this._del.onTreeItemChanged(this._del,t.index,t.rowId):Bp.log("TreeItem item changed: "+t)},t}(iS),oS=function(){function e(){}return e.getVersion=function(){return fd.version},e.getLicenseType=function(){return fd.license},e.getLicenseCode=function(){return fd.code},e.getActiveGrid=function(){var e=WC.getActiveGrid();return e&&e.handler},e.getGridInstance=function(e){var t=WC.getGridInstance(e);return t&&t.handler},e.exportGrid=function(e){var t=e&&e.exportGrids;if(t){for(var i=this.getActiveGrid(),n=void 0,r=0;r<t.length;r++){var o=t[r].grid;if(o===i){n=o;break}n=n||o}if(n)return void n.exportGrid(e)}throw new Error("multiExport must have exportGrids.")},e.setDebug=function(e,t,i){Bp.setDebugging(e,t,i)},e.setMobile=function(e){Bp.setMobile(e)},e.setIECompatMode=function(e){Bp.setIECompatMode(e)},e.setTablet=function(e){Bp.setTablet(e)},e.setSlotMode=function(e){Bp.setSlotMode(e)},e.setLocale=function(e){o_.setLocale(e),WC.refreshGrids()},e.getLocale=function(){return o_.getLocale()},e.setDefault=function(e,t){u_.setDefaultOptions(e,t)},e.setLicenseKey=function(e){fd.code=e},Object.defineProperty(e,"GridView",{get:function(){return eS},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TreeView",{get:function(){return tS},enumerable:!1,configurable:!0}),Object.defineProperty(e,"LocalDataProvider",{get:function(){return Vg},enumerable:!1,configurable:!0}),Object.defineProperty(e,"LocalTreeDataProvider",{get:function(){return Hg},enumerable:!1,configurable:!0}),e.registerCustomRenderer=function(e,t,i){aI.registryCustomRenderer(e,t,i)},Object.defineProperty(e,"CustomCellRendererImpl",{get:function(){return Ox},enumerable:!1,configurable:!0}),e}();!function(e){e.RECTANGLE="rectangle",e.TRIANLGE="triangle",e.INVERTED_TRIANLGE="itriangle",e.DIAMOND="diamond",e.UP_ARROW="uparrow",e.DOWN_ARROW="downarrow",e.LEFT_ARROW="leftarrow",e.RIGHT_ARROW="rightarrow",e.PLUS="plus",e.MINUS="minus",e.EQUAL="equal",e.STAR="star"}(AO||(AO={}));
/*!
  * shared v11.1.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */
const sS="undefined"!=typeof window;let aS,lS;{const e=sS&&window.performance;e&&e.mark&&e.measure&&e.clearMarks&&e.clearMeasures&&(aS=t=>{e.mark(t)},lS=(t,i,n)=>{e.measure(t,i,n),e.clearMarks(i),e.clearMarks(n)})}const uS=/\{([0-9a-zA-Z]+)\}/g;function cS(e,...t){return 1===t.length&&kS(t[0])&&(t=t[0]),t&&t.hasOwnProperty||(t={}),e.replace(uS,(e,i)=>t.hasOwnProperty(i)?t[i]:"")}const hS=(e,t=!1)=>t?Symbol.for(e):Symbol(e),dS=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),pS=e=>"number"==typeof e&&isFinite(e),fS=e=>"[object RegExp]"===RS(e),_S=e=>TS(e)&&0===Object.keys(e).length,gS=Object.assign,mS=Object.create,yS=(e=null)=>mS(e);let vS;const bS=()=>vS||(vS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:yS());function wS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const CS=Object.prototype.hasOwnProperty;function xS(e,t){return CS.call(e,t)}const IS=Array.isArray,ES=e=>"function"==typeof e,OS=e=>"string"==typeof e,SS=e=>"boolean"==typeof e,kS=e=>null!==e&&"object"==typeof e,PS=Object.prototype.toString,RS=e=>PS.call(e),TS=e=>"[object Object]"===RS(e);function DS(e,t=""){return e.reduce((e,i,n)=>0===n?e+i:e+t+i,"")}function MS(e,t){}const LS={};function AS(e){LS[e]||(LS[e]=!0)}function FS(){const e=new Map;return{events:e,on(t,i){const n=e.get(t);n&&n.push(i)||e.set(t,[i])},off(t,i){const n=e.get(t);n&&n.splice(n.indexOf(i)>>>0,1)},emit(t,i){(e.get(t)||[]).slice().map(e=>e(i)),(e.get("*")||[]).slice().map(e=>e(t,i))}}}const $S=e=>!kS(e)||IS(e);function NS(e,t){if($S(e)||$S(t))throw new Error("Invalid value");const i=[{src:e,des:t}];for(;i.length;){const{src:e,des:t}=i.pop();Object.keys(e).forEach(n=>{"__proto__"!==n&&(kS(e[n])&&!kS(t[n])&&(t[n]=Array.isArray(e[n])?[]:yS()),$S(t[n])||$S(e[n])?t[n]=e[n]:i.push({src:e[n],des:t[n]}))})}}
/*!
  * message-compiler v11.1.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function jS(e,t,i){return{start:e,end:t}}const BS=1,VS=2,HS=3,US=4,WS=5,GS=6,zS=7,YS=8,qS=9,KS=10,XS=11,ZS=12,JS=13,QS=14,ek=15,tk=16,ik={[BS]:"Expected token: '{0}'",[VS]:"Invalid token in placeholder: '{0}'",[HS]:"Unterminated single quote in placeholder",[US]:"Unknown escape sequence: \\{0}",[WS]:"Invalid unicode escape sequence: {0}",[GS]:"Unbalanced closing brace",[zS]:"Unterminated closing brace",[YS]:"Empty placeholder",[qS]:"Not allowed nest placeholder",[KS]:"Invalid linked format",[XS]:"Plural must have messages",[ZS]:"Unexpected empty linked modifier",[JS]:"Unexpected empty linked key",[QS]:"Unexpected lexical analysis in token: '{0}'",[ek]:"unhandled codegen node type: '{0}'",[tk]:"unhandled mimifier node type: '{0}'"};function nk(e,t,i={}){const{domain:n,messages:r,args:o}=i,s=cS((r||ik)[e]||"",...o||[]),a=new SyntaxError(String(s));return a.code=e,t&&(a.location=t),a.domain=n,a}function rk(e){throw e}const ok=/<\/?[\w\s="/.':;#-\/]+>/,sk=" ",ak="\n",lk=String.fromCharCode(8232),uk=String.fromCharCode(8233);function ck(e){const t=e;let i=0,n=1,r=1,o=0;const s=e=>"\r"===t[e]&&t[e+1]===ak,a=e=>t[e]===uk,l=e=>t[e]===lk,u=e=>s(e)||(e=>t[e]===ak)(e)||a(e)||l(e),c=e=>s(e)||a(e)||l(e)?ak:t[e];function h(){return o=0,u(i)&&(n++,r=0),s(i)&&i++,i++,r++,t[i]}return{index:()=>i,line:()=>n,column:()=>r,peekOffset:()=>o,charAt:c,currentChar:()=>c(i),currentPeek:()=>c(i+o),next:h,peek:function(){return s(i+o)&&o++,o++,t[i+o]},reset:function(){i=0,n=1,r=1,o=0},resetPeek:function(e=0){o=e},skipToPeek:function(){const e=i+o;for(;e!==i;)h();o=0}}}const hk=void 0;function dk(e,t={}){const i=!1!==t.location,n=ck(e),r=()=>n.index(),o=()=>{return e=n.line(),t=n.column(),i=n.index(),{line:e,column:t,offset:i};var e,t,i},s=o(),a=r(),l={currentType:13,offset:a,startLoc:s,endLoc:s,lastType:13,lastOffset:a,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function h(e,t,n,...r){const o=u();if(t.column+=n,t.offset+=n,c){const n=nk(e,i?jS(o.startLoc,t):null,{domain:"tokenizer",args:r});c(n)}}function d(e,t,n){e.endLoc=o(),e.currentType=t;const r={type:t};return i&&(r.loc=jS(e.startLoc,e.endLoc)),null!=n&&(r.value=n),r}const p=e=>d(e,13);function f(e,t){return e.currentChar()===t?(e.next(),t):(h(BS,o(),0,t),"")}function _(e){let t="";for(;e.currentPeek()===sk||e.currentPeek()===ak;)t+=e.currentPeek(),e.peek();return t}function g(e){const t=_(e);return e.skipToPeek(),t}function m(e){if(e===hk)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function y(e,t){const{currentType:i}=t;if(2!==i)return!1;_(e);const n=function(e){if(e===hk)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),n}function v(e){_(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function b(e,t=!0){const i=(t=!1,n="")=>{const r=e.currentPeek();return"{"===r?t:"@"!==r&&r?"|"===r?!(n===sk||n===ak):r===sk?(e.peek(),i(!0,sk)):r!==ak||(e.peek(),i(!0,ak)):t},n=i();return t&&e.resetPeek(),n}function w(e,t){const i=e.currentChar();return i===hk?hk:t(i)?(e.next(),i):null}function C(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}function x(e){return w(e,C)}function I(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t||45===t}function E(e){return w(e,I)}function O(e){const t=e.charCodeAt(0);return t>=48&&t<=57}function S(e){return w(e,O)}function k(e){const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function P(e){return w(e,k)}function R(e){let t="",i="";for(;t=S(e);)i+=t;return i}function T(e){return"'"!==e&&e!==ak}function D(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return M(e,t,4);case"U":return M(e,t,6);default:return h(US,o(),0,t),""}}function M(e,t,i){f(e,t);let n="";for(let r=0;r<i;r++){const i=P(e);if(!i){h(WS,o(),0,`\\${t}${n}${e.currentChar()}`);break}n+=i}return`\\${t}${n}`}function L(e){return"{"!==e&&"}"!==e&&e!==sk&&e!==ak}function A(e){g(e);const t=f(e,"|");return g(e),t}function F(e,t){let i=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&h(qS,o(),0),e.next(),i=d(t,2,"{"),g(e),t.braceNest++,i;case"}":return t.braceNest>0&&2===t.currentType&&h(YS,o(),0),e.next(),i=d(t,3,"}"),t.braceNest--,t.braceNest>0&&g(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),i;case"@":return t.braceNest>0&&h(zS,o(),0),i=$(e,t)||p(t),t.braceNest=0,i;default:{let n=!0,r=!0,s=!0;if(v(e))return t.braceNest>0&&h(zS,o(),0),i=d(t,1,A(e)),t.braceNest=0,t.inLinked=!1,i;if(t.braceNest>0&&(4===t.currentType||5===t.currentType||6===t.currentType))return h(zS,o(),0),t.braceNest=0,N(e,t);if(n=function(e,t){const{currentType:i}=t;if(2!==i)return!1;_(e);const n=m(e.currentPeek());return e.resetPeek(),n}(e,t))return i=d(t,4,function(e){g(e);let t="",i="";for(;t=E(e);)i+=t;return e.currentChar()===hk&&h(zS,o(),0),i}(e)),g(e),i;if(r=y(e,t))return i=d(t,5,function(e){g(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${R(e)}`):t+=R(e),e.currentChar()===hk&&h(zS,o(),0),t}(e)),g(e),i;if(s=function(e,t){const{currentType:i}=t;if(2!==i)return!1;_(e);const n="'"===e.currentPeek();return e.resetPeek(),n}(e,t))return i=d(t,6,function(e){g(e),f(e,"'");let t="",i="";for(;t=w(e,T);)i+="\\"===t?D(e):t;const n=e.currentChar();return n===ak||n===hk?(h(HS,o(),0),n===ak&&(e.next(),f(e,"'")),i):(f(e,"'"),i)}(e)),g(e),i;if(!n&&!r&&!s)return i=d(t,12,function(e){g(e);let t="",i="";for(;t=w(e,L);)i+=t;return i}(e)),h(VS,o(),0,i.value),g(e),i;break}}return i}function $(e,t){const{currentType:i}=t;let n=null;const r=e.currentChar();switch(7!==i&&8!==i&&11!==i&&9!==i||r!==ak&&r!==sk||h(KS,o(),0),r){case"@":return e.next(),n=d(t,7,"@"),t.inLinked=!0,n;case".":return g(e),e.next(),d(t,8,".");case":":return g(e),e.next(),d(t,9,":");default:return v(e)?(n=d(t,1,A(e)),t.braceNest=0,t.inLinked=!1,n):function(e,t){const{currentType:i}=t;if(7!==i)return!1;_(e);const n="."===e.currentPeek();return e.resetPeek(),n}(e,t)||function(e,t){const{currentType:i}=t;if(7!==i&&11!==i)return!1;_(e);const n=":"===e.currentPeek();return e.resetPeek(),n}(e,t)?(g(e),$(e,t)):function(e,t){const{currentType:i}=t;if(8!==i)return!1;_(e);const n=m(e.currentPeek());return e.resetPeek(),n}(e,t)?(g(e),d(t,11,function(e){let t="",i="";for(;t=x(e);)i+=t;return i}(e))):function(e,t){const{currentType:i}=t;if(9!==i)return!1;const n=()=>{const t=e.currentPeek();return"{"===t?m(e.peek()):!("@"===t||"|"===t||":"===t||"."===t||t===sk||!t)&&(t===ak?(e.peek(),n()):b(e,!1))},r=n();return e.resetPeek(),r}(e,t)?(g(e),"{"===r?F(e,t)||n:d(t,10,function(e){const t=i=>{const n=e.currentChar();return"{"!==n&&"@"!==n&&"|"!==n&&"("!==n&&")"!==n&&n?n===sk?i:(i+=n,e.next(),t(i)):i};return t("")}(e))):(7===i&&h(KS,o(),0),t.braceNest=0,t.inLinked=!1,N(e,t))}}function N(e,t){let i={type:13};if(t.braceNest>0)return F(e,t)||p(t);if(t.inLinked)return $(e,t)||p(t);switch(e.currentChar()){case"{":return F(e,t)||p(t);case"}":return h(GS,o(),0),e.next(),d(t,3,"}");case"@":return $(e,t)||p(t);default:if(v(e))return i=d(t,1,A(e)),t.braceNest=0,t.inLinked=!1,i;if(b(e))return d(t,0,function(e){let t="";for(;;){const i=e.currentChar();if("{"===i||"}"===i||"@"===i||"|"===i||!i)break;if(i===sk||i===ak)if(b(e))t+=i,e.next();else{if(v(e))break;t+=i,e.next()}else t+=i,e.next()}return t}(e))}return i}return{nextToken:function(){const{currentType:e,offset:t,startLoc:i,endLoc:s}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=i,l.lastEndLoc=s,l.offset=r(),l.startLoc=o(),n.currentChar()===hk?d(l,13):N(n,l)},currentOffset:r,currentPosition:o,context:u}}const pk=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fk(e,t,i){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||i,16);return e<=55295||e>=57344?String.fromCodePoint(e):""}}}function _k(e={}){const t=!1!==e.location,{onError:i}=e;function n(e,n,r,o,...s){const a=e.currentPosition();if(a.offset+=o,a.column+=o,i){const e=nk(n,t?jS(r,a):null,{domain:"parser",args:s});i(e)}}function r(e,i,n){const r={type:e};return t&&(r.start=i,r.end=i,r.loc={start:n,end:n}),r}function o(e,i,n,r){t&&(e.end=i,e.loc&&(e.loc.end=n))}function s(e,t){const i=e.context(),n=r(3,i.offset,i.startLoc);return n.value=t,o(n,e.currentOffset(),e.currentPosition()),n}function a(e,t){const i=e.context(),{lastOffset:n,lastStartLoc:s}=i,a=r(5,n,s);return a.index=parseInt(t,10),e.nextToken(),o(a,e.currentOffset(),e.currentPosition()),a}function l(e,t){const i=e.context(),{lastOffset:n,lastStartLoc:s}=i,a=r(4,n,s);return a.key=t,e.nextToken(),o(a,e.currentOffset(),e.currentPosition()),a}function u(e,t){const i=e.context(),{lastOffset:n,lastStartLoc:s}=i,a=r(9,n,s);return a.value=t.replace(pk,fk),e.nextToken(),o(a,e.currentOffset(),e.currentPosition()),a}function c(e){const t=e.context(),i=r(6,t.offset,t.startLoc);let s=e.nextToken();if(8===s.type){const t=function(e){const t=e.nextToken(),i=e.context(),{lastOffset:s,lastStartLoc:a}=i,l=r(8,s,a);return 11!==t.type?(n(e,ZS,i.lastStartLoc,0),l.value="",o(l,s,a),{nextConsumeToken:t,node:l}):(null==t.value&&n(e,QS,i.lastStartLoc,0,gk(t)),l.value=t.value||"",o(l,e.currentOffset(),e.currentPosition()),{node:l})}(e);i.modifier=t.node,s=t.nextConsumeToken||e.nextToken()}switch(9!==s.type&&n(e,QS,t.lastStartLoc,0,gk(s)),s=e.nextToken(),2===s.type&&(s=e.nextToken()),s.type){case 10:null==s.value&&n(e,QS,t.lastStartLoc,0,gk(s)),i.key=function(e,t){const i=e.context(),n=r(7,i.offset,i.startLoc);return n.value=t,o(n,e.currentOffset(),e.currentPosition()),n}(e,s.value||"");break;case 4:null==s.value&&n(e,QS,t.lastStartLoc,0,gk(s)),i.key=l(e,s.value||"");break;case 5:null==s.value&&n(e,QS,t.lastStartLoc,0,gk(s)),i.key=a(e,s.value||"");break;case 6:null==s.value&&n(e,QS,t.lastStartLoc,0,gk(s)),i.key=u(e,s.value||"");break;default:{n(e,JS,t.lastStartLoc,0);const a=e.context(),l=r(7,a.offset,a.startLoc);return l.value="",o(l,a.offset,a.startLoc),i.key=l,o(i,a.offset,a.startLoc),{nextConsumeToken:s,node:i}}}return o(i,e.currentOffset(),e.currentPosition()),{node:i}}function h(e){const t=e.context(),i=r(2,1===t.currentType?e.currentOffset():t.offset,1===t.currentType?t.endLoc:t.startLoc);i.items=[];let h=null;do{const r=h||e.nextToken();switch(h=null,r.type){case 0:null==r.value&&n(e,QS,t.lastStartLoc,0,gk(r)),i.items.push(s(e,r.value||""));break;case 5:null==r.value&&n(e,QS,t.lastStartLoc,0,gk(r)),i.items.push(a(e,r.value||""));break;case 4:null==r.value&&n(e,QS,t.lastStartLoc,0,gk(r)),i.items.push(l(e,r.value||""));break;case 6:null==r.value&&n(e,QS,t.lastStartLoc,0,gk(r)),i.items.push(u(e,r.value||""));break;case 7:{const t=c(e);i.items.push(t.node),h=t.nextConsumeToken||null;break}}}while(13!==t.currentType&&1!==t.currentType);return o(i,1===t.currentType?t.lastOffset:e.currentOffset(),1===t.currentType?t.lastEndLoc:e.currentPosition()),i}function d(e){const t=e.context(),{offset:i,startLoc:s}=t,a=h(e);return 13===t.currentType?a:function(e,t,i,s){const a=e.context();let l=0===s.items.length;const u=r(1,t,i);u.cases=[],u.cases.push(s);do{const t=h(e);l||(l=0===t.items.length),u.cases.push(t)}while(13!==a.currentType);return l&&n(e,XS,i,0),o(u,e.currentOffset(),e.currentPosition()),u}(e,i,s,a)}return{parse:function(i){const s=dk(i,gS({},e)),a=s.context(),l=r(0,a.offset,a.startLoc);return t&&l.loc&&(l.loc.source=i),l.body=d(s),e.onCacheKey&&(l.cacheKey=e.onCacheKey(i)),13!==a.currentType&&n(s,QS,a.lastStartLoc,0,i[a.offset]||""),o(l,s.currentOffset(),s.currentPosition()),l}}}function gk(e){if(13===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function mk(e,t){for(let i=0;i<e.length;i++)yk(e[i],t)}function yk(e,t){switch(e.type){case 1:mk(e.cases,t),t.helper("plural");break;case 2:mk(e.items,t);break;case 6:yk(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function vk(e,t={}){const i=function(e){const t={ast:e,helpers:new Set};return{context:()=>t,helper:e=>(t.helpers.add(e),e)}}(e);i.helper("normalize"),e.body&&yk(e.body,i);const n=i.context();e.helpers=Array.from(n.helpers)}function bk(e){if(1===e.items.length){const t=e.items[0];3!==t.type&&9!==t.type||(e.static=t.value,delete t.value)}else{const t=[];for(let i=0;i<e.items.length;i++){const n=e.items[i];if(3!==n.type&&9!==n.type)break;if(null==n.value)break;t.push(n.value)}if(t.length===e.items.length){e.static=DS(t);for(let t=0;t<e.items.length;t++){const i=e.items[t];3!==i.type&&9!==i.type||delete i.value}}}}function wk(e){switch(e.t=e.type,e.type){case 0:{const t=e;wk(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,i=t.cases;for(let e=0;e<i.length;e++)wk(i[e]);t.c=i,delete t.cases;break}case 2:{const t=e,i=t.items;for(let e=0;e<i.length;e++)wk(i[e]);t.i=i,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;wk(t.key),t.k=t.key,delete t.key,t.modifier&&(wk(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw nk(tk,null,{domain:"minifier",args:[e.type]})}delete e.type}function Ck(e,t){const{helper:i}=e;switch(t.type){case 0:!function(e,t){t.body?Ck(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){const{helper:i,needIndent:n}=e;if(t.cases.length>1){e.push(`${i("plural")}([`),e.indent(n());const r=t.cases.length;for(let i=0;i<r&&(Ck(e,t.cases[i]),i!==r-1);i++)e.push(", ");e.deindent(n()),e.push("])")}}(e,t);break;case 2:!function(e,t){const{helper:i,needIndent:n}=e;e.push(`${i("normalize")}([`),e.indent(n());const r=t.items.length;for(let o=0;o<r&&(Ck(e,t.items[o]),o!==r-1);o++)e.push(", ");e.deindent(n()),e.push("])")}(e,t);break;case 6:!function(e,t){const{helper:i}=e;e.push(`${i("linked")}(`),Ck(e,t.key),t.modifier?(e.push(", "),Ck(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}(e,t);break;case 8:case 7:case 9:case 3:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${i("interpolate")}(${i("list")}(${t.index}))`,t);break;case 4:e.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(t.key)}))`,t);break;default:throw nk(ek,null,{domain:"parser",args:[t.type]})}}function xk(e,t={}){const i=gS({},t),n=!!i.jit,r=!!i.minify,o=null==i.optimize||i.optimize,s=_k(i).parse(e);return n?(o&&function(e){const t=e.body;2===t.type?bk(t):t.cases.forEach(e=>bk(e))}(s),r&&wk(s),{ast:s,code:""}):(vk(s,i),((e,t={})=>{const i=OS(t.mode)?t.mode:"normal",n=OS(t.filename)?t.filename:"message.intl";t.sourceMap;const r=null!=t.breakLineCode?t.breakLineCode:"arrow"===i?";":"\n",o=t.needIndent?t.needIndent:"arrow"!==i,s=e.helpers||[],a=function(e,t){const{filename:i,breakLineCode:n,needIndent:r}=t,o=!1!==t.location,s={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:r,indentLevel:0};function a(e,t){s.code+=e}function l(e,t=!0){const i=t?n:"";a(r?i+"  ".repeat(e):i)}return o&&e.loc&&(s.source=e.loc.source),{context:()=>s,push:a,indent:function(e=!0){const t=++s.indentLevel;e&&l(t)},deindent:function(e=!0){const t=--s.indentLevel;e&&l(t)},newline:function(){l(s.indentLevel)},helper:e=>`_${e}`,needIndent:()=>s.needIndent}}(e,{filename:n,breakLineCode:r,needIndent:o});a.push("normal"===i?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(o),s.length>0&&(a.push(`const { ${DS(s.map(e=>`${e}: _${e}`),", ")} } = ctx`),a.newline()),a.push("return "),Ck(a,e),a.deindent(o),a.push("}"),delete e.helpers;const{code:l,map:u}=a.context();return{ast:e,code:l,map:u?u.toJSON():void 0}})(s,i))}
/*!
  * core-base v11.1.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Ik(e){return kS(e)&&0===Rk(e)&&(xS(e,"b")||xS(e,"body"))}const Ek=["b","body"];const Ok=["c","cases"];const Sk=["s","static"];const kk=["i","items"];const Pk=["t","type"];function Rk(e){return Ak(e,Pk)}const Tk=["v","value"];function Dk(e,t){const i=Ak(e,Tk);if(null!=i)return i;throw $k(t)}const Mk=["m","modifier"];const Lk=["k","key"];function Ak(e,t,i){for(let n=0;n<t.length;n++){const i=t[n];if(xS(e,i)&&null!=e[i])return e[i]}return i}const Fk=[...Ek,...Ok,...Sk,...kk,...Lk,...Mk,...Tk,...Pk];function $k(e){return new Error(`unhandled node type: ${e}`)}function Nk(e){return t=>function(e,t){const i=(n=t,Ak(n,Ek));var n;if(null==i)throw $k(0);if(1===Rk(i)){const t=function(e){return Ak(e,Ok,[])}(i);return e.plural(t.reduce((t,i)=>[...t,jk(e,i)],[]))}return jk(e,i)}(t,e)}function jk(e,t){const i=function(e){return Ak(e,Sk)}(t);if(null!=i)return"text"===e.type?i:e.normalize([i]);{const i=function(e){return Ak(e,kk,[])}(t).reduce((t,i)=>[...t,Bk(e,i)],[]);return e.normalize(i)}}function Bk(e,t){const i=Rk(t);switch(i){case 3:case 9:case 7:case 8:return Dk(t,i);case 4:{const n=t;if(xS(n,"k")&&n.k)return e.interpolate(e.named(n.k));if(xS(n,"key")&&n.key)return e.interpolate(e.named(n.key));throw $k(i)}case 5:{const n=t;if(xS(n,"i")&&pS(n.i))return e.interpolate(e.list(n.i));if(xS(n,"index")&&pS(n.index))return e.interpolate(e.list(n.index));throw $k(i)}case 6:{const i=t,n=function(e){return Ak(e,Mk)}(i),r=function(e){const t=Ak(e,Lk);if(t)return t;throw $k(6)}(i);return e.linked(Bk(e,r),n?Bk(e,n):void 0,e.type)}default:throw new Error(`unhandled node on format message part: ${i}`)}}function Vk(e,t){t&&(e=>ok.test(e))(e)&&cS("Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.",{source:e})}const Hk=e=>e;let Uk=yS();let Wk=null;const Gk=zk("function:translate");function zk(e){return t=>Wk&&Wk.emit(e,t)}const Yk=17,qk=18,Kk=19,Xk=20,Zk=21,Jk=22,Qk=23;function eP(e){return nk(e,null,{messages:tP})}const tP={[Yk]:"Invalid arguments",[qk]:"The date provided is an invalid Date object.Make sure your Date represents a valid date.",[Kk]:"The argument provided is not a valid ISO date string",[Xk]:"Not support non-string message",[Zk]:"cannot support promise value",[Jk]:"cannot support async function",[Qk]:"cannot support locale type"};function iP(e,t){return null!=t.locale?rP(t.locale):rP(e.locale)}let nP;function rP(e){if(OS(e))return e;if(ES(e)){if(e.resolvedOnce&&null!=nP)return nP;if("Function"===e.constructor.name){const i=e();if(kS(t=i)&&ES(t.then)&&ES(t.catch))throw eP(Zk);return nP=i}throw eP(Jk)}throw eP(Qk);var t}function oP(e,t,i){return[...new Set([i,...IS(t)?t:kS(t)?Object.keys(t):OS(t)?[t]:[i]])]}function sP(e,t,i){const n=OS(i)?i:EP,r=e;r.__localeChainCache||(r.__localeChainCache=new Map);let o=r.__localeChainCache.get(n);if(!o){o=[];let e=[i];for(;IS(e);)e=aP(o,e,t);const s=IS(t)||!TS(t)?t:t.default?t.default:null;e=OS(s)?[s]:s,IS(e)&&aP(o,e,!1),r.__localeChainCache.set(n,o)}return o}function aP(e,t,i){let n=!0;for(let r=0;r<t.length&&SS(n);r++){const o=t[r];OS(o)&&(n=lP(e,t[r],i))}return n}function lP(e,t,i){let n;const r=t.split("-");do{n=uP(e,r.join("-"),i),r.splice(-1,1)}while(r.length&&!0===n);return n}function uP(e,t,i){let n=!1;if(!e.includes(t)&&(n=!0,t)){n="!"!==t[t.length-1];const r=t.replace(/!/g,"");e.push(r),(IS(i)||TS(i))&&i[r]&&(n=i[r])}return n}const cP=[];cP[0]={w:[0],i:[3,0],"[":[4],o:[7]},cP[1]={w:[1],".":[2],"[":[4],o:[7]},cP[2]={w:[2],i:[3,0],0:[3,0]},cP[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},cP[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},cP[5]={"'":[4,0],o:8,l:[5,0]},cP[6]={'"':[4,0],o:8,l:[6,0]};const hP=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function dP(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function pP(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(i=t,hP.test(i)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t);var i}const fP=new Map;function _P(e,t){return kS(e)?e[t]:null}const gP=1,mP=2,yP=3,vP=4,bP=5,wP=6,CP=7,xP={[gP]:"Not found '{key}' key in '{locale}' locale messages.",[mP]:"Fall back to translate '{key}' key with '{target}' locale.",[yP]:"Cannot format a number value due to not supported Intl.NumberFormat.",[vP]:"Fall back to number format '{key}' key with '{target}' locale.",[bP]:"Cannot format a date value due to not supported Intl.DateTimeFormat.",[wP]:"Fall back to datetime format '{key}' key with '{target}' locale.",[CP]:"This project is using Custom Message Compiler, which is an experimental feature. It may receive breaking changes or be removed in the future."};function IP(e,...t){return cS(xP[e],...t)}const EP="en-US",OP=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;let SP,kP,PP;let RP=null;const TP=()=>RP;let DP=null;const MP=e=>{DP=e};let LP=0;function AP(e={}){const t=ES(e.onWarn)?e.onWarn:MS,i=OS(e.version)?e.version:"11.1.7",n=OS(e.locale)||ES(e.locale)?e.locale:EP,r=ES(n)?EP:n,o=IS(e.fallbackLocale)||TS(e.fallbackLocale)||OS(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:r,s=TS(e.messages)?e.messages:FP(r),a=TS(e.datetimeFormats)?e.datetimeFormats:FP(r),l=TS(e.numberFormats)?e.numberFormats:FP(r),u=gS(yS(),e.modifiers,{upper:(e,t)=>"text"===t&&OS(e)?e.toUpperCase():"vnode"===t&&kS(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&OS(e)?e.toLowerCase():"vnode"===t&&kS(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&OS(e)?OP(e):"vnode"===t&&kS(e)&&"__v_isVNode"in e?OP(e.children):e}),c=e.pluralRules||yS(),h=ES(e.missing)?e.missing:null,d=!SS(e.missingWarn)&&!fS(e.missingWarn)||e.missingWarn,p=!SS(e.fallbackWarn)&&!fS(e.fallbackWarn)||e.fallbackWarn,f=!!e.fallbackFormat,_=!!e.unresolving,g=ES(e.postTranslation)?e.postTranslation:null,m=TS(e.processor)?e.processor:null,y=!SS(e.warnHtmlMessage)||e.warnHtmlMessage,v=!!e.escapeParameter,b=ES(e.messageCompiler)?e.messageCompiler:SP;ES(e.messageCompiler)&&AS(IP(CP));const w=ES(e.messageResolver)?e.messageResolver:kP||_P,C=ES(e.localeFallbacker)?e.localeFallbacker:PP||oP,x=kS(e.fallbackContext)?e.fallbackContext:void 0,I=e,E=kS(I.__datetimeFormatters)?I.__datetimeFormatters:new Map,O=kS(I.__numberFormatters)?I.__numberFormatters:new Map,S=kS(I.__meta)?I.__meta:{};LP++;const k={version:i,cid:LP,locale:n,fallbackLocale:o,messages:s,modifiers:u,pluralRules:c,missing:h,missingWarn:d,fallbackWarn:p,fallbackFormat:f,unresolving:_,postTranslation:g,processor:m,warnHtmlMessage:y,escapeParameter:v,messageCompiler:b,messageResolver:w,localeFallbacker:C,fallbackContext:x,onWarn:t,__meta:S};return k.datetimeFormats=a,k.numberFormats=l,k.__datetimeFormatters=E,k.__numberFormatters=O,k.__v_emitter=null!=I.__v_emitter?I.__v_emitter:void 0,function(e,t,i){Wk&&Wk.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:i})}(k,i,S),k}const FP=e=>({[e]:yS()});function $P(e,t){return e instanceof RegExp?e.test(t):e}function NP(e,t){return e instanceof RegExp?e.test(t):e}function jP(e,t,i,n,r){const{missing:o,onWarn:s}=e;{const n=e.__v_emitter;n&&n.emit("missing",{locale:i,key:t,type:r,groupId:`${r}:${t}`})}if(null!==o){const n=o(e,i,t,r);return OS(n)?n:t}return NP(n,t)&&s(IP(gP,{key:t,locale:i})),t}function BP(e,t,i){e.__localeChainCache=new Map,e.localeFallbacker(e,i,t)}function VP(e,t){return e!==t&&e.split("-")[0]===t.split("-")[0]}function HP(e,t){const i=t.indexOf(e);if(-1===i)return!1;for(let n=i+1;n<t.length;n++)if(VP(e,t[n]))return!0;return!1}const UP="undefined"!=typeof Intl,WP=UP&&void 0!==Intl.DateTimeFormat,GP=UP&&void 0!==Intl.NumberFormat;function zP(e,...t){const{datetimeFormats:i,unresolving:n,fallbackLocale:r,onWarn:o,localeFallbacker:s}=e,{__datetimeFormatters:a}=e;if(!WP)return o(IP(bP)),"";const[l,u,c,h]=qP(...t),d=SS(c.missingWarn)?c.missingWarn:e.missingWarn,p=SS(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,f=!!c.part,_=iP(e,c),g=s(e,r,_);if(!OS(l)||""===l)return new Intl.DateTimeFormat(_,h).format(u);let m,y={},v=null,b=_,w=null;const C="datetime format";for(let E=0;E<g.length;E++){if(m=w=g[E],_!==m&&$P(p,l)&&o(IP(wP,{key:l,target:m})),_!==m){const t=e.__v_emitter;t&&t.emit("fallback",{type:C,key:l,from:b,to:w,groupId:`${C}:${l}`})}if(y=i[m]||{},v=y[l],TS(v))break;jP(e,l,m,d,C),b=w}if(!TS(v)||!OS(m))return n?-1:l;let x=`${m}__${l}`;_S(h)||(x=`${x}__${JSON.stringify(h)}`);let I=a.get(x);return I||(I=new Intl.DateTimeFormat(m,gS({},v,h)),a.set(x,I)),f?I.formatToParts(u):I.format(u)}const YP=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function qP(...e){const[t,i,n,r]=e,o=yS();let s,a=yS();if(OS(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw eP(Kk);const i=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();s=new Date(i);try{s.toISOString()}catch{throw eP(Kk)}}else if("[object Date]"===RS(t)){if(isNaN(t.getTime()))throw eP(qk);s=t}else{if(!pS(t))throw eP(Yk);s=t}return OS(i)?o.key=i:TS(i)&&Object.keys(i).forEach(e=>{YP.includes(e)?a[e]=i[e]:o[e]=i[e]}),OS(n)?o.locale=n:TS(n)&&(a=n),TS(r)&&(a=r),[o.key||"",s,o,a]}function KP(e,t,i){const n=e;for(const r in i){const e=`${t}__${r}`;n.__datetimeFormatters.has(e)&&n.__datetimeFormatters.delete(e)}}function XP(e,...t){const{numberFormats:i,unresolving:n,fallbackLocale:r,onWarn:o,localeFallbacker:s}=e,{__numberFormatters:a}=e;if(!GP)return o(IP(yP)),"";const[l,u,c,h]=JP(...t),d=SS(c.missingWarn)?c.missingWarn:e.missingWarn,p=SS(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,f=!!c.part,_=iP(e,c),g=s(e,r,_);if(!OS(l)||""===l)return new Intl.NumberFormat(_,h).format(u);let m,y={},v=null,b=_,w=null;const C="number format";for(let E=0;E<g.length;E++){if(m=w=g[E],_!==m&&$P(p,l)&&o(IP(vP,{key:l,target:m})),_!==m){const t=e.__v_emitter;t&&t.emit("fallback",{type:C,key:l,from:b,to:w,groupId:`${C}:${l}`})}if(y=i[m]||{},v=y[l],TS(v))break;jP(e,l,m,d,C),b=w}if(!TS(v)||!OS(m))return n?-1:l;let x=`${m}__${l}`;_S(h)||(x=`${x}__${JSON.stringify(h)}`);let I=a.get(x);return I||(I=new Intl.NumberFormat(m,gS({},v,h)),a.set(x,I)),f?I.formatToParts(u):I.format(u)}const ZP=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function JP(...e){const[t,i,n,r]=e,o=yS();let s=yS();if(!pS(t))throw eP(Yk);const a=t;return OS(i)?o.key=i:TS(i)&&Object.keys(i).forEach(e=>{ZP.includes(e)?s[e]=i[e]:o[e]=i[e]}),OS(n)?o.locale=n:TS(n)&&(s=n),TS(r)&&(s=r),[o.key||"",a,o,s]}function QP(e,t,i){const n=e;for(const r in i){const e=`${t}__${r}`;n.__numberFormatters.has(e)&&n.__numberFormatters.delete(e)}}const eR=e=>e,tR=e=>"",iR=e=>0===e.length?"":DS(e),nR=e=>null==e?"":IS(e)||TS(e)&&e.toString===PS?JSON.stringify(e,null,2):String(e);function rR(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function oR(e={}){const t=e.locale,i=function(e){const t=pS(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(pS(e.named.count)||pS(e.named.n))?pS(e.named.count)?e.named.count:pS(e.named.n)?e.named.n:t:t}(e),n=kS(e.pluralRules)&&OS(t)&&ES(e.pluralRules[t])?e.pluralRules[t]:rR,r=kS(e.pluralRules)&&OS(t)&&ES(e.pluralRules[t])?rR:void 0,o=e.list||[],s=e.named||yS();pS(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(i,s);function a(t,i){const n=ES(e.messages)?e.messages(t,!!i):!!kS(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):tR)}const l=TS(e.processor)&&ES(e.processor.normalize)?e.processor.normalize:iR,u=TS(e.processor)&&ES(e.processor.interpolate)?e.processor.interpolate:nR,c={list:e=>o[e],named:e=>s[e],plural:e=>e[n(i,e.length,r)],linked:(t,...i)=>{const[n,r]=i;let o="text",s="";1===i.length?kS(n)?(s=n.modifier||s,o=n.type||o):OS(n)&&(s=n||s):2===i.length&&(OS(n)&&(s=n||s),OS(r)&&(o=r||o));const l=a(t,!0)(c),u="vnode"===o&&IS(l)&&s?l[0]:l;return s?(h=s,e.modifiers?e.modifiers[h]:eR)(u,o):u;var h},message:a,type:TS(e.processor)&&OS(e.processor.type)?e.processor.type:"text",interpolate:u,normalize:l,values:gS(yS(),o,s)};return c}const sR=()=>"",aR=e=>ES(e);function lR(e,...t){const{fallbackFormat:i,postTranslation:n,unresolving:r,messageCompiler:o,fallbackLocale:s,messages:a}=e,[l,u]=hR(...t),c=SS(u.missingWarn)?u.missingWarn:e.missingWarn,h=SS(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,d=SS(u.escapeParameter)?u.escapeParameter:e.escapeParameter,p=!!u.resolvedMessage,f=OS(u.default)||SS(u.default)?SS(u.default)?o?l:()=>l:u.default:i?o?l:()=>l:null,_=i||null!=f&&(OS(f)||ES(f)),g=iP(e,u);d&&function(e){IS(e.list)?e.list=e.list.map(e=>OS(e)?wS(e):e):kS(e.named)&&Object.keys(e.named).forEach(t=>{OS(e.named[t])&&(e.named[t]=wS(e.named[t]))})}(u);let[m,y,v]=p?[l,g,a[g]||yS()]:uR(e,l,g,s,h,c),b=m,w=l;if(p||OS(b)||Ik(b)||aR(b)||_&&(b=f,w=b),!(p||(OS(b)||Ik(b)||aR(b))&&OS(y)))return r?-1:l;if(OS(b)&&null==e.messageCompiler)return l;let C=!1;const x=aR(b)?b:cR(e,l,y,b,w,()=>{C=!0});if(C)return b;const I=function(e,t,i,n){const{modifiers:r,pluralRules:o,messageResolver:s,fallbackLocale:a,fallbackWarn:l,missingWarn:u,fallbackContext:c}=e,h=(n,r)=>{let o=s(i,n);if(null==o&&(c||r)){const[,,i]=uR(c||e,n,t,a,l,u);o=s(i,n)}if(OS(o)||Ik(o)){let i=!1;const r=cR(e,n,t,o,n,()=>{i=!0});return i?sR:r}return aR(o)?o:sR},d={locale:t,modifiers:r,pluralRules:o,messages:h};e.processor&&(d.processor=e.processor);n.list&&(d.list=n.list);n.named&&(d.named=n.named);pS(n.plural)&&(d.pluralIndex=n.plural);return d}(e,y,v,u),E=function(e,t,i){let n,r,o=null;sS&&(o=window.performance.now(),n="intlify-message-evaluation-start",r="intlify-message-evaluation-end",aS&&aS(n));const s=t(i);if(sS){const i=window.performance.now(),a=e.__v_emitter;a&&o&&a.emit("message-evaluation",{type:"message-evaluation",value:s,time:i-o,groupId:`translate:${t.key}`}),n&&r&&aS&&lS&&(aS(r),lS("intlify message evaluation",n,r))}return s}(e,x,oR(I)),O=n?n(E,l):E;{const t={timestamp:Date.now(),key:OS(l)?l:aR(b)?b.key:"",locale:y||(aR(b)?b.locale:""),format:OS(b)?b:aR(b)?b.source:"",message:O};t.meta=gS({},e.__meta,TP()||{}),Gk(t)}return O}function uR(e,t,i,n,r,o){const{messages:s,onWarn:a,messageResolver:l,localeFallbacker:u}=e,c=u(e,n,i);let h,d=yS(),p=null,f=i,_=null;const g="translate";for(let m=0;m<c.length;m++){if(h=_=c[m],i!==h&&!VP(i,h)&&$P(r,t)&&a(IP(mP,{key:t,target:h})),i!==h){const i=e.__v_emitter;i&&i.emit("fallback",{type:g,key:t,from:f,to:_,groupId:`${g}:${t}`})}d=s[h]||yS();let n,u,y=null;if(sS&&(y=window.performance.now(),n="intlify-message-resolve-start",u="intlify-message-resolve-end",aS&&aS(n)),null===(p=l(d,t))&&(p=d[t]),sS){const i=window.performance.now(),r=e.__v_emitter;r&&y&&p&&r.emit("message-resolve",{type:"message-resolve",key:t,message:p,time:i-y,groupId:`${g}:${t}`}),n&&u&&aS&&lS&&(aS(u),lS("intlify message resolve",n,u))}if(OS(p)||Ik(p)||aR(p))break;if(!HP(h,c)){const i=jP(e,t,h,o,g);i!==t&&(p=i)}f=_}return[p,h,d]}function cR(e,t,i,n,r,o){const{messageCompiler:s,warnHtmlMessage:a}=e;if(aR(n)){const e=n;return e.locale=e.locale||i,e.key=e.key||t,e}if(null==s){const e=()=>n;return e.locale=i,e.key=t,e}let l,u,c=null;sS&&(c=window.performance.now(),l="intlify-message-compilation-start",u="intlify-message-compilation-end",aS&&aS(l));const h=s(n,function(e,t,i,n,r,o){return{locale:t,key:i,warnHtmlMessage:r,onError:t=>{o&&o(t);{const r=function(e){if(OS(e))return e;if(e.loc&&e.loc.source)return e.loc.source}(n),o=(t.message,t.location&&r&&function(e,t=0,i=e.length){const n=e.split(/\r?\n/);let r=0;const o=[];for(let s=0;s<n.length;s++)if(r+=n[s].length+1,r>=t){for(let e=s-2;e<=s+2||i>r;e++){if(e<0||e>=n.length)continue;const a=e+1;o.push(`${a}${" ".repeat(3-String(a).length)}|  ${n[e]}`);const l=n[e].length;if(e===s){const e=t-(r-l)+1,n=Math.max(1,i>r?l-e:i-t);o.push("   |  "+" ".repeat(e)+"^".repeat(n))}else if(e>s){if(i>r){const e=Math.max(Math.min(i-r,l),1);o.push("   |  "+"^".repeat(e))}r+=l+1}}break}o.join("\n")}(r,t.location.start.offset,t.location.end.offset),e.__v_emitter);o&&r&&o.emit("compile-error",{message:r,error:t.message,start:t.location&&t.location.start.offset,end:t.location&&t.location.end.offset,groupId:`translate:${i}`})}},onCacheKey:e=>((e,t,i)=>dS({l:e,k:t,s:i}))(t,i,e)}}(e,i,r,n,a,o));if(sS){const i=window.performance.now(),r=e.__v_emitter;r&&c&&r.emit("message-compilation",{type:"message-compilation",message:n,time:i-c,groupId:`translate:${t}`}),l&&u&&aS&&lS&&(aS(u),lS("intlify message compilation",l,u))}return h.locale=i,h.key=t,h.source=n,h}function hR(...e){const[t,i,n]=e,r=yS();if(!(OS(t)||pS(t)||aR(t)||Ik(t)))throw eP(Yk);const o=pS(t)?String(t):(aR(t),t);return pS(i)?r.plural=i:OS(i)?r.default=i:TS(i)&&!_S(i)?r.named=i:IS(i)&&(r.list=i),pS(n)?r.plural=n:OS(n)?r.default=n:TS(n)&&gS(r,n),[o,r]}function dR(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:{}}"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(bS().__INTLIFY_PROD_DEVTOOLS__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(bS().__INTLIFY_DROP_MESSAGE_COMPILER__=!1);const pR="function"==typeof Proxy;let fR,_R;function gR(){return void 0!==fR||("undefined"!=typeof window&&window.performance?(fR=!0,_R=window.performance):"undefined"!=typeof globalThis&&(null===(e=globalThis.perf_hooks)||void 0===e?void 0:e.performance)?(fR=!0,_R=globalThis.perf_hooks.performance):fR=!1),fR?_R.now():Date.now();var e}class mR{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const i={};if(e.settings)for(const o in e.settings){const t=e.settings[o];i[o]=t.defaultValue}const n=`__vue-devtools-plugin-settings__${e.id}`;let r=Object.assign({},i);try{const e=localStorage.getItem(n),t=JSON.parse(e);Object.assign(r,t)}catch(VY){}this.fallbacks={getSettings:()=>r,setSettings(e){try{localStorage.setItem(n,JSON.stringify(e))}catch(VY){}r=e},now:()=>gR()},t&&t.on("plugin:settings:set",(e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)}),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise(i=>{this.targetQueue.push({method:t,args:e,resolve:i})})})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function yR(e,t){const i=e,n=dR(),r=dR().__VUE_DEVTOOLS_GLOBAL_HOOK__,o=pR&&i.enableEarlyProxy;if(!r||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const e=o?new mR(i,r):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:i,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else r.emit("devtools-plugin:setup",e,t)}
/*!
  * vue-i18n v11.1.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const vR=24,bR=25,wR=26,CR=27,xR=28,IR=29,ER=30,OR=31,SR=32,kR=33,PR=34,RR=35;function TR(e,...t){return nk(e,null,{messages:DR,args:t})}const DR={[vR]:"Unexpected return type in composer",[bR]:"Invalid argument",[wR]:"Must be called at the top of a `setup` function",[CR]:"Need to install with `app.use` function",[SR]:"Unexpected error",[xR]:"Required in value: {0}",[IR]:"Invalid value",[ER]:"Cannot setup vue-devtools plugin",[OR]:"Need to install with `provide` function",[kR]:"Not compatible legacy VueI18n.",[PR]:"Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly",[RR]:"Duplicate `useI18n` calling by local scope. Please don't call it on local scope"},MR=hS("__translateVNode"),LR=hS("__datetimeParts"),AR=hS("__numberParts"),FR=hS("__enableEmitter"),$R=hS("__disableEmitter"),NR=hS("__setPluralRules"),jR=hS("__injectWithOption"),BR=hS("__dispose"),VR=8,HR=9,UR=10,WR=11,GR=12,zR={[VR]:"Fall back to {type} '{key}' with root locale.",[HR]:"Not found parent scope. use the global scope.",[UR]:"Ignore object flatten: '{key}' key has an string value",[WR]:"Legacy API mode has been deprecated in v11. Use Composition API mode instead.\nAbout how to use the Composition API mode, see https://vue-i18n.intlify.dev/guide/advanced/composition.html",[GR]:"'v-t' has been deprecated in v11. Use translate APIs ('t' or '$t') instead."};function YR(e,...t){return cS(zR[e],...t)}function qR(e){if(!kS(e))return e;if(Ik(e))return e;for(const t in e)if(xS(e,t))if(t.includes(".")){const i=t.split("."),n=i.length-1;let r=e,o=!1;for(let e=0;e<n;e++){if("__proto__"===i[e])throw new Error(`unsafe key: ${i[e]}`);if(i[e]in r||(r[i[e]]=yS()),!kS(r[i[e]])){MS(YR(UR,{key:i[e]})),o=!0;break}r=r[i[e]]}if(o||(Ik(r)?Fk.includes(i[n])||delete e[t]:(r[i[n]]=e[t],delete e[t])),!Ik(r)){const e=r[i[n]];kS(e)&&qR(e)}}else kS(e[t])&&qR(e[t]);return e}function KR(e,t){const{messages:i,__i18n:n,messageResolver:r,flatJson:o}=t,s=TS(i)?i:IS(n)?yS():{[e]:yS()};if(IS(n)&&n.forEach(e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:i}=e;t?(s[t]=s[t]||yS(),NS(i,s[t])):NS(i,s)}else OS(e)&&NS(JSON.parse(e),s)}),null==r&&o)for(const a in s)xS(s,a)&&qR(s[a]);return s}function XR(e){return e.type}function ZR(e,t,i){let n=kS(t.messages)?t.messages:yS();"__i18nGlobal"in i&&(n=KR(e.locale.value,{messages:n,__i18n:i.__i18nGlobal}));const r=Object.keys(n);if(r.length&&r.forEach(t=>{e.mergeLocaleMessage(t,n[t])}),kS(t.datetimeFormats)){const i=Object.keys(t.datetimeFormats);i.length&&i.forEach(i=>{e.mergeDateTimeFormat(i,t.datetimeFormats[i])})}if(kS(t.numberFormats)){const i=Object.keys(t.numberFormats);i.length&&i.forEach(i=>{e.mergeNumberFormat(i,t.numberFormats[i])})}}function JR(e){return Xo(Lo,null,e,0)}const QR=()=>[],eT=()=>!1;let tT=0;function iT(e){return(t,i,n,r)=>e(i,n,cs()||void 0,r)}function nT(e={}){const{__root:t,__injectWithOption:i}=e,n=void 0===t,r=e.flatJson,o=sS?Dt:Mt;let s=!SS(e.inheritLocale)||e.inheritLocale;const a=o(t&&s?t.locale.value:OS(e.locale)?e.locale:EP),l=o(t&&s?t.fallbackLocale.value:OS(e.fallbackLocale)||IS(e.fallbackLocale)||TS(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:a.value),u=o(KR(a.value,e)),c=o(TS(e.datetimeFormats)?e.datetimeFormats:{[a.value]:{}}),h=o(TS(e.numberFormats)?e.numberFormats:{[a.value]:{}});let d=t?t.missingWarn:!SS(e.missingWarn)&&!fS(e.missingWarn)||e.missingWarn,p=t?t.fallbackWarn:!SS(e.fallbackWarn)&&!fS(e.fallbackWarn)||e.fallbackWarn,f=t?t.fallbackRoot:!SS(e.fallbackRoot)||e.fallbackRoot,_=!!e.fallbackFormat,g=ES(e.missing)?e.missing:null,m=ES(e.missing)?iT(e.missing):null,y=ES(e.postTranslation)?e.postTranslation:null,v=t?t.warnHtmlMessage:!SS(e.warnHtmlMessage)||e.warnHtmlMessage,b=!!e.escapeParameter;const w=t?t.modifiers:TS(e.modifiers)?e.modifiers:{};let C,x=e.pluralRules||t&&t.pluralRules;C=(()=>{n&&MP(null);const t={version:"11.1.7",locale:a.value,fallbackLocale:l.value,messages:u.value,modifiers:w,pluralRules:x,missing:null===m?void 0:m,missingWarn:d,fallbackWarn:p,fallbackFormat:_,unresolving:!0,postTranslation:null===y?void 0:y,warnHtmlMessage:v,escapeParameter:b,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};t.datetimeFormats=c.value,t.numberFormats=h.value,t.__datetimeFormatters=TS(C)?C.__datetimeFormatters:void 0,t.__numberFormatters=TS(C)?C.__numberFormatters:void 0,t.__v_emitter=TS(C)?C.__v_emitter:void 0;const i=AP(t);return n&&MP(i),i})(),BP(C,a.value,l.value);const I=Rs({get:()=>a.value,set:e=>{C.locale=e,a.value=e}}),E=Rs({get:()=>l.value,set:e=>{C.fallbackLocale=e,l.value=e,BP(C,a.value,e)}}),O=Rs(()=>u.value),S=Rs(()=>c.value),k=Rs(()=>h.value);const P=(e,i,r,o,s,_)=>{let g;a.value,l.value,u.value,c.value,h.value;try{1,n||(C.fallbackContext=t?DP:void 0),g=e(C)}finally{n||(C.fallbackContext=void 0)}if("translate exists"!==r&&pS(g)&&-1===g||"translate exists"===r&&!g){const[e,n]=i();if(t&&OS(e)&&(m=n,"translate"!==r||!m.resolvedMessage)){f&&($P(p,e)||NP(d,e))&&YR(VR,{key:e,type:r});{const{__v_emitter:t}=C;t&&f&&t.emit("fallback",{type:r,key:e,to:"global",groupId:`${r}:${e}`})}}return t&&f?o(t):s(e)}if(_(g))return g;throw TR(vR);var m};function R(...e){return P(t=>Reflect.apply(lR,null,[t,...e]),()=>hR(...e),"translate",t=>Reflect.apply(t.t,t,[...e]),e=>e,e=>OS(e))}const T={normalize:function(e){return e.map(e=>OS(e)||pS(e)||SS(e)?JR(String(e)):e)},interpolate:e=>e,type:"vnode"};function D(e){return u.value[e]||{}}tT++,t&&sS&&(_o(t.locale,e=>{s&&(a.value=e,C.locale=e,BP(C,a.value,l.value))}),_o(t.fallbackLocale,e=>{s&&(l.value=e,C.fallbackLocale=e,BP(C,a.value,l.value))}));const M={id:tT,locale:I,fallbackLocale:E,get inheritLocale(){return s},set inheritLocale(e){s=e,e&&t&&(a.value=t.locale.value,l.value=t.fallbackLocale.value,BP(C,a.value,l.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:O,get modifiers(){return w},get pluralRules(){return x||{}},get isGlobal(){return n},get missingWarn(){return d},set missingWarn(e){d=e,C.missingWarn=d},get fallbackWarn(){return p},set fallbackWarn(e){p=e,C.fallbackWarn=p},get fallbackRoot(){return f},set fallbackRoot(e){f=e},get fallbackFormat(){return _},set fallbackFormat(e){_=e,C.fallbackFormat=_},get warnHtmlMessage(){return v},set warnHtmlMessage(e){v=e,C.warnHtmlMessage=e},get escapeParameter(){return b},set escapeParameter(e){b=e,C.escapeParameter=e},t:R,getLocaleMessage:D,setLocaleMessage:function(e,t){if(r){const i={[e]:t};for(const e in i)xS(i,e)&&qR(i[e]);t=i[e]}u.value[e]=t,C.messages=u.value},mergeLocaleMessage:function(e,t){u.value[e]=u.value[e]||{};const i={[e]:t};if(r)for(const n in i)xS(i,n)&&qR(i[n]);NS(t=i[e],u.value[e]),C.messages=u.value},getPostTranslationHandler:function(){return ES(y)?y:null},setPostTranslationHandler:function(e){y=e,C.postTranslation=e},getMissingHandler:function(){return g},setMissingHandler:function(e){null!==e&&(m=iT(e)),g=e,C.missing=m},[NR]:function(e){x=e,C.pluralRules=x}};return M.datetimeFormats=S,M.numberFormats=k,M.rt=function(...e){const[t,i,n]=e;if(n&&!kS(n))throw TR(bR);return R(t,i,gS({resolvedMessage:!0},n||{}))},M.te=function(e,t){return P(()=>{if(!e)return!1;const i=D(OS(t)?t:a.value),n=C.messageResolver(i,e);return Ik(n)||aR(n)||OS(n)},()=>[e],"translate exists",i=>Reflect.apply(i.te,i,[e,t]),eT,e=>SS(e))},M.tm=function(e){const i=function(e){let t=null;const i=sP(C,l.value,a.value);for(let n=0;n<i.length;n++){const r=u.value[i[n]]||{},o=C.messageResolver(r,e);if(null!=o){t=o;break}}return t}(e);return null!=i?i:t&&t.tm(e)||{}},M.d=function(...e){return P(t=>Reflect.apply(zP,null,[t,...e]),()=>qP(...e),"datetime format",t=>Reflect.apply(t.d,t,[...e]),()=>"",e=>OS(e)||IS(e))},M.n=function(...e){return P(t=>Reflect.apply(XP,null,[t,...e]),()=>JP(...e),"number format",t=>Reflect.apply(t.n,t,[...e]),()=>"",e=>OS(e)||IS(e))},M.getDateTimeFormat=function(e){return c.value[e]||{}},M.setDateTimeFormat=function(e,t){c.value[e]=t,C.datetimeFormats=c.value,KP(C,e,t)},M.mergeDateTimeFormat=function(e,t){c.value[e]=gS(c.value[e]||{},t),C.datetimeFormats=c.value,KP(C,e,t)},M.getNumberFormat=function(e){return h.value[e]||{}},M.setNumberFormat=function(e,t){h.value[e]=t,C.numberFormats=h.value,QP(C,e,t)},M.mergeNumberFormat=function(e,t){h.value[e]=gS(h.value[e]||{},t),C.numberFormats=h.value,QP(C,e,t)},M[jR]=i,M[MR]=function(...e){return P(t=>{let i;const n=t;try{n.processor=T,i=Reflect.apply(lR,null,[n,...e])}finally{n.processor=null}return i},()=>hR(...e),"translate",t=>t[MR](...e),e=>[JR(e)],e=>IS(e))},M[LR]=function(...e){return P(t=>Reflect.apply(zP,null,[t,...e]),()=>qP(...e),"datetime format",t=>t[LR](...e),QR,e=>OS(e)||IS(e))},M[AR]=function(...e){return P(t=>Reflect.apply(XP,null,[t,...e]),()=>JP(...e),"number format",t=>t[AR](...e),QR,e=>OS(e)||IS(e))},M[FR]=e=>{C.__v_emitter=e},M[$R]=()=>{C.__v_emitter=void 0},M}const rT="vue-i18n: composer properties",oT="Vue I18n DevTools",sT="Vue I18n DevTools",aT="Vue I18n",lT="Search for scopes ...",uT=16764185;let cT;async function hT(e,t){return new Promise((i,n)=>{try{yR({id:"vue-devtools-plugin-vue-i18n",label:oT,packageName:"vue-i18n",homepage:"https://vue-i18n.intlify.dev",logo:"https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",componentStateTypes:[rT],app:e},n=>{cT=n,n.on.visitComponentTree(({componentInstance:e,treeNode:i})=>{!function(e,t,i){const n="composition"===i.mode?i.global:i.global.__composer;if(e&&e.vnode.el&&e.vnode.el.__VUE_I18N__&&e.vnode.el.__VUE_I18N__!==n){const i={label:`i18n (${dT(e)} Scope)`,textColor:0,backgroundColor:16764185};t.tags.push(i)}}(e,i,t)}),n.on.inspectComponent(({componentInstance:e,instanceData:i})=>{e.vnode.el&&e.vnode.el.__VUE_I18N__&&i&&("legacy"===t.mode?e.vnode.el.__VUE_I18N__!==t.global.__composer&&pT(i,e.vnode.el.__VUE_I18N__):pT(i,e.vnode.el.__VUE_I18N__))}),n.addInspector({id:"vue-i18n-resource-inspector",label:sT,icon:"language",treeFilterPlaceholder:lT}),n.on.getInspectorTree(i=>{i.app===e&&"vue-i18n-resource-inspector"===i.inspectorId&&function(e,t){e.rootNodes.push({id:"global",label:"Global Scope"});const i="composition"===t.mode?t.global:t.global.__composer;for(const[n,r]of t.__instances){const o="composition"===t.mode?r:r.__composer;i!==o&&e.rootNodes.push({id:o.id.toString(),label:`${dT(n)} Scope`})}}(i,t)});const r=new Map;n.on.getInspectorState(async i=>{if(i.app===e&&"vue-i18n-resource-inspector"===i.inspectorId)if(n.unhighlightElement(),function(e,t){const i=yT(e.nodeId,t);i&&(e.state=function(e){const t={},i="Locale related info",n=[{type:i,key:"locale",editable:!0,value:e.locale.value},{type:i,key:"fallbackLocale",editable:!0,value:e.fallbackLocale.value},{type:i,key:"availableLocales",editable:!1,value:e.availableLocales},{type:i,key:"inheritLocale",editable:!0,value:e.inheritLocale}];t[i]=n;const r="Locale messages info",o=[{type:r,key:"messages",editable:!1,value:fT(e.messages.value)}];t[r]=o;{const i="Datetime formats info",n=[{type:i,key:"datetimeFormats",editable:!1,value:e.datetimeFormats.value}];t[i]=n;const r="Datetime formats info",o=[{type:r,key:"numberFormats",editable:!1,value:e.numberFormats.value}];t[r]=o}return t}(i))}(i,t),"global"===i.nodeId){if(!r.has(i.app)){const[e]=await n.getComponentInstances(i.app);r.set(i.app,e)}n.highlightElement(r.get(i.app))}else{const e=function(e,t){let i=null;if("global"!==e)for(const[n,r]of t.__instances.entries())if(r.id.toString()===e){i=n;break}return i}(i.nodeId,t);e&&n.highlightElement(e)}}),n.on.editInspectorState(i=>{i.app===e&&"vue-i18n-resource-inspector"===i.inspectorId&&function(e,t){const i=yT(e.nodeId,t);if(i){const[t]=e.path;"locale"===t&&OS(e.state.value)?i.locale.value=e.state.value:"fallbackLocale"===t&&(OS(e.state.value)||IS(e.state.value)||kS(e.state.value))?i.fallbackLocale.value=e.state.value:"inheritLocale"===t&&SS(e.state.value)&&(i.inheritLocale=e.state.value)}}(i,t)}),n.addTimelineLayer({id:"vue-i18n-timeline",label:aT,color:uT}),i(!0)})}catch(VY){n(!1)}})}function dT(e){return e.type.name||e.type.displayName||e.type.__file||"Anonymous"}function pT(e,t){const i=rT;e.state.push({type:i,key:"locale",editable:!0,value:t.locale.value}),e.state.push({type:i,key:"availableLocales",editable:!1,value:t.availableLocales}),e.state.push({type:i,key:"fallbackLocale",editable:!0,value:t.fallbackLocale.value}),e.state.push({type:i,key:"inheritLocale",editable:!0,value:t.inheritLocale}),e.state.push({type:i,key:"messages",editable:!1,value:fT(t.messages.value)}),e.state.push({type:i,key:"datetimeFormats",editable:!1,value:t.datetimeFormats.value}),e.state.push({type:i,key:"numberFormats",editable:!1,value:t.numberFormats.value})}function fT(e){const t={};return Object.keys(e).forEach(i=>{const n=e[i];var r;ES(n)&&"source"in n?t[i]={_custom:{type:"function",display:"<span></span> "+((r=n).source?`("${gT(r.source)}")`:"(?)")}}:Ik(n)&&n.loc&&n.loc.source?t[i]=n.loc.source:kS(n)?t[i]=fT(n):t[i]=n}),t}const _T={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function gT(e){return e.replace(/[<>"&]/g,mT)}function mT(e){return _T[e]||e}function yT(e,t){if("global"===e)return"composition"===t.mode?t.global:t.global.__composer;{const i=Array.from(t.__instances.values()).find(t=>t.id.toString()===e);return i?"composition"===t.mode?i:i.__composer:null}}function vT(e,t){if(cT){let i;t&&"groupId"in t&&(i=t.groupId,delete t.groupId),cT.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:e,groupId:i,time:Date.now(),meta:{},data:t||{},logType:"compile-error"===e?"error":"fallback"===e||"missing"===e?"warning":"default"}})}}function bT(e={}){const t=nT(function(e){const t=OS(e.locale)?e.locale:EP,i=OS(e.fallbackLocale)||IS(e.fallbackLocale)||TS(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,n=ES(e.missing)?e.missing:void 0,r=!SS(e.silentTranslationWarn)&&!fS(e.silentTranslationWarn)||!e.silentTranslationWarn,o=!SS(e.silentFallbackWarn)&&!fS(e.silentFallbackWarn)||!e.silentFallbackWarn,s=!SS(e.fallbackRoot)||e.fallbackRoot,a=!!e.formatFallbackMessages,l=TS(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,c=ES(e.postTranslation)?e.postTranslation:void 0,h=!OS(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,d=!!e.escapeParameterHtml,p=!SS(e.sync)||e.sync;let f=e.messages;if(TS(e.sharedMessages)){const t=e.sharedMessages;f=Object.keys(t).reduce((e,i)=>{const n=e[i]||(e[i]={});return gS(n,t[i]),e},f||{})}const{__i18n:_,__root:g,__injectWithOption:m}=e,y=e.datetimeFormats,v=e.numberFormats;return{locale:t,fallbackLocale:i,messages:f,flatJson:e.flatJson,datetimeFormats:y,numberFormats:v,missing:n,missingWarn:r,fallbackWarn:o,fallbackRoot:s,fallbackFormat:a,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:h,escapeParameter:d,messageResolver:e.messageResolver,inheritLocale:p,__i18n:_,__root:g,__injectWithOption:m}}(e)),{__extender:i}=e,n={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return SS(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=SS(e)?!e:e},get silentFallbackWarn(){return SS(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=SS(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t:(...e)=>Reflect.apply(t.t,t,[...e]),rt:(...e)=>Reflect.apply(t.rt,t,[...e]),te:(e,i)=>t.te(e,i),tm:e=>t.tm(e),getLocaleMessage:e=>t.getLocaleMessage(e),setLocaleMessage(e,i){t.setLocaleMessage(e,i)},mergeLocaleMessage(e,i){t.mergeLocaleMessage(e,i)},d:(...e)=>Reflect.apply(t.d,t,[...e]),getDateTimeFormat:e=>t.getDateTimeFormat(e),setDateTimeFormat(e,i){t.setDateTimeFormat(e,i)},mergeDateTimeFormat(e,i){t.mergeDateTimeFormat(e,i)},n:(...e)=>Reflect.apply(t.n,t,[...e]),getNumberFormat:e=>t.getNumberFormat(e),setNumberFormat(e,i){t.setNumberFormat(e,i)},mergeNumberFormat(e,i){t.mergeNumberFormat(e,i)}};return n.__extender=i,n.__enableEmitter=e=>{const i=t;i[FR]&&i[FR](e)},n.__disableEmitter=()=>{const e=t;e[$R]&&e[$R]()},n}function wT(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[NR](t.pluralizationRules||e.pluralizationRules);const i=KR(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(i).forEach(t=>e.mergeLocaleMessage(t,i[t])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(i=>e.mergeDateTimeFormat(i,t.datetimeFormats[i])),t.numberFormats&&Object.keys(t.numberFormats).forEach(i=>e.mergeNumberFormat(i,t.numberFormats[i])),e}const CT={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function xT(){return Mo}const IT=xn({name:"i18n-t",props:gS({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>pS(e)||!isNaN(e)}},CT),setup(e,t){const{slots:i,attrs:n}=t,r=e.i18n||TT({useScope:e.scope,__useComponent:!0});return()=>{const o=Object.keys(i).filter(e=>"_"!==e[0]),s=yS();e.locale&&(s.locale=e.locale),void 0!==e.plural&&(s.plural=OS(e.plural)?+e.plural:e.plural);const a=function({slots:e},t){if(1===t.length&&"default"===t[0])return(e.default?e.default():[]).reduce((e,t)=>[...e,...t.type===Mo?t.children:[t]],[]);return t.reduce((t,i)=>{const n=e[i];return n&&(t[i]=n()),t},yS())}(t,o),l=r[MR](e.keypath,a,s),u=gS(yS(),n);return Ts(OS(e.tag)||kS(e.tag)?e.tag:xT(),u,l)}}});function ET(e,t,i,n){const{slots:r,attrs:o}=t;return()=>{const t={part:!0};let s=yS();e.locale&&(t.locale=e.locale),OS(e.format)?t.key=e.format:kS(e.format)&&(OS(e.format.key)&&(t.key=e.format.key),s=Object.keys(e.format).reduce((t,n)=>i.includes(n)?gS(yS(),t,{[n]:e.format[n]}):t,yS()));const a=n(e.value,t,s);let l=[t.key];IS(a)?l=a.map((e,t)=>{const i=r[e.type],n=i?i({[e.type]:e.value,index:t,parts:a}):[e.value];var o;return IS(o=n)&&!OS(o[0])&&(n[0].key=`${e.type}-${t}`),n}):OS(a)&&(l=[a]);const u=gS(yS(),o);return Ts(OS(e.tag)||kS(e.tag)?e.tag:xT(),u,l)}}const OT=xn({name:"i18n-n",props:gS({value:{type:Number,required:!0},format:{type:[String,Object]}},CT),setup(e,t){const i=e.i18n||TT({useScope:e.scope,__useComponent:!0});return ET(e,t,ZP,(...e)=>i[AR](...e))}});function ST(e){if(OS(e))return{path:e};if(TS(e)){if(!("path"in e))throw TR(xR,"path");return e}throw TR(IR)}function kT(e){const{path:t,locale:i,args:n,choice:r,plural:o}=e,s={},a=n||{};return OS(i)&&(s.locale=i),pS(r)&&(s.plural=r),pS(o)&&(s.plural=o),[t,a,s]}function PT(e,t,...i){const n=TS(i[0])?i[0]:{};(!SS(n.globalInstall)||n.globalInstall)&&([IT.name,"I18nT"].forEach(t=>e.component(t,IT)),[OT.name,"I18nN"].forEach(t=>e.component(t,OT)),[LT.name,"I18nD"].forEach(t=>e.component(t,LT))),e.directive("t",function(e){const t=t=>{AS(YR(GR));const{instance:i,value:n}=t;if(!i||!i.$)throw TR(SR);const r=function(e,t){const i=e;if("composition"===e.mode)return i.__getInstance(t)||e.global;{const n=i.__getInstance(t);return null!=n?n.__composer:e.global.__composer}}(e,i.$),o=ST(n);return[Reflect.apply(r.t,r,[...kT(o)]),r]};return{created:(i,n)=>{const[r,o]=t(n);sS&&e.global===o&&(i.__i18nWatcher=_o(o.locale,()=>{n.instance&&n.instance.$forceUpdate()})),i.__composer=o,i.textContent=r},unmounted:e=>{sS&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},beforeUpdate:(e,{value:t})=>{if(e.__composer){const i=e.__composer,n=ST(t);e.textContent=Reflect.apply(i.t,i,[...kT(n)])}},getSSRProps:e=>{const[i]=t(e);return{textContent:i}}}}(t))}const RT=hS("global-vue-i18n");function TT(e={}){const t=cs();if(null==t)throw TR(wR);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw TR(CR);const i=function(e){const t=Dr(e.isCE?RT:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw TR(e.isCE?OR:SR);return t}(t),n=function(e){return"composition"===e.mode?e.global:e.global.__composer}(i),r=XR(t),o=function(e,t){return _S(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}(e,r);if("global"===o)return ZR(n,e,r),n;if("parent"===o){let r=function(e,t,i=!1){let n=null;const r=t.root;let o=function(e,t=!1){if(null==e)return null;return t&&e.vnode.ctx||e.parent}(t,i);for(;null!=o;){const t=e;if("composition"===e.mode)n=t.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(o);null!=e&&(n=e.__composer,i&&n&&!n[jR]&&(n=null))}if(null!=n)break;if(r===o)break;o=o.parent}return n}(i,t,e.__useComponent);return null==r&&(YR(HR),r=n),r}const s=i;let a=s.__getInstance(t);if(null==a){const i=gS({},e);"__i18n"in r&&(i.__i18n=r.__i18n),n&&(i.__root=n),a=nT(i),s.__composerExtend&&(a[BR]=s.__composerExtend(a)),function(e,t,i){let n=null;Bn(()=>{if(t.vnode.el){t.vnode.el.__VUE_I18N__=i,n=FS();const e=i;e[FR]&&e[FR](n),n.on("*",vT)}},t),Wn(()=>{const r=i;t.vnode.el&&t.vnode.el.__VUE_I18N__&&(n&&n.off("*",vT),r[$R]&&r[$R](),delete t.vnode.el.__VUE_I18N__),e.__deleteInstance(t);const o=r[BR];o&&(o(),delete r[BR])},t)}(s,t,a),s.__setInstance(t,a)}else if("local"===o)throw TR(RR);return a}const DT=["locale","fallbackLocale","availableLocales"],MT=["t","rt","d","n","tm","te"];const LT=xn({name:"i18n-d",props:gS({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},CT),setup(e,t){const i=e.i18n||TT({useScope:e.scope,__useComponent:!0});return ET(e,t,YP,(...e)=>i[LR](...e))}});var AT,FT;"boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(bS().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(bS().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(bS().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(bS().__INTLIFY_PROD_DEVTOOLS__=!1),SP=function(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&OS(e)){const i=!SS(t.warnHtmlMessage)||t.warnHtmlMessage;Vk(e,i);const n=(t.onCacheKey||Hk)(e),r=Uk[n];if(r)return r;const{ast:o,detectError:s}=function(e,t={}){let i=!1;const n=t.onError||rk;return t.onError=e=>{i=!0,n(e)},{...xk(e,t),detectError:i}}(e,{...t,location:!0,jit:!0}),a=Nk(o);return s?a:Uk[n]=a}{if(!Ik(e))return t.key,()=>e;const i=e.cacheKey;if(i){const t=Uk[i];return t||(Uk[i]=Nk(e))}return Nk(e)}},AT=function(e,t){if(!kS(e))return null;let i=fP.get(t);if(i||(i=function(e){const t=[];let i,n,r,o,s,a,l,u=-1,c=0,h=0;const d=[];function p(){const t=e[u+1];if(5===c&&"'"===t||6===c&&'"'===t)return u++,r="\\"+t,d[0](),!0}for(d[0]=()=>{void 0===n?n=r:n+=r},d[1]=()=>{void 0!==n&&(t.push(n),n=void 0)},d[2]=()=>{d[0](),h++},d[3]=()=>{if(h>0)h--,c=4,d[0]();else{if(h=0,void 0===n)return!1;if(n=pP(n),!1===n)return!1;d[1]()}};null!==c;)if(u++,i=e[u],"\\"!==i||!p()){if(o=dP(i),l=cP[c],s=l[o]||l.l||8,8===s)return;if(c=s[0],void 0!==s[1]&&(a=d[s[1]],a&&(r=i,!1===a())))return;if(7===c)return t}}(t),i&&fP.set(t,i)),!i)return null;const n=i.length;let r=e,o=0;for(;o<n;){const e=i[o];if(Fk.includes(e)&&Ik(r))return null;const t=r[e];if(void 0===t)return null;if(ES(r))return null;r=t,o++}return r},kP=AT,PP=sP;{const e=bS();e.__INTLIFY__=!0,FT=e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__,Wk=FT}function $T(e,t){return function(){return e.apply(t,arguments)}}const{toString:NT}=Object.prototype,{getPrototypeOf:jT}=Object,{iterator:BT,toStringTag:VT}=Symbol,HT=(e=>t=>{const i=NT.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),UT=e=>(e=e.toLowerCase(),t=>HT(t)===e),WT=e=>t=>typeof t===e,{isArray:GT}=Array,zT=WT("undefined");const YT=UT("ArrayBuffer");const qT=WT("string"),KT=WT("function"),XT=WT("number"),ZT=e=>null!==e&&"object"==typeof e,JT=e=>{if("object"!==HT(e))return!1;const t=jT(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||VT in e||BT in e)},QT=UT("Date"),eD=UT("File"),tD=UT("Blob"),iD=UT("FileList"),nD=UT("URLSearchParams"),[rD,oD,sD,aD]=["ReadableStream","Request","Response","Headers"].map(UT);function lD(e,t,{allOwnKeys:i=!1}={}){if(null==e)return;let n,r;if("object"!=typeof e&&(e=[e]),GT(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function uD(e,t){t=t.toLowerCase();const i=Object.keys(e);let n,r=i.length;for(;r-- >0;)if(n=i[r],t===n.toLowerCase())return n;return null}const cD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,hD=e=>!zT(e)&&e!==cD;const dD=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&jT(Uint8Array)),pD=UT("HTMLFormElement"),fD=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),_D=UT("RegExp"),gD=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};lD(i,(i,r)=>{let o;!1!==(o=t(i,r,e))&&(n[r]=o||i)}),Object.defineProperties(e,n)};const mD=UT("AsyncFunction"),yD=(vD="function"==typeof setImmediate,bD=KT(cD.postMessage),vD?setImmediate:bD?(wD=`axios@${Math.random()}`,CD=[],cD.addEventListener("message",({source:e,data:t})=>{e===cD&&t===wD&&CD.length&&CD.shift()()},!1),e=>{CD.push(e),cD.postMessage(wD,"*")}):e=>setTimeout(e));var vD,bD,wD,CD;const xD="undefined"!=typeof queueMicrotask?queueMicrotask.bind(cD):"undefined"!=typeof process&&process.nextTick||yD,ID={isArray:GT,isArrayBuffer:YT,isBuffer:function(e){return null!==e&&!zT(e)&&null!==e.constructor&&!zT(e.constructor)&&KT(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||KT(e.append)&&("formdata"===(t=HT(e))||"object"===t&&KT(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&YT(e.buffer),t},isString:qT,isNumber:XT,isBoolean:e=>!0===e||!1===e,isObject:ZT,isPlainObject:JT,isReadableStream:rD,isRequest:oD,isResponse:sD,isHeaders:aD,isUndefined:zT,isDate:QT,isFile:eD,isBlob:tD,isRegExp:_D,isFunction:KT,isStream:e=>ZT(e)&&KT(e.pipe),isURLSearchParams:nD,isTypedArray:dD,isFileList:iD,forEach:lD,merge:function e(){const{caseless:t}=hD(this)&&this||{},i={},n=(n,r)=>{const o=t&&uD(i,r)||r;JT(i[o])&&JT(n)?i[o]=e(i[o],n):JT(n)?i[o]=e({},n):GT(n)?i[o]=n.slice():i[o]=n};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&lD(arguments[r],n);return i},extend:(e,t,i,{allOwnKeys:n}={})=>(lD(t,(t,n)=>{i&&KT(t)?e[n]=$T(t,i):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let r,o,s;const a={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)s=r[o],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==i&&jT(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:HT,kindOfTest:UT,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return-1!==n&&n===i},toArray:e=>{if(!e)return null;if(GT(e))return e;let t=e.length;if(!XT(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{const i=(e&&e[BT]).call(e);let n;for(;(n=i.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{let i;const n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:pD,hasOwnProperty:fD,hasOwnProp:fD,reduceDescriptors:gD,freezeMethods:e=>{gD(e,(t,i)=>{if(KT(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const n=e[i];KT(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))})},toObjectSet:(e,t)=>{const i={},n=e=>{e.forEach(e=>{i[e]=!0})};return GT(e)?n(e):n(String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,i){return t.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:uD,global:cD,isContextDefined:hD,isSpecCompliantForm:function(e){return!!(e&&KT(e.append)&&"FormData"===e[VT]&&e[BT])},toJSONObject:e=>{const t=new Array(10),i=(e,n)=>{if(ZT(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const r=GT(e)?[]:{};return lD(e,(e,t)=>{const o=i(e,n+1);!zT(o)&&(r[t]=o)}),t[n]=void 0,r}}return e};return i(e,0)},isAsyncFn:mD,isThenable:e=>e&&(ZT(e)||KT(e))&&KT(e.then)&&KT(e.catch),setImmediate:yD,asap:xD,isIterable:e=>null!=e&&KT(e[BT])};function ED(e,t,i,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}ID.inherits(ED,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ID.toJSONObject(this.config),code:this.code,status:this.status}}});const OD=ED.prototype,SD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{SD[e]={value:e}}),Object.defineProperties(ED,SD),Object.defineProperty(OD,"isAxiosError",{value:!0}),ED.from=(e,t,i,n,r,o)=>{const s=Object.create(OD);return ID.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),ED.call(s,e.message,t,i,n,r),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};function kD(e){return ID.isPlainObject(e)||ID.isArray(e)}function PD(e){return ID.endsWith(e,"[]")?e.slice(0,-2):e}function RD(e,t,i){return e?e.concat(t).map(function(e,t){return e=PD(e),!i&&t?"["+e+"]":e}).join(i?".":""):t}const TD=ID.toFlatObject(ID,{},null,function(e){return/^is[A-Z]/.test(e)});function DD(e,t,i){if(!ID.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(i=ID.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ID.isUndefined(t[e])})).metaTokens,r=i.visitor||u,o=i.dots,s=i.indexes,a=(i.Blob||"undefined"!=typeof Blob&&Blob)&&ID.isSpecCompliantForm(t);if(!ID.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ID.isDate(e))return e.toISOString();if(ID.isBoolean(e))return e.toString();if(!a&&ID.isBlob(e))throw new ED("Blob is not supported. Use a Buffer instead.");return ID.isArrayBuffer(e)||ID.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,i,r){let a=e;if(e&&!r&&"object"==typeof e)if(ID.endsWith(i,"{}"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else if(ID.isArray(e)&&function(e){return ID.isArray(e)&&!e.some(kD)}(e)||(ID.isFileList(e)||ID.endsWith(i,"[]"))&&(a=ID.toArray(e)))return i=PD(i),a.forEach(function(e,n){!ID.isUndefined(e)&&null!==e&&t.append(!0===s?RD([i],n,o):null===s?i:i+"[]",l(e))}),!1;return!!kD(e)||(t.append(RD(r,i,o),l(e)),!1)}const c=[],h=Object.assign(TD,{defaultVisitor:u,convertValue:l,isVisitable:kD});if(!ID.isObject(e))throw new TypeError("data must be an object");return function e(i,n){if(!ID.isUndefined(i)){if(-1!==c.indexOf(i))throw Error("Circular reference detected in "+n.join("."));c.push(i),ID.forEach(i,function(i,o){!0===(!(ID.isUndefined(i)||null===i)&&r.call(t,i,ID.isString(o)?o.trim():o,n,h))&&e(i,n?n.concat(o):[o])}),c.pop()}}(e),t}function MD(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function LD(e,t){this._pairs=[],e&&DD(e,this,t)}const AD=LD.prototype;function FD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $D(e,t,i){if(!t)return e;const n=i&&i.encode||FD;ID.isFunction(i)&&(i={serialize:i});const r=i&&i.serialize;let o;if(o=r?r(t,i):ID.isURLSearchParams(t)?t.toString():new LD(t,i).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}AD.append=function(e,t){this._pairs.push([e,t])},AD.toString=function(e){const t=e?function(t){return e.call(this,t,MD)}:MD;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class ND{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ID.forEach(this.handlers,function(t){null!==t&&e(t)})}}const jD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BD={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:LD,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},VD="undefined"!=typeof window&&"undefined"!=typeof document,HD="object"==typeof navigator&&navigator||void 0,UD=VD&&(!HD||["ReactNative","NativeScript","NS"].indexOf(HD.product)<0),WD="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,GD=VD&&window.location.href||"http://localhost",zD={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:VD,hasStandardBrowserEnv:UD,hasStandardBrowserWebWorkerEnv:WD,navigator:HD,origin:GD},Symbol.toStringTag,{value:"Module"})),...BD};function YD(e){function t(e,i,n,r){let o=e[r++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=r>=e.length;if(o=!o&&ID.isArray(n)?n.length:o,a)return ID.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!s;n[o]&&ID.isObject(n[o])||(n[o]=[]);return t(e,i,n[o],r)&&ID.isArray(n[o])&&(n[o]=function(e){const t={},i=Object.keys(e);let n;const r=i.length;let o;for(n=0;n<r;n++)o=i[n],t[o]=e[o];return t}(n[o])),!s}if(ID.isFormData(e)&&ID.isFunction(e.entries)){const i={};return ID.forEachEntry(e,(e,n)=>{t(function(e){return ID.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,i,0)}),i}return null}const qD={transitional:jD,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",n=i.indexOf("application/json")>-1,r=ID.isObject(e);r&&ID.isHTMLForm(e)&&(e=new FormData(e));if(ID.isFormData(e))return n?JSON.stringify(YD(e)):e;if(ID.isArrayBuffer(e)||ID.isBuffer(e)||ID.isStream(e)||ID.isFile(e)||ID.isBlob(e)||ID.isReadableStream(e))return e;if(ID.isArrayBufferView(e))return e.buffer;if(ID.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return DD(e,new zD.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,n){return zD.isNode&&ID.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=ID.isFileList(e))||i.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return DD(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType("application/json",!1),function(e,t,i){if(ID.isString(e))try{return(t||JSON.parse)(e),ID.trim(e)}catch(VY){if("SyntaxError"!==VY.name)throw VY}return(i||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||qD.transitional,i=t&&t.forcedJSONParsing,n="json"===this.responseType;if(ID.isResponse(e)||ID.isReadableStream(e))return e;if(e&&ID.isString(e)&&(i&&!this.responseType||n)){const i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(VY){if(i){if("SyntaxError"===VY.name)throw ED.from(VY,ED.ERR_BAD_RESPONSE,this,null,this.response);throw VY}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zD.classes.FormData,Blob:zD.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ID.forEach(["delete","get","head","post","put","patch"],e=>{qD.headers[e]={}});const KD=ID.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XD=Symbol("internals");function ZD(e){return e&&String(e).trim().toLowerCase()}function JD(e){return!1===e||null==e?e:ID.isArray(e)?e.map(JD):String(e)}function QD(e,t,i,n,r){return ID.isFunction(n)?n.call(this,t,i):(r&&(t=i),ID.isString(t)?ID.isString(n)?-1!==t.indexOf(n):ID.isRegExp(n)?n.test(t):void 0:void 0)}let eM=class{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function r(e,t,i){const r=ZD(t);if(!r)throw new Error("header name must be a non-empty string");const o=ID.findKey(n,r);(!o||void 0===n[o]||!0===i||void 0===i&&!1!==n[o])&&(n[o||t]=JD(e))}const o=(e,t)=>ID.forEach(e,(e,i)=>r(e,i,t));if(ID.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(ID.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let i,n,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),i=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!i||t[i]&&KD[i]||("set-cookie"===i?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)}),t})(e),t);else if(ID.isObject(e)&&ID.isIterable(e)){let i,n,r={};for(const t of e){if(!ID.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[n=t[0]]=(i=r[n])?ID.isArray(i)?[...i,t[1]]:[i,t[1]]:t[1]}o(r,t)}else null!=e&&r(t,e,i);return this}get(e,t){if(e=ZD(e)){const i=ID.findKey(this,e);if(i){const e=this[i];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}(e);if(ID.isFunction(t))return t.call(this,e,i);if(ID.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ZD(e)){const i=ID.findKey(this,e);return!(!i||void 0===this[i]||t&&!QD(0,this[i],i,t))}return!1}delete(e,t){const i=this;let n=!1;function r(e){if(e=ZD(e)){const r=ID.findKey(i,e);!r||t&&!QD(0,i[r],r,t)||(delete i[r],n=!0)}}return ID.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const r=t[i];e&&!QD(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,i={};return ID.forEach(this,(n,r)=>{const o=ID.findKey(i,r);if(o)return t[o]=JD(n),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}(r):String(r).trim();s!==r&&delete t[r],t[s]=JD(n),i[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ID.forEach(this,(i,n)=>{null!=i&&!1!==i&&(t[n]=e&&ID.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(e=>i.set(e)),i}static accessor(e){const t=(this[XD]=this[XD]={accessors:{}}).accessors,i=this.prototype;function n(e){const n=ZD(e);t[n]||(!function(e,t){const i=ID.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(e,i,r){return this[n].call(this,t,e,i,r)},configurable:!0})})}(i,e),t[n]=!0)}return ID.isArray(e)?e.forEach(n):n(e),this}};function tM(e,t){const i=this||qD,n=t||i,r=eM.from(n.headers);let o=n.data;return ID.forEach(e,function(e){o=e.call(i,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function iM(e){return!(!e||!e.__CANCEL__)}function nM(e,t,i){ED.call(this,null==e?"canceled":e,ED.ERR_CANCELED,t,i),this.name="CanceledError"}function rM(e,t,i){const n=i.config.validateStatus;i.status&&n&&!n(i.status)?t(new ED("Request failed with status code "+i.status,[ED.ERR_BAD_REQUEST,ED.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):e(i)}eM.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ID.reduceDescriptors(eM.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}}),ID.freezeMethods(eM),ID.inherits(nM,ED,{__CANCEL__:!0});const oM=(e,t,i=3)=>{let n=0;const r=function(e,t){e=e||10;const i=new Array(e),n=new Array(e);let r,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),u=n[s];r||(r=l),i[o]=a,n[o]=l;let c=s,h=0;for(;c!==o;)h+=i[c++],c%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-r<t)return;const d=u&&l-u;return d?Math.round(1e3*h/d):void 0}}(50,250);return function(e,t){let i,n,r=0,o=1e3/t;const s=(t,o=Date.now())=>{r=o,i=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-r;a>=o?s(e,t):(i=e,n||(n=setTimeout(()=>{n=null,s(i)},o-a)))},()=>i&&s(i)]}(i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a);n=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:i,lengthComputable:null!=s,[t?"download":"upload"]:!0})},i)},sM=(e,t)=>{const i=null!=e;return[n=>t[0]({lengthComputable:i,total:e,loaded:n}),t[1]]},aM=e=>(...t)=>ID.asap(()=>e(...t)),lM=zD.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,zD.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(zD.origin),zD.navigator&&/(msie|trident)/i.test(zD.navigator.userAgent)):()=>!0,uM=zD.hasStandardBrowserEnv?{write(e,t,i,n,r,o){const s=[e+"="+encodeURIComponent(t)];ID.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),ID.isString(n)&&s.push("path="+n),ID.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function cM(e,t,i){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==i)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const hM=e=>e instanceof eM?{...e}:e;function dM(e,t){t=t||{};const i={};function n(e,t,i,n){return ID.isPlainObject(e)&&ID.isPlainObject(t)?ID.merge.call({caseless:n},e,t):ID.isPlainObject(t)?ID.merge({},t):ID.isArray(t)?t.slice():t}function r(e,t,i,r){return ID.isUndefined(t)?ID.isUndefined(e)?void 0:n(void 0,e,0,r):n(e,t,0,r)}function o(e,t){if(!ID.isUndefined(t))return n(void 0,t)}function s(e,t){return ID.isUndefined(t)?ID.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(i,r,o){return o in t?n(i,r):o in e?n(void 0,i):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,i)=>r(hM(e),hM(t),0,!0)};return ID.forEach(Object.keys(Object.assign({},e,t)),function(n){const o=l[n]||r,s=o(e[n],t[n],n);ID.isUndefined(s)&&o!==a||(i[n]=s)}),i}const pM=e=>{const t=dM({},e);let i,{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=eM.from(a),t.url=$D(cM(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ID.isFormData(n))if(zD.hasStandardBrowserEnv||zD.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(i=a.getContentType())){const[e,...t]=i?i.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(zD.hasStandardBrowserEnv&&(r&&ID.isFunction(r)&&(r=r(t)),r||!1!==r&&lM(t.url))){const e=o&&s&&uM.read(s);e&&a.set(o,e)}return t},fM="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,i){const n=pM(e);let r=n.data;const o=eM.from(n.headers).normalize();let s,a,l,u,c,{responseType:h,onUploadProgress:d,onDownloadProgress:p}=n;function f(){u&&u(),c&&c(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let _=new XMLHttpRequest;function g(){if(!_)return;const n=eM.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders());rM(function(e){t(e),f()},function(e){i(e),f()},{data:h&&"text"!==h&&"json"!==h?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:n,config:e,request:_}),_=null}_.open(n.method.toUpperCase(),n.url,!0),_.timeout=n.timeout,"onloadend"in _?_.onloadend=g:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(g)},_.onabort=function(){_&&(i(new ED("Request aborted",ED.ECONNABORTED,e,_)),_=null)},_.onerror=function(){i(new ED("Network Error",ED.ERR_NETWORK,e,_)),_=null},_.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const r=n.transitional||jD;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),i(new ED(t,r.clarifyTimeoutError?ED.ETIMEDOUT:ED.ECONNABORTED,e,_)),_=null},void 0===r&&o.setContentType(null),"setRequestHeader"in _&&ID.forEach(o.toJSON(),function(e,t){_.setRequestHeader(t,e)}),ID.isUndefined(n.withCredentials)||(_.withCredentials=!!n.withCredentials),h&&"json"!==h&&(_.responseType=n.responseType),p&&([l,c]=oM(p,!0),_.addEventListener("progress",l)),d&&_.upload&&([a,u]=oM(d),_.upload.addEventListener("progress",a),_.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(s=t=>{_&&(i(!t||t.type?new nM(null,e,_):t),_.abort(),_=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);m&&-1===zD.protocols.indexOf(m)?i(new ED("Unsupported protocol "+m+":",ED.ERR_BAD_REQUEST,e)):_.send(r||null)})},_M=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let i,n=new AbortController;const r=function(e){if(!i){i=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof ED?t:new nM(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,r(new ED(`timeout ${t} of ms exceeded`,ED.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:a}=n;return a.unsubscribe=()=>ID.asap(s),a}},gM=function*(e,t){let i=e.byteLength;if(i<t)return void(yield e);let n,r=0;for(;r<i;)n=r+t,yield e.slice(r,n),r=n},mM=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},yM=(e,t,i,n)=>{const r=async function*(e,t){for await(const i of mM(e))yield*gM(i,t)}(e,t);let o,s=0,a=e=>{o||(o=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await r.next();if(t)return a(),void e.close();let o=n.byteLength;if(i){let e=s+=o;i(e)}e.enqueue(new Uint8Array(n))}catch(t){throw a(t),t}},cancel:e=>(a(e),r.return())},{highWaterMark:2})},vM="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,bM=vM&&"function"==typeof ReadableStream,wM=vM&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),CM=(e,...t)=>{try{return!!e(...t)}catch(VY){return!1}},xM=bM&&CM(()=>{let e=!1;const t=new Request(zD.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),IM=bM&&CM(()=>ID.isReadableStream(new Response("").body)),EM={stream:IM&&(e=>e.body)};vM&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!EM[t]&&(EM[t]=ID.isFunction(e[t])?e=>e[t]():(e,i)=>{throw new ED(`Response type '${t}' is not supported`,ED.ERR_NOT_SUPPORT,i)})})})(new Response);const OM=async(e,t)=>{const i=ID.toFiniteNumber(e.getContentLength());return null==i?(async e=>{if(null==e)return 0;if(ID.isBlob(e))return e.size;if(ID.isSpecCompliantForm(e)){const t=new Request(zD.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ID.isArrayBufferView(e)||ID.isArrayBuffer(e)?e.byteLength:(ID.isURLSearchParams(e)&&(e+=""),ID.isString(e)?(await wM(e)).byteLength:void 0)})(t):i},SM={http:null,xhr:fM,fetch:vM&&(async e=>{let{url:t,method:i,data:n,signal:r,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:d}=pM(e);u=u?(u+"").toLowerCase():"text";let p,f=_M([r,o&&o.toAbortSignal()],s);const _=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&xM&&"get"!==i&&"head"!==i&&0!==(g=await OM(c,n))){let e,i=new Request(t,{method:"POST",body:n,duplex:"half"});if(ID.isFormData(n)&&(e=i.headers.get("content-type"))&&c.setContentType(e),i.body){const[e,t]=sM(g,oM(aM(l)));n=yM(i.body,65536,e,t)}}ID.isString(h)||(h=h?"include":"omit");const r="credentials"in Request.prototype;p=new Request(t,{...d,signal:f,method:i.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:r?h:void 0});let o=await fetch(p,d);const s=IM&&("stream"===u||"response"===u);if(IM&&(a||s&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=o[t]});const t=ID.toFiniteNumber(o.headers.get("content-length")),[i,n]=a&&sM(t,oM(aM(a),!0))||[];o=new Response(yM(o.body,65536,i,()=>{n&&n(),_&&_()}),e)}u=u||"text";let m=await EM[ID.findKey(EM,u)||"text"](o,e);return!s&&_&&_(),await new Promise((t,i)=>{rM(t,i,{data:m,headers:eM.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})})}catch(m){if(_&&_(),m&&"TypeError"===m.name&&/Load failed|fetch/i.test(m.message))throw Object.assign(new ED("Network Error",ED.ERR_NETWORK,e,p),{cause:m.cause||m});throw ED.from(m,m&&m.code,e,p)}})};ID.forEach(SM,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(VY){}Object.defineProperty(e,"adapterName",{value:t})}});const kM=e=>`- ${e}`,PM=e=>ID.isFunction(e)||null===e||!1===e,RM=e=>{e=ID.isArray(e)?e:[e];const{length:t}=e;let i,n;const r={};for(let o=0;o<t;o++){let t;if(i=e[o],n=i,!PM(i)&&(n=SM[(t=String(i)).toLowerCase()],void 0===n))throw new ED(`Unknown adapter '${t}'`);if(n)break;r[t||"#"+o]=n}if(!n){const e=Object.entries(r).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new ED("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(kM).join("\n"):" "+kM(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function TM(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new nM(null,e)}function DM(e){TM(e),e.headers=eM.from(e.headers),e.data=tM.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return RM(e.adapter||qD.adapter)(e).then(function(t){return TM(e),t.data=tM.call(e,e.transformResponse,t),t.headers=eM.from(t.headers),t},function(t){return iM(t)||(TM(e),t&&t.response&&(t.response.data=tM.call(e,e.transformResponse,t.response),t.response.headers=eM.from(t.response.headers))),Promise.reject(t)})}const MM="1.10.0",LM={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{LM[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const AM={};LM.transitional=function(e,t,i){return(n,r,o)=>{if(!1===e)throw new ED(function(e,t){return"[Axios v"+MM+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}(r," has been removed"+(t?" in "+t:"")),ED.ERR_DEPRECATED);return t&&!AM[r]&&(AM[r]=!0),!e||e(n,r,o)}},LM.spelling=function(e){return(e,t)=>!0};const FM={assertOptions:function(e,t,i){if("object"!=typeof e)throw new ED("options must be an object",ED.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const o=n[r],s=t[o];if(s){const t=e[o],i=void 0===t||s(t,o,e);if(!0!==i)throw new ED("option "+o+" must be "+i,ED.ERR_BAD_OPTION_VALUE);continue}if(!0!==i)throw new ED("Unknown option "+o,ED.ERR_BAD_OPTION)}},validators:LM},$M=FM.validators;let NM=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ND,response:new ND}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{i.stack?t&&!String(i.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(i.stack+="\n"+t):i.stack=t}catch(VY){}}throw i}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=dM(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:r}=t;void 0!==i&&FM.assertOptions(i,{silentJSONParsing:$M.transitional($M.boolean),forcedJSONParsing:$M.transitional($M.boolean),clarifyTimeoutError:$M.transitional($M.boolean)},!1),null!=n&&(ID.isFunction(n)?t.paramsSerializer={serialize:n}:FM.assertOptions(n,{encode:$M.function,serialize:$M.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),FM.assertOptions(t,{baseUrl:$M.spelling("baseURL"),withXsrfToken:$M.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&ID.merge(r.common,r[t.method]);r&&ID.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=eM.concat(o,r);const s=[];let a=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let u;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let c,h=0;if(!a){const e=[DM.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);h<c;)u=u.then(e[h++],e[h++]);return u}c=s.length;let d=t;for(h=0;h<c;){const e=s[h++],t=s[h++];try{d=e(d)}catch(p){t.call(this,p);break}}try{u=DM.call(this,d)}catch(p){return Promise.reject(p)}for(h=0,c=l.length;h<c;)u=u.then(l[h++],l[h++]);return u}getUri(e){return $D(cM((e=dM(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};ID.forEach(["delete","get","head","options"],function(e){NM.prototype[e]=function(t,i){return this.request(dM(i||{},{method:e,url:t,data:(i||{}).data}))}}),ID.forEach(["post","put","patch"],function(e){function t(t){return function(i,n,r){return this.request(dM(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}NM.prototype[e]=t(),NM.prototype[e+"Form"]=t(!0)});const jM={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jM).forEach(([e,t])=>{jM[t]=e});const BM=function e(t){const i=new NM(t),n=$T(NM.prototype.request,i);return ID.extend(n,NM.prototype,i,{allOwnKeys:!0}),ID.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(dM(t,i))},n}(qD);BM.Axios=NM,BM.CanceledError=nM,BM.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const i=this;this.promise.then(e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{i.subscribe(e),t=e}).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e(function(e,n,r){i.reason||(i.reason=new nM(e,n,r),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},BM.isCancel=iM,BM.VERSION=MM,BM.toFormData=DD,BM.AxiosError=ED,BM.Cancel=BM.CanceledError,BM.all=function(e){return Promise.all(e)},BM.spread=function(e){return function(t){return e.apply(null,t)}},BM.isAxiosError=function(e){return ID.isObject(e)&&!0===e.isAxiosError},BM.mergeConfig=dM,BM.AxiosHeaders=eM,BM.formToJSON=e=>YD(ID.isHTMLForm(e)?new FormData(e):e),BM.getAdapter=RM,BM.HttpStatusCode=jM,BM.default=BM;const{Axios:VM,AxiosError:HM,CanceledError:UM,isCancel:WM,CancelToken:GM,VERSION:zM,all:YM,Cancel:qM,isAxiosError:KM,spread:XM,toFormData:ZM,AxiosHeaders:JM,HttpStatusCode:QM,formToJSON:eL,getAdapter:tL,mergeConfig:iL}=BM;var nL="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function rL(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oL,sL={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var aL,lL,uL=(oL||(oL=1,aL=sL,lL=sL.exports,function(){var e,t="Expected a function",i="__lodash_hash_undefined__",n="__lodash_placeholder__",r=32,o=128,s=256,a=1/0,l=9007199254740991,u=NaN,c=4294967295,h=[["ary",o],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",r],["partialRight",64],["rearg",s]],d="[object Arguments]",p="[object Array]",f="[object Boolean]",_="[object Date]",g="[object Error]",m="[object Function]",y="[object GeneratorFunction]",v="[object Map]",b="[object Number]",w="[object Object]",C="[object Promise]",x="[object RegExp]",I="[object Set]",E="[object String]",O="[object Symbol]",S="[object WeakMap]",k="[object ArrayBuffer]",P="[object DataView]",R="[object Float32Array]",T="[object Float64Array]",D="[object Int8Array]",M="[object Int16Array]",L="[object Int32Array]",A="[object Uint8Array]",F="[object Uint8ClampedArray]",$="[object Uint16Array]",N="[object Uint32Array]",j=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,W=RegExp(H.source),G=RegExp(U.source),z=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,Z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/[\\^$.*+?()[\]{}|]/g,Q=RegExp(J.source),ee=/^\s+/,te=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ne=/\{\n\/\* \[wrapped with (.+)\] \*/,re=/,? & /,oe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,se=/[()=,{}\[\]\/\s]/,ae=/\\(\\)?/g,le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ue=/\w*$/,ce=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,de=/^\[object .+?Constructor\]$/,pe=/^0o[0-7]+$/i,fe=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ge=/($^)/,me=/['\n\r\u2028\u2029\\]/g,ye="\\ud800-\\udfff",ve="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",be="\\u2700-\\u27bf",we="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",xe="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ee="[']",Oe="["+ye+"]",Se="["+Ie+"]",ke="["+ve+"]",Pe="\\d+",Re="["+be+"]",Te="["+we+"]",De="[^"+ye+Ie+Pe+be+we+Ce+"]",Me="\\ud83c[\\udffb-\\udfff]",Le="[^"+ye+"]",Ae="(?:\\ud83c[\\udde6-\\uddff]){2}",Fe="[\\ud800-\\udbff][\\udc00-\\udfff]",$e="["+Ce+"]",Ne="\\u200d",je="(?:"+Te+"|"+De+")",Be="(?:"+$e+"|"+De+")",Ve="(?:['](?:d|ll|m|re|s|t|ve))?",He="(?:['](?:D|LL|M|RE|S|T|VE))?",Ue="(?:"+ke+"|"+Me+")?",We="["+xe+"]?",Ge=We+Ue+"(?:"+Ne+"(?:"+[Le,Ae,Fe].join("|")+")"+We+Ue+")*",ze="(?:"+[Re,Ae,Fe].join("|")+")"+Ge,Ye="(?:"+[Le+ke+"?",ke,Ae,Fe,Oe].join("|")+")",qe=RegExp(Ee,"g"),Ke=RegExp(ke,"g"),Xe=RegExp(Me+"(?="+Me+")|"+Ye+Ge,"g"),Ze=RegExp([$e+"?"+Te+"+"+Ve+"(?="+[Se,$e,"$"].join("|")+")",Be+"+"+He+"(?="+[Se,$e+je,"$"].join("|")+")",$e+"?"+je+"+"+Ve,$e+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,ze].join("|"),"g"),Je=RegExp("["+Ne+ye+ve+xe+"]"),Qe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,et=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tt=-1,it={};it[R]=it[T]=it[D]=it[M]=it[L]=it[A]=it[F]=it[$]=it[N]=!0,it[d]=it[p]=it[k]=it[f]=it[P]=it[_]=it[g]=it[m]=it[v]=it[b]=it[w]=it[x]=it[I]=it[E]=it[S]=!1;var nt={};nt[d]=nt[p]=nt[k]=nt[P]=nt[f]=nt[_]=nt[R]=nt[T]=nt[D]=nt[M]=nt[L]=nt[v]=nt[b]=nt[w]=nt[x]=nt[I]=nt[E]=nt[O]=nt[A]=nt[F]=nt[$]=nt[N]=!0,nt[g]=nt[m]=nt[S]=!1;var rt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ot=parseFloat,st=parseInt,at="object"==typeof nL&&nL&&nL.Object===Object&&nL,lt="object"==typeof self&&self&&self.Object===Object&&self,ut=at||lt||Function("return this")(),ct=lL&&!lL.nodeType&&lL,ht=ct&&aL&&!aL.nodeType&&aL,dt=ht&&ht.exports===ct,pt=dt&&at.process,ft=function(){try{var e=ht&&ht.require&&ht.require("util").types;return e||pt&&pt.binding&&pt.binding("util")}catch(VY){}}(),_t=ft&&ft.isArrayBuffer,gt=ft&&ft.isDate,mt=ft&&ft.isMap,yt=ft&&ft.isRegExp,vt=ft&&ft.isSet,bt=ft&&ft.isTypedArray;function wt(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function Ct(e,t,i,n){for(var r=-1,o=null==e?0:e.length;++r<o;){var s=e[r];t(n,s,i(s),e)}return n}function xt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}function It(e,t){for(var i=null==e?0:e.length;i--&&!1!==t(e[i],i,e););return e}function Et(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function Ot(e,t){for(var i=-1,n=null==e?0:e.length,r=0,o=[];++i<n;){var s=e[i];t(s,i,e)&&(o[r++]=s)}return o}function St(e,t){return!(null==e||!e.length)&&$t(e,t,0)>-1}function kt(e,t,i){for(var n=-1,r=null==e?0:e.length;++n<r;)if(i(t,e[n]))return!0;return!1}function Pt(e,t){for(var i=-1,n=null==e?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}function Rt(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}function Tt(e,t,i,n){var r=-1,o=null==e?0:e.length;for(n&&o&&(i=e[++r]);++r<o;)i=t(i,e[r],r,e);return i}function Dt(e,t,i,n){var r=null==e?0:e.length;for(n&&r&&(i=e[--r]);r--;)i=t(i,e[r],r,e);return i}function Mt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}var Lt=Vt("length");function At(e,t,i){var n;return i(e,function(e,i,r){if(t(e,i,r))return n=i,!1}),n}function Ft(e,t,i,n){for(var r=e.length,o=i+(n?1:-1);n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function $t(e,t,i){return t==t?function(e,t,i){for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}(e,t,i):Ft(e,jt,i)}function Nt(e,t,i,n){for(var r=i-1,o=e.length;++r<o;)if(n(e[r],t))return r;return-1}function jt(e){return e!=e}function Bt(e,t){var i=null==e?0:e.length;return i?Wt(e,t)/i:u}function Vt(t){return function(i){return null==i?e:i[t]}}function Ht(t){return function(i){return null==t?e:t[i]}}function Ut(e,t,i,n,r){return r(e,function(e,r,o){i=n?(n=!1,e):t(i,e,r,o)}),i}function Wt(t,i){for(var n,r=-1,o=t.length;++r<o;){var s=i(t[r]);s!==e&&(n=n===e?s:n+s)}return n}function Gt(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function zt(e){return e?e.slice(0,li(e)+1).replace(ee,""):e}function Yt(e){return function(t){return e(t)}}function qt(e,t){return Pt(t,function(t){return e[t]})}function Kt(e,t){return e.has(t)}function Xt(e,t){for(var i=-1,n=e.length;++i<n&&$t(t,e[i],0)>-1;);return i}function Zt(e,t){for(var i=e.length;i--&&$t(t,e[i],0)>-1;);return i}var Jt=Ht({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Qt=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ei(e){return"\\"+rt[e]}function ti(e){return Je.test(e)}function ii(e){var t=-1,i=Array(e.size);return e.forEach(function(e,n){i[++t]=[n,e]}),i}function ni(e,t){return function(i){return e(t(i))}}function ri(e,t){for(var i=-1,r=e.length,o=0,s=[];++i<r;){var a=e[i];a!==t&&a!==n||(e[i]=n,s[o++]=i)}return s}function oi(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}function si(e){return ti(e)?function(e){for(var t=Xe.lastIndex=0;Xe.test(e);)++t;return t}(e):Lt(e)}function ai(e){return ti(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.split("")}(e)}function li(e){for(var t=e.length;t--&&te.test(e.charAt(t)););return t}var ui=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ci=function te(ye){var ve,be=(ye=null==ye?ut:ci.defaults(ut.Object(),ye,ci.pick(ut,et))).Array,we=ye.Date,Ce=ye.Error,xe=ye.Function,Ie=ye.Math,Ee=ye.Object,Oe=ye.RegExp,Se=ye.String,ke=ye.TypeError,Pe=be.prototype,Re=xe.prototype,Te=Ee.prototype,De=ye["__core-js_shared__"],Me=Re.toString,Le=Te.hasOwnProperty,Ae=0,Fe=(ve=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||""))?"Symbol(src)_1."+ve:"",$e=Te.toString,Ne=Me.call(Ee),je=ut._,Be=Oe("^"+Me.call(Le).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=dt?ye.Buffer:e,He=ye.Symbol,Ue=ye.Uint8Array,We=Ve?Ve.allocUnsafe:e,Ge=ni(Ee.getPrototypeOf,Ee),ze=Ee.create,Ye=Te.propertyIsEnumerable,Xe=Pe.splice,Je=He?He.isConcatSpreadable:e,rt=He?He.iterator:e,at=He?He.toStringTag:e,lt=function(){try{var e=uo(Ee,"defineProperty");return e({},"",{}),e}catch(VY){}}(),ct=ye.clearTimeout!==ut.clearTimeout&&ye.clearTimeout,ht=we&&we.now!==ut.Date.now&&we.now,pt=ye.setTimeout!==ut.setTimeout&&ye.setTimeout,ft=Ie.ceil,Lt=Ie.floor,Ht=Ee.getOwnPropertySymbols,hi=Ve?Ve.isBuffer:e,di=ye.isFinite,pi=Pe.join,fi=ni(Ee.keys,Ee),_i=Ie.max,gi=Ie.min,mi=we.now,yi=ye.parseInt,vi=Ie.random,bi=Pe.reverse,wi=uo(ye,"DataView"),Ci=uo(ye,"Map"),xi=uo(ye,"Promise"),Ii=uo(ye,"Set"),Ei=uo(ye,"WeakMap"),Oi=uo(Ee,"create"),Si=Ei&&new Ei,ki={},Pi=jo(wi),Ri=jo(Ci),Ti=jo(xi),Di=jo(Ii),Mi=jo(Ei),Li=He?He.prototype:e,Ai=Li?Li.valueOf:e,Fi=Li?Li.toString:e;function $i(e){if(ia(e)&&!Gs(e)&&!(e instanceof Vi)){if(e instanceof Bi)return e;if(Le.call(e,"__wrapped__"))return Bo(e)}return new Bi(e)}var Ni=function(){function t(){}return function(i){if(!ta(i))return{};if(ze)return ze(i);t.prototype=i;var n=new t;return t.prototype=e,n}}();function ji(){}function Bi(t,i){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=e}function Vi(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=c,this.__views__=[]}function Hi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Ui(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Wi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Gi(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new Wi;++t<i;)this.add(e[t])}function zi(e){var t=this.__data__=new Ui(e);this.size=t.size}function Yi(e,t){var i=Gs(e),n=!i&&Ws(e),r=!i&&!n&&Ks(e),o=!i&&!n&&!r&&ca(e),s=i||n||r||o,a=s?Gt(e.length,Se):[],l=a.length;for(var u in e)!t&&!Le.call(e,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||mo(u,l))||a.push(u);return a}function qi(t){var i=t.length;return i?t[zn(0,i-1)]:e}function Ki(e,t){return Mo(Sr(e),on(t,0,e.length))}function Xi(e){return Mo(Sr(e))}function Zi(t,i,n){(n!==e&&!Vs(t[i],n)||n===e&&!(i in t))&&nn(t,i,n)}function Ji(t,i,n){var r=t[i];Le.call(t,i)&&Vs(r,n)&&(n!==e||i in t)||nn(t,i,n)}function Qi(e,t){for(var i=e.length;i--;)if(Vs(e[i][0],t))return i;return-1}function en(e,t,i,n){return cn(e,function(e,r,o){t(n,e,i(e),o)}),n}function tn(e,t){return e&&kr(t,Da(t),e)}function nn(e,t,i){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function rn(t,i){for(var n=-1,r=i.length,o=be(r),s=null==t;++n<r;)o[n]=s?e:Sa(t,i[n]);return o}function on(t,i,n){return t==t&&(n!==e&&(t=t<=n?t:n),i!==e&&(t=t>=i?t:i)),t}function sn(t,i,n,r,o,s){var a,l=1&i,u=2&i,c=4&i;if(n&&(a=o?n(t,r,o,s):n(t)),a!==e)return a;if(!ta(t))return t;var h=Gs(t);if(h){if(a=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(t),!l)return Sr(t,a)}else{var p=po(t),g=p==m||p==y;if(Ks(t))return wr(t,l);if(p==w||p==d||g&&!o){if(a=u||g?{}:_o(t),!l)return u?function(e,t){return kr(e,ho(e),t)}(t,function(e,t){return e&&kr(t,Ma(t),e)}(a,t)):function(e,t){return kr(e,co(e),t)}(t,tn(a,t))}else{if(!nt[p])return o?t:{};a=function(e,t,i){var n,r=e.constructor;switch(t){case k:return Cr(e);case f:case _:return new r(+e);case P:return function(e,t){var i=t?Cr(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case R:case T:case D:case M:case L:case A:case F:case $:case N:return xr(e,i);case v:return new r;case b:case E:return new r(e);case x:return function(e){var t=new e.constructor(e.source,ue.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new r;case O:return n=e,Ai?Ee(Ai.call(n)):{}}}(t,p,l)}}s||(s=new zi);var C=s.get(t);if(C)return C;s.set(t,a),aa(t)?t.forEach(function(e){a.add(sn(e,i,n,e,t,s))}):na(t)&&t.forEach(function(e,r){a.set(r,sn(e,i,n,r,t,s))});var S=h?e:(c?u?io:to:u?Ma:Da)(t);return xt(S||t,function(e,r){S&&(e=t[r=e]),Ji(a,r,sn(e,i,n,r,t,s))}),a}function an(t,i,n){var r=n.length;if(null==t)return!r;for(t=Ee(t);r--;){var o=n[r],s=i[o],a=t[o];if(a===e&&!(o in t)||!s(a))return!1}return!0}function ln(i,n,r){if("function"!=typeof i)throw new ke(t);return Po(function(){i.apply(e,r)},n)}function un(e,t,i,n){var r=-1,o=St,s=!0,a=e.length,l=[],u=t.length;if(!a)return l;i&&(t=Pt(t,Yt(i))),n?(o=kt,s=!1):t.length>=200&&(o=Kt,s=!1,t=new Gi(t));e:for(;++r<a;){var c=e[r],h=null==i?c:i(c);if(c=n||0!==c?c:0,s&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;l.push(c)}else o(t,h,n)||l.push(c)}return l}$i.templateSettings={escape:z,evaluate:Y,interpolate:q,variable:"",imports:{_:$i}},$i.prototype=ji.prototype,$i.prototype.constructor=$i,Bi.prototype=Ni(ji.prototype),Bi.prototype.constructor=Bi,Vi.prototype=Ni(ji.prototype),Vi.prototype.constructor=Vi,Hi.prototype.clear=function(){this.__data__=Oi?Oi(null):{},this.size=0},Hi.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hi.prototype.get=function(t){var n=this.__data__;if(Oi){var r=n[t];return r===i?e:r}return Le.call(n,t)?n[t]:e},Hi.prototype.has=function(t){var i=this.__data__;return Oi?i[t]!==e:Le.call(i,t)},Hi.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Oi&&n===e?i:n,this},Ui.prototype.clear=function(){this.__data__=[],this.size=0},Ui.prototype.delete=function(e){var t=this.__data__,i=Qi(t,e);return!(i<0||(i==t.length-1?t.pop():Xe.call(t,i,1),--this.size,0))},Ui.prototype.get=function(t){var i=this.__data__,n=Qi(i,t);return n<0?e:i[n][1]},Ui.prototype.has=function(e){return Qi(this.__data__,e)>-1},Ui.prototype.set=function(e,t){var i=this.__data__,n=Qi(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},Wi.prototype.clear=function(){this.size=0,this.__data__={hash:new Hi,map:new(Ci||Ui),string:new Hi}},Wi.prototype.delete=function(e){var t=ao(this,e).delete(e);return this.size-=t?1:0,t},Wi.prototype.get=function(e){return ao(this,e).get(e)},Wi.prototype.has=function(e){return ao(this,e).has(e)},Wi.prototype.set=function(e,t){var i=ao(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},Gi.prototype.add=Gi.prototype.push=function(e){return this.__data__.set(e,i),this},Gi.prototype.has=function(e){return this.__data__.has(e)},zi.prototype.clear=function(){this.__data__=new Ui,this.size=0},zi.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},zi.prototype.get=function(e){return this.__data__.get(e)},zi.prototype.has=function(e){return this.__data__.has(e)},zi.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Ui){var n=i.__data__;if(!Ci||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new Wi(n)}return i.set(e,t),this.size=i.size,this};var cn=Tr(yn),hn=Tr(vn,!0);function dn(e,t){var i=!0;return cn(e,function(e,n,r){return i=!!t(e,n,r)}),i}function pn(t,i,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=i(s);if(null!=a&&(l===e?a==a&&!ua(a):n(a,l)))var l=a,u=s}return u}function fn(e,t){var i=[];return cn(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i}function _n(e,t,i,n,r){var o=-1,s=e.length;for(i||(i=go),r||(r=[]);++o<s;){var a=e[o];t>0&&i(a)?t>1?_n(a,t-1,i,n,r):Rt(r,a):n||(r[r.length]=a)}return r}var gn=Dr(),mn=Dr(!0);function yn(e,t){return e&&gn(e,t,Da)}function vn(e,t){return e&&mn(e,t,Da)}function bn(e,t){return Ot(t,function(t){return Js(e[t])})}function wn(t,i){for(var n=0,r=(i=mr(i,t)).length;null!=t&&n<r;)t=t[No(i[n++])];return n&&n==r?t:e}function Cn(e,t,i){var n=t(e);return Gs(e)?n:Rt(n,i(e))}function xn(t){return null==t?t===e?"[object Undefined]":"[object Null]":at&&at in Ee(t)?function(t){var i=Le.call(t,at),n=t[at];try{t[at]=e;var r=!0}catch(VY){}var o=$e.call(t);return r&&(i?t[at]=n:delete t[at]),o}(t):function(e){return $e.call(e)}(t)}function In(e,t){return e>t}function En(e,t){return null!=e&&Le.call(e,t)}function On(e,t){return null!=e&&t in Ee(e)}function Sn(t,i,n){for(var r=n?kt:St,o=t[0].length,s=t.length,a=s,l=be(s),u=1/0,c=[];a--;){var h=t[a];a&&i&&(h=Pt(h,Yt(i))),u=gi(h.length,u),l[a]=!n&&(i||o>=120&&h.length>=120)?new Gi(a&&h):e}h=t[0];var d=-1,p=l[0];e:for(;++d<o&&c.length<u;){var f=h[d],_=i?i(f):f;if(f=n||0!==f?f:0,!(p?Kt(p,_):r(c,_,n))){for(a=s;--a;){var g=l[a];if(!(g?Kt(g,_):r(t[a],_,n)))continue e}p&&p.push(_),c.push(f)}}return c}function kn(t,i,n){var r=null==(t=Oo(t,i=mr(i,t)))?t:t[No(Zo(i))];return null==r?e:wt(r,t,n)}function Pn(e){return ia(e)&&xn(e)==d}function Rn(t,i,n,r,o){return t===i||(null==t||null==i||!ia(t)&&!ia(i)?t!=t&&i!=i:function(t,i,n,r,o,s){var a=Gs(t),l=Gs(i),u=a?p:po(t),c=l?p:po(i),h=(u=u==d?w:u)==w,m=(c=c==d?w:c)==w,y=u==c;if(y&&Ks(t)){if(!Ks(i))return!1;a=!0,h=!1}if(y&&!h)return s||(s=new zi),a||ca(t)?Qr(t,i,n,r,o,s):function(e,t,i,n,r,o,s){switch(i){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!o(new Ue(e),new Ue(t)));case f:case _:case b:return Vs(+e,+t);case g:return e.name==t.name&&e.message==t.message;case x:case E:return e==t+"";case v:var a=ii;case I:var l=1&n;if(a||(a=oi),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;n|=2,s.set(e,t);var c=Qr(a(e),a(t),n,r,o,s);return s.delete(e),c;case O:if(Ai)return Ai.call(e)==Ai.call(t)}return!1}(t,i,u,n,r,o,s);if(!(1&n)){var C=h&&Le.call(t,"__wrapped__"),S=m&&Le.call(i,"__wrapped__");if(C||S){var R=C?t.value():t,T=S?i.value():i;return s||(s=new zi),o(R,T,n,r,s)}}return!!y&&(s||(s=new zi),function(t,i,n,r,o,s){var a=1&n,l=to(t),u=l.length,c=to(i),h=c.length;if(u!=h&&!a)return!1;for(var d=u;d--;){var p=l[d];if(!(a?p in i:Le.call(i,p)))return!1}var f=s.get(t),_=s.get(i);if(f&&_)return f==i&&_==t;var g=!0;s.set(t,i),s.set(i,t);for(var m=a;++d<u;){var y=t[p=l[d]],v=i[p];if(r)var b=a?r(v,y,p,i,t,s):r(y,v,p,t,i,s);if(!(b===e?y===v||o(y,v,n,r,s):b)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var w=t.constructor,C=i.constructor;w==C||!("constructor"in t)||!("constructor"in i)||"function"==typeof w&&w instanceof w&&"function"==typeof C&&C instanceof C||(g=!1)}return s.delete(t),s.delete(i),g}(t,i,n,r,o,s))}(t,i,n,r,Rn,o))}function Tn(t,i,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=Ee(t);o--;){var l=n[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<s;){var u=(l=n[o])[0],c=t[u],h=l[1];if(a&&l[2]){if(c===e&&!(u in t))return!1}else{var d=new zi;if(r)var p=r(c,h,u,t,i,d);if(!(p===e?Rn(h,c,3,r,d):p))return!1}}return!0}function Dn(e){return!(!ta(e)||(t=e,Fe&&Fe in t))&&(Js(e)?Be:de).test(jo(e));var t}function Mn(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Gs(e)?jn(e[0],e[1]):Nn(e):pl(e)}function Ln(e){if(!Co(e))return fi(e);var t=[];for(var i in Ee(e))Le.call(e,i)&&"constructor"!=i&&t.push(i);return t}function An(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var i in Ee(e))t.push(i);return t}(e);var t=Co(e),i=[];for(var n in e)("constructor"!=n||!t&&Le.call(e,n))&&i.push(n);return i}function Fn(e,t){return e<t}function $n(e,t){var i=-1,n=Ys(e)?be(e.length):[];return cn(e,function(e,r,o){n[++i]=t(e,r,o)}),n}function Nn(e){var t=lo(e);return 1==t.length&&t[0][2]?Io(t[0][0],t[0][1]):function(i){return i===e||Tn(i,e,t)}}function jn(t,i){return vo(t)&&xo(i)?Io(No(t),i):function(n){var r=Sa(n,t);return r===e&&r===i?ka(n,t):Rn(i,r,3)}}function Bn(t,i,n,r,o){t!==i&&gn(i,function(s,a){if(o||(o=new zi),ta(s))!function(t,i,n,r,o,s,a){var l=So(t,n),u=So(i,n),c=a.get(u);if(c)Zi(t,n,c);else{var h=s?s(l,u,n+"",t,i,a):e,d=h===e;if(d){var p=Gs(u),f=!p&&Ks(u),_=!p&&!f&&ca(u);h=u,p||f||_?Gs(l)?h=l:qs(l)?h=Sr(l):f?(d=!1,h=wr(u,!0)):_?(d=!1,h=xr(u,!0)):h=[]:oa(u)||Ws(u)?(h=l,Ws(l)?h=ya(l):ta(l)&&!Js(l)||(h=_o(u))):d=!1}d&&(a.set(u,h),o(h,u,r,s,a),a.delete(u)),Zi(t,n,h)}}(t,i,a,n,Bn,r,o);else{var l=r?r(So(t,a),s,a+"",t,i,o):e;l===e&&(l=s),Zi(t,a,l)}},Ma)}function Vn(t,i){var n=t.length;if(n)return mo(i+=i<0?n:0,n)?t[i]:e}function Hn(e,t,i){t=t.length?Pt(t,function(e){return Gs(e)?function(t){return wn(t,1===e.length?e[0]:e)}:e}):[rl];var n=-1;return t=Pt(t,Yt(so())),function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}($n(e,function(e,i,r){return{criteria:Pt(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,i){for(var n=-1,r=e.criteria,o=t.criteria,s=r.length,a=i.length;++n<s;){var l=Ir(r[n],o[n]);if(l)return n>=a?l:l*("desc"==i[n]?-1:1)}return e.index-t.index}(e,t,i)})}function Un(e,t,i){for(var n=-1,r=t.length,o={};++n<r;){var s=t[n],a=wn(e,s);i(a,s)&&Zn(o,mr(s,e),a)}return o}function Wn(e,t,i,n){var r=n?Nt:$t,o=-1,s=t.length,a=e;for(e===t&&(t=Sr(t)),i&&(a=Pt(e,Yt(i)));++o<s;)for(var l=0,u=t[o],c=i?i(u):u;(l=r(a,c,l,n))>-1;)a!==e&&Xe.call(a,l,1),Xe.call(e,l,1);return e}function Gn(e,t){for(var i=e?t.length:0,n=i-1;i--;){var r=t[i];if(i==n||r!==o){var o=r;mo(r)?Xe.call(e,r,1):ur(e,r)}}return e}function zn(e,t){return e+Lt(vi()*(t-e+1))}function Yn(e,t){var i="";if(!e||t<1||t>l)return i;do{t%2&&(i+=e),(t=Lt(t/2))&&(e+=e)}while(t);return i}function qn(e,t){return Ro(Eo(e,t,rl),e+"")}function Kn(e){return qi(Va(e))}function Xn(e,t){var i=Va(e);return Mo(i,on(t,0,i.length))}function Zn(t,i,n,r){if(!ta(t))return t;for(var o=-1,s=(i=mr(i,t)).length,a=s-1,l=t;null!=l&&++o<s;){var u=No(i[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=a){var h=l[u];(c=r?r(h,u,l):e)===e&&(c=ta(h)?h:mo(i[o+1])?[]:{})}Ji(l,u,c),l=l[u]}return t}var Jn=Si?function(e,t){return Si.set(e,t),e}:rl,Qn=lt?function(e,t){return lt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:rl;function er(e){return Mo(Va(e))}function tr(e,t,i){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(i=i>r?r:i)<0&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var o=be(r);++n<r;)o[n]=e[n+t];return o}function ir(e,t){var i;return cn(e,function(e,n,r){return!(i=t(e,n,r))}),!!i}function nr(e,t,i){var n=0,r=null==e?n:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;n<r;){var o=n+r>>>1,s=e[o];null!==s&&!ua(s)&&(i?s<=t:s<t)?n=o+1:r=o}return r}return rr(e,t,rl,i)}function rr(t,i,n,r){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(i=n(i))!=i,l=null===i,u=ua(i),c=i===e;o<s;){var h=Lt((o+s)/2),d=n(t[h]),p=d!==e,f=null===d,_=d==d,g=ua(d);if(a)var m=r||_;else m=c?_&&(r||p):l?_&&p&&(r||!f):u?_&&p&&!f&&(r||!g):!f&&!g&&(r?d<=i:d<i);m?o=h+1:s=h}return gi(s,4294967294)}function or(e,t){for(var i=-1,n=e.length,r=0,o=[];++i<n;){var s=e[i],a=t?t(s):s;if(!i||!Vs(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function sr(e){return"number"==typeof e?e:ua(e)?u:+e}function ar(e){if("string"==typeof e)return e;if(Gs(e))return Pt(e,ar)+"";if(ua(e))return Fi?Fi.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function lr(e,t,i){var n=-1,r=St,o=e.length,s=!0,a=[],l=a;if(i)s=!1,r=kt;else if(o>=200){var u=t?null:Yr(e);if(u)return oi(u);s=!1,r=Kt,l=new Gi}else l=t?[]:a;e:for(;++n<o;){var c=e[n],h=t?t(c):c;if(c=i||0!==c?c:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),a.push(c)}else r(l,h,i)||(l!==a&&l.push(h),a.push(c))}return a}function ur(e,t){return null==(e=Oo(e,t=mr(t,e)))||delete e[No(Zo(t))]}function cr(e,t,i,n){return Zn(e,t,i(wn(e,t)),n)}function hr(e,t,i,n){for(var r=e.length,o=n?r:-1;(n?o--:++o<r)&&t(e[o],o,e););return i?tr(e,n?0:o,n?o+1:r):tr(e,n?o+1:0,n?r:o)}function dr(e,t){var i=e;return i instanceof Vi&&(i=i.value()),Tt(t,function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))},i)}function pr(e,t,i){var n=e.length;if(n<2)return n?lr(e[0]):[];for(var r=-1,o=be(n);++r<n;)for(var s=e[r],a=-1;++a<n;)a!=r&&(o[r]=un(o[r]||s,e[a],t,i));return lr(_n(o,1),t,i)}function fr(t,i,n){for(var r=-1,o=t.length,s=i.length,a={};++r<o;){var l=r<s?i[r]:e;n(a,t[r],l)}return a}function _r(e){return qs(e)?e:[]}function gr(e){return"function"==typeof e?e:rl}function mr(e,t){return Gs(e)?e:vo(e,t)?[e]:$o(va(e))}var yr=qn;function vr(t,i,n){var r=t.length;return n=n===e?r:n,!i&&n>=r?t:tr(t,i,n)}var br=ct||function(e){return ut.clearTimeout(e)};function wr(e,t){if(t)return e.slice();var i=e.length,n=We?We(i):new e.constructor(i);return e.copy(n),n}function Cr(e){var t=new e.constructor(e.byteLength);return new Ue(t).set(new Ue(e)),t}function xr(e,t){var i=t?Cr(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function Ir(t,i){if(t!==i){var n=t!==e,r=null===t,o=t==t,s=ua(t),a=i!==e,l=null===i,u=i==i,c=ua(i);if(!l&&!c&&!s&&t>i||s&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!o)return 1;if(!r&&!s&&!c&&t<i||c&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!u)return-1}return 0}function Er(e,t,i,n){for(var r=-1,o=e.length,s=i.length,a=-1,l=t.length,u=_i(o-s,0),c=be(l+u),h=!n;++a<l;)c[a]=t[a];for(;++r<s;)(h||r<o)&&(c[i[r]]=e[r]);for(;u--;)c[a++]=e[r++];return c}function Or(e,t,i,n){for(var r=-1,o=e.length,s=-1,a=i.length,l=-1,u=t.length,c=_i(o-a,0),h=be(c+u),d=!n;++r<c;)h[r]=e[r];for(var p=r;++l<u;)h[p+l]=t[l];for(;++s<a;)(d||r<o)&&(h[p+i[s]]=e[r++]);return h}function Sr(e,t){var i=-1,n=e.length;for(t||(t=be(n));++i<n;)t[i]=e[i];return t}function kr(t,i,n,r){var o=!n;n||(n={});for(var s=-1,a=i.length;++s<a;){var l=i[s],u=r?r(n[l],t[l],l,n,t):e;u===e&&(u=t[l]),o?nn(n,l,u):Ji(n,l,u)}return n}function Pr(e,t){return function(i,n){var r=Gs(i)?Ct:en,o=t?t():{};return r(i,e,so(n,2),o)}}function Rr(t){return qn(function(i,n){var r=-1,o=n.length,s=o>1?n[o-1]:e,a=o>2?n[2]:e;for(s=t.length>3&&"function"==typeof s?(o--,s):e,a&&yo(n[0],n[1],a)&&(s=o<3?e:s,o=1),i=Ee(i);++r<o;){var l=n[r];l&&t(i,l,r,s)}return i})}function Tr(e,t){return function(i,n){if(null==i)return i;if(!Ys(i))return e(i,n);for(var r=i.length,o=t?r:-1,s=Ee(i);(t?o--:++o<r)&&!1!==n(s[o],o,s););return i}}function Dr(e){return function(t,i,n){for(var r=-1,o=Ee(t),s=n(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===i(o[l],l,o))break}return t}}function Mr(t){return function(i){var n=ti(i=va(i))?ai(i):e,r=n?n[0]:i.charAt(0),o=n?vr(n,1).join(""):i.slice(1);return r[t]()+o}}function Lr(e){return function(t){return Tt(Ja(Wa(t).replace(qe,"")),e,"")}}function Ar(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Ni(e.prototype),n=e.apply(i,t);return ta(n)?n:i}}function Fr(t){return function(i,n,r){var o=Ee(i);if(!Ys(i)){var s=so(n,3);i=Da(i),n=function(e){return s(o[e],e,o)}}var a=t(i,n,r);return a>-1?o[s?i[a]:a]:e}}function $r(i){return eo(function(n){var r=n.length,o=r,s=Bi.prototype.thru;for(i&&n.reverse();o--;){var a=n[o];if("function"!=typeof a)throw new ke(t);if(s&&!l&&"wrapper"==ro(a))var l=new Bi([],!0)}for(o=l?o:r;++o<r;){var u=ro(a=n[o]),c="wrapper"==u?no(a):e;l=c&&bo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[ro(c[0])].apply(l,c[3]):1==a.length&&bo(a)?l[u]():l.thru(a)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&Gs(t))return l.plant(t).value();for(var i=0,o=r?n[i].apply(this,e):t;++i<r;)o=n[i].call(this,o);return o}})}function Nr(t,i,n,r,s,a,l,u,c,h){var d=i&o,p=1&i,f=2&i,_=24&i,g=512&i,m=f?e:Ar(t);return function o(){for(var y=arguments.length,v=be(y),b=y;b--;)v[b]=arguments[b];if(_)var w=oo(o),C=function(e,t){for(var i=e.length,n=0;i--;)e[i]===t&&++n;return n}(v,w);if(r&&(v=Er(v,r,s,_)),a&&(v=Or(v,a,l,_)),y-=C,_&&y<h){var x=ri(v,w);return Gr(t,i,Nr,o.placeholder,n,v,x,u,c,h-y)}var I=p?n:this,E=f?I[t]:t;return y=v.length,u?v=function(t,i){for(var n=t.length,r=gi(i.length,n),o=Sr(t);r--;){var s=i[r];t[r]=mo(s,n)?o[s]:e}return t}(v,u):g&&y>1&&v.reverse(),d&&c<y&&(v.length=c),this&&this!==ut&&this instanceof o&&(E=m||Ar(E)),E.apply(I,v)}}function jr(e,t){return function(i,n){return function(e,t,i,n){return yn(e,function(e,r,o){t(n,i(e),r,o)}),n}(i,e,t(n),{})}}function Br(t,i){return function(n,r){var o;if(n===e&&r===e)return i;if(n!==e&&(o=n),r!==e){if(o===e)return r;"string"==typeof n||"string"==typeof r?(n=ar(n),r=ar(r)):(n=sr(n),r=sr(r)),o=t(n,r)}return o}}function Vr(e){return eo(function(t){return t=Pt(t,Yt(so())),qn(function(i){var n=this;return e(t,function(e){return wt(e,n,i)})})})}function Hr(t,i){var n=(i=i===e?" ":ar(i)).length;if(n<2)return n?Yn(i,t):i;var r=Yn(i,ft(t/si(i)));return ti(i)?vr(ai(r),0,t).join(""):r.slice(0,t)}function Ur(t){return function(i,n,r){return r&&"number"!=typeof r&&yo(i,n,r)&&(n=r=e),i=fa(i),n===e?(n=i,i=0):n=fa(n),function(e,t,i,n){for(var r=-1,o=_i(ft((t-e)/(i||1)),0),s=be(o);o--;)s[n?o:++r]=e,e+=i;return s}(i,n,r=r===e?i<n?1:-1:fa(r),t)}}function Wr(e){return function(t,i){return"string"==typeof t&&"string"==typeof i||(t=ma(t),i=ma(i)),e(t,i)}}function Gr(t,i,n,o,s,a,l,u,c,h){var d=8&i;i|=d?r:64,4&(i&=~(d?64:r))||(i&=-4);var p=[t,i,s,d?a:e,d?l:e,d?e:a,d?e:l,u,c,h],f=n.apply(e,p);return bo(t)&&ko(f,p),f.placeholder=o,To(f,t,i)}function zr(e){var t=Ie[e];return function(e,i){if(e=ma(e),(i=null==i?0:gi(_a(i),292))&&di(e)){var n=(va(e)+"e").split("e");return+((n=(va(t(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return t(e)}}var Yr=Ii&&1/oi(new Ii([,-0]))[1]==a?function(e){return new Ii(e)}:ul;function qr(e){return function(t){var i=po(t);return i==v?ii(t):i==I?function(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=[e,e]}),i}(t):function(e,t){return Pt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Kr(i,a,l,u,c,h,d,p){var f=2&a;if(!f&&"function"!=typeof i)throw new ke(t);var _=u?u.length:0;if(_||(a&=-97,u=c=e),d=d===e?d:_i(_a(d),0),p=p===e?p:_a(p),_-=c?c.length:0,64&a){var g=u,m=c;u=c=e}var y=f?e:no(i),v=[i,a,l,u,c,g,m,h,d,p];if(y&&function(e,t){var i=e[1],r=t[1],a=i|r,l=a<131,u=r==o&&8==i||r==o&&i==s&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==i;if(!l&&!u)return e;1&r&&(e[2]=t[2],a|=1&i?0:4);var c=t[3];if(c){var h=e[3];e[3]=h?Er(h,c,t[4]):c,e[4]=h?ri(e[3],n):t[4]}(c=t[5])&&(h=e[5],e[5]=h?Or(h,c,t[6]):c,e[6]=h?ri(e[5],n):t[6]),(c=t[7])&&(e[7]=c),r&o&&(e[8]=null==e[8]?t[8]:gi(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}(v,y),i=v[0],a=v[1],l=v[2],u=v[3],c=v[4],!(p=v[9]=v[9]===e?f?0:i.length:_i(v[9]-_,0))&&24&a&&(a&=-25),a&&1!=a)b=8==a||16==a?function(t,i,n){var r=Ar(t);return function o(){for(var s=arguments.length,a=be(s),l=s,u=oo(o);l--;)a[l]=arguments[l];var c=s<3&&a[0]!==u&&a[s-1]!==u?[]:ri(a,u);return(s-=c.length)<n?Gr(t,i,Nr,o.placeholder,e,a,c,e,e,n-s):wt(this&&this!==ut&&this instanceof o?r:t,this,a)}}(i,a,p):a!=r&&33!=a||c.length?Nr.apply(e,v):function(e,t,i,n){var r=1&t,o=Ar(e);return function t(){for(var s=-1,a=arguments.length,l=-1,u=n.length,c=be(u+a),h=this&&this!==ut&&this instanceof t?o:e;++l<u;)c[l]=n[l];for(;a--;)c[l++]=arguments[++s];return wt(h,r?i:this,c)}}(i,a,l,u);else var b=function(e,t,i){var n=1&t,r=Ar(e);return function t(){return(this&&this!==ut&&this instanceof t?r:e).apply(n?i:this,arguments)}}(i,a,l);return To((y?Jn:ko)(b,v),i,a)}function Xr(t,i,n,r){return t===e||Vs(t,Te[n])&&!Le.call(r,n)?i:t}function Zr(t,i,n,r,o,s){return ta(t)&&ta(i)&&(s.set(i,t),Bn(t,i,e,Zr,s),s.delete(i)),t}function Jr(t){return oa(t)?e:t}function Qr(t,i,n,r,o,s){var a=1&n,l=t.length,u=i.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(t),h=s.get(i);if(c&&h)return c==i&&h==t;var d=-1,p=!0,f=2&n?new Gi:e;for(s.set(t,i),s.set(i,t);++d<l;){var _=t[d],g=i[d];if(r)var m=a?r(g,_,d,i,t,s):r(_,g,d,t,i,s);if(m!==e){if(m)continue;p=!1;break}if(f){if(!Mt(i,function(e,t){if(!Kt(f,t)&&(_===e||o(_,e,n,r,s)))return f.push(t)})){p=!1;break}}else if(_!==g&&!o(_,g,n,r,s)){p=!1;break}}return s.delete(t),s.delete(i),p}function eo(t){return Ro(Eo(t,e,zo),t+"")}function to(e){return Cn(e,Da,co)}function io(e){return Cn(e,Ma,ho)}var no=Si?function(e){return Si.get(e)}:ul;function ro(e){for(var t=e.name+"",i=ki[t],n=Le.call(ki,t)?i.length:0;n--;){var r=i[n],o=r.func;if(null==o||o==e)return r.name}return t}function oo(e){return(Le.call($i,"placeholder")?$i:e).placeholder}function so(){var e=$i.iteratee||ol;return e=e===ol?Mn:e,arguments.length?e(arguments[0],arguments[1]):e}function ao(e,t){var i,n,r=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof t?"string":"hash"]:r.map}function lo(e){for(var t=Da(e),i=t.length;i--;){var n=t[i],r=e[n];t[i]=[n,r,xo(r)]}return t}function uo(t,i){var n=function(t,i){return null==t?e:t[i]}(t,i);return Dn(n)?n:e}var co=Ht?function(e){return null==e?[]:(e=Ee(e),Ot(Ht(e),function(t){return Ye.call(e,t)}))}:gl,ho=Ht?function(e){for(var t=[];e;)Rt(t,co(e)),e=Ge(e);return t}:gl,po=xn;function fo(e,t,i){for(var n=-1,r=(t=mr(t,e)).length,o=!1;++n<r;){var s=No(t[n]);if(!(o=null!=e&&i(e,s)))break;e=e[s]}return o||++n!=r?o:!!(r=null==e?0:e.length)&&ea(r)&&mo(s,r)&&(Gs(e)||Ws(e))}function _o(e){return"function"!=typeof e.constructor||Co(e)?{}:Ni(Ge(e))}function go(e){return Gs(e)||Ws(e)||!!(Je&&e&&e[Je])}function mo(e,t){var i=typeof e;return!!(t=null==t?l:t)&&("number"==i||"symbol"!=i&&fe.test(e))&&e>-1&&e%1==0&&e<t}function yo(e,t,i){if(!ta(i))return!1;var n=typeof t;return!!("number"==n?Ys(i)&&mo(t,i.length):"string"==n&&t in i)&&Vs(i[t],e)}function vo(e,t){if(Gs(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!ua(e))||X.test(e)||!K.test(e)||null!=t&&e in Ee(t)}function bo(e){var t=ro(e),i=$i[t];if("function"!=typeof i||!(t in Vi.prototype))return!1;if(e===i)return!0;var n=no(i);return!!n&&e===n[0]}(wi&&po(new wi(new ArrayBuffer(1)))!=P||Ci&&po(new Ci)!=v||xi&&po(xi.resolve())!=C||Ii&&po(new Ii)!=I||Ei&&po(new Ei)!=S)&&(po=function(t){var i=xn(t),n=i==w?t.constructor:e,r=n?jo(n):"";if(r)switch(r){case Pi:return P;case Ri:return v;case Ti:return C;case Di:return I;case Mi:return S}return i});var wo=De?Js:ml;function Co(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Te)}function xo(e){return e==e&&!ta(e)}function Io(t,i){return function(n){return null!=n&&n[t]===i&&(i!==e||t in Ee(n))}}function Eo(t,i,n){return i=_i(i===e?t.length-1:i,0),function(){for(var e=arguments,r=-1,o=_i(e.length-i,0),s=be(o);++r<o;)s[r]=e[i+r];r=-1;for(var a=be(i+1);++r<i;)a[r]=e[r];return a[i]=n(s),wt(t,this,a)}}function Oo(e,t){return t.length<2?e:wn(e,tr(t,0,-1))}function So(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ko=Do(Jn),Po=pt||function(e,t){return ut.setTimeout(e,t)},Ro=Do(Qn);function To(e,t,i){var n=t+"";return Ro(e,function(e,t){var i=t.length;if(!i)return e;var n=i-1;return t[n]=(i>1?"& ":"")+t[n],t=t.join(i>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return xt(h,function(i){var n="_."+i[0];t&i[1]&&!St(e,n)&&e.push(n)}),e.sort()}(function(e){var t=e.match(ne);return t?t[1].split(re):[]}(n),i)))}function Do(t){var i=0,n=0;return function(){var r=mi(),o=16-(r-n);if(n=r,o>0){if(++i>=800)return arguments[0]}else i=0;return t.apply(e,arguments)}}function Mo(t,i){var n=-1,r=t.length,o=r-1;for(i=i===e?r:i;++n<i;){var s=zn(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=i,t}var Lo,Ao,Fo,$o=(Lo=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Z,function(e,i,n,r){t.push(n?r.replace(ae,"$1"):i||e)}),t},Ao=As(Lo,function(e){return 500===Fo.size&&Fo.clear(),e}),Fo=Ao.cache,Ao);function No(e){if("string"==typeof e||ua(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jo(e){if(null!=e){try{return Me.call(e)}catch(VY){}try{return e+""}catch(VY){}}return""}function Bo(e){if(e instanceof Vi)return e.clone();var t=new Bi(e.__wrapped__,e.__chain__);return t.__actions__=Sr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vo=qn(function(e,t){return qs(e)?un(e,_n(t,1,qs,!0)):[]}),Ho=qn(function(t,i){var n=Zo(i);return qs(n)&&(n=e),qs(t)?un(t,_n(i,1,qs,!0),so(n,2)):[]}),Uo=qn(function(t,i){var n=Zo(i);return qs(n)&&(n=e),qs(t)?un(t,_n(i,1,qs,!0),e,n):[]});function Wo(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var r=null==i?0:_a(i);return r<0&&(r=_i(n+r,0)),Ft(e,so(t,3),r)}function Go(t,i,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==e&&(o=_a(n),o=n<0?_i(r+o,0):gi(o,r-1)),Ft(t,so(i,3),o,!0)}function zo(e){return null!=e&&e.length?_n(e,1):[]}function Yo(t){return t&&t.length?t[0]:e}var qo=qn(function(e){var t=Pt(e,_r);return t.length&&t[0]===e[0]?Sn(t):[]}),Ko=qn(function(t){var i=Zo(t),n=Pt(t,_r);return i===Zo(n)?i=e:n.pop(),n.length&&n[0]===t[0]?Sn(n,so(i,2)):[]}),Xo=qn(function(t){var i=Zo(t),n=Pt(t,_r);return(i="function"==typeof i?i:e)&&n.pop(),n.length&&n[0]===t[0]?Sn(n,e,i):[]});function Zo(t){var i=null==t?0:t.length;return i?t[i-1]:e}var Jo=qn(Qo);function Qo(e,t){return e&&e.length&&t&&t.length?Wn(e,t):e}var es=eo(function(e,t){var i=null==e?0:e.length,n=rn(e,t);return Gn(e,Pt(t,function(e){return mo(e,i)?+e:e}).sort(Ir)),n});function ts(e){return null==e?e:bi.call(e)}var is=qn(function(e){return lr(_n(e,1,qs,!0))}),ns=qn(function(t){var i=Zo(t);return qs(i)&&(i=e),lr(_n(t,1,qs,!0),so(i,2))}),rs=qn(function(t){var i=Zo(t);return i="function"==typeof i?i:e,lr(_n(t,1,qs,!0),e,i)});function os(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,function(e){if(qs(e))return t=_i(e.length,t),!0}),Gt(t,function(t){return Pt(e,Vt(t))})}function ss(t,i){if(!t||!t.length)return[];var n=os(t);return null==i?n:Pt(n,function(t){return wt(i,e,t)})}var as=qn(function(e,t){return qs(e)?un(e,t):[]}),ls=qn(function(e){return pr(Ot(e,qs))}),us=qn(function(t){var i=Zo(t);return qs(i)&&(i=e),pr(Ot(t,qs),so(i,2))}),cs=qn(function(t){var i=Zo(t);return i="function"==typeof i?i:e,pr(Ot(t,qs),e,i)}),hs=qn(os),ds=qn(function(t){var i=t.length,n=i>1?t[i-1]:e;return n="function"==typeof n?(t.pop(),n):e,ss(t,n)});function ps(e){var t=$i(e);return t.__chain__=!0,t}function fs(e,t){return t(e)}var _s=eo(function(t){var i=t.length,n=i?t[0]:0,r=this.__wrapped__,o=function(e){return rn(e,t)};return!(i>1||this.__actions__.length)&&r instanceof Vi&&mo(n)?((r=r.slice(n,+n+(i?1:0))).__actions__.push({func:fs,args:[o],thisArg:e}),new Bi(r,this.__chain__).thru(function(t){return i&&!t.length&&t.push(e),t})):this.thru(o)}),gs=Pr(function(e,t,i){Le.call(e,i)?++e[i]:nn(e,i,1)}),ms=Fr(Wo),ys=Fr(Go);function vs(e,t){return(Gs(e)?xt:cn)(e,so(t,3))}function bs(e,t){return(Gs(e)?It:hn)(e,so(t,3))}var ws=Pr(function(e,t,i){Le.call(e,i)?e[i].push(t):nn(e,i,[t])}),Cs=qn(function(e,t,i){var n=-1,r="function"==typeof t,o=Ys(e)?be(e.length):[];return cn(e,function(e){o[++n]=r?wt(t,e,i):kn(e,t,i)}),o}),xs=Pr(function(e,t,i){nn(e,i,t)});function Is(e,t){return(Gs(e)?Pt:$n)(e,so(t,3))}var Es=Pr(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]}),Os=qn(function(e,t){if(null==e)return[];var i=t.length;return i>1&&yo(e,t[0],t[1])?t=[]:i>2&&yo(t[0],t[1],t[2])&&(t=[t[0]]),Hn(e,_n(t,1),[])}),Ss=ht||function(){return ut.Date.now()};function ks(t,i,n){return i=n?e:i,i=t&&null==i?t.length:i,Kr(t,o,e,e,e,e,i)}function Ps(i,n){var r;if("function"!=typeof n)throw new ke(t);return i=_a(i),function(){return--i>0&&(r=n.apply(this,arguments)),i<=1&&(n=e),r}}var Rs=qn(function(e,t,i){var n=1;if(i.length){var o=ri(i,oo(Rs));n|=r}return Kr(e,n,t,i,o)}),Ts=qn(function(e,t,i){var n=3;if(i.length){var o=ri(i,oo(Ts));n|=r}return Kr(t,n,e,i,o)});function Ds(i,n,r){var o,s,a,l,u,c,h=0,d=!1,p=!1,f=!0;if("function"!=typeof i)throw new ke(t);function _(t){var n=o,r=s;return o=s=e,h=t,l=i.apply(r,n)}function g(t){var i=t-c;return c===e||i>=n||i<0||p&&t-h>=a}function m(){var e=Ss();if(g(e))return y(e);u=Po(m,function(e){var t=n-(e-c);return p?gi(t,a-(e-h)):t}(e))}function y(t){return u=e,f&&o?_(t):(o=s=e,l)}function v(){var t=Ss(),i=g(t);if(o=arguments,s=this,c=t,i){if(u===e)return function(e){return h=e,u=Po(m,n),d?_(e):l}(c);if(p)return br(u),u=Po(m,n),_(c)}return u===e&&(u=Po(m,n)),l}return n=ma(n)||0,ta(r)&&(d=!!r.leading,a=(p="maxWait"in r)?_i(ma(r.maxWait)||0,n):a,f="trailing"in r?!!r.trailing:f),v.cancel=function(){u!==e&&br(u),h=0,o=c=s=u=e},v.flush=function(){return u===e?l:y(Ss())},v}var Ms=qn(function(e,t){return ln(e,1,t)}),Ls=qn(function(e,t,i){return ln(e,ma(t)||0,i)});function As(e,i){if("function"!=typeof e||null!=i&&"function"!=typeof i)throw new ke(t);var n=function(){var t=arguments,r=i?i.apply(this,t):t[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,t);return n.cache=o.set(r,s)||o,s};return n.cache=new(As.Cache||Wi),n}function Fs(e){if("function"!=typeof e)throw new ke(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}As.Cache=Wi;var $s=yr(function(e,t){var i=(t=1==t.length&&Gs(t[0])?Pt(t[0],Yt(so())):Pt(_n(t,1),Yt(so()))).length;return qn(function(n){for(var r=-1,o=gi(n.length,i);++r<o;)n[r]=t[r].call(this,n[r]);return wt(e,this,n)})}),Ns=qn(function(t,i){var n=ri(i,oo(Ns));return Kr(t,r,e,i,n)}),js=qn(function(t,i){var n=ri(i,oo(js));return Kr(t,64,e,i,n)}),Bs=eo(function(t,i){return Kr(t,s,e,e,e,i)});function Vs(e,t){return e===t||e!=e&&t!=t}var Hs=Wr(In),Us=Wr(function(e,t){return e>=t}),Ws=Pn(function(){return arguments}())?Pn:function(e){return ia(e)&&Le.call(e,"callee")&&!Ye.call(e,"callee")},Gs=be.isArray,zs=_t?Yt(_t):function(e){return ia(e)&&xn(e)==k};function Ys(e){return null!=e&&ea(e.length)&&!Js(e)}function qs(e){return ia(e)&&Ys(e)}var Ks=hi||ml,Xs=gt?Yt(gt):function(e){return ia(e)&&xn(e)==_};function Zs(e){if(!ia(e))return!1;var t=xn(e);return t==g||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function Js(e){if(!ta(e))return!1;var t=xn(e);return t==m||t==y||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qs(e){return"number"==typeof e&&e==_a(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ia(e){return null!=e&&"object"==typeof e}var na=mt?Yt(mt):function(e){return ia(e)&&po(e)==v};function ra(e){return"number"==typeof e||ia(e)&&xn(e)==b}function oa(e){if(!ia(e)||xn(e)!=w)return!1;var t=Ge(e);if(null===t)return!0;var i=Le.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&Me.call(i)==Ne}var sa=yt?Yt(yt):function(e){return ia(e)&&xn(e)==x},aa=vt?Yt(vt):function(e){return ia(e)&&po(e)==I};function la(e){return"string"==typeof e||!Gs(e)&&ia(e)&&xn(e)==E}function ua(e){return"symbol"==typeof e||ia(e)&&xn(e)==O}var ca=bt?Yt(bt):function(e){return ia(e)&&ea(e.length)&&!!it[xn(e)]},ha=Wr(Fn),da=Wr(function(e,t){return e<=t});function pa(e){if(!e)return[];if(Ys(e))return la(e)?ai(e):Sr(e);if(rt&&e[rt])return function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}(e[rt]());var t=po(e);return(t==v?ii:t==I?oi:Va)(e)}function fa(e){return e?(e=ma(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function _a(e){var t=fa(e),i=t%1;return t==t?i?t-i:t:0}function ga(e){return e?on(_a(e),0,c):0}function ma(e){if("number"==typeof e)return e;if(ua(e))return u;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=zt(e);var i=he.test(e);return i||pe.test(e)?st(e.slice(2),i?2:8):ce.test(e)?u:+e}function ya(e){return kr(e,Ma(e))}function va(e){return null==e?"":ar(e)}var ba=Rr(function(e,t){if(Co(t)||Ys(t))kr(t,Da(t),e);else for(var i in t)Le.call(t,i)&&Ji(e,i,t[i])}),wa=Rr(function(e,t){kr(t,Ma(t),e)}),Ca=Rr(function(e,t,i,n){kr(t,Ma(t),e,n)}),xa=Rr(function(e,t,i,n){kr(t,Da(t),e,n)}),Ia=eo(rn),Ea=qn(function(t,i){t=Ee(t);var n=-1,r=i.length,o=r>2?i[2]:e;for(o&&yo(i[0],i[1],o)&&(r=1);++n<r;)for(var s=i[n],a=Ma(s),l=-1,u=a.length;++l<u;){var c=a[l],h=t[c];(h===e||Vs(h,Te[c])&&!Le.call(t,c))&&(t[c]=s[c])}return t}),Oa=qn(function(t){return t.push(e,Zr),wt(Aa,e,t)});function Sa(t,i,n){var r=null==t?e:wn(t,i);return r===e?n:r}function ka(e,t){return null!=e&&fo(e,t,On)}var Pa=jr(function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=$e.call(t)),e[t]=i},tl(rl)),Ra=jr(function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=$e.call(t)),Le.call(e,t)?e[t].push(i):e[t]=[i]},so),Ta=qn(kn);function Da(e){return Ys(e)?Yi(e):Ln(e)}function Ma(e){return Ys(e)?Yi(e,!0):An(e)}var La=Rr(function(e,t,i){Bn(e,t,i)}),Aa=Rr(function(e,t,i,n){Bn(e,t,i,n)}),Fa=eo(function(e,t){var i={};if(null==e)return i;var n=!1;t=Pt(t,function(t){return t=mr(t,e),n||(n=t.length>1),t}),kr(e,io(e),i),n&&(i=sn(i,7,Jr));for(var r=t.length;r--;)ur(i,t[r]);return i}),$a=eo(function(e,t){return null==e?{}:function(e,t){return Un(e,t,function(t,i){return ka(e,i)})}(e,t)});function Na(e,t){if(null==e)return{};var i=Pt(io(e),function(e){return[e]});return t=so(t),Un(e,i,function(e,i){return t(e,i[0])})}var ja=qr(Da),Ba=qr(Ma);function Va(e){return null==e?[]:qt(e,Da(e))}var Ha=Lr(function(e,t,i){return t=t.toLowerCase(),e+(i?Ua(t):t)});function Ua(e){return Za(va(e).toLowerCase())}function Wa(e){return(e=va(e))&&e.replace(_e,Jt).replace(Ke,"")}var Ga=Lr(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),za=Lr(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),Ya=Mr("toLowerCase"),qa=Lr(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),Ka=Lr(function(e,t,i){return e+(i?" ":"")+Za(t)}),Xa=Lr(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),Za=Mr("toUpperCase");function Ja(t,i,n){return t=va(t),(i=n?e:i)===e?function(e){return Qe.test(e)}(t)?function(e){return e.match(Ze)||[]}(t):function(e){return e.match(oe)||[]}(t):t.match(i)||[]}var Qa=qn(function(t,i){try{return wt(t,e,i)}catch(VY){return Zs(VY)?VY:new Ce(VY)}}),el=eo(function(e,t){return xt(t,function(t){t=No(t),nn(e,t,Rs(e[t],e))}),e});function tl(e){return function(){return e}}var il=$r(),nl=$r(!0);function rl(e){return e}function ol(e){return Mn("function"==typeof e?e:sn(e,1))}var sl=qn(function(e,t){return function(i){return kn(i,e,t)}}),al=qn(function(e,t){return function(i){return kn(e,i,t)}});function ll(e,t,i){var n=Da(t),r=bn(t,n);null!=i||ta(t)&&(r.length||!n.length)||(i=t,t=e,e=this,r=bn(t,Da(t)));var o=!(ta(i)&&"chain"in i&&!i.chain),s=Js(e);return xt(r,function(i){var n=t[i];e[i]=n,s&&(e.prototype[i]=function(){var t=this.__chain__;if(o||t){var i=e(this.__wrapped__);return(i.__actions__=Sr(this.__actions__)).push({func:n,args:arguments,thisArg:e}),i.__chain__=t,i}return n.apply(e,Rt([this.value()],arguments))})}),e}function ul(){}var cl=Vr(Pt),hl=Vr(Et),dl=Vr(Mt);function pl(e){return vo(e)?Vt(No(e)):function(e){return function(t){return wn(t,e)}}(e)}var fl=Ur(),_l=Ur(!0);function gl(){return[]}function ml(){return!1}var yl,vl=Br(function(e,t){return e+t},0),bl=zr("ceil"),wl=Br(function(e,t){return e/t},1),Cl=zr("floor"),xl=Br(function(e,t){return e*t},1),Il=zr("round"),El=Br(function(e,t){return e-t},0);return $i.after=function(e,i){if("function"!=typeof i)throw new ke(t);return e=_a(e),function(){if(--e<1)return i.apply(this,arguments)}},$i.ary=ks,$i.assign=ba,$i.assignIn=wa,$i.assignInWith=Ca,$i.assignWith=xa,$i.at=Ia,$i.before=Ps,$i.bind=Rs,$i.bindAll=el,$i.bindKey=Ts,$i.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Gs(e)?e:[e]},$i.chain=ps,$i.chunk=function(t,i,n){i=(n?yo(t,i,n):i===e)?1:_i(_a(i),0);var r=null==t?0:t.length;if(!r||i<1)return[];for(var o=0,s=0,a=be(ft(r/i));o<r;)a[s++]=tr(t,o,o+=i);return a},$i.compact=function(e){for(var t=-1,i=null==e?0:e.length,n=0,r=[];++t<i;){var o=e[t];o&&(r[n++]=o)}return r},$i.concat=function(){var e=arguments.length;if(!e)return[];for(var t=be(e-1),i=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Rt(Gs(i)?Sr(i):[i],_n(t,1))},$i.cond=function(e){var i=null==e?0:e.length,n=so();return e=i?Pt(e,function(e){if("function"!=typeof e[1])throw new ke(t);return[n(e[0]),e[1]]}):[],qn(function(t){for(var n=-1;++n<i;){var r=e[n];if(wt(r[0],this,t))return wt(r[1],this,t)}})},$i.conforms=function(e){return function(e){var t=Da(e);return function(i){return an(i,e,t)}}(sn(e,1))},$i.constant=tl,$i.countBy=gs,$i.create=function(e,t){var i=Ni(e);return null==t?i:tn(i,t)},$i.curry=function t(i,n,r){var o=Kr(i,8,e,e,e,e,e,n=r?e:n);return o.placeholder=t.placeholder,o},$i.curryRight=function t(i,n,r){var o=Kr(i,16,e,e,e,e,e,n=r?e:n);return o.placeholder=t.placeholder,o},$i.debounce=Ds,$i.defaults=Ea,$i.defaultsDeep=Oa,$i.defer=Ms,$i.delay=Ls,$i.difference=Vo,$i.differenceBy=Ho,$i.differenceWith=Uo,$i.drop=function(t,i,n){var r=null==t?0:t.length;return r?tr(t,(i=n||i===e?1:_a(i))<0?0:i,r):[]},$i.dropRight=function(t,i,n){var r=null==t?0:t.length;return r?tr(t,0,(i=r-(i=n||i===e?1:_a(i)))<0?0:i):[]},$i.dropRightWhile=function(e,t){return e&&e.length?hr(e,so(t,3),!0,!0):[]},$i.dropWhile=function(e,t){return e&&e.length?hr(e,so(t,3),!0):[]},$i.fill=function(t,i,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&yo(t,i,n)&&(n=0,r=o),function(t,i,n,r){var o=t.length;for((n=_a(n))<0&&(n=-n>o?0:o+n),(r=r===e||r>o?o:_a(r))<0&&(r+=o),r=n>r?0:ga(r);n<r;)t[n++]=i;return t}(t,i,n,r)):[]},$i.filter=function(e,t){return(Gs(e)?Ot:fn)(e,so(t,3))},$i.flatMap=function(e,t){return _n(Is(e,t),1)},$i.flatMapDeep=function(e,t){return _n(Is(e,t),a)},$i.flatMapDepth=function(t,i,n){return n=n===e?1:_a(n),_n(Is(t,i),n)},$i.flatten=zo,$i.flattenDeep=function(e){return null!=e&&e.length?_n(e,a):[]},$i.flattenDepth=function(t,i){return null!=t&&t.length?_n(t,i=i===e?1:_a(i)):[]},$i.flip=function(e){return Kr(e,512)},$i.flow=il,$i.flowRight=nl,$i.fromPairs=function(e){for(var t=-1,i=null==e?0:e.length,n={};++t<i;){var r=e[t];n[r[0]]=r[1]}return n},$i.functions=function(e){return null==e?[]:bn(e,Da(e))},$i.functionsIn=function(e){return null==e?[]:bn(e,Ma(e))},$i.groupBy=ws,$i.initial=function(e){return null!=e&&e.length?tr(e,0,-1):[]},$i.intersection=qo,$i.intersectionBy=Ko,$i.intersectionWith=Xo,$i.invert=Pa,$i.invertBy=Ra,$i.invokeMap=Cs,$i.iteratee=ol,$i.keyBy=xs,$i.keys=Da,$i.keysIn=Ma,$i.map=Is,$i.mapKeys=function(e,t){var i={};return t=so(t,3),yn(e,function(e,n,r){nn(i,t(e,n,r),e)}),i},$i.mapValues=function(e,t){var i={};return t=so(t,3),yn(e,function(e,n,r){nn(i,n,t(e,n,r))}),i},$i.matches=function(e){return Nn(sn(e,1))},$i.matchesProperty=function(e,t){return jn(e,sn(t,1))},$i.memoize=As,$i.merge=La,$i.mergeWith=Aa,$i.method=sl,$i.methodOf=al,$i.mixin=ll,$i.negate=Fs,$i.nthArg=function(e){return e=_a(e),qn(function(t){return Vn(t,e)})},$i.omit=Fa,$i.omitBy=function(e,t){return Na(e,Fs(so(t)))},$i.once=function(e){return Ps(2,e)},$i.orderBy=function(t,i,n,r){return null==t?[]:(Gs(i)||(i=null==i?[]:[i]),Gs(n=r?e:n)||(n=null==n?[]:[n]),Hn(t,i,n))},$i.over=cl,$i.overArgs=$s,$i.overEvery=hl,$i.overSome=dl,$i.partial=Ns,$i.partialRight=js,$i.partition=Es,$i.pick=$a,$i.pickBy=Na,$i.property=pl,$i.propertyOf=function(t){return function(i){return null==t?e:wn(t,i)}},$i.pull=Jo,$i.pullAll=Qo,$i.pullAllBy=function(e,t,i){return e&&e.length&&t&&t.length?Wn(e,t,so(i,2)):e},$i.pullAllWith=function(t,i,n){return t&&t.length&&i&&i.length?Wn(t,i,e,n):t},$i.pullAt=es,$i.range=fl,$i.rangeRight=_l,$i.rearg=Bs,$i.reject=function(e,t){return(Gs(e)?Ot:fn)(e,Fs(so(t,3)))},$i.remove=function(e,t){var i=[];if(!e||!e.length)return i;var n=-1,r=[],o=e.length;for(t=so(t,3);++n<o;){var s=e[n];t(s,n,e)&&(i.push(s),r.push(n))}return Gn(e,r),i},$i.rest=function(i,n){if("function"!=typeof i)throw new ke(t);return qn(i,n=n===e?n:_a(n))},$i.reverse=ts,$i.sampleSize=function(t,i,n){return i=(n?yo(t,i,n):i===e)?1:_a(i),(Gs(t)?Ki:Xn)(t,i)},$i.set=function(e,t,i){return null==e?e:Zn(e,t,i)},$i.setWith=function(t,i,n,r){return r="function"==typeof r?r:e,null==t?t:Zn(t,i,n,r)},$i.shuffle=function(e){return(Gs(e)?Xi:er)(e)},$i.slice=function(t,i,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&yo(t,i,n)?(i=0,n=r):(i=null==i?0:_a(i),n=n===e?r:_a(n)),tr(t,i,n)):[]},$i.sortBy=Os,$i.sortedUniq=function(e){return e&&e.length?or(e):[]},$i.sortedUniqBy=function(e,t){return e&&e.length?or(e,so(t,2)):[]},$i.split=function(t,i,n){return n&&"number"!=typeof n&&yo(t,i,n)&&(i=n=e),(n=n===e?c:n>>>0)?(t=va(t))&&("string"==typeof i||null!=i&&!sa(i))&&!(i=ar(i))&&ti(t)?vr(ai(t),0,n):t.split(i,n):[]},$i.spread=function(e,i){if("function"!=typeof e)throw new ke(t);return i=null==i?0:_i(_a(i),0),qn(function(t){var n=t[i],r=vr(t,0,i);return n&&Rt(r,n),wt(e,this,r)})},$i.tail=function(e){var t=null==e?0:e.length;return t?tr(e,1,t):[]},$i.take=function(t,i,n){return t&&t.length?tr(t,0,(i=n||i===e?1:_a(i))<0?0:i):[]},$i.takeRight=function(t,i,n){var r=null==t?0:t.length;return r?tr(t,(i=r-(i=n||i===e?1:_a(i)))<0?0:i,r):[]},$i.takeRightWhile=function(e,t){return e&&e.length?hr(e,so(t,3),!1,!0):[]},$i.takeWhile=function(e,t){return e&&e.length?hr(e,so(t,3)):[]},$i.tap=function(e,t){return t(e),e},$i.throttle=function(e,i,n){var r=!0,o=!0;if("function"!=typeof e)throw new ke(t);return ta(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ds(e,i,{leading:r,maxWait:i,trailing:o})},$i.thru=fs,$i.toArray=pa,$i.toPairs=ja,$i.toPairsIn=Ba,$i.toPath=function(e){return Gs(e)?Pt(e,No):ua(e)?[e]:Sr($o(va(e)))},$i.toPlainObject=ya,$i.transform=function(e,t,i){var n=Gs(e),r=n||Ks(e)||ca(e);if(t=so(t,4),null==i){var o=e&&e.constructor;i=r?n?new o:[]:ta(e)&&Js(o)?Ni(Ge(e)):{}}return(r?xt:yn)(e,function(e,n,r){return t(i,e,n,r)}),i},$i.unary=function(e){return ks(e,1)},$i.union=is,$i.unionBy=ns,$i.unionWith=rs,$i.uniq=function(e){return e&&e.length?lr(e):[]},$i.uniqBy=function(e,t){return e&&e.length?lr(e,so(t,2)):[]},$i.uniqWith=function(t,i){return i="function"==typeof i?i:e,t&&t.length?lr(t,e,i):[]},$i.unset=function(e,t){return null==e||ur(e,t)},$i.unzip=os,$i.unzipWith=ss,$i.update=function(e,t,i){return null==e?e:cr(e,t,gr(i))},$i.updateWith=function(t,i,n,r){return r="function"==typeof r?r:e,null==t?t:cr(t,i,gr(n),r)},$i.values=Va,$i.valuesIn=function(e){return null==e?[]:qt(e,Ma(e))},$i.without=as,$i.words=Ja,$i.wrap=function(e,t){return Ns(gr(t),e)},$i.xor=ls,$i.xorBy=us,$i.xorWith=cs,$i.zip=hs,$i.zipObject=function(e,t){return fr(e||[],t||[],Ji)},$i.zipObjectDeep=function(e,t){return fr(e||[],t||[],Zn)},$i.zipWith=ds,$i.entries=ja,$i.entriesIn=Ba,$i.extend=wa,$i.extendWith=Ca,ll($i,$i),$i.add=vl,$i.attempt=Qa,$i.camelCase=Ha,$i.capitalize=Ua,$i.ceil=bl,$i.clamp=function(t,i,n){return n===e&&(n=i,i=e),n!==e&&(n=(n=ma(n))==n?n:0),i!==e&&(i=(i=ma(i))==i?i:0),on(ma(t),i,n)},$i.clone=function(e){return sn(e,4)},$i.cloneDeep=function(e){return sn(e,5)},$i.cloneDeepWith=function(t,i){return sn(t,5,i="function"==typeof i?i:e)},$i.cloneWith=function(t,i){return sn(t,4,i="function"==typeof i?i:e)},$i.conformsTo=function(e,t){return null==t||an(e,t,Da(t))},$i.deburr=Wa,$i.defaultTo=function(e,t){return null==e||e!=e?t:e},$i.divide=wl,$i.endsWith=function(t,i,n){t=va(t),i=ar(i);var r=t.length,o=n=n===e?r:on(_a(n),0,r);return(n-=i.length)>=0&&t.slice(n,o)==i},$i.eq=Vs,$i.escape=function(e){return(e=va(e))&&G.test(e)?e.replace(U,Qt):e},$i.escapeRegExp=function(e){return(e=va(e))&&Q.test(e)?e.replace(J,"\\$&"):e},$i.every=function(t,i,n){var r=Gs(t)?Et:dn;return n&&yo(t,i,n)&&(i=e),r(t,so(i,3))},$i.find=ms,$i.findIndex=Wo,$i.findKey=function(e,t){return At(e,so(t,3),yn)},$i.findLast=ys,$i.findLastIndex=Go,$i.findLastKey=function(e,t){return At(e,so(t,3),vn)},$i.floor=Cl,$i.forEach=vs,$i.forEachRight=bs,$i.forIn=function(e,t){return null==e?e:gn(e,so(t,3),Ma)},$i.forInRight=function(e,t){return null==e?e:mn(e,so(t,3),Ma)},$i.forOwn=function(e,t){return e&&yn(e,so(t,3))},$i.forOwnRight=function(e,t){return e&&vn(e,so(t,3))},$i.get=Sa,$i.gt=Hs,$i.gte=Us,$i.has=function(e,t){return null!=e&&fo(e,t,En)},$i.hasIn=ka,$i.head=Yo,$i.identity=rl,$i.includes=function(e,t,i,n){e=Ys(e)?e:Va(e),i=i&&!n?_a(i):0;var r=e.length;return i<0&&(i=_i(r+i,0)),la(e)?i<=r&&e.indexOf(t,i)>-1:!!r&&$t(e,t,i)>-1},$i.indexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var r=null==i?0:_a(i);return r<0&&(r=_i(n+r,0)),$t(e,t,r)},$i.inRange=function(t,i,n){return i=fa(i),n===e?(n=i,i=0):n=fa(n),function(e,t,i){return e>=gi(t,i)&&e<_i(t,i)}(t=ma(t),i,n)},$i.invoke=Ta,$i.isArguments=Ws,$i.isArray=Gs,$i.isArrayBuffer=zs,$i.isArrayLike=Ys,$i.isArrayLikeObject=qs,$i.isBoolean=function(e){return!0===e||!1===e||ia(e)&&xn(e)==f},$i.isBuffer=Ks,$i.isDate=Xs,$i.isElement=function(e){return ia(e)&&1===e.nodeType&&!oa(e)},$i.isEmpty=function(e){if(null==e)return!0;if(Ys(e)&&(Gs(e)||"string"==typeof e||"function"==typeof e.splice||Ks(e)||ca(e)||Ws(e)))return!e.length;var t=po(e);if(t==v||t==I)return!e.size;if(Co(e))return!Ln(e).length;for(var i in e)if(Le.call(e,i))return!1;return!0},$i.isEqual=function(e,t){return Rn(e,t)},$i.isEqualWith=function(t,i,n){var r=(n="function"==typeof n?n:e)?n(t,i):e;return r===e?Rn(t,i,e,n):!!r},$i.isError=Zs,$i.isFinite=function(e){return"number"==typeof e&&di(e)},$i.isFunction=Js,$i.isInteger=Qs,$i.isLength=ea,$i.isMap=na,$i.isMatch=function(e,t){return e===t||Tn(e,t,lo(t))},$i.isMatchWith=function(t,i,n){return n="function"==typeof n?n:e,Tn(t,i,lo(i),n)},$i.isNaN=function(e){return ra(e)&&e!=+e},$i.isNative=function(e){if(wo(e))throw new Ce("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dn(e)},$i.isNil=function(e){return null==e},$i.isNull=function(e){return null===e},$i.isNumber=ra,$i.isObject=ta,$i.isObjectLike=ia,$i.isPlainObject=oa,$i.isRegExp=sa,$i.isSafeInteger=function(e){return Qs(e)&&e>=-9007199254740991&&e<=l},$i.isSet=aa,$i.isString=la,$i.isSymbol=ua,$i.isTypedArray=ca,$i.isUndefined=function(t){return t===e},$i.isWeakMap=function(e){return ia(e)&&po(e)==S},$i.isWeakSet=function(e){return ia(e)&&"[object WeakSet]"==xn(e)},$i.join=function(e,t){return null==e?"":pi.call(e,t)},$i.kebabCase=Ga,$i.last=Zo,$i.lastIndexOf=function(t,i,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==e&&(o=(o=_a(n))<0?_i(r+o,0):gi(o,r-1)),i==i?function(e,t,i){for(var n=i+1;n--;)if(e[n]===t)return n;return n}(t,i,o):Ft(t,jt,o,!0)},$i.lowerCase=za,$i.lowerFirst=Ya,$i.lt=ha,$i.lte=da,$i.max=function(t){return t&&t.length?pn(t,rl,In):e},$i.maxBy=function(t,i){return t&&t.length?pn(t,so(i,2),In):e},$i.mean=function(e){return Bt(e,rl)},$i.meanBy=function(e,t){return Bt(e,so(t,2))},$i.min=function(t){return t&&t.length?pn(t,rl,Fn):e},$i.minBy=function(t,i){return t&&t.length?pn(t,so(i,2),Fn):e},$i.stubArray=gl,$i.stubFalse=ml,$i.stubObject=function(){return{}},$i.stubString=function(){return""},$i.stubTrue=function(){return!0},$i.multiply=xl,$i.nth=function(t,i){return t&&t.length?Vn(t,_a(i)):e},$i.noConflict=function(){return ut._===this&&(ut._=je),this},$i.noop=ul,$i.now=Ss,$i.pad=function(e,t,i){e=va(e);var n=(t=_a(t))?si(e):0;if(!t||n>=t)return e;var r=(t-n)/2;return Hr(Lt(r),i)+e+Hr(ft(r),i)},$i.padEnd=function(e,t,i){e=va(e);var n=(t=_a(t))?si(e):0;return t&&n<t?e+Hr(t-n,i):e},$i.padStart=function(e,t,i){e=va(e);var n=(t=_a(t))?si(e):0;return t&&n<t?Hr(t-n,i)+e:e},$i.parseInt=function(e,t,i){return i||null==t?t=0:t&&(t=+t),yi(va(e).replace(ee,""),t||0)},$i.random=function(t,i,n){if(n&&"boolean"!=typeof n&&yo(t,i,n)&&(i=n=e),n===e&&("boolean"==typeof i?(n=i,i=e):"boolean"==typeof t&&(n=t,t=e)),t===e&&i===e?(t=0,i=1):(t=fa(t),i===e?(i=t,t=0):i=fa(i)),t>i){var r=t;t=i,i=r}if(n||t%1||i%1){var o=vi();return gi(t+o*(i-t+ot("1e-"+((o+"").length-1))),i)}return zn(t,i)},$i.reduce=function(e,t,i){var n=Gs(e)?Tt:Ut,r=arguments.length<3;return n(e,so(t,4),i,r,cn)},$i.reduceRight=function(e,t,i){var n=Gs(e)?Dt:Ut,r=arguments.length<3;return n(e,so(t,4),i,r,hn)},$i.repeat=function(t,i,n){return i=(n?yo(t,i,n):i===e)?1:_a(i),Yn(va(t),i)},$i.replace=function(){var e=arguments,t=va(e[0]);return e.length<3?t:t.replace(e[1],e[2])},$i.result=function(t,i,n){var r=-1,o=(i=mr(i,t)).length;for(o||(o=1,t=e);++r<o;){var s=null==t?e:t[No(i[r])];s===e&&(r=o,s=n),t=Js(s)?s.call(t):s}return t},$i.round=Il,$i.runInContext=te,$i.sample=function(e){return(Gs(e)?qi:Kn)(e)},$i.size=function(e){if(null==e)return 0;if(Ys(e))return la(e)?si(e):e.length;var t=po(e);return t==v||t==I?e.size:Ln(e).length},$i.snakeCase=qa,$i.some=function(t,i,n){var r=Gs(t)?Mt:ir;return n&&yo(t,i,n)&&(i=e),r(t,so(i,3))},$i.sortedIndex=function(e,t){return nr(e,t)},$i.sortedIndexBy=function(e,t,i){return rr(e,t,so(i,2))},$i.sortedIndexOf=function(e,t){var i=null==e?0:e.length;if(i){var n=nr(e,t);if(n<i&&Vs(e[n],t))return n}return-1},$i.sortedLastIndex=function(e,t){return nr(e,t,!0)},$i.sortedLastIndexBy=function(e,t,i){return rr(e,t,so(i,2),!0)},$i.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var i=nr(e,t,!0)-1;if(Vs(e[i],t))return i}return-1},$i.startCase=Ka,$i.startsWith=function(e,t,i){return e=va(e),i=null==i?0:on(_a(i),0,e.length),t=ar(t),e.slice(i,i+t.length)==t},$i.subtract=El,$i.sum=function(e){return e&&e.length?Wt(e,rl):0},$i.sumBy=function(e,t){return e&&e.length?Wt(e,so(t,2)):0},$i.template=function(t,i,n){var r=$i.templateSettings;n&&yo(t,i,n)&&(i=e),t=va(t),i=Ca({},i,r,Xr);var o,s,a=Ca({},i.imports,r.imports,Xr),l=Da(a),u=qt(a,l),c=0,h=i.interpolate||ge,d="__p += '",p=Oe((i.escape||ge).source+"|"+h.source+"|"+(h===q?le:ge).source+"|"+(i.evaluate||ge).source+"|$","g"),f="//# sourceURL="+(Le.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tt+"]")+"\n";t.replace(p,function(e,i,n,r,a,l){return n||(n=r),d+=t.slice(c,l).replace(me,ei),i&&(o=!0,d+="' +\n__e("+i+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),d+="';\n";var _=Le.call(i,"variable")&&i.variable;if(_){if(se.test(_))throw new Ce("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(j,""):d).replace(B,"$1").replace(V,"$1;"),d="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Qa(function(){return xe(l,f+"return "+d).apply(e,u)});if(g.source=d,Zs(g))throw g;return g},$i.times=function(e,t){if((e=_a(e))<1||e>l)return[];var i=c,n=gi(e,c);t=so(t),e-=c;for(var r=Gt(n,t);++i<e;)t(i);return r},$i.toFinite=fa,$i.toInteger=_a,$i.toLength=ga,$i.toLower=function(e){return va(e).toLowerCase()},$i.toNumber=ma,$i.toSafeInteger=function(e){return e?on(_a(e),-9007199254740991,l):0===e?e:0},$i.toString=va,$i.toUpper=function(e){return va(e).toUpperCase()},$i.trim=function(t,i,n){if((t=va(t))&&(n||i===e))return zt(t);if(!t||!(i=ar(i)))return t;var r=ai(t),o=ai(i);return vr(r,Xt(r,o),Zt(r,o)+1).join("")},$i.trimEnd=function(t,i,n){if((t=va(t))&&(n||i===e))return t.slice(0,li(t)+1);if(!t||!(i=ar(i)))return t;var r=ai(t);return vr(r,0,Zt(r,ai(i))+1).join("")},$i.trimStart=function(t,i,n){if((t=va(t))&&(n||i===e))return t.replace(ee,"");if(!t||!(i=ar(i)))return t;var r=ai(t);return vr(r,Xt(r,ai(i))).join("")},$i.truncate=function(t,i){var n=30,r="...";if(ta(i)){var o="separator"in i?i.separator:o;n="length"in i?_a(i.length):n,r="omission"in i?ar(i.omission):r}var s=(t=va(t)).length;if(ti(t)){var a=ai(t);s=a.length}if(n>=s)return t;var l=n-si(r);if(l<1)return r;var u=a?vr(a,0,l).join(""):t.slice(0,l);if(o===e)return u+r;if(a&&(l+=u.length-l),sa(o)){if(t.slice(l).search(o)){var c,h=u;for(o.global||(o=Oe(o.source,va(ue.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var d=c.index;u=u.slice(0,d===e?l:d)}}else if(t.indexOf(ar(o),l)!=l){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+r},$i.unescape=function(e){return(e=va(e))&&W.test(e)?e.replace(H,ui):e},$i.uniqueId=function(e){var t=++Ae;return va(e)+t},$i.upperCase=Xa,$i.upperFirst=Za,$i.each=vs,$i.eachRight=bs,$i.first=Yo,ll($i,(yl={},yn($i,function(e,t){Le.call($i.prototype,t)||(yl[t]=e)}),yl),{chain:!1}),$i.VERSION="4.17.21",xt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){$i[e].placeholder=$i}),xt(["drop","take"],function(t,i){Vi.prototype[t]=function(n){n=n===e?1:_i(_a(n),0);var r=this.__filtered__&&!i?new Vi(this):this.clone();return r.__filtered__?r.__takeCount__=gi(n,r.__takeCount__):r.__views__.push({size:gi(n,c),type:t+(r.__dir__<0?"Right":"")}),r},Vi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),xt(["filter","map","takeWhile"],function(e,t){var i=t+1,n=1==i||3==i;Vi.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:so(e,3),type:i}),t.__filtered__=t.__filtered__||n,t}}),xt(["head","last"],function(e,t){var i="take"+(t?"Right":"");Vi.prototype[e]=function(){return this[i](1).value()[0]}}),xt(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");Vi.prototype[e]=function(){return this.__filtered__?new Vi(this):this[i](1)}}),Vi.prototype.compact=function(){return this.filter(rl)},Vi.prototype.find=function(e){return this.filter(e).head()},Vi.prototype.findLast=function(e){return this.reverse().find(e)},Vi.prototype.invokeMap=qn(function(e,t){return"function"==typeof e?new Vi(this):this.map(function(i){return kn(i,e,t)})}),Vi.prototype.reject=function(e){return this.filter(Fs(so(e)))},Vi.prototype.slice=function(t,i){t=_a(t);var n=this;return n.__filtered__&&(t>0||i<0)?new Vi(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),i!==e&&(n=(i=_a(i))<0?n.dropRight(-i):n.take(i-t)),n)},Vi.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vi.prototype.toArray=function(){return this.take(c)},yn(Vi.prototype,function(t,i){var n=/^(?:filter|find|map|reject)|While$/.test(i),r=/^(?:head|last)$/.test(i),o=$i[r?"take"+("last"==i?"Right":""):i],s=r||/^find/.test(i);o&&($i.prototype[i]=function(){var i=this.__wrapped__,a=r?[1]:arguments,l=i instanceof Vi,u=a[0],c=l||Gs(i),h=function(e){var t=o.apply($i,Rt([e],a));return r&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,p=!!this.__actions__.length,f=s&&!d,_=l&&!p;if(!s&&c){i=_?i:new Vi(this);var g=t.apply(i,a);return g.__actions__.push({func:fs,args:[h],thisArg:e}),new Bi(g,d)}return f&&_?t.apply(this,a):(g=this.thru(h),f?r?g.value()[0]:g.value():g)})}),xt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Pe[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);$i.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var r=this.value();return t.apply(Gs(r)?r:[],e)}return this[i](function(i){return t.apply(Gs(i)?i:[],e)})}}),yn(Vi.prototype,function(e,t){var i=$i[t];if(i){var n=i.name+"";Le.call(ki,n)||(ki[n]=[]),ki[n].push({name:t,func:i})}}),ki[Nr(e,2).name]=[{name:"wrapper",func:e}],Vi.prototype.clone=function(){var e=new Vi(this.__wrapped__);return e.__actions__=Sr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Sr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Sr(this.__views__),e},Vi.prototype.reverse=function(){if(this.__filtered__){var e=new Vi(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vi.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=Gs(e),n=t<0,r=i?e.length:0,o=function(e,t,i){for(var n=-1,r=i.length;++n<r;){var o=i[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=gi(t,e+s);break;case"takeRight":e=_i(e,t-s)}}return{start:e,end:t}}(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=n?a:s-1,c=this.__iteratees__,h=c.length,d=0,p=gi(l,this.__takeCount__);if(!i||!n&&r==l&&p==l)return dr(e,this.__actions__);var f=[];e:for(;l--&&d<p;){for(var _=-1,g=e[u+=t];++_<h;){var m=c[_],y=m.iteratee,v=m.type,b=y(g);if(2==v)g=b;else if(!b){if(1==v)continue e;break e}}f[d++]=g}return f},$i.prototype.at=_s,$i.prototype.chain=function(){return ps(this)},$i.prototype.commit=function(){return new Bi(this.value(),this.__chain__)},$i.prototype.next=function(){this.__values__===e&&(this.__values__=pa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},$i.prototype.plant=function(t){for(var i,n=this;n instanceof ji;){var r=Bo(n);r.__index__=0,r.__values__=e,i?o.__wrapped__=r:i=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,i},$i.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Vi){var i=t;return this.__actions__.length&&(i=new Vi(this)),(i=i.reverse()).__actions__.push({func:fs,args:[ts],thisArg:e}),new Bi(i,this.__chain__)}return this.thru(ts)},$i.prototype.toJSON=$i.prototype.valueOf=$i.prototype.value=function(){return dr(this.__wrapped__,this.__actions__)},$i.prototype.first=$i.prototype.head,rt&&($i.prototype[rt]=function(){return this}),$i}();ht?((ht.exports=ci)._=ci,ct._=ci):ut._=ci}.call(sL.exports)),sL.exports);const cL=rL(uL),hL={},dL=function(e,t,i){let n=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),r=i?.nonce||i?.getAttribute("nonce");n=e(t.map(e=>{if((e=function(e){return"/homePage/"+e}(e))in hL)return;hL[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${i}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,r&&n.setAttribute("nonce",r),document.head.appendChild(n),t?new Promise((t,i)=>{n.addEventListener("load",t),n.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};var pL,fL=new Uint8Array(16);function _L(){if(!pL&&!(pL="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pL(fL)}const gL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mL(e){return"string"==typeof e&&gL.test(e)}for(var yL,vL,bL=[],wL=0;wL<256;++wL)bL.push((wL+256).toString(16).substr(1));function CL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(bL[e[t+0]]+bL[e[t+1]]+bL[e[t+2]]+bL[e[t+3]]+"-"+bL[e[t+4]]+bL[e[t+5]]+"-"+bL[e[t+6]]+bL[e[t+7]]+"-"+bL[e[t+8]]+bL[e[t+9]]+"-"+bL[e[t+10]]+bL[e[t+11]]+bL[e[t+12]]+bL[e[t+13]]+bL[e[t+14]]+bL[e[t+15]]).toLowerCase();if(!mL(i))throw TypeError("Stringified UUID is invalid");return i}var xL=0,IL=0;function EL(e,t,i){function n(e,n,r,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],i=0;i<e.length;++i)t.push(e.charCodeAt(i));return t}(e)),"string"==typeof n&&(n=function(e){if(!mL(e))throw TypeError("Invalid UUID");var t,i=new Uint8Array(16);return i[0]=(t=parseInt(e.slice(0,8),16))>>>24,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i[4]=(t=parseInt(e.slice(9,13),16))>>>8,i[5]=255&t,i[6]=(t=parseInt(e.slice(14,18),16))>>>8,i[7]=255&t,i[8]=(t=parseInt(e.slice(19,23),16))>>>8,i[9]=255&t,i[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,i[11]=t/4294967296&255,i[12]=t>>>24&255,i[13]=t>>>16&255,i[14]=t>>>8&255,i[15]=255&t,i}(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),(s=i(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,r){o=o||0;for(var a=0;a<16;++a)r[o+a]=s[a];return r}return CL(s)}try{n.name=e}catch(r){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function OL(e){return 14+(e+64>>>9<<4)+1}function SL(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function kL(e,t,i,n,r,o){return SL((s=SL(SL(t,e),SL(n,o)))<<(a=r)|s>>>32-a,i);var s,a}function PL(e,t,i,n,r,o,s){return kL(t&i|~t&n,e,t,r,o,s)}function RL(e,t,i,n,r,o,s){return kL(t&n|i&~n,e,t,r,o,s)}function TL(e,t,i,n,r,o,s){return kL(t^i^n,e,t,r,o,s)}function DL(e,t,i,n,r,o,s){return kL(i^(t|~n),e,t,r,o,s)}var ML=EL("v3",48,function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var i=0;i<t.length;++i)e[i]=t.charCodeAt(i)}return function(e){for(var t=[],i=32*e.length,n="0123456789abcdef",r=0;r<i;r+=8){var o=e[r>>5]>>>r%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[OL(t)-1]=t;for(var i=1732584193,n=-271733879,r=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=i,l=n,u=r,c=o;i=PL(i,n,r,o,e[s],7,-680876936),o=PL(o,i,n,r,e[s+1],12,-389564586),r=PL(r,o,i,n,e[s+2],17,606105819),n=PL(n,r,o,i,e[s+3],22,-1044525330),i=PL(i,n,r,o,e[s+4],7,-176418897),o=PL(o,i,n,r,e[s+5],12,1200080426),r=PL(r,o,i,n,e[s+6],17,-1473231341),n=PL(n,r,o,i,e[s+7],22,-45705983),i=PL(i,n,r,o,e[s+8],7,1770035416),o=PL(o,i,n,r,e[s+9],12,-1958414417),r=PL(r,o,i,n,e[s+10],17,-42063),n=PL(n,r,o,i,e[s+11],22,-1990404162),i=PL(i,n,r,o,e[s+12],7,1804603682),o=PL(o,i,n,r,e[s+13],12,-40341101),r=PL(r,o,i,n,e[s+14],17,-1502002290),i=RL(i,n=PL(n,r,o,i,e[s+15],22,1236535329),r,o,e[s+1],5,-165796510),o=RL(o,i,n,r,e[s+6],9,-1069501632),r=RL(r,o,i,n,e[s+11],14,643717713),n=RL(n,r,o,i,e[s],20,-373897302),i=RL(i,n,r,o,e[s+5],5,-701558691),o=RL(o,i,n,r,e[s+10],9,38016083),r=RL(r,o,i,n,e[s+15],14,-660478335),n=RL(n,r,o,i,e[s+4],20,-405537848),i=RL(i,n,r,o,e[s+9],5,568446438),o=RL(o,i,n,r,e[s+14],9,-1019803690),r=RL(r,o,i,n,e[s+3],14,-187363961),n=RL(n,r,o,i,e[s+8],20,1163531501),i=RL(i,n,r,o,e[s+13],5,-1444681467),o=RL(o,i,n,r,e[s+2],9,-51403784),r=RL(r,o,i,n,e[s+7],14,1735328473),i=TL(i,n=RL(n,r,o,i,e[s+12],20,-1926607734),r,o,e[s+5],4,-378558),o=TL(o,i,n,r,e[s+8],11,-2022574463),r=TL(r,o,i,n,e[s+11],16,1839030562),n=TL(n,r,o,i,e[s+14],23,-35309556),i=TL(i,n,r,o,e[s+1],4,-1530992060),o=TL(o,i,n,r,e[s+4],11,1272893353),r=TL(r,o,i,n,e[s+7],16,-155497632),n=TL(n,r,o,i,e[s+10],23,-1094730640),i=TL(i,n,r,o,e[s+13],4,681279174),o=TL(o,i,n,r,e[s],11,-358537222),r=TL(r,o,i,n,e[s+3],16,-722521979),n=TL(n,r,o,i,e[s+6],23,76029189),i=TL(i,n,r,o,e[s+9],4,-640364487),o=TL(o,i,n,r,e[s+12],11,-421815835),r=TL(r,o,i,n,e[s+15],16,530742520),i=DL(i,n=TL(n,r,o,i,e[s+2],23,-995338651),r,o,e[s],6,-198630844),o=DL(o,i,n,r,e[s+7],10,1126891415),r=DL(r,o,i,n,e[s+14],15,-1416354905),n=DL(n,r,o,i,e[s+5],21,-57434055),i=DL(i,n,r,o,e[s+12],6,1700485571),o=DL(o,i,n,r,e[s+3],10,-1894986606),r=DL(r,o,i,n,e[s+10],15,-1051523),n=DL(n,r,o,i,e[s+1],21,-2054922799),i=DL(i,n,r,o,e[s+8],6,1873313359),o=DL(o,i,n,r,e[s+15],10,-30611744),r=DL(r,o,i,n,e[s+6],15,-1560198380),n=DL(n,r,o,i,e[s+13],21,1309151649),i=DL(i,n,r,o,e[s+4],6,-145523070),o=DL(o,i,n,r,e[s+11],10,-1120210379),r=DL(r,o,i,n,e[s+2],15,718787259),n=DL(n,r,o,i,e[s+9],21,-343485551),i=SL(i,a),n=SL(n,l),r=SL(r,u),o=SL(o,c)}return[i,n,r,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,i=new Uint32Array(OL(t)),n=0;n<t;n+=8)i[n>>5]|=(255&e[n/8])<<n%32;return i}(e),8*e.length))});function LL(e,t,i,n){switch(e){case 0:return t&i^~t&n;case 1:case 3:return t^i^n;case 2:return t&i^t&n^i&n}}function AL(e,t){return e<<t|e>>>32-t}var FL,$L,NL,jL,BL,VL,HL,UL,WL,GL,zL,YL,qL,KL,XL,ZL,JL,QL,eA,tA,iA,nA,rA,oA,sA,aA,lA,uA,cA,hA,dA,pA,fA,_A,gA,mA,yA,vA,bA,wA,CA,xA,IA,EA,OA,SA,kA,PA,RA,TA,DA,MA,LA=EL("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var r=0;r<n.length;++r)e.push(n.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=e[64*l+4*c]<<24|e[64*l+4*c+1]<<16|e[64*l+4*c+2]<<8|e[64*l+4*c+3];a[l]=u}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<s;++h){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=a[h][p];for(var f=16;f<80;++f)d[f]=AL(d[f-3]^d[f-8]^d[f-14]^d[f-16],1);for(var _=i[0],g=i[1],m=i[2],y=i[3],v=i[4],b=0;b<80;++b){var w=Math.floor(b/20),C=AL(_,5)+LL(w,g,m,y)+v+t[w]+d[b]>>>0;v=y,y=m,m=AL(g,30)>>>0,g=_,_=C}i[0]=i[0]+_>>>0,i[1]=i[1]+g>>>0,i[2]=i[2]+m>>>0,i[3]=i[3]+y>>>0,i[4]=i[4]+v>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}),AA={v1:function(e,t,i){var n=t&&i||0,r=t||new Array(16),o=(e=e||{}).node||yL,s=void 0!==e.clockseq?e.clockseq:vL;if(null==o||null==s){var a=e.random||(e.rng||_L)();null==o&&(o=yL=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=vL=16383&(a[6]<<8|a[7]))}var l=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:IL+1,c=l-xL+(u-IL)/1e4;if(c<0&&void 0===e.clockseq&&(s=s+1&16383),(c<0||l>xL)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");xL=l,IL=u,vL=s;var h=(1e4*(268435455&(l+=122192928e5))+u)%4294967296;r[n++]=h>>>24&255,r[n++]=h>>>16&255,r[n++]=h>>>8&255,r[n++]=255&h;var d=l/4294967296*1e4&268435455;r[n++]=d>>>8&255,r[n++]=255&d,r[n++]=d>>>24&15|16,r[n++]=d>>>16&255,r[n++]=s>>>8|128,r[n++]=255&s;for(var p=0;p<6;++p)r[n+p]=o[p];return t||CL(r)},v3:ML,v4:function(e,t,i){var n=(e=e||{}).random||(e.rng||_L)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(var r=0;r<16;++r)t[i+r]=n[r];return t}return CL(n)},v5:LA};function FA(){if(VL)return BL;VL=1;var e=function(){if(jL)return NL;jL=1;var e=/\s/;return NL=function(t){for(var i=t.length;i--&&e.test(t.charAt(i)););return i}}(),t=/^\s+/;return BL=function(i){return i?i.slice(0,e(i)+1).replace(t,""):i}}function $A(){if(UL)return HL;return UL=1,HL=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function NA(){if(YL)return zL;YL=1;var e=function(){if(GL)return WL;GL=1;var e="object"==typeof nL&&nL&&nL.Object===Object&&nL;return WL=e}(),t="object"==typeof self&&self&&self.Object===Object&&self,i=e||t||Function("return this")();return zL=i}function jA(){if(KL)return qL;KL=1;var e=NA().Symbol;return qL=e}function BA(){if(tA)return eA;tA=1;var e=jA(),t=function(){if(ZL)return XL;ZL=1;var e=jA(),t=Object.prototype,i=t.hasOwnProperty,n=t.toString,r=e?e.toStringTag:void 0;return XL=function(e){var t=i.call(e,r),o=e[r];try{e[r]=void 0;var s=!0}catch(VY){}var a=n.call(e);return s&&(t?e[r]=o:delete e[r]),a}}(),i=function(){if(QL)return JL;QL=1;var e=Object.prototype.toString;return JL=function(t){return e.call(t)}}(),n=e?e.toStringTag:void 0;return eA=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?t(e):i(e)}}function VA(){if(oA)return rA;oA=1;var e=BA(),t=nA?iA:(nA=1,iA=function(e){return null!=e&&"object"==typeof e});return rA=function(i){return"symbol"==typeof i||t(i)&&"[object Symbol]"==e(i)}}function HA(){if(aA)return sA;aA=1;var e=FA(),t=$A(),i=VA(),n=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;return sA=function(a){if("number"==typeof a)return a;if(i(a))return NaN;if(t(a)){var l="function"==typeof a.valueOf?a.valueOf():a;a=t(l)?l+"":l}if("string"!=typeof a)return 0===a?a:+a;a=e(a);var u=r.test(a);return u||o.test(a)?s(a.slice(2),u?2:8):n.test(a)?NaN:+a}}function UA(){if(uA)return lA;uA=1;var e=$L?FL:($L=1,FL=function(e,t,i){return e==e&&(void 0!==i&&(e=e<=i?e:i),void 0!==t&&(e=e>=t?e:t)),e}),t=HA();return lA=function(i,n,r){return void 0===r&&(r=n,n=void 0),void 0!==r&&(r=(r=t(r))==r?r:0),void 0!==n&&(n=(n=t(n))==n?n:0),e(t(i),n,r)}}function WA(){if(pA)return dA;pA=1;var e=HA(),t=1/0;return dA=function(i){return i?(i=e(i))===t||i===-1/0?17976931348623157e292*(i<0?-1:1):i==i?i:0:0===i?i:0}}function GA(){if(_A)return fA;_A=1;var e=function(){if(hA)return cA;hA=1;var e=Math.max,t=Math.min;return cA=function(i,n,r){return i>=t(n,r)&&i<e(n,r)}}(),t=WA(),i=HA();return fA=function(n,r,o){return r=t(r),void 0===o?(o=r,r=0):o=t(o),n=i(n),e(n,r,o)}}function zA(){if(EA)return IA;EA=1;var e=function(){if(wA)return bA;wA=1;var e=BA(),t=$A();return bA=function(i){if(!t(i))return!1;var n=e(i);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}}(),t=xA?CA:(xA=1,CA=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991});return IA=function(i){return null!=i&&t(i.length)&&!e(i)}}function YA(){if(PA)return kA;PA=1;var e=vA?yA:(vA=1,yA=function(e,t){return e===t||e!=e&&t!=t}),t=zA(),i=function(){if(SA)return OA;SA=1;var e=/^(?:0|[1-9]\d*)$/;return OA=function(t,i){var n=typeof t;return!!(i=null==i?9007199254740991:i)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<i}}(),n=$A();return kA=function(r,o,s){if(!n(s))return!1;var a=typeof o;return!!("number"==a?t(s)&&i(o,s.length):"string"==a&&o in s)&&e(s[o],r)}}function qA(){if(TA)return RA;TA=1;var e=function(){if(mA)return gA;mA=1;var e=Math.floor,t=Math.random;return gA=function(i,n){return i+e(t()*(n-i+1))}}(),t=YA(),i=WA(),n=parseFloat,r=Math.min,o=Math.random;return RA=function(s,a,l){if(l&&"boolean"!=typeof l&&t(s,a,l)&&(a=l=void 0),void 0===l&&("boolean"==typeof a?(l=a,a=void 0):"boolean"==typeof s&&(l=s,s=void 0)),void 0===s&&void 0===a?(s=0,a=1):(s=i(s),void 0===a?(a=s,s=0):a=i(a)),s>a){var u=s;s=a,a=u}if(l||s%1||a%1){var c=o();return r(s+c*(a-s+n("1e-"+((c+"").length-1))),a)}return e(s,a)}}var KA=MA?DA:(MA=1,DA={clamp:UA(),inRange:GA(),random:qA()});const XA=ed("sessionTemp",()=>{const e=Dt(0),t=Dt({}),i=Dt([]);return{loadingCount:e,setLoadingCount:t=>{e.value=t},comCodes:t,getComCode:e=>t.value[e]?t.value[e]:[],setComCode:e=>{t.value=Object.assign(t.value,e)},pageAuth:i,getPageAuth:(e,t)=>{const n=i.value.find(t=>t&&t.programId===e);return n?n.authInfo[t]:{}},setPageAuth:e=>{0===i.value.filter(t=>t&&t.programId===e.programId).length&&i.value.push(e)},removePageAuth:e=>{i.value=i.value.filter(t=>t&&t.programId!==e)},clear:()=>{e.value=0,t.value={},i.value=[]}}},{persist:{storage:sessionStorage}}),ZA="undefined"!=typeof document;
/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */function JA(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const QA=Object.assign;function eF(e,t){const i={};for(const n in t){const r=t[n];i[n]=iF(r)?r.map(e):e(r)}return i}const tF=()=>{},iF=Array.isArray;function nF(e){Array.from(arguments).slice(1)}const rF=/#/g,oF=/&/g,sF=/\//g,aF=/=/g,lF=/\?/g,uF=/\+/g,cF=/%5B/g,hF=/%5D/g,dF=/%5E/g,pF=/%60/g,fF=/%7B/g,_F=/%7C/g,gF=/%7D/g,mF=/%20/g;function yF(e){return encodeURI(""+e).replace(_F,"|").replace(cF,"[").replace(hF,"]")}function vF(e){return yF(e).replace(uF,"%2B").replace(mF,"+").replace(rF,"%23").replace(oF,"%26").replace(pF,"`").replace(fF,"{").replace(gF,"}").replace(dF,"^")}function bF(e){return vF(e).replace(aF,"%3D")}function wF(e){return null==e?"":function(e){return yF(e).replace(rF,"%23").replace(lF,"%3F")}(e).replace(sF,"%2F")}function CF(e){try{return decodeURIComponent(""+e)}catch(t){nF(`Error decoding "${e}". Using original value`)}return""+e}const xF=/\/$/;function IF(e,t,i="/"){let n,r={},o="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),r=e(o)),a>-1&&(n=n||t.slice(0,a),s=t.slice(a,t.length)),n=function(e,t){if(e.startsWith("/"))return e;if(!t.startsWith("/"))return nF(`Cannot resolve a relative location without an absolute path. Trying to resolve "${e}" from "${t}". It should look like "/${t}".`),e;if(!e)return t;const i=t.split("/"),n=e.split("/"),r=n[n.length-1];".."!==r&&"."!==r||n.push("");let o,s,a=i.length-1;for(o=0;o<n.length;o++)if(s=n[o],"."!==s){if(".."!==s)break;a>1&&a--}return i.slice(0,a).join("/")+"/"+n.slice(o).join("/")}(null!=n?n:t,i),{fullPath:n+(o&&"?")+o+s,path:n,query:r,hash:CF(s)}}function EF(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function OF(e,t,i){const n=t.matched.length-1,r=i.matched.length-1;return n>-1&&n===r&&SF(t.matched[n],i.matched[r])&&kF(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}function SF(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function kF(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!PF(e[i],t[i]))return!1;return!0}function PF(e,t){return iF(e)?RF(e,t):iF(t)?RF(t,e):e===t}function RF(e,t){return iF(t)?e.length===t.length&&e.every((e,i)=>e===t[i]):1===e.length&&e[0]===t}const TF={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var DF,MF,LF,AF;function FF(e){if(!e)if(ZA){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(xF,"")}(MF=DF||(DF={})).pop="pop",MF.push="push",(AF=LF||(LF={})).back="back",AF.forward="forward",AF.unknown="";const $F=/^[^#]+#/;function NF(e,t){return e.replace($F,"#")+t}const jF=()=>({left:window.scrollX,top:window.scrollY});function BF(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#");if(!("string"!=typeof e.el||r&&document.getElementById(e.el.slice(1))))try{const t=document.querySelector(e.el);if(r&&t)return void nF(`The selector "${e.el}" should be passed as "el: document.querySelector('${e.el}')" because it starts with "#".`)}catch(i){return void nF(`The selector "${e.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`)}const o="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return void nF(`Couldn't find element using selector "${e.el}" returned by scrollBehavior.`);t=function(e,t){const i=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-i.left-(t.left||0),top:n.top-i.top-(t.top||0)}}(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function VF(e,t){return(history.state?history.state.position-t:-1)+e}const HF=new Map;function UF(e,t){const{pathname:i,search:n,hash:r}=t,o=e.indexOf("#");if(o>-1){let t=r.includes(e.slice(o))?e.slice(o).length:1,i=r.slice(t);return"/"!==i[0]&&(i="/"+i),EF(i,"")}return EF(i,e)+n+r}function WF(e,t,i,n=!1,r=!1){return{back:e,current:t,forward:i,replaced:n,position:window.history.length,scroll:r?jF():null}}function GF(e){const{history:t,location:i}=window,n={value:UF(e,i)},r={value:t.state};function o(n,o,s){const a=e.indexOf("#"),l=a>-1?(i.host&&document.querySelector("base")?e:e.slice(a))+n:location.protocol+"//"+location.host+e+n;try{t[s?"replaceState":"pushState"](o,"",l),r.value=o}catch(u){nF("Error with push/replace State",u),i[s?"replace":"assign"](l)}}return r.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:n,state:r,push:function(e,i){const s=QA({},r.value,t.state,{forward:e,scroll:jF()});t.state||nF("history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:\n\nhistory.replaceState(history.state, '', url)\n\nYou can find more information at https://router.vuejs.org/guide/migration/#Usage-of-history-state"),o(s.current,s,!0),o(e,QA({},WF(n.value,e,null),{position:s.position+1},i),!1),n.value=e},replace:function(e,i){o(e,QA({},t.state,WF(r.value.back,e,r.value.forward,!0),i,{position:r.value.position}),!0),n.value=e}}}function zF(e){return"string"==typeof e||e&&"object"==typeof e}function YF(e){return"string"==typeof e||"symbol"==typeof e}const qF=Symbol("navigation failure");var KF,XF;(XF=KF||(KF={}))[XF.aborted=4]="aborted",XF[XF.cancelled=8]="cancelled",XF[XF.duplicated=16]="duplicated";const ZF={1:({location:e,currentLocation:t})=>`No match for\n ${JSON.stringify(e)}${t?"\nwhile being at\n"+JSON.stringify(t):""}`,2:({from:e,to:t})=>`Redirected from "${e.fullPath}" to "${function(e){if("string"==typeof e)return e;if(null!=e.path)return e.path;const t={};for(const i of e$)i in e&&(t[i]=e[i]);return JSON.stringify(t,null,2)}(t)}" via a navigation guard.`,4:({from:e,to:t})=>`Navigation aborted from "${e.fullPath}" to "${t.fullPath}" via a navigation guard.`,8:({from:e,to:t})=>`Navigation cancelled from "${e.fullPath}" to "${t.fullPath}" with a new navigation.`,16:({from:e,to:t})=>`Avoided redundant navigation to current location: "${e.fullPath}".`};function JF(e,t){return QA(new Error(ZF[e](t)),{type:e,[qF]:!0},t)}function QF(e,t){return e instanceof Error&&qF in e&&(null==t||!!(e.type&t))}const e$=["params","query","hash"];const t$="[^/]+?",i$={sensitive:!1,strict:!1,start:!0,end:!0},n$=/[.+*?^${}()[\]/\\]/g;function r$(e,t){let i=0;for(;i<e.length&&i<t.length;){const n=t[i]-e[i];if(n)return n;i++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function o$(e,t){let i=0;const n=e.score,r=t.score;for(;i<n.length&&i<r.length;){const e=r$(n[i],r[i]);if(e)return e;i++}if(1===Math.abs(r.length-n.length)){if(s$(n))return 1;if(s$(r))return-1}return r.length-n.length}function s$(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const a$={type:0,value:""},l$=/[a-zA-Z0-9_]/;function u$(e,t,i){const n=function(e,t){const i=QA({},i$,t),n=[];let r=i.start?"^":"";const o=[];for(const l of e){const e=l.length?[]:[90];i.strict&&!l.length&&(r+="/");for(let t=0;t<l.length;t++){const n=l[t];let s=40+(i.sensitive?.25:0);if(0===n.type)t||(r+="/"),r+=n.value.replace(n$,"\\$&"),s+=40;else if(1===n.type){const{value:e,repeatable:i,optional:u,regexp:c}=n;o.push({name:e,repeatable:i,optional:u});const h=c||t$;if(h!==t$){s+=10;try{new RegExp(`(${h})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${e}" (${h}): `+a.message)}}let d=i?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;t||(d=u&&l.length<2?`(?:/${d})`:"/"+d),u&&(d+="?"),r+=d,s+=20,u&&(s+=-8),i&&(s+=-20),".*"===h&&(s+=-50)}e.push(s)}n.push(e)}if(i.strict&&i.end){const e=n.length-1;n[e][n[e].length-1]+=.7000000000000001}i.strict||(r+="/?"),i.end?r+="$":i.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const s=new RegExp(r,i.sensitive?"":"i");return{re:s,score:n,keys:o,parse:function(e){const t=e.match(s),i={};if(!t)return null;for(let n=1;n<t.length;n++){const e=t[n]||"",r=o[n-1];i[r.name]=e&&r.repeatable?e.split("/"):e}return i},stringify:function(t){let i="",n=!1;for(const r of e){n&&i.endsWith("/")||(i+="/"),n=!1;for(const e of r)if(0===e.type)i+=e.value;else if(1===e.type){const{value:o,repeatable:s,optional:a}=e,l=o in t?t[o]:"";if(iF(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=iF(l)?l.join("/"):l;if(!u){if(!a)throw new Error(`Missing required param "${o}"`);r.length<2&&(i.endsWith("/")?i=i.slice(0,-1):n=!0)}i+=u}}return i||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[a$]];if(!e.startsWith("/"))throw new Error(`Route paths should start with a "/": "${e}" should be "/${e}".`);function t(e){throw new Error(`ERR (${i})/"${u}": ${e}`)}let i=0,n=i;const r=[];let o;function s(){o&&r.push(o),o=[]}let a,l=0,u="",c="";function h(){u&&(0===i?o.push({type:0,value:u}):1===i||2===i||3===i?(o.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),u="")}function d(){u+=a}for(;l<e.length;)if(a=e[l++],"\\"!==a||2===i)switch(i){case 0:"/"===a?(u&&h(),s()):":"===a?(h(),i=1):d();break;case 4:d(),i=n;break;case 1:"("===a?i=2:l$.test(a)?d():(h(),i=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==c[c.length-1]?c=c.slice(0,-1)+a:i=3:c+=a;break;case 3:h(),i=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,c="";break;default:t("Unknown state")}else n=i,i=4;return 2===i&&t(`Unfinished custom RegExp for param "${u}"`),h(),s(),r}(e.path),i);{const t=new Set;for(const i of n.keys)t.has(i.name)&&nF(`Found duplicated params with name "${i.name}" for path "${e.path}". Only the last one will be available on "$route.params".`),t.add(i.name)}const r=QA(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function c$(e,t){const i=[],n=new Map;function r(e,i,n){const a=!n,l=d$(e);!function(e,t){t&&t.record.name&&!e.name&&!e.path&&nF(`The route named "${String(t.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}(l,i),l.aliasOf=n&&n.record;const u=g$(t,e),c=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)c.push(d$(QA({},l,{components:n?n.record.components:l.components,path:e,aliasOf:n?n.record:l})))}let h,d;for(const t of c){const{path:c}=t;if(i&&"/"!==c[0]){const e=i.record.path,n="/"===e[e.length-1]?"":"/";t.path=i.record.path+(c&&n+c)}if("*"===t.path)throw new Error('Catch all routes ("*") must now be defined using a param with a custom regexp.\nSee more at https://router.vuejs.org/guide/migration/#Removed-star-or-catch-all-routes.');if(h=u$(t,i,u),i&&"/"===c[0]&&b$(h,i),n?(n.alias.push(h),y$(n,h)):(d=d||h,d!==h&&d.alias.push(h),a&&e.name&&!f$(h)&&(v$(e,i),o(e.name))),w$(h)&&s(h),l.children){const e=l.children;for(let t=0;t<e.length;t++)r(e[t],h,n&&n.children[t])}n=n||h}return d?()=>{o(d)}:tF}function o(e){if(YF(e)){const t=n.get(e);t&&(n.delete(e),i.splice(i.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=i.indexOf(e);t>-1&&(i.splice(t,1),e.record.name&&n.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(e){const t=function(e,t){let i=0,n=t.length;for(;i!==n;){const r=i+n>>1;o$(e,t[r])<0?n=r:i=r+1}const r=function(e){let t=e;for(;t=t.parent;)if(w$(t)&&0===o$(e,t))return t;return}(e);r&&(n=t.lastIndexOf(r,n-1),n<0&&nF(`Finding ancestor route "${r.record.path}" failed for "${e.record.path}"`));return n}(e,i);i.splice(t,0,e),e.record.name&&!f$(e)&&n.set(e.record.name,e)}return t=g$({strict:!1,end:!0,sensitive:!1},t),e.forEach(e=>r(e)),{addRoute:r,resolve:function(e,t){let r,o,s,a={};if("name"in e&&e.name){if(r=n.get(e.name),!r)throw JF(1,{location:e});{const t=Object.keys(e.params||{}).filter(e=>!r.keys.find(t=>t.name===e));t.length&&nF(`Discarded invalid param(s) "${t.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}s=r.record.name,a=QA(h$(t.params,r.keys.filter(e=>!e.optional).concat(r.parent?r.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&h$(e.params,r.keys.map(e=>e.name))),o=r.stringify(a)}else if(null!=e.path)o=e.path,o.startsWith("/")||nF(`The Matcher cannot resolve relative paths but received "${o}". Unless you directly called \`matcher.resolve("${o}")\`, this is probably a bug in vue-router. Please open an issue at https://github.com/vuejs/router/issues/new/choose.`),r=i.find(e=>e.re.test(o)),r&&(a=r.parse(o),s=r.record.name);else{if(r=t.name?n.get(t.name):i.find(e=>e.re.test(t.path)),!r)throw JF(1,{location:e,currentLocation:t});s=r.record.name,a=QA({},t.params,e.params),o=r.stringify(a)}const l=[];let u=r;for(;u;)l.unshift(u.record),u=u.parent;return{name:s,path:o,params:a,matched:l,meta:_$(l)}},removeRoute:o,clearRoutes:function(){i.length=0,n.clear()},getRoutes:function(){return i},getRecordMatcher:function(e){return n.get(e)}}}function h$(e,t){const i={};for(const n of t)n in e&&(i[n]=e[n]);return i}function d$(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:p$(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function p$(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const n in e.components)t[n]="object"==typeof i?i[n]:i;return t}function f$(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function _$(e){return e.reduce((e,t)=>QA(e,t.meta),{})}function g$(e,t){const i={};for(const n in e)i[n]=n in t?t[n]:e[n];return i}function m$(e,t){return e.name===t.name&&e.optional===t.optional&&e.repeatable===t.repeatable}function y$(e,t){for(const i of e.keys)if(!i.optional&&!t.keys.find(m$.bind(null,i)))return nF(`Alias "${t.record.path}" and the original record: "${e.record.path}" must have the exact same param named "${i.name}"`);for(const i of t.keys)if(!i.optional&&!e.keys.find(m$.bind(null,i)))return nF(`Alias "${t.record.path}" and the original record: "${e.record.path}" must have the exact same param named "${i.name}"`)}function v$(e,t){for(let i=t;i;i=i.parent)if(i.record.name===e.name)throw new Error(`A route named "${String(e.name)}" has been added as a ${t===i?"child":"descendant"} of a route with the same name. Route names must be unique and a nested route cannot use the same name as an ancestor.`)}function b$(e,t){for(const i of t.keys)if(!e.keys.find(m$.bind(null,i)))return nF(`Absolute path "${e.record.path}" must have the exact same param named "${i.name}" as its parent "${t.record.path}".`)}function w$({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function C$(e){const t={};if(""===e||"?"===e)return t;const i=("?"===e[0]?e.slice(1):e).split("&");for(let n=0;n<i.length;++n){const e=i[n].replace(uF," "),r=e.indexOf("="),o=CF(r<0?e:e.slice(0,r)),s=r<0?null:CF(e.slice(r+1));if(o in t){let e=t[o];iF(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function x$(e){let t="";for(let i in e){const n=e[i];if(i=bF(i),null==n){void 0!==n&&(t+=(t.length?"&":"")+i);continue}(iF(n)?n.map(e=>e&&vF(e)):[n&&vF(n)]).forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+i,null!=e&&(t+="="+e))})}return t}function I$(e){const t={};for(const i in e){const n=e[i];void 0!==n&&(t[i]=iF(n)?n.map(e=>null==e?null:""+e):null==n?n:""+n)}return t}const E$=Symbol("router view location matched"),O$=Symbol("router view depth"),S$=Symbol("router"),k$=Symbol("route location"),P$=Symbol("router view location");function R$(){let e=[];return{add:function(t){return e.push(t),()=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function T$(e,t,i,n,r,o=e=>e()){const s=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=e=>{!1===e?l(JF(4,{from:i,to:t})):e instanceof Error?l(e):zF(e)?l(JF(2,{from:t,to:e})):(s&&n.enterCallbacks[r]===s&&"function"==typeof e&&s.push(e),a())},c=o(()=>e.call(n&&n.instances[r],t,i,function(e,t,i){let n=0;return function(){1===n++&&nF(`The "next" callback was called more than once in one navigation guard when going from "${i.fullPath}" to "${t.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),e._called=!0,1===n&&e.apply(null,arguments)}}(u,t,i)));let h=Promise.resolve(c);if(e.length<3&&(h=h.then(u)),e.length>2){const t=`The "next" callback was never called inside of ${e.name?'"'+e.name+'"':""}:\n${e.toString()}\n. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if("object"==typeof c&&"then"in c)h=h.then(e=>u._called?e:(nF(t),Promise.reject(new Error("Invalid navigation guard"))));else if(void 0!==c&&!u._called)return nF(t),void l(new Error("Invalid navigation guard"))}h.catch(e=>l(e))})}function D$(e,t,i,n,r=e=>e()){const o=[];for(const s of e){s.components||s.children.length||nF(`Record with path "${s.path}" is either missing a "component(s)" or "children" property.`);for(const e in s.components){let a=s.components[e];if(!a||"object"!=typeof a&&"function"!=typeof a)throw nF(`Component "${e}" in record with path "${s.path}" is not a valid component. Received "${String(a)}".`),new Error("Invalid route component");if("then"in a){nF(`Component "${e}" in record with path "${s.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const t=a;a=()=>t}else a.__asyncLoader&&!a.__warnedDefineAsync&&(a.__warnedDefineAsync=!0,nF(`Component "${e}" in record with path "${s.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`));if("beforeRouteEnter"===t||s.instances[e])if(JA(a)){const l=(a.__vccOpts||a)[t];l&&o.push(T$(l,i,n,s,e,r))}else{let l=a();"catch"in l||(nF(`Component "${e}" in record with path "${s.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),l=Promise.resolve(l)),o.push(()=>l.then(o=>{if(!o)throw new Error(`Couldn't resolve component "${e}" at "${s.path}"`);const a=(l=o).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&JA(l.default)?o.default:o;var l;s.mods[e]=o,s.components[e]=a;const u=(a.__vccOpts||a)[t];return u&&T$(u,i,n,s,e,r)()}))}}}return o}function M$(e){const t=Dr(S$),i=Dr(k$);let n=!1,r=null;const o=Rs(()=>{const i=Ft(e.to);return n&&i===r||(zF(i)||(n?nF('Invalid value for prop "to" in useLink()\n- to:',i,"\n- previous to:",r,"\n- props:",e):nF('Invalid value for prop "to" in useLink()\n- to:',i,"\n- props:",e)),r=i,n=!0),t.resolve(i)}),s=Rs(()=>{const{matched:e}=o.value,{length:t}=e,n=e[t-1],r=i.matched;if(!n||!r.length)return-1;const s=r.findIndex(SF.bind(null,n));if(s>-1)return s;const a=A$(e[t-2]);return t>1&&A$(n)===a&&r[r.length-1].path!==a?r.findIndex(SF.bind(null,e[t-2])):s}),a=Rs(()=>s.value>-1&&function(e,t){for(const i in t){const n=t[i],r=e[i];if("string"==typeof n){if(n!==r)return!1}else if(!iF(r)||r.length!==n.length||n.some((e,t)=>e!==r[t]))return!1}return!0}(i.params,o.value.params)),l=Rs(()=>s.value>-1&&s.value===i.matched.length-1&&kF(i.params,o.value.params));if(ZA){const t=cs();if(t){const i={route:o.value,isActive:a.value,isExactActive:l.value,error:null};t.__vrl_devtools=t.__vrl_devtools||[],t.__vrl_devtools.push(i),fo(()=>{i.route=o.value,i.isActive=a.value,i.isExactActive=l.value,i.error=zF(Ft(e.to))?null:'Invalid "to" value'},{flush:"post"})}}return{route:o,href:Rs(()=>o.value.href),isActive:a,isExactActive:l,navigate:function(i={}){if(function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(i)){const i=t[Ft(e.replace)?"replace":"push"](Ft(e.to)).catch(tF);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>i),i}return Promise.resolve()}}}const L$=xn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:M$,setup(e,{slots:t}){const i=yt(M$(e)),{options:n}=Dr(S$),r=Rs(()=>({[F$(e.activeClass,n.linkActiveClass,"router-link-active")]:i.isActive,[F$(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const n=t.default&&(1===(o=t.default(i)).length?o[0]:o);var o;return e.custom?n:Ts("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:r.value},n)}}});function A$(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const F$=(e,t,i)=>null!=e?e:null!=t?t:i;function $$(e,t){if(!e)return null;const i=e(t);return 1===i.length?i[0]:i}const N$=xn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:i}){!function(){const e=cs(),t=e.parent&&e.parent.type.name,i=e.parent&&e.parent.subTree&&e.parent.subTree.type;if(t&&("KeepAlive"===t||t.includes("Transition"))&&"object"==typeof i&&"RouterView"===i.name){const e="KeepAlive"===t?"keep-alive":"transition";nF(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.\nUse slot props instead:\n\n<router-view v-slot="{ Component }">\n  <${e}>\n    <component :is="Component" />\n  </${e}>\n</router-view>`)}}();const n=Dr(P$),r=Rs(()=>e.route||n.value),o=Dr(O$,0),s=Rs(()=>{let e=Ft(o);const{matched:t}=r.value;let i;for(;(i=t[e])&&!i.components;)e++;return e}),a=Rs(()=>r.value.matched[s.value]);Tr(O$,Rs(()=>s.value+1)),Tr(E$,a),Tr(P$,r);const l=Dt();return _o(()=>[l.value,a.value,e.name],([e,t,i],[n,r,o])=>{t&&(t.instances[i]=e,r&&r!==t&&e&&e===n&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&SF(t,r)&&n||(t.enterCallbacks[i]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const n=r.value,o=e.name,u=a.value,c=u&&u.components[o];if(!c)return $$(i.default,{Component:c,route:n});const h=u.props[o],d=h?!0===h?n.params:"function"==typeof h?h(n):h:null,p=Ts(c,QA({},d,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(u.instances[o]=null)},ref:l}));if(ZA&&p.ref){const e={depth:s.value,name:u.name,path:u.path,meta:u.meta};(iF(p.ref)?p.ref.map(e=>e.i):[p.ref.i]).forEach(t=>{t.__vrv_devtools=e})}return $$(i.default,{Component:p,route:n})||p}}});function j$(e,t){const i=QA({},e,{matched:e.matched.map(e=>function(e,t){const i={};for(const n in e)t.includes(n)||(i[n]=e[n]);return i}(e,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:i}}}function B$(e){return{_custom:{display:e}}}let V$=0;function H$(e,t,i){if(t.__hasDevtools)return;t.__hasDevtools=!0;const n=V$++;yR({id:"org.vuejs.router"+(n?"."+n:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},r=>{r.now,r.on.inspectComponent((e,i)=>{e.instanceData&&e.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:j$(t.currentRoute.value,"Current Route")})}),r.on.visitComponentTree(({treeNode:e,componentInstance:t})=>{if(t.__vrv_devtools){const i=t.__vrv_devtools;e.tags.push({label:(i.name?`${i.name.toString()}: `:"")+i.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:W$})}iF(t.__vrl_devtools)&&(t.__devtoolsApi=r,t.__vrl_devtools.forEach(t=>{let i=t.route.path,n=q$,r="",o=0;t.error?(i=t.error,n=X$,o=Z$):t.isExactActive?(n=z$,r="This is exactly active"):t.isActive&&(n=G$,r="This link is active"),e.tags.push({label:i,textColor:o,tooltip:r,backgroundColor:n})}))}),_o(t.currentRoute,()=>{l(),r.notifyComponentUpdate(),r.sendInspectorTree(a),r.sendInspectorState(a)});const o="router:navigations:"+n;r.addTimelineLayer({id:o,label:`Router${n?" "+n:""} Navigations`,color:4237508}),t.onError((e,t)=>{r.addTimelineEvent({layerId:o,event:{title:"Error during Navigation",subtitle:t.fullPath,logType:"error",time:r.now(),data:{error:e},groupId:t.meta.__navigationId}})});let s=0;t.beforeEach((e,t)=>{const i={guard:B$("beforeEach"),from:j$(t,"Current Location during this navigation"),to:j$(e,"Target location")};Object.defineProperty(e.meta,"__navigationId",{value:s++}),r.addTimelineEvent({layerId:o,event:{time:r.now(),title:"Start of navigation",subtitle:e.fullPath,data:i,groupId:e.meta.__navigationId}})}),t.afterEach((e,t,i)=>{const n={guard:B$("afterEach")};i?(n.failure={_custom:{type:Error,readOnly:!0,display:i?i.message:"",tooltip:"Navigation Failure",value:i}},n.status=B$("")):n.status=B$(""),n.from=j$(t,"Current Location during this navigation"),n.to=j$(e,"Target location"),r.addTimelineEvent({layerId:o,event:{title:"End of navigation",subtitle:e.fullPath,time:r.now(),data:n,logType:i?"warning":"default",groupId:e.meta.__navigationId}})});const a="router-inspector:"+n;function l(){if(!u)return;const e=u;let n=i.getRoutes().filter(e=>!e.parent||!e.parent.record.components);n.forEach(iN),e.filter&&(n=n.filter(t=>nN(t,e.filter.toLowerCase()))),n.forEach(e=>tN(e,t.currentRoute.value)),e.rootNodes=n.map(J$)}let u;r.addInspector({id:a,label:"Routes"+(n?" "+n:""),icon:"book",treeFilterPlaceholder:"Search routes"}),r.on.getInspectorTree(t=>{u=t,t.app===e&&t.inspectorId===a&&l()}),r.on.getInspectorState(t=>{if(t.app===e&&t.inspectorId===a){const e=i.getRoutes().find(e=>e.record.__vd_id===t.nodeId);e&&(t.state={options:U$(e)})}}),r.sendInspectorTree(a),r.sendInspectorState(a)})}function U$(e){const{record:t}=e,i=[{editable:!1,key:"path",value:t.path}];return null!=t.name&&i.push({editable:!1,key:"name",value:t.name}),i.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&i.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map(e=>`${e.name}${function(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}(e)}`).join(" "),tooltip:"Param keys",value:e.keys}}}),null!=t.redirect&&i.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&i.push({editable:!1,key:"aliases",value:e.alias.map(e=>e.record.path)}),Object.keys(e.record.meta).length&&i.push({editable:!1,key:"meta",value:e.record.meta}),i.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map(e=>e.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),i}const W$=15485081,G$=2450411,z$=8702998,Y$=2282478,q$=16486972,K$=6710886,X$=16704226,Z$=12131356;function J$(e){const t=[],{record:i}=e;null!=i.name&&t.push({label:String(i.name),textColor:0,backgroundColor:Y$}),i.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:q$}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:W$}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:z$}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:G$}),i.redirect&&t.push({label:"string"==typeof i.redirect?`redirect: ${i.redirect}`:"redirects",textColor:16777215,backgroundColor:K$});let n=i.__vd_id;return null==n&&(n=String(Q$++),i.__vd_id=n),{id:n,label:i.path,tags:t,children:e.children.map(J$)}}let Q$=0;const eN=/^\/(.*)\/([a-z]*)$/;function tN(e,t){const i=t.matched.length&&SF(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=i,i||(e.__vd_active=t.matched.some(t=>SF(t,e.record))),e.children.forEach(e=>tN(e,t))}function iN(e){e.__vd_match=!1,e.children.forEach(iN)}function nN(e,t){const i=String(e.re).match(eN);if(e.__vd_match=!1,!i||i.length<3)return!1;if(new RegExp(i[1].replace(/\$$/,""),i[2]).test(t))return e.children.forEach(e=>nN(e,t)),("/"!==e.record.path||"/"===t)&&(e.__vd_match=e.re.test(t),!0);const n=e.record.path.toLowerCase(),r=CF(n);return!(t.startsWith("/")||!r.includes(t)&&!n.includes(t))||(!(!r.startsWith(t)&&!n.startsWith(t))||(!(!e.record.name||!String(e.record.name).includes(t))||e.children.some(e=>nN(e,t))))}function rN(){return Dr(S$)}const oN=function(e){const t=c$(e.routes,e),i=e.parseQuery||C$,n=e.stringifyQuery||x$,r=e.history;if(!r)throw new Error('Provide the "history" option when calling "createRouter()": https://router.vuejs.org/api/interfaces/RouterOptions.html#history');const o=R$(),s=R$(),a=R$(),l=Mt(TF);let u=TF;ZA&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=eF.bind(null,e=>""+e),h=eF.bind(null,wF),d=eF.bind(null,CF);function p(e,o){if(o=QA({},o||l.value),"string"==typeof e){const n=IF(i,e,o.path),s=t.resolve({path:n.path},o),a=r.createHref(n.fullPath);return a.startsWith("//")?nF(`Location "${e}" resolved to "${a}". A resolved location cannot start with multiple slashes.`):s.matched.length||nF(`No match found for location with path "${e}"`),QA(n,s,{params:d(s.params),hash:CF(n.hash),redirectedFrom:void 0,href:a})}if(!zF(e))return nF("router.resolve() was passed an invalid location. This will fail in production.\n- Location:",e),p({});let s;if(null!=e.path)"params"in e&&!("name"in e)&&Object.keys(e.params).length&&nF(`Path "${e.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),s=QA({},e,{path:IF(i,e.path,o.path).path});else{const t=QA({},e.params);for(const e in t)null==t[e]&&delete t[e];s=QA({},e,{params:h(t)}),o.params=h(o.params)}const a=t.resolve(s,o),u=e.hash||"";u&&!u.startsWith("#")&&nF(`A \`hash\` should always start with the character "#". Replace "${u}" with "#${u}".`),a.params=c(d(a.params));const f=function(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}(n,QA({},e,{hash:(_=u,yF(_).replace(fF,"{").replace(gF,"}").replace(dF,"^")),path:a.path}));var _;const g=r.createHref(f);return g.startsWith("//")?nF(`Location "${e}" resolved to "${g}". A resolved location cannot start with multiple slashes.`):a.matched.length||nF(`No match found for location with path "${null!=e.path?e.path:e}"`),QA({fullPath:f,hash:u,query:n===x$?I$(e.query):e.query||{}},a,{redirectedFrom:void 0,href:g})}function f(e){return"string"==typeof e?IF(i,e,l.value.path):QA({},e)}function _(e,t){if(u!==e)return JF(8,{from:t,to:e})}function g(e){return y(e)}function m(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:i}=t;let n="function"==typeof i?i(e):i;if("string"==typeof n&&(n=n.includes("?")||n.includes("#")?n=f(n):{path:n},n.params={}),null==n.path&&!("name"in n))throw nF(`Invalid redirect found:\n${JSON.stringify(n,null,2)}\n when navigating to "${e.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return QA({query:e.query,hash:e.hash,params:null!=n.path?{}:e.params},n)}}function y(e,t){const i=u=p(e),r=l.value,o=e.state,s=e.force,a=!0===e.replace,c=m(i);if(c)return y(QA(f(c),{state:"object"==typeof c?QA({},o,c.state):o,force:s,replace:a}),t||i);const h=i;let d;return h.redirectedFrom=t,!s&&OF(n,r,i)&&(d=JF(16,{to:h,from:r}),T(r,r,!0,!1)),(d?Promise.resolve(d):w(h,r)).catch(e=>QF(e)?QF(e,2)?e:R(e):P(e,h,r)).then(e=>{if(e){if(QF(e,2))return OF(n,p(e.to),h)&&t&&(t._count=t._count?t._count+1:1)>30?(nF(`Detected a possibly infinite redirection in a navigation guard when going from "${r.fullPath}" to "${h.fullPath}". Aborting to avoid a Stack Overflow.\n Are you always returning a new location within a navigation guard? That would lead to this error. Only return when redirecting or aborting, that should fix this. This might break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):y(QA({replace:a},f(e.to),{state:"object"==typeof e.to?QA({},o,e.to.state):o,force:s}),t||h)}else e=x(h,r,!0,a,o);return C(h,r,e),e})}function v(e,t){const i=_(e,t);return i?Promise.reject(i):Promise.resolve()}function b(e){const t=L.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function w(e,t){let i;const[n,r,a]=function(e,t){const i=[],n=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find(e=>SF(e,o))?n.push(o):i.push(o));const a=e.matched[s];a&&(t.matched.find(e=>SF(e,a))||r.push(a))}return[i,n,r]}(e,t);i=D$(n.reverse(),"beforeRouteLeave",e,t);for(const o of n)o.leaveGuards.forEach(n=>{i.push(T$(n,e,t))});const l=v.bind(null,e,t);return i.push(l),F(i).then(()=>{i=[];for(const n of o.list())i.push(T$(n,e,t));return i.push(l),F(i)}).then(()=>{i=D$(r,"beforeRouteUpdate",e,t);for(const n of r)n.updateGuards.forEach(n=>{i.push(T$(n,e,t))});return i.push(l),F(i)}).then(()=>{i=[];for(const n of a)if(n.beforeEnter)if(iF(n.beforeEnter))for(const r of n.beforeEnter)i.push(T$(r,e,t));else i.push(T$(n.beforeEnter,e,t));return i.push(l),F(i)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),i=D$(a,"beforeRouteEnter",e,t,b),i.push(l),F(i))).then(()=>{i=[];for(const n of s.list())i.push(T$(n,e,t));return i.push(l),F(i)}).catch(e=>QF(e,8)?e:Promise.reject(e))}function C(e,t,i){a.list().forEach(n=>b(()=>n(e,t,i)))}function x(e,t,i,n,o){const s=_(e,t);if(s)return s;const a=t===TF,u=ZA?history.state:{};i&&(n||a?r.replace(e.fullPath,QA({scroll:a&&u&&u.scroll},o)):r.push(e.fullPath,o)),l.value=e,T(e,t,i,a),R()}let I;function E(){I||(I=r.listen((e,t,i)=>{if(!A.listening)return;const n=p(e),o=m(n);if(o)return void y(QA(o,{replace:!0,force:!0}),n).catch(tF);u=n;const s=l.value;var a,c;ZA&&(a=VF(s.fullPath,i.delta),c=jF(),HF.set(a,c)),w(n,s).catch(e=>QF(e,12)?e:QF(e,2)?(y(QA(f(e.to),{force:!0}),n).then(e=>{QF(e,20)&&!i.delta&&i.type===DF.pop&&r.go(-1,!1)}).catch(tF),Promise.reject()):(i.delta&&r.go(-i.delta,!1),P(e,n,s))).then(e=>{(e=e||x(n,s,!1))&&(i.delta&&!QF(e,8)?r.go(-i.delta,!1):i.type===DF.pop&&QF(e,20)&&r.go(-1,!1)),C(n,s,e)}).catch(tF)}))}let O,S=R$(),k=R$();function P(e,t,i){R(e);const n=k.list();return n.length?n.forEach(n=>n(e,t,i)):nF("uncaught error during route navigation:"),Promise.reject(e)}function R(e){return O||(O=!e,E(),S.list().forEach(([t,i])=>e?i(e):t()),S.reset()),e}function T(t,i,n,r){const{scrollBehavior:o}=e;if(!ZA||!o)return Promise.resolve();const s=!n&&function(e){const t=HF.get(e);return HF.delete(e),t}(VF(t.fullPath,0))||(r||!n)&&history.state&&history.state.scroll||null;return _i().then(()=>o(t,i,s)).then(e=>e&&BF(e)).catch(e=>P(e,t,i))}const D=e=>r.go(e);let M;const L=new Set,A={currentRoute:l,listening:!0,addRoute:function(e,i){let n,r;return YF(e)?(n=t.getRecordMatcher(e),n||nF(`Parent route "${String(e)}" not found when adding child route`,i),r=i):r=e,t.addRoute(r,n)},removeRoute:function(e){const i=t.getRecordMatcher(e);i?t.removeRoute(i):nF(`Cannot remove non-existent route "${String(e)}"`)},clearRoutes:t.clearRoutes,hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map(e=>e.record)},resolve:p,options:e,push:g,replace:function(e){return g(QA(f(e),{replace:!0}))},go:D,back:()=>D(-1),forward:()=>D(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:k.add,isReady:function(){return O&&l.value!==TF?Promise.resolve():new Promise((e,t)=>{S.add([e,t])})},install(e){const i=this;e.component("RouterLink",L$),e.component("RouterView",N$),e.config.globalProperties.$router=i,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Ft(l)}),ZA&&!M&&l.value===TF&&(M=!0,g(r.location).catch(e=>{nF("Unexpected error when starting the router:",e)}));const n={};for(const t in TF)Object.defineProperty(n,t,{get:()=>l.value[t],enumerable:!0});e.provide(S$,i),e.provide(k$,vt(n)),e.provide(P$,l);const o=e.unmount;L.add(e),e.unmount=function(){L.delete(e),L.size<1&&(u=TF,I&&I(),I=null,l.value=TF,M=!1,O=!1),o()},ZA&&H$(e,i,t)}};function F(e){return e.reduce((e,t)=>e.then(()=>b(t)),Promise.resolve())}return A}({history:function(e){const t=GF(e=FF(e)),i=function(e,t,i,n){let r=[],o=[],s=null;const a=({state:o})=>{const a=UF(e,location),l=i.value,u=t.value;let c=0;if(o){if(i.value=a,t.value=o,s&&s===l)return void(s=null);c=u?o.position-u.position:0}else n(a);r.forEach(e=>{e(i.value,l,{delta:c,type:DF.pop,direction:c?c>0?LF.forward:LF.back:LF.unknown})})};function l(){const{history:e}=window;e.state&&e.replaceState(QA({},e.state,{scroll:jF()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:function(){s=i.value},listen:function(e){r.push(e);const t=()=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace),n=QA({location:"",base:e,go:function(e,t=!0){t||i.pauseListeners(),history.go(e)},createHref:NF.bind(null,e)},t,i);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}("/homePage/"),routes:[{path:"/",name:"home",redirect:{name:"login"}},{path:"/login",name:"login",component:()=>dL(()=>import("./Login-CTucSbgd.js"),__vite__mapDeps([0,1,2,3,4]))},{path:"/dashboard",name:"dashboard",component:()=>dL(()=>import("./Dashboard-BtDJLz1I.js"),[])}]});oN.beforeEach(async(e,t,i)=>{"home"===e.name&&i({name:"login"}),i(),window.scrollTo(0,0)});const sN=ed("localTemp",()=>{const e=Dt(!1),t=Rs(()=>e.value),i=Dt(""),n=Rs(()=>i.value),r=Dt("ko"),o=Rs(()=>r.value);return{isSaveId:e,getIsSaveId:t,setIsSaveId:t=>{e.value=t},saveId:i,getSaveId:n,setSaveId:e=>{i.value=e},locale:r,getLocale:o,setLocale:e=>{r.value=e},clear:()=>{e.value=!1,i.value=""}}},{persist:{enabled:!0,strategies:[{storage:localStorage}]}}),aN=ed("sessionRoot",()=>{const e=Dt({}),t=Rs(()=>e.value),i=Dt([]),n=Rs(()=>i.value),r=Dt([]),o=Rs(()=>r.value),s=Dt([]),a=Rs(()=>s.value),l=Dt(null),u=Rs(()=>l.value),c=Dt({}),h=Rs(()=>c.value),d=Dt(!0),p=Rs(()=>d.value);return{user:e,getUser:t,setUser:t=>{e.value=t},routesData:i,getRoutes:n,setRoutes:e=>{i.value=e},routerTabs:r,getRouterTabs:o,addRouterTab:e=>{0===r.value.filter(t=>t.menuId===e.menuId).length&&r.value.push(e)},removeRouterTab:e=>{r.value=r.value.filter(t=>t.menuId!==e.menuId)},menus:s,getMenus:a,setMenus:e=>{s.value=e},activeGnb:l,getActiveGnb:u,setActiveGnb:e=>{l.value=e},activeMenu:c,getActiveMenu:h,setActiveMenu:e=>{c.value=e},activeSidebar:d,getActiveSidebar:p,setActiveSidebar:e=>{d.value=e},clear:()=>{e.value={},i.value=[],r.value=[],s.value=[],l.value=null,c.value={},d.value=!0}}},{persist:{storage:sessionStorage}}),lN={message:"/apis/message",login:"/apis/auth/session/login",menuList:"/apis/menuList",comCode:"/apis/common/cmn-code/list",pageAuth:"/apis/pageButtonAuth",ProgramSearchPopup:{defaultUrl:"/apis/system/program/search"},ButtonSearchPopup:{defaultUrl:"/apis/system/button"},MessagesMgmt:{defaultUrl:"/apis/system/messages"},ComCodeMgmt:{comCdGrp:"/apis/system/comCdGrp",comCdDtl:"/apis/system/comCdDtl"},UserMgmt:{defaultUrl:"/apis/system/users"},ButtonMgmt:{defaultUrl:"/apis/system/button"},ProgramMgmt:{defaultUrl:"/apis/system/program",btnGrpUrl:"/apis/system/program/btnGrp",btnCodeUrl:"/apis/system/program/btnCode"},ProgramAuthMgmt:{defaultUrl:"/apis/system/program/auth",columnsUrl:"/apis/system/program/columns"},MenuMgmt:{defaultUrl:"/apis/system/menu"},MenuAuthMgmt:{defaultUrl:"/apis/system/menu/auth"},BoardStgMgmt:{defaultUrl:"/apis/system/boardStg"},BoardMgmt:{defaultUrl:"/apis/system/board"}},uN=async({params:e={}})=>{const{t:t}=OH.global,i=aN(),n=sN(),r=(e,i=[])=>e.map(e=>{const n=t(e.menuNm),o=[...i,n];return{menuId:e.menuId,parentMenuId:e.parentMenuId,menuUrl:e.menuUrl,programId:e.programId,programPath:e.programPath,sort:e.sort,menuNm:n,menuNavi:o,children:r(e.children||[],o)}});EH.post(lN.login,e).then(async t=>{const o=t.data.results;i.setUser(o);let s=await(a={userId:o.userId},EH.get(lN.menuList,{params:a}).then(e=>e.data.results));var a;["developer","dev"].includes(void 0)&&(s=s.concat(PH)),s=r(s);const l=await CH.flattenDeepAll(s).filter(e=>e.programId);await CH.dynamicAddRoutes(l),i.setRoutes(l),i.setMenus(s),n.setIsSaveId(e.isChecked),n.setSaveId(e.isChecked?e.userId:""),n.setLocale(e.lang)})},cN=async({programId:e={}})=>{const t=XA(),i=aN(),n=Object.assign({programId:e},{authCd:i.getUser.authCd});await IH.get(lN.pageAuth,{params:n}).then(async e=>{await t.setPageAuth(e.data.results)})},hN=async({method:e="get",menuId:t="",subMenuId:i="",pathUrl:n="defaultUrl",addUrl:r="",params:o={},data:s={}})=>{const a=await aN(),l=t||a.getActiveMenu.menuId,u=`${(i?lN[l][i]:lN[l])[n]}${r||""}`;return"get"===e?IH.get(u,CH.isEmpty(o)?void 0:{params:o}).then(e=>e.data.results):IH.post(u,s).then(e=>e.data.results)},dN=(e=0,t=1e3)=>KA.random(e,t),pN=e=>{const t=XA();return t.getComCode(e)?t.getComCode(e):[]};var fN,_N={exports:{}};var gN=(fN||(fN=1,_N.exports=function(){var e=1e3,t=6e4,i=36e5,n="millisecond",r="second",o="minute",s="hour",a="day",l="week",u="month",c="quarter",h="year",d="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],i=e%100;return"["+e+(t[(i-20)%10]||t[i]||t[0])+"]"}},m=function(e,t,i){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(i)+e},y={s:m,z:function(e){var t=-e.utcOffset(),i=Math.abs(t),n=Math.floor(i/60),r=i%60;return(t<=0?"+":"-")+m(n,2,"0")+":"+m(r,2,"0")},m:function e(t,i){if(t.date()<i.date())return-e(i,t);var n=12*(i.year()-t.year())+(i.month()-t.month()),r=t.clone().add(n,u),o=i-r<0,s=t.clone().add(n+(o?-1:1),u);return+(-(n+(i-r)/(o?r-s:s-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:h,w:l,d:a,D:d,h:s,m:o,s:r,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",b={};b[v]=g;var w="$isDayjsObject",C=function(e){return e instanceof O||!(!e||!e[w])},x=function e(t,i,n){var r;if(!t)return v;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(r=o),i&&(b[o]=i,r=o);var s=t.split("-");if(!r&&s.length>1)return e(s[0])}else{var a=t.name;b[a]=t,r=a}return!n&&r&&(v=r),r||!n&&v},I=function(e,t){if(C(e))return e.clone();var i="object"==typeof t?t:{};return i.date=e,i.args=arguments,new O(i)},E=y;E.l=x,E.i=C,E.w=function(e,t){return I(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var O=function(){function g(e){this.$L=x(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var m=g.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,i=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(f);if(n){var r=n[2]-1||0,o=(n[7]||"0").substring(0,3);return i?new Date(Date.UTC(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(t)}(e),this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return E},m.isValid=function(){return!(this.$d.toString()===p)},m.isSame=function(e,t){var i=I(e);return this.startOf(t)<=i&&i<=this.endOf(t)},m.isAfter=function(e,t){return I(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<I(e)},m.$g=function(e,t,i){return E.u(e)?this[t]:this.set(i,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var i=this,n=!!E.u(t)||t,c=E.p(e),p=function(e,t){var r=E.w(i.$u?Date.UTC(i.$y,t,e):new Date(i.$y,t,e),i);return n?r:r.endOf(a)},f=function(e,t){return E.w(i.toDate()[e].apply(i.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),i)},_=this.$W,g=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(c){case h:return n?p(1,0):p(31,11);case u:return n?p(1,g):p(0,g+1);case l:var v=this.$locale().weekStart||0,b=(_<v?_+7:_)-v;return p(n?m-b:m+(6-b),g);case a:case d:return f(y+"Hours",0);case s:return f(y+"Minutes",1);case o:return f(y+"Seconds",2);case r:return f(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var i,l=E.p(e),c="set"+(this.$u?"UTC":""),p=(i={},i[a]=c+"Date",i[d]=c+"Date",i[u]=c+"Month",i[h]=c+"FullYear",i[s]=c+"Hours",i[o]=c+"Minutes",i[r]=c+"Seconds",i[n]=c+"Milliseconds",i)[l],f=l===a?this.$D+(t-this.$W):t;if(l===u||l===h){var _=this.clone().set(d,1);_.$d[p](f),_.init(),this.$d=_.set(d,Math.min(this.$D,_.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[E.p(e)]()},m.add=function(n,c){var d,p=this;n=Number(n);var f=E.p(c),_=function(e){var t=I(p);return E.w(t.date(t.date()+Math.round(e*n)),p)};if(f===u)return this.set(u,this.$M+n);if(f===h)return this.set(h,this.$y+n);if(f===a)return _(1);if(f===l)return _(7);var g=(d={},d[o]=t,d[s]=i,d[r]=e,d)[f]||1,m=this.$d.getTime()+n*g;return E.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,i=this.$locale();if(!this.isValid())return i.invalidDate||p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=E.z(this),o=this.$H,s=this.$m,a=this.$M,l=i.weekdays,u=i.months,c=i.meridiem,h=function(e,i,r,o){return e&&(e[i]||e(t,n))||r[i].slice(0,o)},d=function(e){return E.s(o%12||12,e,"0")},f=c||function(e,t,i){var n=e<12?"AM":"PM";return i?n.toLowerCase():n};return n.replace(_,function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return E.s(t.$y,4,"0");case"M":return a+1;case"MM":return E.s(a+1,2,"0");case"MMM":return h(i.monthsShort,a,u,3);case"MMMM":return h(u,a);case"D":return t.$D;case"DD":return E.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(i.weekdaysMin,t.$W,l,2);case"ddd":return h(i.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return E.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return f(o,s,!0);case"A":return f(o,s,!1);case"m":return String(s);case"mm":return E.s(s,2,"0");case"s":return String(t.$s);case"ss":return E.s(t.$s,2,"0");case"SSS":return E.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,d,p){var f,_=this,g=E.p(d),m=I(n),y=(m.utcOffset()-this.utcOffset())*t,v=this-m,b=function(){return E.m(_,m)};switch(g){case h:f=b()/12;break;case u:f=b();break;case c:f=b()/3;break;case l:f=(v-y)/6048e5;break;case a:f=(v-y)/864e5;break;case s:f=v/i;break;case o:f=v/t;break;case r:f=v/e;break;default:f=v}return p?f:E.a(f)},m.daysInMonth=function(){return this.endOf(u).$D},m.$locale=function(){return b[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var i=this.clone(),n=x(e,t,!0);return n&&(i.$L=n),i},m.clone=function(){return E.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),S=O.prototype;return I.prototype=S,[["$ms",n],["$s",r],["$m",o],["$H",s],["$W",a],["$M",u],["$y",h],["$D",d]].forEach(function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),I.extend=function(e,t){return e.$i||(e(t,O,I),e.$i=!0),I},I.locale=x,I.isDayjs=C,I.unix=function(e){return I(1e3*e)},I.en=b[v],I.Ls=b,I.p={},I}()),_N.exports);const mN=rL(gN);var yN,vN={exports:{}};var bN=(yN||(yN=1,vN.exports=function(){var e="month",t="quarter";return function(i,n){var r=n.prototype;r.quarter=function(e){return this.$utils().u(e)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(e-1))};var o=r.add;r.add=function(i,n){return i=Number(i),this.$utils().p(n)===t?this.add(3*i,e):o.bind(this)(i,n)};var s=r.startOf;r.startOf=function(i,n){var r=this.$utils(),o=!!r.u(n)||n;if(r.p(i)===t){var a=this.quarter()-1;return o?this.month(3*a).startOf(e).startOf("day"):this.month(3*a+2).endOf(e).endOf("day")}return s.bind(this)(i,n)}}}()),vN.exports);const wN=rL(bN);mN.extend(wN);const CN=(e,t="YYYY-MM-DD")=>mN(e).format(t),xN=({type:e="day",addDay:t=0,format:i="YYYY-MM-DD"})=>{const n=mN();return CN(n.add(t,e),i)},IN=(e,t)=>cL.omit(e,t);
/*!
* sweetalert2 v11.22.1
* Released under the MIT License.
*/
function EN(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}function ON(e,t){return e.get(EN(e,t))}function SN(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}const kN={},PN=e=>new Promise(t=>{if(!e)return t();const i=window.scrollX,n=window.scrollY;kN.restoreFocusTimeout=setTimeout(()=>{kN.previousActiveElement instanceof HTMLElement?(kN.previousActiveElement.focus(),kN.previousActiveElement=null):document.body&&document.body.focus(),t()},100),window.scrollTo(i,n)}),RN="swal2-",TN=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((e,t)=>(e[t]=RN+t,e),{}),DN=["success","warning","info","question","error"].reduce((e,t)=>(e[t]=RN+t,e),{}),MN=e=>e.charAt(0).toUpperCase()+e.slice(1),LN=[],AN=(e,t=null)=>{var i;i=`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`,LN.includes(i)||LN.push(i)},FN=e=>"function"==typeof e?e():e,$N=e=>e&&"function"==typeof e.toPromise,NN=e=>$N(e)?e.toPromise():Promise.resolve(e),jN=e=>e&&Promise.resolve(e)===e,BN=()=>document.body.querySelector(`.${TN.container}`),VN=e=>{const t=BN();return t?t.querySelector(e):null},HN=e=>VN(`.${e}`),UN=()=>HN(TN.popup),WN=()=>HN(TN.icon),GN=()=>HN(TN.title),zN=()=>HN(TN["html-container"]),YN=()=>HN(TN.image),qN=()=>HN(TN["progress-steps"]),KN=()=>HN(TN["validation-message"]),XN=()=>VN(`.${TN.actions} .${TN.confirm}`),ZN=()=>VN(`.${TN.actions} .${TN.cancel}`),JN=()=>VN(`.${TN.actions} .${TN.deny}`),QN=()=>VN(`.${TN.loader}`),ej=()=>HN(TN.actions),tj=()=>HN(TN.footer),ij=()=>HN(TN["timer-progress-bar"]),nj=()=>HN(TN.close),rj=()=>{const e=UN();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),i=Array.from(t).sort((e,t)=>{const i=parseInt(e.getAttribute("tabindex")||"0"),n=parseInt(t.getAttribute("tabindex")||"0");return i>n?1:i<n?-1:0}),n=e.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),r=Array.from(n).filter(e=>"-1"!==e.getAttribute("tabindex"));return[...new Set(i.concat(r))].filter(e=>Cj(e))},oj=()=>lj(document.body,TN.shown)&&!lj(document.body,TN["toast-shown"])&&!lj(document.body,TN["no-backdrop"]),sj=()=>{const e=UN();return!!e&&lj(e,TN.toast)},aj=(e,t)=>{if(e.textContent="",t){const i=(new DOMParser).parseFromString(t,"text/html"),n=i.querySelector("head");n&&Array.from(n.childNodes).forEach(t=>{e.appendChild(t)});const r=i.querySelector("body");r&&Array.from(r.childNodes).forEach(t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)})}},lj=(e,t)=>{if(!t)return!1;const i=t.split(/\s+/);for(let n=0;n<i.length;n++)if(!e.classList.contains(i[n]))return!1;return!0},uj=(e,t,i)=>{if(((e,t)=>{Array.from(e.classList).forEach(i=>{Object.values(TN).includes(i)||Object.values(DN).includes(i)||Object.values(t.showClass||{}).includes(i)||e.classList.remove(i)})})(e,t),!t.customClass)return;const n=t.customClass[i];n&&("string"==typeof n||n.forEach)&&pj(e,n)},cj=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${TN.popup} > .${TN[t]}`);case"checkbox":return e.querySelector(`.${TN.popup} > .${TN.checkbox} input`);case"radio":return e.querySelector(`.${TN.popup} > .${TN.radio} input:checked`)||e.querySelector(`.${TN.popup} > .${TN.radio} input:first-child`);case"range":return e.querySelector(`.${TN.popup} > .${TN.range} input`);default:return e.querySelector(`.${TN.popup} > .${TN.input}`)}},hj=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},dj=(e,t,i)=>{e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(t=>{Array.isArray(e)?e.forEach(e=>{i?e.classList.add(t):e.classList.remove(t)}):i?e.classList.add(t):e.classList.remove(t)}))},pj=(e,t)=>{dj(e,t,!0)},fj=(e,t)=>{dj(e,t,!1)},_j=(e,t)=>{const i=Array.from(e.children);for(let n=0;n<i.length;n++){const e=i[n];if(e instanceof HTMLElement&&lj(e,t))return e}},gj=(e,t,i)=>{i===`${parseInt(i)}`&&(i=parseInt(i)),i||0===parseInt(i)?e.style.setProperty(t,"number"==typeof i?`${i}px`:i):e.style.removeProperty(t)},mj=(e,t="flex")=>{e&&(e.style.display=t)},yj=e=>{e&&(e.style.display="none")},vj=(e,t="block")=>{e&&new MutationObserver(()=>{wj(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},bj=(e,t,i,n)=>{const r=e.querySelector(t);r&&r.style.setProperty(i,n)},wj=(e,t,i="flex")=>{t?mj(e,i):yj(e)},Cj=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),xj=e=>!!(e.scrollHeight>e.clientHeight),Ij=e=>{const t=window.getComputedStyle(e),i=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return i>0||n>0},Ej=(e,t=!1)=>{const i=ij();i&&Cj(i)&&(t&&(i.style.transition="none",i.style.width="100%"),setTimeout(()=>{i.style.transition=`width ${e/1e3}s linear`,i.style.width="0%"},10))},Oj=`\n <div aria-labelledby="${TN.title}" aria-describedby="${TN["html-container"]}" class="${TN.popup}" tabindex="-1">\n   <button type="button" class="${TN.close}"></button>\n   <ul class="${TN["progress-steps"]}"></ul>\n   <div class="${TN.icon}"></div>\n   <img class="${TN.image}" />\n   <h2 class="${TN.title}" id="${TN.title}"></h2>\n   <div class="${TN["html-container"]}" id="${TN["html-container"]}"></div>\n   <input class="${TN.input}" id="${TN.input}" />\n   <input type="file" class="${TN.file}" />\n   <div class="${TN.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${TN.select}" id="${TN.select}"></select>\n   <div class="${TN.radio}"></div>\n   <label class="${TN.checkbox}">\n     <input type="checkbox" id="${TN.checkbox}" />\n     <span class="${TN.label}"></span>\n   </label>\n   <textarea class="${TN.textarea}" id="${TN.textarea}"></textarea>\n   <div class="${TN["validation-message"]}" id="${TN["validation-message"]}"></div>\n   <div class="${TN.actions}">\n     <div class="${TN.loader}"></div>\n     <button type="button" class="${TN.confirm}"></button>\n     <button type="button" class="${TN.deny}"></button>\n     <button type="button" class="${TN.cancel}"></button>\n   </div>\n   <div class="${TN.footer}"></div>\n   <div class="${TN["timer-progress-bar-container"]}">\n     <div class="${TN["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Sj=()=>{kN.currentInstance.resetValidationMessage()},kj=e=>{const t=(()=>{const e=BN();return!!e&&(e.remove(),fj([document.documentElement,document.body],[TN["no-backdrop"],TN["toast-shown"],TN["has-column"]]),!0)})();if("undefined"==typeof window||"undefined"==typeof document)return;const i=document.createElement("div");i.className=TN.container,t&&pj(i,TN["no-transition"]),aj(i,Oj),i.dataset.swal2Theme=e.theme;const n="string"==typeof(r=e.target)?document.querySelector(r):r;var r;n.appendChild(i),e.topLayer&&(i.setAttribute("popover",""),i.showPopover()),(e=>{const t=UN();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")})(e),(e=>{"rtl"===window.getComputedStyle(e).direction&&pj(BN(),TN.rtl)})(n),(()=>{const e=UN(),t=_j(e,TN.input),i=_j(e,TN.file),n=e.querySelector(`.${TN.range} input`),r=e.querySelector(`.${TN.range} output`),o=_j(e,TN.select),s=e.querySelector(`.${TN.checkbox} input`),a=_j(e,TN.textarea);t.oninput=Sj,i.onchange=Sj,o.onchange=Sj,s.onchange=Sj,a.oninput=Sj,n.oninput=()=>{Sj(),r.value=n.value},n.onchange=()=>{Sj(),r.value=n.value}})()},Pj=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?Rj(e,t):e&&aj(t,e)},Rj=(e,t)=>{e.jquery?Tj(t,e):aj(t,e.toString())},Tj=(e,t)=>{if(e.textContent="",0 in t)for(let i=0;i in t;i++)e.appendChild(t[i].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Dj=(e,t)=>{const i=ej(),n=QN();i&&n&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?mj(i):yj(i),uj(i,t,"actions"),function(e,t,i){const n=XN(),r=JN(),o=ZN();if(!n||!r||!o)return;Lj(n,"confirm",i),Lj(r,"deny",i),Lj(o,"cancel",i),function(e,t,i,n){if(!n.buttonsStyling)return void fj([e,t,i],TN.styled);pj([e,t,i],TN.styled),n.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor);n.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor);n.cancelButtonColor&&i.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor);Mj(e),Mj(t),Mj(i)}(n,r,o,i),i.reverseButtons&&(i.toast?(e.insertBefore(o,n),e.insertBefore(r,n)):(e.insertBefore(o,t),e.insertBefore(r,t),e.insertBefore(n,t)))}(i,n,t),aj(n,t.loaderHtml||""),uj(n,t,"loader"))};function Mj(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const i=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${i}`))}function Lj(e,t,i){const n=MN(t);wj(e,i[`show${n}Button`],"inline-block"),aj(e,i[`${t}ButtonText`]||""),e.setAttribute("aria-label",i[`${t}ButtonAriaLabel`]||""),e.className=TN[t],uj(e,i,`${t}Button`)}const Aj=(e,t)=>{const i=BN();i&&(!function(e,t){"string"==typeof t?e.style.background=t:t||pj([document.documentElement,document.body],TN["no-backdrop"])}(i,t.backdrop),function(e,t){if(!t)return;pj(e,t in TN?TN[t]:TN.center)}(i,t.position),function(e,t){if(!t)return;pj(e,TN[`grow-${t}`])}(i,t.grow),uj(i,t,"container"))};var Fj={innerParams:new WeakMap,domCache:new WeakMap};const $j=["input","file","range","select","radio","checkbox","textarea"],Nj=e=>{if(!e.input)return;if(!Gj[e.input])return Object.keys(Gj).join(" | "),void e.input;const t=Uj(e.input);if(!t)return;const i=Gj[e.input](t,e);mj(t),e.inputAutoFocus&&setTimeout(()=>{hj(i)})},jj=(e,t)=>{const i=UN();if(!i)return;const n=cj(i,e);if(n){(e=>{for(let t=0;t<e.attributes.length;t++){const i=e.attributes[t].name;["id","type","value","style"].includes(i)||e.removeAttribute(i)}})(n);for(const e in t)n.setAttribute(e,t[e])}},Bj=e=>{if(!e.input)return;const t=Uj(e.input);t&&uj(t,e,"input")},Vj=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},Hj=(e,t,i)=>{if(i.inputLabel){const n=document.createElement("label"),r=TN["input-label"];n.setAttribute("for",e.id),n.className=r,"object"==typeof i.customClass&&pj(n,i.customClass.inputLabel),n.innerText=i.inputLabel,t.insertAdjacentElement("beforebegin",n)}},Uj=e=>{const t=UN();if(t)return _j(t,TN[e]||TN.input)},Wj=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:jN(t)},Gj={};Gj.text=Gj.email=Gj.password=Gj.number=Gj.tel=Gj.url=Gj.search=Gj.date=Gj["datetime-local"]=Gj.time=Gj.week=Gj.month=(e,t)=>(Wj(e,t.inputValue),Hj(e,e,t),Vj(e,t),e.type=t.input,e),Gj.file=(e,t)=>(Hj(e,e,t),Vj(e,t),e),Gj.range=(e,t)=>{const i=e.querySelector("input"),n=e.querySelector("output");return Wj(i,t.inputValue),i.type=t.input,Wj(n,t.inputValue),Hj(i,e,t),e},Gj.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const i=document.createElement("option");aj(i,t.inputPlaceholder),i.value="",i.disabled=!0,i.selected=!0,e.appendChild(i)}return Hj(e,e,t),e},Gj.radio=e=>(e.textContent="",e),Gj.checkbox=(e,t)=>{const i=cj(UN(),"checkbox");i.value="1",i.checked=Boolean(t.inputValue);const n=e.querySelector("span");return aj(n,t.inputPlaceholder||t.inputLabel),i},Gj.textarea=(e,t)=>{Wj(e,t.inputValue),Vj(e,t),Hj(e,e,t);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(UN()).width);new MutationObserver(()=>{if(!document.body.contains(e))return;const n=e.offsetWidth+(r=e,parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight));var r;n>i?UN().style.width=`${n}px`:gj(UN(),"width",t.width)}).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const zj=(e,t)=>{const i=zN();i&&(vj(i),uj(i,t,"htmlContainer"),t.html?(Pj(t.html,i),mj(i,"block")):t.text?(i.textContent=t.text,mj(i,"block")):yj(i),((e,t)=>{const i=UN();if(!i)return;const n=Fj.innerParams.get(e),r=!n||t.input!==n.input;$j.forEach(e=>{const n=_j(i,TN[e]);n&&(jj(e,t.inputAttributes),n.className=TN[e],r&&yj(n))}),t.input&&(r&&Nj(t),Bj(t))})(e,t))},Yj=(e,t)=>{for(const[i,n]of Object.entries(DN))t.icon!==i&&fj(e,n);pj(e,t.icon&&DN[t.icon]),Xj(e,t),qj(),uj(e,t,"icon")},qj=()=>{const e=UN();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),i=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<i.length;n++)i[n].style.backgroundColor=t},Kj=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let i=e.innerHTML,n="";if(t.iconHtml)n=Zj(t.iconHtml);else if("success"===t.icon)n='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',i=i.replace(/ style=".*?"/g,"");else if("error"===t.icon)n='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n';else if(t.icon){n=Zj({question:"?",warning:"!",info:"i"}[t.icon])}i.trim()!==n.trim()&&aj(e,n)},Xj=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const i of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])bj(e,i,"background-color",t.iconColor);bj(e,".swal2-success-ring","border-color",t.iconColor)}},Zj=e=>`<div class="${TN["icon-content"]}">${e}</div>`;let Jj=!1,Qj=0,eB=0,tB=0,iB=0;const nB=e=>{const t=UN();if(e.target===t||WN().contains(e.target)){Jj=!0;const i=sB(e);Qj=i.clientX,eB=i.clientY,tB=parseInt(t.style.insetInlineStart)||0,iB=parseInt(t.style.insetBlockStart)||0,pj(t,"swal2-dragging")}},rB=e=>{const t=UN();if(Jj){let{clientX:i,clientY:n}=sB(e);t.style.insetInlineStart=`${tB+(i-Qj)}px`,t.style.insetBlockStart=`${iB+(n-eB)}px`}},oB=()=>{const e=UN();Jj=!1,fj(e,"swal2-dragging")},sB=e=>{let t=0,i=0;return e.type.startsWith("mouse")?(t=e.clientX,i=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,i=e.touches[0].clientY),{clientX:t,clientY:i}},aB=(e,t)=>{const i=BN(),n=UN();if(i&&n){if(t.toast){gj(i,"width",t.width),n.style.width="100%";const e=QN();e&&n.insertBefore(e,WN())}else gj(n,"width",t.width);gj(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),yj(KN()),lB(n,t),t.draggable&&!t.toast?(pj(n,TN.draggable),(e=>{e.addEventListener("mousedown",nB),document.body.addEventListener("mousemove",rB),e.addEventListener("mouseup",oB),e.addEventListener("touchstart",nB),document.body.addEventListener("touchmove",rB),e.addEventListener("touchend",oB)})(n)):(fj(n,TN.draggable),(e=>{e.removeEventListener("mousedown",nB),document.body.removeEventListener("mousemove",rB),e.removeEventListener("mouseup",oB),e.removeEventListener("touchstart",nB),document.body.removeEventListener("touchmove",rB),e.removeEventListener("touchend",oB)})(n))}},lB=(e,t)=>{const i=t.showClass||{};e.className=`${TN.popup} ${Cj(e)?i.popup:""}`,t.toast?(pj([document.documentElement,document.body],TN["toast-shown"]),pj(e,TN.toast)):pj(e,TN.modal),uj(e,t,"popup"),"string"==typeof t.customClass&&pj(e,t.customClass),t.icon&&pj(e,TN[`icon-${t.icon}`])},uB=e=>{const t=document.createElement("li");return pj(t,TN["progress-step"]),aj(t,e),t},cB=e=>{const t=document.createElement("li");return pj(t,TN["progress-step-line"]),e.progressStepsDistance&&gj(t,"width",e.progressStepsDistance),t},hB=(e,t)=>{aB(0,t),Aj(0,t),((e,t)=>{const i=qN();if(!i)return;const{progressSteps:n,currentProgressStep:r}=t;n&&0!==n.length&&void 0!==r?(mj(i),i.textContent="",n.length,n.forEach((e,o)=>{const s=uB(e);if(i.appendChild(s),o===r&&pj(s,TN["active-progress-step"]),o!==n.length-1){const e=cB(t);i.appendChild(e)}})):yj(i)})(0,t),((e,t)=>{const i=Fj.innerParams.get(e),n=WN();if(!n)return;if(i&&t.icon===i.icon)return Kj(n,t),void Yj(n,t);if(!t.icon&&!t.iconHtml)return void yj(n);if(t.icon&&-1===Object.keys(DN).indexOf(t.icon))return t.icon,void yj(n);mj(n),Kj(n,t),Yj(n,t),pj(n,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",qj)})(e,t),((e,t)=>{const i=YN();i&&(t.imageUrl?(mj(i,""),i.setAttribute("src",t.imageUrl),i.setAttribute("alt",t.imageAlt||""),gj(i,"width",t.imageWidth),gj(i,"height",t.imageHeight),i.className=TN.image,uj(i,t,"image")):yj(i))})(0,t),((e,t)=>{const i=GN();i&&(vj(i),wj(i,t.title||t.titleText,"block"),t.title&&Pj(t.title,i),t.titleText&&(i.innerText=t.titleText),uj(i,t,"title"))})(0,t),((e,t)=>{const i=nj();i&&(aj(i,t.closeButtonHtml||""),uj(i,t,"closeButton"),wj(i,t.showCloseButton),i.setAttribute("aria-label",t.closeButtonAriaLabel||""))})(0,t),zj(e,t),Dj(0,t),((e,t)=>{const i=tj();i&&(vj(i),wj(i,t.footer,"block"),t.footer&&Pj(t.footer,i),uj(i,t,"footer"))})(0,t);const i=UN();"function"==typeof t.didRender&&i&&t.didRender(i),kN.eventEmitter.emit("didRender",i)},dB=()=>{var e;return null===(e=XN())||void 0===e?void 0:e.click()},pB=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),fB=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},_B=(e,t)=>{var i;const n=rj();if(n.length)return-2===(e+=t)&&(e=n.length-1),e===n.length?e=0:-1===e&&(e=n.length-1),void n[e].focus();null===(i=UN())||void 0===i||i.focus()},gB=["ArrowRight","ArrowDown"],mB=["ArrowLeft","ArrowUp"],yB=(e,t,i)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?vB(t,e):"Tab"===t.key?bB(t):[...gB,...mB].includes(t.key)?wB(t.key):"Escape"===t.key&&CB(t,e,i)))},vB=(e,t)=>{if(!FN(t.allowEnterKey))return;const i=cj(UN(),t.input);if(e.target&&i&&e.target instanceof HTMLElement&&e.target.outerHTML===i.outerHTML){if(["textarea","file"].includes(t.input))return;dB(),e.preventDefault()}},bB=e=>{const t=e.target,i=rj();let n=-1;for(let r=0;r<i.length;r++)if(t===i[r]){n=r;break}e.shiftKey?_B(n,-1):_B(n,1),e.stopPropagation(),e.preventDefault()},wB=e=>{const t=ej(),i=XN(),n=JN(),r=ZN();if(!(t&&i&&n&&r))return;const o=[i,n,r];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const s=gB.includes(e)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;if(a){for(let e=0;e<t.children.length;e++){if(a=a[s],!a)return;if(a instanceof HTMLButtonElement&&Cj(a))break}a instanceof HTMLButtonElement&&a.focus()}},CB=(e,t,i)=>{e.preventDefault(),FN(t.allowEscapeKey)&&i(pB.esc)};var xB={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const IB=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},EB="undefined"!=typeof window&&!!window.GestureEvent,OB=()=>{const e=BN();if(!e)return;let t;e.ontouchstart=e=>{t=SB(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},SB=e=>{const t=e.target,i=BN(),n=zN();return!(!i||!n)&&(!kB(e)&&!PB(e)&&(t===i||!(xj(i)||!(t instanceof HTMLElement)||((e,t)=>{let i=e;for(;i&&i!==t;){if(xj(i))return!0;i=i.parentElement}return!1})(t,n)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||xj(n)&&n.contains(t))))},kB=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,PB=e=>e.touches&&e.touches.length>1;let RB=null;const TB=e=>{null===RB&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(RB=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${RB+(()=>{const e=document.createElement("div");e.className=TN["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t})()}px`)};function DB(e,t,i,n){sj()?BB(e,n):(PN(i).then(()=>BB(e,n)),fB(kN)),EB?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),oj()&&(null!==RB&&(document.body.style.paddingRight=`${RB}px`,RB=null),(()=>{if(lj(document.body,TN.iosfix)){const e=parseInt(document.body.style.top,10);fj(document.body,TN.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}})(),IB()),fj([document.documentElement,document.body],[TN.shown,TN["height-auto"],TN["no-backdrop"],TN["toast-shown"]])}function MB(e){e=$B(e);const t=xB.swalPromiseResolve.get(this),i=LB(this);this.isAwaitingPromise?e.isDismissed||(FB(this),t(e)):i&&t(e)}const LB=e=>{const t=UN();if(!t)return!1;const i=Fj.innerParams.get(e);if(!i||lj(t,i.hideClass.popup))return!1;fj(t,i.showClass.popup),pj(t,i.hideClass.popup);const n=BN();return fj(n,i.showClass.backdrop),pj(n,i.hideClass.backdrop),NB(e,t,i),!0};function AB(e){const t=xB.swalPromiseReject.get(this);FB(this),t&&t(e)}const FB=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Fj.innerParams.get(e)||e._destroy())},$B=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),NB=(e,t,i)=>{var n;const r=BN(),o=Ij(t);"function"==typeof i.willClose&&i.willClose(t),null===(n=kN.eventEmitter)||void 0===n||n.emit("willClose",t),o?jB(e,t,r,i.returnFocus,i.didClose):DB(e,r,i.returnFocus,i.didClose)},jB=(e,t,i,n,r)=>{kN.swalCloseEventFinishedCallback=DB.bind(null,e,i,n,r);const o=function(e){var i;e.target===t&&(null===(i=kN.swalCloseEventFinishedCallback)||void 0===i||i.call(kN),delete kN.swalCloseEventFinishedCallback,t.removeEventListener("animationend",o),t.removeEventListener("transitionend",o))};t.addEventListener("animationend",o),t.addEventListener("transitionend",o)},BB=(e,t)=>{setTimeout(()=>{var i;"function"==typeof t&&t.bind(e.params)(),null===(i=kN.eventEmitter)||void 0===i||i.emit("didClose"),e._destroy&&e._destroy()})},VB=e=>{let t=UN();if(t||new bH,t=UN(),!t)return;const i=QN();sj()?yj(WN()):HB(t,e),mj(i),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},HB=(e,t)=>{const i=ej(),n=QN();i&&n&&(!t&&Cj(XN())&&(t=XN()),mj(i),t&&(yj(t),n.setAttribute("data-button-to-replace",t.className),i.insertBefore(n,t)),pj([e,i],TN.loading))},UB=e=>e.checked?1:0,WB=e=>e.checked?e.value:null,GB=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,zB=(e,t)=>{const i=UN();if(!i)return;const n=e=>{"select"===t.input?function(e,t,i){const n=_j(e,TN.select);if(!n)return;const r=(e,t,n)=>{const r=document.createElement("option");r.value=n,aj(r,t),r.selected=KB(n,i.inputValue),e.appendChild(r)};t.forEach(e=>{const t=e[0],i=e[1];if(Array.isArray(i)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,n.appendChild(e),i.forEach(t=>r(e,t[1],t[0]))}else r(n,i,t)}),n.focus()}(i,qB(e),t):"radio"===t.input&&function(e,t,i){const n=_j(e,TN.radio);if(!n)return;t.forEach(e=>{const t=e[0],r=e[1],o=document.createElement("input"),s=document.createElement("label");o.type="radio",o.name=TN.radio,o.value=t,KB(t,i.inputValue)&&(o.checked=!0);const a=document.createElement("span");aj(a,r),a.className=TN.label,s.appendChild(o),s.appendChild(a),n.appendChild(s)});const r=n.querySelectorAll("input");r.length&&r[0].focus()}(i,qB(e),t)};$N(t.inputOptions)||jN(t.inputOptions)?(VB(XN()),NN(t.inputOptions).then(t=>{e.hideLoading(),n(t)})):"object"==typeof t.inputOptions?n(t.inputOptions):t.inputOptions},YB=(e,t)=>{const i=e.getInput();i&&(yj(i),NN(t.inputValue).then(n=>{i.value="number"===t.input?`${parseFloat(n)||0}`:`${n}`,mj(i),i.focus(),e.hideLoading()}).catch(t=>{i.value="",mj(i),i.focus(),e.hideLoading()}))};const qB=e=>{const t=[];return e instanceof Map?e.forEach((e,i)=>{let n=e;"object"==typeof n&&(n=qB(n)),t.push([i,n])}):Object.keys(e).forEach(i=>{let n=e[i];"object"==typeof n&&(n=qB(n)),t.push([i,n])}),t},KB=(e,t)=>!!t&&t.toString()===e.toString(),XB=(e,t)=>{const i=Fj.innerParams.get(e);if(!i.input)return void MN(t);const n=e.getInput(),r=((e,t)=>{const i=e.getInput();if(!i)return null;switch(t.input){case"checkbox":return UB(i);case"radio":return WB(i);case"file":return GB(i);default:return t.inputAutoTrim?i.value.trim():i.value}})(e,i);i.inputValidator?ZB(e,r,t):n&&!n.checkValidity()?(e.enableButtons(),e.showValidationMessage(i.validationMessage||n.validationMessage)):"deny"===t?JB(e,r):tV(e,r)},ZB=(e,t,i)=>{const n=Fj.innerParams.get(e);e.disableInput();Promise.resolve().then(()=>NN(n.inputValidator(t,n.validationMessage))).then(n=>{e.enableButtons(),e.enableInput(),n?e.showValidationMessage(n):"deny"===i?JB(e,t):tV(e,t)})},JB=(e,t)=>{const i=Fj.innerParams.get(e||void 0);if(i.showLoaderOnDeny&&VB(JN()),i.preDeny){e.isAwaitingPromise=!0;Promise.resolve().then(()=>NN(i.preDeny(t,i.validationMessage))).then(i=>{!1===i?(e.hideLoading(),FB(e)):e.close({isDenied:!0,value:void 0===i?t:i})}).catch(t=>eV(e||void 0,t))}else e.close({isDenied:!0,value:t})},QB=(e,t)=>{e.close({isConfirmed:!0,value:t})},eV=(e,t)=>{e.rejectPromise(t)},tV=(e,t)=>{const i=Fj.innerParams.get(e||void 0);if(i.showLoaderOnConfirm&&VB(),i.preConfirm){e.resetValidationMessage(),e.isAwaitingPromise=!0;Promise.resolve().then(()=>NN(i.preConfirm(t,i.validationMessage))).then(i=>{Cj(KN())||!1===i?(e.hideLoading(),FB(e)):QB(e,void 0===i?t:i)}).catch(t=>eV(e||void 0,t))}else QB(e,t)};function iV(){const e=Fj.innerParams.get(this);if(!e)return;const t=Fj.domCache.get(this);yj(t.loader),sj()?e.icon&&mj(WN()):nV(t),fj([t.popup,t.actions],TN.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const nV=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?mj(t[0],"inline-block"):Cj(XN())||Cj(JN())||Cj(ZN())||yj(e.actions)};function rV(){const e=Fj.innerParams.get(this),t=Fj.domCache.get(this);return t?cj(t.popup,e.input):null}function oV(e,t,i){const n=Fj.domCache.get(e);t.forEach(e=>{n[e].disabled=i})}function sV(e,t){const i=UN();if(i&&e)if("radio"===e.type){const e=i.querySelectorAll(`[name="${TN.radio}"]`);for(let i=0;i<e.length;i++)e[i].disabled=t}else e.disabled=t}function aV(){oV(this,["confirmButton","denyButton","cancelButton"],!1)}function lV(){oV(this,["confirmButton","denyButton","cancelButton"],!0)}function uV(){sV(this.getInput(),!1)}function cV(){sV(this.getInput(),!0)}function hV(e){const t=Fj.domCache.get(this),i=Fj.innerParams.get(this);aj(t.validationMessage,e),t.validationMessage.className=TN["validation-message"],i.customClass&&i.customClass.validationMessage&&pj(t.validationMessage,i.customClass.validationMessage),mj(t.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",TN["validation-message"]),hj(n),pj(n,TN.inputerror))}function dV(){const e=Fj.domCache.get(this);e.validationMessage&&yj(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),fj(t,TN.inputerror))}const pV={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},fV=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],_V={allowEnterKey:void 0},gV=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],mV=e=>Object.prototype.hasOwnProperty.call(pV,e),yV=e=>-1!==fV.indexOf(e),vV=e=>_V[e],bV=e=>{mV(e)},wV=e=>{gV.includes(e)},CV=e=>{const t=vV(e);t&&AN(e,t)},xV=e=>{!1===e.backdrop&&e.allowOutsideClick,e.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&e.theme;for(const t in e)bV(t),e.toast&&wV(t),CV(t)};function IV(e){const t=BN(),i=UN(),n=Fj.innerParams.get(this);if(!i||lj(i,n.hideClass.popup))return;const r=EV(e),o=Object.assign({},n,r);xV(o),t.dataset.swal2Theme=o.theme,hB(this,o),Fj.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const EV=e=>{const t={};return Object.keys(e).forEach(i=>{yV(i)&&(t[i]=e[i])}),t};function OV(){const e=Fj.domCache.get(this),t=Fj.innerParams.get(this);t?(e.popup&&kN.swalCloseEventFinishedCallback&&(kN.swalCloseEventFinishedCallback(),delete kN.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),kN.eventEmitter.emit("didDestroy"),SV(this)):kV(this)}const SV=e=>{kV(e),delete e.params,delete kN.keydownHandler,delete kN.keydownTarget,delete kN.currentInstance},kV=e=>{e.isAwaitingPromise?(PV(Fj,e),e.isAwaitingPromise=!0):(PV(xB,e),PV(Fj,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},PV=(e,t)=>{for(const i in e)e[i].delete(t)};var RV=Object.freeze({__proto__:null,_destroy:OV,close:MB,closeModal:MB,closePopup:MB,closeToast:MB,disableButtons:lV,disableInput:cV,disableLoading:iV,enableButtons:aV,enableInput:uV,getInput:rV,handleAwaitingPromise:FB,hideLoading:iV,rejectPromise:AB,resetValidationMessage:dV,showValidationMessage:hV,update:IV});const TV=(e,t,i)=>{t.popup.onclick=()=>{e&&(DV(e)||e.timer||e.input)||i(pB.close)}},DV=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let MV=!1;const LV=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(MV=!0)}}},AV=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(MV=!0)}}},FV=(e,t,i)=>{t.container.onclick=n=>{MV?MV=!1:n.target===t.container&&FN(e.allowOutsideClick)&&i(pB.backdrop)}},$V=e=>e instanceof Element||(e=>"object"==typeof e&&e.jquery)(e);const NV=()=>{if(kN.timeout)return(()=>{const e=ij();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const i=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width=`${i}%`})(),kN.timeout.stop()},jV=()=>{if(kN.timeout){const e=kN.timeout.start();return Ej(e),e}};let BV=!1;const VV={};const HV=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in VV){const i=t.getAttribute(e);if(i)return void VV[e].fire({template:i})}};kN.eventEmitter=new class{constructor(){this.events={}}_getHandlersByEventName(e){return void 0===this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){const i=this._getHandlersByEventName(e);i.includes(t)||i.push(t)}once(e,t){const i=(...n)=>{this.removeListener(e,i),t.apply(this,n)};this.on(e,i)}emit(e,...t){this._getHandlersByEventName(e).forEach(e=>{try{e.apply(this,t)}catch(i){}})}removeListener(e,t){const i=this._getHandlersByEventName(e),n=i.indexOf(t);n>-1&&i.splice(n,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}};var UV=Object.freeze({__proto__:null,argsToParams:e=>{const t={};return"object"!=typeof e[0]||$V(e[0])?["title","html","icon"].forEach((i,n)=>{const r=e[n];("string"==typeof r||$V(r))&&(t[i]=r)}):Object.assign(t,e[0]),t},bindClickHandler:function(e="data-swal-template"){VV[e]=this,BV||(document.body.addEventListener("click",HV),BV=!0)},clickCancel:()=>{var e;return null===(e=ZN())||void 0===e?void 0:e.click()},clickConfirm:dB,clickDeny:()=>{var e;return null===(e=JN())||void 0===e?void 0:e.click()},enableLoading:VB,fire:function(...e){return new this(...e)},getActions:ej,getCancelButton:ZN,getCloseButton:nj,getConfirmButton:XN,getContainer:BN,getDenyButton:JN,getFocusableElements:rj,getFooter:tj,getHtmlContainer:zN,getIcon:WN,getIconContent:()=>HN(TN["icon-content"]),getImage:YN,getInputLabel:()=>HN(TN["input-label"]),getLoader:QN,getPopup:UN,getProgressSteps:qN,getTimerLeft:()=>kN.timeout&&kN.timeout.getTimerLeft(),getTimerProgressBar:ij,getTitle:GN,getValidationMessage:KN,increaseTimer:e=>{if(kN.timeout){const t=kN.timeout.increase(e);return Ej(t,!0),t}},isDeprecatedParameter:vV,isLoading:()=>{const e=UN();return!!e&&e.hasAttribute("data-loading")},isTimerRunning:()=>!(!kN.timeout||!kN.timeout.isRunning()),isUpdatableParameter:yV,isValidParameter:mV,isVisible:()=>Cj(UN()),mixin:function(e){return class extends(this){_main(t,i){return super._main(t,Object.assign({},e,i))}}},off:(e,t)=>{e?t?kN.eventEmitter.removeListener(e,t):kN.eventEmitter.removeAllListeners(e):kN.eventEmitter.reset()},on:(e,t)=>{kN.eventEmitter.on(e,t)},once:(e,t)=>{kN.eventEmitter.once(e,t)},resumeTimer:jV,showLoading:VB,stopTimer:NV,toggleTimer:()=>{const e=kN.timeout;return e&&(e.running?NV():jV())}});class WV{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const GV=["swal-title","swal-html","swal-footer"],zV=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(e=>{eH(e,["name","value"]);const i=e.getAttribute("name"),n=e.getAttribute("value");i&&n&&(t[i]="boolean"==typeof pV[i]?"false"!==n:"object"==typeof pV[i]?JSON.parse(n):n)}),t},YV=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(e=>{const i=e.getAttribute("name"),n=e.getAttribute("value");i&&n&&(t[i]=new Function(`return ${n}`)())}),t},qV=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(e=>{eH(e,["type","color","aria-label"]);const i=e.getAttribute("type");i&&["confirm","cancel","deny"].includes(i)&&(t[`${i}ButtonText`]=e.innerHTML,t[`show${MN(i)}Button`]=!0,e.hasAttribute("color")&&(t[`${i}ButtonColor`]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t[`${i}ButtonAriaLabel`]=e.getAttribute("aria-label")))}),t},KV=e=>{const t={},i=e.querySelector("swal-image");return i&&(eH(i,["src","width","height","alt"]),i.hasAttribute("src")&&(t.imageUrl=i.getAttribute("src")||void 0),i.hasAttribute("width")&&(t.imageWidth=i.getAttribute("width")||void 0),i.hasAttribute("height")&&(t.imageHeight=i.getAttribute("height")||void 0),i.hasAttribute("alt")&&(t.imageAlt=i.getAttribute("alt")||void 0)),t},XV=e=>{const t={},i=e.querySelector("swal-icon");return i&&(eH(i,["type","color"]),i.hasAttribute("type")&&(t.icon=i.getAttribute("type")),i.hasAttribute("color")&&(t.iconColor=i.getAttribute("color")),t.iconHtml=i.innerHTML),t},ZV=e=>{const t={},i=e.querySelector("swal-input");i&&(eH(i,["type","label","placeholder","value"]),t.input=i.getAttribute("type")||"text",i.hasAttribute("label")&&(t.inputLabel=i.getAttribute("label")),i.hasAttribute("placeholder")&&(t.inputPlaceholder=i.getAttribute("placeholder")),i.hasAttribute("value")&&(t.inputValue=i.getAttribute("value")));const n=Array.from(e.querySelectorAll("swal-input-option"));return n.length&&(t.inputOptions={},n.forEach(e=>{eH(e,["value"]);const i=e.getAttribute("value");if(!i)return;const n=e.innerHTML;t.inputOptions[i]=n})),t},JV=(e,t)=>{const i={};for(const n in t){const r=t[n],o=e.querySelector(r);o&&(eH(o,[]),i[r.replace(/^swal-/,"")]=o.innerHTML.trim())}return i},QV=e=>{const t=GV.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(e=>{const i=e.tagName.toLowerCase();t.includes(i)})},eH=(e,t)=>{Array.from(e.attributes).forEach(i=>{-1===t.indexOf(i.name)&&(i.name,e.tagName.toLowerCase(),t.length&&t.join(", "))})},tH=e=>{const t=BN(),i=UN();"function"==typeof e.willOpen&&e.willOpen(i),kN.eventEmitter.emit("willOpen",i);const n=window.getComputedStyle(document.body).overflowY;oH(t,i,e),setTimeout(()=>{nH(t,i)},10),oj()&&(rH(t,e.scrollbarPadding,n),(()=>{const e=BN();Array.from(document.body.children).forEach(t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})})()),sj()||kN.previousActiveElement||(kN.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout(()=>e.didOpen(i)),kN.eventEmitter.emit("didOpen",i),fj(t,TN["no-transition"])},iH=e=>{const t=UN();if(e.target!==t)return;const i=BN();t.removeEventListener("animationend",iH),t.removeEventListener("transitionend",iH),i.style.overflowY="auto"},nH=(e,t)=>{Ij(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",iH),t.addEventListener("transitionend",iH)):e.style.overflowY="auto"},rH=(e,t,i)=>{(()=>{if(EB&&!lj(document.body,TN.iosfix)){const e=document.body.scrollTop;document.body.style.top=-1*e+"px",pj(document.body,TN.iosfix),OB()}})(),t&&"hidden"!==i&&TB(i),setTimeout(()=>{e.scrollTop=0})},oH=(e,t,i)=>{pj(e,i.showClass.backdrop),i.animation?(t.style.setProperty("opacity","0","important"),mj(t,"grid"),setTimeout(()=>{pj(t,i.showClass.popup),t.style.removeProperty("opacity")},10)):mj(t,"grid"),pj([document.documentElement,document.body],TN.shown),i.heightAuto&&i.backdrop&&!i.toast&&pj([document.documentElement,document.body],TN["height-auto"])};var sH=(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),aH=(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL");function lH(e){!function(e){e.inputValidator||("email"===e.input&&(e.inputValidator=sH),"url"===e.input&&(e.inputValidator=aH))}(e),e.showLoaderOnConfirm&&e.preConfirm,function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),kj(e)}let uH;var cH=new WeakMap;class hH{constructor(...e){if(SN(this,cH,void 0),"undefined"==typeof window)return;uH=this;const t=Object.freeze(this.constructor.argsToParams(e));var i,n,r;this.params=t,this.isAwaitingPromise=!1,i=cH,n=this,r=this._main(uH.params),i.set(EN(i,n),r)}_main(e,t={}){if(xV(Object.assign({},t,e)),kN.currentInstance){const e=xB.swalPromiseResolve.get(kN.currentInstance),{isAwaitingPromise:t}=kN.currentInstance;kN.currentInstance._destroy(),t||e({isDismissed:!0}),oj()&&IB()}kN.currentInstance=uH;const i=pH(e,t);lH(i),Object.freeze(i),kN.timeout&&(kN.timeout.stop(),delete kN.timeout),clearTimeout(kN.restoreFocusTimeout);const n=fH(uH);return hB(uH,i),Fj.innerParams.set(uH,i),dH(uH,n,i)}then(e){return ON(cH,this).then(e)}finally(e){return ON(cH,this).finally(e)}}const dH=(e,t,i)=>new Promise((n,r)=>{const o=t=>{e.close({isDismissed:!0,dismiss:t})};xB.swalPromiseResolve.set(e,n),xB.swalPromiseReject.set(e,r),t.confirmButton.onclick=()=>{(e=>{const t=Fj.innerParams.get(e);e.disableButtons(),t.input?XB(e,"confirm"):tV(e,!0)})(e)},t.denyButton.onclick=()=>{(e=>{const t=Fj.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?XB(e,"deny"):JB(e,!1)})(e)},t.cancelButton.onclick=()=>{((e,t)=>{e.disableButtons(),t(pB.cancel)})(e,o)},t.closeButton.onclick=()=>{o(pB.close)},((e,t,i)=>{e.toast?TV(e,t,i):(LV(t),AV(t),FV(e,t,i))})(i,t,o),((e,t,i)=>{fB(e),t.toast||(e.keydownHandler=e=>yB(t,e,i),e.keydownTarget=t.keydownListenerCapture?window:UN(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)})(kN,i,o),((e,t)=>{"select"===t.input||"radio"===t.input?zB(e,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&($N(t.inputValue)||jN(t.inputValue))&&(VB(XN()),YB(e,t))})(e,i),tH(i),_H(kN,i,o),gH(t,i),setTimeout(()=>{t.container.scrollTop=0})}),pH=(e,t)=>{const i=(e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const i=t.content;return QV(i),Object.assign(zV(i),YV(i),qV(i),KV(i),XV(i),ZV(i),JV(i,GV))})(e),n=Object.assign({},pV,t,i,e);return n.showClass=Object.assign({},pV.showClass,n.showClass),n.hideClass=Object.assign({},pV.hideClass,n.hideClass),!1===n.animation&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},fH=e=>{const t={popup:UN(),container:BN(),actions:ej(),confirmButton:XN(),denyButton:JN(),cancelButton:ZN(),loader:QN(),closeButton:nj(),validationMessage:KN(),progressSteps:qN()};return Fj.domCache.set(e,t),t},_H=(e,t,i)=>{const n=ij();yj(n),t.timer&&(e.timeout=new WV(()=>{i("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(mj(n),uj(n,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&Ej(t.timer)})))},gH=(e,t)=>{if(!t.toast)return FN(t.allowEnterKey)?void(mH(e)||yH(e,t)||_B(-1,1)):(AN("allowEnterKey"),void vH())},mH=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const i of t)if(i instanceof HTMLElement&&Cj(i))return i.focus(),!0;return!1},yH=(e,t)=>t.focusDeny&&Cj(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&Cj(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!Cj(e.confirmButton))&&(e.confirmButton.focus(),!0),vH=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout(()=>{e.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}hH.prototype.disableButtons=lV,hH.prototype.enableButtons=aV,hH.prototype.getInput=rV,hH.prototype.disableInput=cV,hH.prototype.enableInput=uV,hH.prototype.hideLoading=iV,hH.prototype.disableLoading=iV,hH.prototype.showValidationMessage=hV,hH.prototype.resetValidationMessage=dV,hH.prototype.close=MB,hH.prototype.closePopup=MB,hH.prototype.closeModal=MB,hH.prototype.closeToast=MB,hH.prototype.rejectPromise=AB,hH.prototype.update=IV,hH.prototype._destroy=OV,Object.assign(hH,UV),Object.keys(RV).forEach(e=>{hH[e]=function(...t){return uH&&uH[e]?uH[e](...t):null}}),hH.DismissReason=pB,hH.version="11.22.1";const bH=hH;bH.default=bH,"undefined"!=typeof document&&function(e,t){var i=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=t);else try{i.innerHTML=t}catch(n){i.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const wH=bH.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,timerProgressBar:!1,backdrop:!1}),CH=Object.freeze(Object.defineProperty({__proto__:null,Toast:wH,alert:(e,t)=>bH.fire({title:e,text:t,html:t,allowOutsideClick:!1,showCancelButton:!1,confirmButtonText:"",focusConfirm:!1,customClass:{popup:"swal2_popup",title:"swal2_title",htmlContainer:"swal2_body",actions:"swal2_actions",confirmButton:"swal2_btn_confirm",cancelButton:"swal2_btn_cancel"}}),assign:(e={},t={})=>cL.assign(e,t),calculateDay:xN,clearAuth:e=>{XA().removePageAuth(e)},cloneDeep:e=>cL.cloneDeep(e),close:()=>bH.close(),concat:(e=[],t=[])=>cL.concat(e,t),confirm:(e,t)=>bH.fire({title:e,text:t,html:t,allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",focusConfirm:!1,customClass:{popup:"swal2_popup",title:"swal2_title",htmlContainer:"swal2_body",actions:"swal2_actions",confirmButton:"swal2_btn_confirm",cancelButton:"swal2_btn_cancel"}}),currencyFormatter:(e,t=0)=>isNaN(e)?"":e.toString().replace(kH.comma,","),dateFormat:CN,dynamicAddRoutes:async e=>{const t=Object.assign({"/src/views/BoardMgmt/BoardMgmt.vue":()=>dL(()=>import("./BoardMgmt-DbidJEcP.js"),__vite__mapDeps([5,3,6,7,8,9,10,4,11,12,13,14,15])),"/src/views/BoardMgmt/popups/BoardPopup.vue":()=>dL(()=>import("./BoardPopup-Dzx3TyNl.js"),__vite__mapDeps([11,12,13,3,14,15])),"/src/views/BoardStgMgmt/BoardStgMgmt.vue":()=>dL(()=>import("./BoardStgMgmt-BKjvF5gq.js"),__vite__mapDeps([16,3,6,7,8,9,10,4])),"/src/views/ButtonMgmt/ButtonMgmt.vue":()=>dL(()=>import("./ButtonMgmt-Mst95Ejy.js"),__vite__mapDeps([17,3,6,7,8,9,10,4])),"/src/views/ComCodeMgmt/ComCodeMgmt.vue":()=>dL(()=>import("./ComCodeMgmt-BcDKWIRc.js"),__vite__mapDeps([18,19,20,2,3,6,7,8,9,10,4])),"/src/views/Login.vue":()=>dL(()=>import("./Login-CTucSbgd.js"),__vite__mapDeps([0,1,2,3,4])),"/src/views/MenuAuthMgmt/MenuAuthMgmt.vue":()=>dL(()=>import("./MenuAuthMgmt-BJwMMdUW.js"),__vite__mapDeps([21,19,20,3,6,7,8,9,22,10,4])),"/src/views/MenuMgmt/MenuMgmt.vue":()=>dL(()=>import("./MenuMgmt-zrK4uGUT.js"),__vite__mapDeps([23,2,6,22,7,8,3,9,10,4])),"/src/views/MessagesMgmt/MessagesMgmt.vue":()=>dL(()=>import("./MessagesMgmt-Bw8Joqd3.js"),__vite__mapDeps([24,3,6,7,8,9,10,4])),"/src/views/ProgramAuthMgmt/ProgramAuthMgmt.vue":()=>dL(()=>import("./ProgramAuthMgmt-CVED1bZR.js"),__vite__mapDeps([25,19,20,2,3,7,6,8,9,10,4])),"/src/views/ProgramMgmt/ProgramMgmt.vue":()=>dL(()=>import("./ProgramMgmt-V0qpGad0.js"),__vite__mapDeps([26,19,20,2,3,6,7,8,9,10,4,27])),"/src/views/UserMgmt/UserMgmt.vue":()=>dL(()=>import("./UserMgmt-C6uTCaJU.js"),__vite__mapDeps([28,2,3,6,7,8,9,10,4])),"/src/views/_popups/ButtonSearchPopup/ButtonSearchPopup.vue":()=>dL(()=>import("./ButtonSearchPopup-BlrCXiG5.js"),__vite__mapDeps([27,3,6,7,8,9])),"/src/views/_popups/MessagesSearchPopup/MessagesSearchPopup.vue":()=>dL(()=>import("./real-grid-D0HQpUC9.js").then(e=>e.a),__vite__mapDeps([7,6,8,3,9])),"/src/views/_popups/ProgramSearchPopup/ProgramSearchPopup.vue":()=>dL(()=>import("./real-grid-D0HQpUC9.js").then(e=>e.b),__vite__mapDeps([7,6,8,3,9])),"/src/views/_sample/Alert/Alert.vue":()=>dL(()=>import("./Alert-FOd8QyZN.js"),__vite__mapDeps([29,10,4,14,8])),"/src/views/_sample/Checkbox/Checkbox.vue":()=>dL(()=>import("./Checkbox-CttjtnCn.js"),__vite__mapDeps([30,1,31,10,4,14])),"/src/views/_sample/DatePicker/DatePicker.vue":()=>dL(()=>import("./DatePicker-DNKykMFj.js"),__vite__mapDeps([32,12,13,10,4,14])),"/src/views/_sample/DateRangePicker/DateRangePicker.vue":()=>dL(()=>import("./DateRangePicker-BMzcgdLA.js"),__vite__mapDeps([33,12,13,10,4,14])),"/src/views/_sample/Number/Number.vue":()=>dL(()=>import("./Number-b0ZpUBW-.js"),__vite__mapDeps([34,35,10,4,14])),"/src/views/_sample/RadioBox/RadioBox.vue":()=>dL(()=>import("./RadioBox-CvKCcoc4.js"),__vite__mapDeps([36,37,10,4,14])),"/src/views/_sample/SearchBox/SearchBox.vue":()=>dL(()=>import("./SearchBox-DZB-9_7J.js"),__vite__mapDeps([38,1,12,13,31,35,37,2,3,39,10,4,9])),"/src/views/_sample/SelectBox/SelectBox.vue":()=>dL(()=>import("./SelectBox-C-sWpNym.js"),__vite__mapDeps([40,2,10,4,14])),"/src/views/_sample/Tab/Tab.vue":()=>dL(()=>import("./Tab-C3XdDLq8.js"),__vite__mapDeps([41,10,4])),"/src/views/_sample/Text/Text.vue":()=>dL(()=>import("./Text-CJkrczDy.js"),__vite__mapDeps([42,3,10,4,14])),"/src/views/_sample/Toggle/Toggle.vue":()=>dL(()=>import("./Toggle-Co6KUbx5.js"),__vite__mapDeps([43,39,10,4,14])),"/src/views/_sample/Tooltip/Tooltip.vue":()=>dL(()=>import("./Tooltip-CeOhGfap.js"),__vite__mapDeps([44,10,4,14])),"/src/views/dashboard/Dashboard.vue":()=>dL(()=>import("./Dashboard-BtDJLz1I.js"),[])});var i;(await(i=e,i.map(e=>{const i=`/src/views${e.programPath}/${e.programId}/${e.programId}.vue`,n=t[i];return{path:e.menuUrl,name:e.menuId,component:n,meta:{menuId:e.menuId,programId:e.programId,title:e.menuNm,parentMenuId:e.parentMenuId,menuNavi:e.menuNavi}}}))).forEach(e=>{oN.hasRoute(e.name)||oN.addRoute(e)})},flattenDeep:e=>cL.flattenDeep(e),flattenDeepAll:(e=[],t="menuId",i="children")=>{const n=(e,t,i,r)=>{const o=[];return e.forEach(e=>{if(e[t]===r)o.push(e[t]);else if(e[i]){const s=n(e[i],t,i,r);s.length>0&&o.push(e[t]),s.forEach(e=>o.push(e))}}),o},r=(e,t)=>e.reduce((e,i)=>{const n=e.concat(i),o=i[t];return n.concat(o&&o.length>0?r(o,t):[])},[]),o=(i,r)=>i.reduce((i,s)=>{const a=i.concat(s),l=s[r];return s[r]||(s[r]=[]),s.parentIds=n(e,t,r,s[t]),a.concat(l&&l.length>0?o(l,r):[])},[]);return o(e,i).map(e=>({...e,childrenIds:r(e[i],i).map(e=>e[t])}))},generateRandomNumber:dN,generateUuid:(e="v1")=>`${AA[e]()}-${dN()}`,getByteLength:e=>{let t=0;for(const i of e){t+=i.charCodeAt(0)>127?2:1}return t},getCode:pN,getPagedData:(e,t,i)=>{const n=(i-1)*t,r=n+t;return e.slice(n,r)},has:(e,t)=>cL.has(e,t),head:(e=[])=>cL.head(e),intersection:(e=[],t=[])=>cL.intersection(e,t),isEmpty:e=>e?.constructor===Object?0===Object.keys(e).length:cL.isEmpty(e),last:(e=[])=>cL.last(e),loading:e=>{const t=XA();e?t.setLoadingCount(++t.loadingCount||0):t.setLoadingCount(--t.loadingCount)},merge:(e={},t={})=>cL.merge(e,t),numberArrayMax:e=>e.reduce((e,t)=>Math.max(e,t),-1/0),objectEmptyRemove:e=>{if(!cL.isObject(e))return;const t=[];return cL.keys(e).forEach(function(i){const n=e[i];"number"!=typeof n&&cL.isEmpty(n)&&t.push(i)}),IN(e,t)},omit:IN,orderBy:(e,t,i)=>cL.orderBy(e,t,i),padStart:(e,t,i)=>cL.padStart(e,t,i),phoneFormatter:e=>e.replace(kH.phone,"$1-$2-$3"),putCodes:async e=>{const t=XA(),i=e.map(async e=>{if(0===pN(e).length){const i={groupCode:e},n=await(({params:e={}})=>IH.get(lN.comCode,{params:e}))({params:i});t.setComCode({[e]:n.data.results.map(e=>({...e,label:e.comName,value:e.comCode}))})}});await Promise.all(i)},quarter:e=>mN(e).quarter(),random:(e=0,t=5)=>cL.random(e,t),replace:(e,t,i)=>cL.replace(e,t,i),routerNamePush:(e,t={})=>{if(oN.currentRoute.value.name===e){const t={c:dN()};oN.replace({name:e,query:t}).catch(()=>{})}else oN.push({name:e,query:t}).catch(()=>{})},searchDefaultDate:(e="today-oneMonthAdd")=>{const t=mN().format("YYYY-MM-DD"),i=xN({type:"month",addDay:-1}),n=`${CN(new Date,"YYYY-MM")}-01`;return"today-oneMonthAdd"===e?[i,t]:[n,t]},sortBy:(e,t)=>cL.sortBy(e,t),toastError:(e,t)=>{wH.fire({icon:"error",title:e,html:t})},toastSuccess:(e,t)=>{wH.fire({icon:"success",title:e,html:t})},trim:(e,t="")=>cL.trim(e,t),trimStringByByte:(e,t)=>{let i="",n=0;for(const r of e){const e=r.charCodeAt(0)>127?2:1;if(n+e>t)break;n+=e,i+=r}return i},union:(e=[],t=[])=>cL.union(e,t),uniq:(e=[])=>cL.uniq(e)},Symbol.toStringTag,{value:"Module"})),xH=e=>(e.interceptors.request.use(e=>(!1!==e?.isLoading&&CH.loading(!0),e),e=>(!1!==e?.isLoading&&CH.loading(!1),Promise.reject(e))),e.interceptors.response.use(e=>(!1!==e.config?.isLoading&&CH.loading(!1),e),async e=>(!1!==e.config?.isLoading&&CH.loading(!1),Promise.reject(e))),e),IH=xH(BM.create()),EH=xH(BM.create()),OH=function(e={}){const t=__VUE_I18N_LEGACY_API__&&SS(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__;t&&AS(YR(WR));const i=!SS(e.globalInjection)||e.globalInjection,n=new Map,[r,o]=function(e,t){const i=ae(),n=__VUE_I18N_LEGACY_API__&&t?i.run(()=>bT(e)):i.run(()=>nT(e));if(null==n)throw TR(SR);return[i,n]}(e,t),s=hS("vue-i18n"),a={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(e,...n){if(e.__VUE_I18N__=a,e.__VUE_I18N_SYMBOL__=s,e.provide(e.__VUE_I18N_SYMBOL__,a),TS(n[0])){const e=n[0];a.__composerExtend=e.__composerExtend,a.__vueI18nExtend=e.__vueI18nExtend}let r=null;!t&&i&&(r=function(e,t){const i=Object.create(null);DT.forEach(e=>{const n=Object.getOwnPropertyDescriptor(t,e);if(!n)throw TR(SR);const r=Tt(n.value)?{get:()=>n.value.value,set(e){n.value.value=e}}:{get:()=>n.get&&n.get()};Object.defineProperty(i,e,r)}),e.config.globalProperties.$i18n=i,MT.forEach(i=>{const n=Object.getOwnPropertyDescriptor(t,i);if(!n||!n.value)throw TR(SR);Object.defineProperty(e.config.globalProperties,`$${i}`,n)});const n=()=>{delete e.config.globalProperties.$i18n,MT.forEach(t=>{delete e.config.globalProperties[`$${t}`]})};return n}(e,a.global)),__VUE_I18N_FULL_INSTALL__&&PT(e,a,...n),__VUE_I18N_LEGACY_API__&&t&&e.mixin(function(e,t,i){return{beforeCreate(){const n=cs();if(!n)throw TR(SR);const r=this.$options;if(r.i18n){const n=r.i18n;if(r.__i18n&&(n.__i18n=r.__i18n),n.__root=t,this===this.$root)this.$i18n=wT(e,n);else{n.__injectWithOption=!0,n.__extender=i.__vueI18nExtend,this.$i18n=bT(n);const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=wT(e,r);else{this.$i18n=bT({__i18n:r.__i18n,__injectWithOption:!0,__extender:i.__vueI18nExtend,__root:t});const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}else this.$i18n=e;r.__i18nGlobal&&ZR(t,r,r),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e),i.__setInstance(n,this.$i18n)},mounted(){if(this.$el&&this.$i18n){const e=this.$i18n;this.$el.__VUE_I18N__=e.__composer;const t=this.__v_emitter=FS();e.__enableEmitter&&e.__enableEmitter(t),t.on("*",vT)}},unmounted(){const e=cs();if(!e)throw TR(SR);const t=this.$i18n;this.$el&&this.$el.__VUE_I18N__&&(this.__v_emitter&&(this.__v_emitter.off("*",vT),delete this.__v_emitter),this.$i18n&&(t.__disableEmitter&&t.__disableEmitter(),delete this.$el.__VUE_I18N__)),delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,t.__disposer&&(t.__disposer(),delete t.__disposer,delete t.__extender),i.__deleteInstance(e),delete this.$i18n}}}(o,o.__composer,a));const l=e.unmount;e.unmount=()=>{r&&r(),a.dispose(),l()};{if(!(await hT(e,a)))throw TR(ER);const i=FS();if(t){const e=o;e.__enableEmitter&&e.__enableEmitter(i)}else{const e=o;e[FR]&&e[FR](i)}i.on("*",vT)}},get global(){return o},dispose(){r.stop()},__instances:n,__getInstance:function(e){return n.get(e)||null},__setInstance:function(e,t){n.set(e,t)},__deleteInstance:function(e){n.delete(e)}};return a}({legacy:!1,locale:"ko",fallbackLocale:"en",messages:{en:{welcome:"Welcome",hello:"Hello {name}!",validations:{required:"[E] {field}  .",email:"[E]    .",min:"[E] {field}  {min}  .",tel:"[E]   ."}},ko:{welcome:"",hello:" {name}!",validations:{required:"{field}  .",email:"   .",min:"{field}  {min}  .",tel:"  ."}}}}),{t:SH}=OH.global,kH={comma:new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),phone:/^(\d{2,3})-?(\d{3,4})-?(\d{4})$/},PH=[{menuId:"sample",menuNm:"common.menu.sample",parentMenuId:[],menuUrl:"",programId:"",programPath:"",sort:"1",children:[{menuId:"searchBox",menuNm:"common.menu.searchBox",parentMenuId:["sample","searchBox"],menuUrl:"/sample/searchBox",programId:"SearchBox",programPath:"/_sample",sort:"1",children:[]},{menuId:"sampleMenu-navigation",menuNm:"common.menu.sampleMenu-navigation",parentMenuId:["sample","sampleMenu-navigation"],menuUrl:"",programId:"",programPath:"",sort:"2",children:[{menuId:"tab",menuNm:"common.menu.tab",parentMenuId:["sample","sampleMenu-navigation","tab"],menuUrl:"/sample/tab",programId:"Tab",programPath:"/_sample",sort:"1",children:[]}]},{menuId:"sampleMenu-form",menuNm:"common.menu.sampleMenu-form",parentMenuId:["sample","sampleMenu-date"],menuUrl:"",programId:"",programPath:"",sort:"3",children:[{menuId:"text",menuNm:"common.menu.text",parentMenuId:["sample","sampleMenu-form","text"],menuUrl:"/sample/text",programId:"Text",programPath:"/_sample",sort:"1",children:[]},{menuId:"number",menuNm:"common.menu.number",parentMenuId:["sample","sampleMenu-form","number"],menuUrl:"/sample/number",programId:"Number",programPath:"/_sample",sort:"2",children:[]},{menuId:"selectBox",menuNm:"common.menu.selectBox",parentMenuId:["sample","sampleMenu-form","selectBox"],menuUrl:"/sample/select",programId:"SelectBox",programPath:"/_sample",sort:"3",children:[]},{menuId:"radioBox",menuNm:"common.menu.radioBox",parentMenuId:["sample","sampleMenu-form","radioBox"],menuUrl:"/sample/radio",programId:"RadioBox",programPath:"/_sample",sort:"4",children:[]},{menuId:"checkbox",menuNm:"common.menu.checkbox",parentMenuId:["sample","sampleMenu-form","checkbox"],menuUrl:"/sample/checkbox",programId:"Checkbox",programPath:"/_sample",sort:"5",children:[]},{menuId:"toggle",menuNm:"common.menu.toggle",parentMenuId:["sample","sampleMenu-form","toggle"],menuUrl:"/sample/toggle",programId:"Toggle",programPath:"/_sample",sort:"6",children:[]}]},{menuId:"sampleMenu-pickers",menuNm:"common.menu.sampleMenu-pickers",parentMenuId:["sample","sampleMenu-pickers"],menuUrl:"",programId:"",programPath:"",sort:"4",children:[{menuId:"datePicker",menuNm:"common.menu.datePicker",parentMenuId:["sample","sampleMenu-pickers","datePicker"],menuUrl:"/sample/datePicker",programId:"DatePicker",programPath:"/_sample",sort:"1",children:[]},{menuId:"dateRangePicker",menuNm:"common.menu.dateRangePicker",parentMenuId:["sample","sampleMenu-pickers","dateRangePicker"],menuUrl:"/sample/dateRangePicker",programId:"DateRangePicker",programPath:"/_sample",sort:"2",children:[]}]},{menuId:"sampleMenu-containment",menuNm:"common.menu.sampleMenu-containment",parentMenuId:["sample","sampleMenu-containment"],menuUrl:"",programId:"",programPath:"",sort:"5",children:[{menuId:"alert",menuNm:"common.menu.alert",parentMenuId:["sample","sampleMenu-containment","alert"],menuUrl:"/sample/alert",programId:"Alert",programPath:"/_sample",sort:"1",children:[]},{menuId:"tooltip",menuNm:"common.menu.tooltip",parentMenuId:["sample","sampleMenu-containment","tooltip"],menuUrl:"/sample/tooltip",programId:"Tooltip",programPath:"/_sample",sort:"2",children:[]}]}]}],RH={useYn:[{label:"common.title.useY",value:"Y"},{label:"common.title.useN",value:"N"}]};function TH(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var DH="object"==typeof global&&global&&global.Object===Object&&global,MH="object"==typeof self&&self&&self.Object===Object&&self,LH=DH||MH||Function("return this")(),AH=function(){return LH.Date.now()},FH=/\s/;var $H=/^\s+/;function NH(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&FH.test(e.charAt(t)););return t}(e)+1).replace($H,""):e}var jH=LH.Symbol,BH=Object.prototype,VH=BH.hasOwnProperty,HH=BH.toString,UH=jH?jH.toStringTag:void 0;var WH=Object.prototype.toString;var GH=jH?jH.toStringTag:void 0;function zH(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":GH&&GH in Object(e)?function(e){var t=VH.call(e,UH),i=e[UH];try{e[UH]=void 0;var n=!0}catch(VY){}var r=HH.call(e);return n&&(t?e[UH]=i:delete e[UH]),r}(e):function(e){return WH.call(e)}(e)}var YH=/^[-+]0x[0-9a-f]+$/i,qH=/^0b[01]+$/i,KH=/^0o[0-7]+$/i,XH=parseInt;function ZH(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==zH(e)}(e))return NaN;if(TH(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=TH(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=NH(e);var i=qH.test(e);return i||KH.test(e)?XH(e.slice(2),i?2:8):YH.test(e)?NaN:+e}var JH=Math.max,QH=Math.min;function eU(e,t,i){var n,r,o,s,a,l,u=0,c=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var i=n,o=r;return n=r=void 0,u=t,s=e.apply(o,i)}function f(e){var i=e-l;return void 0===l||i>=t||i<0||h&&e-u>=o}function _(){var e=AH();if(f(e))return g(e);a=setTimeout(_,function(e){var i=t-(e-l);return h?QH(i,o-(e-u)):i}(e))}function g(e){return a=void 0,d&&n?p(e):(n=r=void 0,s)}function m(){var e=AH(),i=f(e);if(n=arguments,r=this,l=e,i){if(void 0===a)return function(e){return u=e,a=setTimeout(_,t),c?p(e):s}(l);if(h)return clearTimeout(a),a=setTimeout(_,t),p(l)}return void 0===a&&(a=setTimeout(_,t)),s}return t=ZH(t)||0,TH(i)&&(c=!!i.leading,o=(h="maxWait"in i)?JH(ZH(i.maxWait)||0,t):o,d="trailing"in i?!!i.trailing:d),m.cancel=function(){void 0!==a&&clearTimeout(a),u=0,n=l=r=a=void 0},m.flush=function(){return void 0===a?s:g(AH())},m}var tU=function(){return tU=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},tU.apply(this,arguments)};function iU(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}function nU(e){return e&&e.ownerDocument?e.ownerDocument:document}var rU=function(e){return Array.prototype.reduce.call(e,function(e,t){var i=t.name.match(/data-simplebar-(.+)/);if(i){var n=i[1].replace(/\W+(.)/g,function(e,t){return t.toUpperCase()});switch(t.value){case"true":e[n]=!0;break;case"false":e[n]=!1;break;case void 0:e[n]=!0;break;default:e[n]=t.value}}return e},{})};function oU(e,t){var i;e&&(i=e.classList).add.apply(i,t.split(" "))}function sU(e,t){e&&t.split(" ").forEach(function(t){e.classList.remove(t)})}function aU(e){return".".concat(e.split(" ").join("."))}var lU=!("undefined"==typeof window||!window.document||!window.document.createElement),uU=Object.freeze({__proto__:null,addClasses:oU,canUseDOM:lU,classNamesToQuery:aU,getElementDocument:nU,getElementWindow:iU,getOptions:rU,removeClasses:sU}),cU=null,hU=null;function dU(){if(null===cU){if("undefined"==typeof document)return cU=0;var e=document.body,t=document.createElement("div");t.classList.add("simplebar-hide-scrollbar"),e.appendChild(t);var i=t.getBoundingClientRect().right;e.removeChild(t),cU=i}return cU}lU&&window.addEventListener("resize",function(){hU!==window.devicePixelRatio&&(hU=window.devicePixelRatio,cU=null)});var pU,fU=iU,_U=nU,gU=rU,mU=oU,yU=sU,vU=aU,bU=function(){function e(t,i){void 0===i&&(i={});var n=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.isDragging=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var e=fU(n.el);n.scrollXTicking||(e.requestAnimationFrame(n.scrollX),n.scrollXTicking=!0),n.scrollYTicking||(e.requestAnimationFrame(n.scrollY),n.scrollYTicking=!0),n.isScrolling||(n.isScrolling=!0,mU(n.el,n.classNames.scrolling)),n.showScrollbar("x"),n.showScrollbar("y"),n.onStopScrolling()},this.scrollX=function(){n.axis.x.isOverflowing&&n.positionScrollbar("x"),n.scrollXTicking=!1},this.scrollY=function(){n.axis.y.isOverflowing&&n.positionScrollbar("y"),n.scrollYTicking=!1},this._onStopScrolling=function(){yU(n.el,n.classNames.scrolling),n.options.autoHide&&(n.hideScrollbar("x"),n.hideScrollbar("y")),n.isScrolling=!1},this.onMouseEnter=function(){n.isMouseEntering||(mU(n.el,n.classNames.mouseEntered),n.showScrollbar("x"),n.showScrollbar("y"),n.isMouseEntering=!0),n.onMouseEntered()},this._onMouseEntered=function(){yU(n.el,n.classNames.mouseEntered),n.options.autoHide&&(n.hideScrollbar("x"),n.hideScrollbar("y")),n.isMouseEntering=!1},this._onMouseMove=function(e){n.mouseX=e.clientX,n.mouseY=e.clientY,(n.axis.x.isOverflowing||n.axis.x.forceVisible)&&n.onMouseMoveForAxis("x"),(n.axis.y.isOverflowing||n.axis.y.forceVisible)&&n.onMouseMoveForAxis("y")},this.onMouseLeave=function(){n.onMouseMove.cancel(),(n.axis.x.isOverflowing||n.axis.x.forceVisible)&&n.onMouseLeaveForAxis("x"),(n.axis.y.isOverflowing||n.axis.y.forceVisible)&&n.onMouseLeaveForAxis("y"),n.mouseX=-1,n.mouseY=-1},this._onWindowResize=function(){n.scrollbarWidth=n.getScrollbarWidth(),n.hideNativeScrollbar()},this.onPointerEvent=function(e){var t,i;n.axis.x.track.el&&n.axis.y.track.el&&n.axis.x.scrollbar.el&&n.axis.y.scrollbar.el&&(n.axis.x.track.rect=n.axis.x.track.el.getBoundingClientRect(),n.axis.y.track.rect=n.axis.y.track.el.getBoundingClientRect(),(n.axis.x.isOverflowing||n.axis.x.forceVisible)&&(t=n.isWithinBounds(n.axis.x.track.rect)),(n.axis.y.isOverflowing||n.axis.y.forceVisible)&&(i=n.isWithinBounds(n.axis.y.track.rect)),(t||i)&&(e.stopPropagation(),"pointerdown"===e.type&&"touch"!==e.pointerType&&(t&&(n.axis.x.scrollbar.rect=n.axis.x.scrollbar.el.getBoundingClientRect(),n.isWithinBounds(n.axis.x.scrollbar.rect)?n.onDragStart(e,"x"):n.onTrackClick(e,"x")),i&&(n.axis.y.scrollbar.rect=n.axis.y.scrollbar.el.getBoundingClientRect(),n.isWithinBounds(n.axis.y.scrollbar.rect)?n.onDragStart(e,"y"):n.onTrackClick(e,"y")))))},this.drag=function(t){var i,r,o,s,a,l,u,c,h,d,p;if(n.draggedAxis&&n.contentWrapperEl){var f=n.axis[n.draggedAxis].track,_=null!==(r=null===(i=f.rect)||void 0===i?void 0:i[n.axis[n.draggedAxis].sizeAttr])&&void 0!==r?r:0,g=n.axis[n.draggedAxis].scrollbar,m=null!==(s=null===(o=n.contentWrapperEl)||void 0===o?void 0:o[n.axis[n.draggedAxis].scrollSizeAttr])&&void 0!==s?s:0,y=parseInt(null!==(l=null===(a=n.elStyles)||void 0===a?void 0:a[n.axis[n.draggedAxis].sizeAttr])&&void 0!==l?l:"0px",10);t.preventDefault(),t.stopPropagation();var v=("y"===n.draggedAxis?t.pageY:t.pageX)-(null!==(c=null===(u=f.rect)||void 0===u?void 0:u[n.axis[n.draggedAxis].offsetAttr])&&void 0!==c?c:0)-n.axis[n.draggedAxis].dragOffset,b=(v="x"===n.draggedAxis&&n.isRtl?(null!==(d=null===(h=f.rect)||void 0===h?void 0:h[n.axis[n.draggedAxis].sizeAttr])&&void 0!==d?d:0)-g.size-v:v)/(_-g.size)*(m-y);"x"===n.draggedAxis&&n.isRtl&&(b=(null===(p=e.getRtlHelpers())||void 0===p?void 0:p.isScrollingToNegative)?-b:b),n.contentWrapperEl[n.axis[n.draggedAxis].scrollOffsetAttr]=b}},this.onEndDrag=function(e){n.isDragging=!1;var t=_U(n.el),i=fU(n.el);e.preventDefault(),e.stopPropagation(),yU(n.el,n.classNames.dragging),n.onStopScrolling(),t.removeEventListener("mousemove",n.drag,!0),t.removeEventListener("mouseup",n.onEndDrag,!0),n.removePreventClickId=i.setTimeout(function(){t.removeEventListener("click",n.preventClick,!0),t.removeEventListener("dblclick",n.preventClick,!0),n.removePreventClickId=null})},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.options=tU(tU({},e.defaultOptions),i),this.classNames=tU(tU({},e.defaultOptions.classNames),i.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},"object"!=typeof this.el||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=function(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return TH(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),eU(e,t,{leading:n,maxWait:t,trailing:r})}(this._onMouseMove,64),this.onWindowResize=eU(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=eU(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=eU(this._onMouseEntered,this.stopScrollDelay),this.init()}return e.getRtlHelpers=function(){if(e.rtlHelpers)return e.rtlHelpers;var t=document.createElement("div");t.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var i=t.firstElementChild,n=null==i?void 0:i.firstElementChild;if(!n)return null;document.body.appendChild(i),i.scrollLeft=0;var r=e.getOffset(i),o=e.getOffset(n);i.scrollLeft=-999;var s=e.getOffset(n);return document.body.removeChild(i),e.rtlHelpers={isScrollOriginAtZero:r.left!==o.left,isScrollingToNegative:o.left!==s.left},e.rtlHelpers},e.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:dU()}catch(VY){return dU()}},e.getOffset=function(e){var t=e.getBoundingClientRect(),i=_U(e),n=fU(e);return{top:t.top+(n.pageYOffset||i.documentElement.scrollTop),left:t.left+(n.pageXOffset||i.documentElement.scrollLeft)}},e.prototype.init=function(){lU&&(this.initDOM(),this.rtlHelpers=e.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.prototype.initDOM=function(){var e,t;this.wrapperEl=this.el.querySelector(vU(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(vU(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(vU(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(vU(this.classNames.offset)),this.maskEl=this.el.querySelector(vU(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,vU(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(vU(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(vU(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(vU(this.classNames.track)).concat(vU(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(vU(this.classNames.track)).concat(vU(this.classNames.vertical))),this.axis.x.scrollbar.el=(null===(e=this.axis.x.track.el)||void 0===e?void 0:e.querySelector(vU(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=(null===(t=this.axis.y.track.el)||void 0===t?void 0:t.querySelector(vU(this.classNames.scrollbar)))||null,this.options.autoHide||(mU(this.axis.x.scrollbar.el,this.classNames.visible),mU(this.axis.y.scrollbar.el,this.classNames.visible))},e.prototype.initListeners=function(){var e,t=this,i=fU(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),null===(e=this.contentWrapperEl)||void 0===e||e.addEventListener("scroll",this.onScroll),i.addEventListener("resize",this.onWindowResize),this.contentEl){if(window.ResizeObserver){var n=!1,r=i.ResizeObserver||ResizeObserver;this.resizeObserver=new r(function(){n&&i.requestAnimationFrame(function(){t.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),i.requestAnimationFrame(function(){n=!0})}this.mutationObserver=new i.MutationObserver(function(){i.requestAnimationFrame(function(){t.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},e.prototype.recalculate=function(){if(this.heightAutoObserverEl&&this.contentEl&&this.contentWrapperEl&&this.wrapperEl&&this.placeholderEl){var e=fU(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var t=this.contentEl.offsetWidth,i=this.heightAutoObserverEl.offsetHeight<=1,n=this.heightAutoObserverEl.offsetWidth<=1||t>0,r=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,s=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var a=this.contentEl.scrollHeight,l=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=i?"auto":"100%",this.placeholderEl.style.width=n?"".concat(t||l,"px"):"auto",this.placeholderEl.style.height="".concat(a,"px");var u=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=0!==t&&l>t,this.axis.y.isOverflowing=a>u,this.axis.x.isOverflowing="hidden"!==o&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==s&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var c=this.axis.x.isOverflowing?this.scrollbarWidth:0,h=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&l>r-h,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&a>u-c,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},e.prototype.getScrollbarSize=function(e){var t,i;if(void 0===e&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var n,r=this.contentEl[this.axis[e].scrollSizeAttr],o=null!==(i=null===(t=this.axis[e].track.el)||void 0===t?void 0:t[this.axis[e].offsetSizeAttr])&&void 0!==i?i:0,s=o/r;return n=Math.max(~~(s*o),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(n=Math.min(n,this.options.scrollbarMaxSize)),n},e.prototype.positionScrollbar=function(t){var i,n,r;void 0===t&&(t="y");var o=this.axis[t].scrollbar;if(this.axis[t].isOverflowing&&this.contentWrapperEl&&o.el&&this.elStyles){var s=this.contentWrapperEl[this.axis[t].scrollSizeAttr],a=(null===(i=this.axis[t].track.el)||void 0===i?void 0:i[this.axis[t].offsetSizeAttr])||0,l=parseInt(this.elStyles[this.axis[t].sizeAttr],10),u=this.contentWrapperEl[this.axis[t].scrollOffsetAttr];u="x"===t&&this.isRtl&&(null===(n=e.getRtlHelpers())||void 0===n?void 0:n.isScrollOriginAtZero)?-u:u,"x"===t&&this.isRtl&&(u=(null===(r=e.getRtlHelpers())||void 0===r?void 0:r.isScrollingToNegative)?u:-u);var c=u/(s-l),h=~~((a-o.size)*c);h="x"===t&&this.isRtl?-h+(a-o.size):h,o.el.style.transform="x"===t?"translate3d(".concat(h,"px, 0, 0)"):"translate3d(0, ".concat(h,"px, 0)")}},e.prototype.toggleTrackVisibility=function(e){void 0===e&&(e="y");var t=this.axis[e].track.el,i=this.axis[e].scrollbar.el;t&&i&&this.contentWrapperEl&&(this.axis[e].isOverflowing||this.axis[e].forceVisible?(t.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(t.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?i.style.display="block":i.style.display="none")},e.prototype.showScrollbar=function(e){void 0===e&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(mU(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},e.prototype.hideScrollbar=function(e){void 0===e&&(e="y"),this.isDragging||this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&(yU(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},e.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},e.prototype.onMouseMoveForAxis=function(e){void 0===e&&(e="y");var t=this.axis[e];t.track.el&&t.scrollbar.el&&(t.track.rect=t.track.el.getBoundingClientRect(),t.scrollbar.rect=t.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(t.track.rect)?(this.showScrollbar(e),mU(t.track.el,this.classNames.hover),this.isWithinBounds(t.scrollbar.rect)?mU(t.scrollbar.el,this.classNames.hover):yU(t.scrollbar.el,this.classNames.hover)):(yU(t.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},e.prototype.onMouseLeaveForAxis=function(e){void 0===e&&(e="y"),yU(this.axis[e].track.el,this.classNames.hover),yU(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},e.prototype.onDragStart=function(e,t){var i;void 0===t&&(t="y"),this.isDragging=!0;var n=_U(this.el),r=fU(this.el),o=this.axis[t].scrollbar,s="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=s-((null===(i=o.rect)||void 0===i?void 0:i[this.axis[t].offsetAttr])||0),this.draggedAxis=t,mU(this.el,this.classNames.dragging),n.addEventListener("mousemove",this.drag,!0),n.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(n.addEventListener("click",this.preventClick,!0),n.addEventListener("dblclick",this.preventClick,!0)):(r.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.prototype.onTrackClick=function(e,t){var i,n,r,o,s=this;void 0===t&&(t="y");var a=this.axis[t];if(this.options.clickOnTrack&&a.scrollbar.el&&this.contentWrapperEl){e.preventDefault();var l=fU(this.el);this.axis[t].scrollbar.rect=a.scrollbar.el.getBoundingClientRect();var u=null!==(n=null===(i=this.axis[t].scrollbar.rect)||void 0===i?void 0:i[this.axis[t].offsetAttr])&&void 0!==n?n:0,c=parseInt(null!==(o=null===(r=this.elStyles)||void 0===r?void 0:r[this.axis[t].sizeAttr])&&void 0!==o?o:"0px",10),h=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],d=("y"===t?this.mouseY-u:this.mouseX-u)<0?-1:1,p=-1===d?h-c:h+c,f=function(){s.contentWrapperEl&&(-1===d?h>p&&(h-=40,s.contentWrapperEl[s.axis[t].scrollOffsetAttr]=h,l.requestAnimationFrame(f)):h<p&&(h+=40,s.contentWrapperEl[s.axis[t].scrollOffsetAttr]=h,l.requestAnimationFrame(f)))};f()}},e.prototype.getContentElement=function(){return this.contentEl},e.prototype.getScrollElement=function(){return this.contentWrapperEl},e.prototype.removeListeners=function(){var e=fU(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},e.prototype.unMount=function(){this.removeListeners()},e.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},e.prototype.findChild=function(e,t){var i=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,function(e){return i.call(e,t)})[0]},e.rtlHelpers=null,e.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",tabIndex:0,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},e.getOptions=gU,e.helpers=uU,e}(),wU=function(){return wU=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},wU.apply(this,arguments)};var CU=xn(((pU={name:"simplebar-vue",props:{autoHide:{type:Boolean,default:void 0},classNames:Object,forceVisible:{type:[Boolean,String],validator:function(e){return"boolean"==typeof e||"x"===e||"y"===e},default:void 0},ariaLabel:String,tabIndex:Number,direction:{type:String,validator:function(e){return"ltr"===e||"rtl"===e}},timeout:Number,clickOnTrack:{type:Boolean,default:void 0},scrollbarMinSize:Number,scrollbarMaxSize:Number},emits:["scroll"],data:function(){return{}},mounted:function(){for(var e=bU.getOptions(this.$refs.element.attributes),t=0,i=Object.entries(this.$props);t<i.length;t++){var n=i[t],r=n[0],o=n[1];null!=o&&"function"!=typeof o&&(e[r]=o)}this.SimpleBar=new bU(this.$refs.element,e),this.scrollElement=this.$refs.scrollElement,this.contentElement=this.$refs.contentElement}}).beforeUnmount=function(){var e;null===(e=this.SimpleBar)||void 0===e||e.unMount(),this.SimpleBar=void 0},pU.methods={recalculate:function(){var e;null===(e=this.SimpleBar)||void 0===e||e.recalculate()}},pU.render=function(e){var t,i,n,r,o,s,a,l=this;return t={h:"function"==typeof e?e:Ts,emit:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l.$emit.apply(l,e)},slots:this.$slots,props:this.$props},n=t.h,r=t.emit,o=t.slots,s=t.props,a=wU(wU({},bU.defaultOptions.classNames),s.classNames),n("div",wU({ref:"element"},{"data-simplebar":"init"}),[n("div",{class:a.wrapper},[n("div",{class:a.heightAutoObserverWrapperEl},[n("div",{class:a.heightAutoObserverEl})]),n("div",{class:a.mask},[n("div",{class:a.offset},[n("div",wU(wU({},{onScroll:function(e){return r("scroll",e)},class:a.contentWrapper,tabIndex:s.tabIndex||bU.defaultOptions.tabIndex,role:"region","aria-label":s.ariaLabel||bU.defaultOptions.ariaLabel}),{ref:"scrollElement"}),[n("div",{class:a.contentEl,ref:"contentElement"},null===(i=o.default)||void 0===i?void 0:i.call(o))])])]),n("div",{class:a.placeholder})]),n("div",{class:"".concat(a.track," simplebar-horizontal")},[n("div",{class:a.scrollbar})]),n("div",{class:"".concat(a.track," simplebar-vertical")},[n("div",{class:a.scrollbar})])])},pU));const xU=(e,t)=>{const i=e.__vccOpts||e;for(const[n,r]of t)i[n]=r;return i};const IU=xU({__name:"element-scroll",setup(e,{expose:t}){t();const i={get Simplebar(){return CU}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},[["render",function(e,t,i,n,r,o){return jo(),Wo(n.Simplebar,null,{default:zi(()=>[rr(e.$slots,"default")]),_:3})}],["__file","/Users/kokimin/WorkSpace/vue_design_system/src/components/display/element-scroll.vue"]]),EU={class:"tab_router"},OU={type:"button"},SU=["onClick"],kU=["onClick"];const PU=xU({__name:"frame-tab",setup(e,{expose:t}){t();const i=aN(),n=rN(),r=Dr("emitter");r.on("mittFrameRemoveMenuClickEvent",e=>{s(e.tab,e.index)}),r.on("mittFrameMoveMenuClickEvent",e=>{o(e)}),Wn(()=>{r.off("mittFrameRemoveMenuClickEvent"),r.off("mittFrameMoveMenuClickEvent")});const o=e=>{"dashboard"===e?(i.setActiveGnb(null),i.setActiveMenu({}),CH.routerNamePush("dashboard")):(i.setActiveGnb(e.parentMenuId[0]),i.setActiveMenu(e.menuId),CH.routerNamePush(e.menuId))},s=(e,t)=>{if(0===t)i.setActiveGnb(null),i.setActiveMenu({}),i.removeRouterTab(e),CH.routerNamePush("dashboard");else{const n=i.getRouterTabs[t-1];i.setActiveGnb(n.parentMenuId[0]),i.setActiveMenu(n.menuId),i.removeRouterTab(e),CH.routerNamePush(n.menuId)}},a={sessionRootStore:i,router:n,emitter:r,routerTabMoveClick:e=>{r.emit(`mittMenuCheck_${n.currentRoute.value.name}`,{target:"FrameMove",data:e})},routerTabMove:o,routerTabRemoveClick:(e,t)=>{r.emit(`mittMenuCheck_${e.menuId}`,{target:"FrameRemove",data:{tab:e,index:t}})},routerTabRemove:s,inject:Dr,onUnmounted:Wn,get useRouter(){return rN},get useSessionRootStore(){return aN},get utils(){return CH},ElementScroll:IU};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}},[["render",function(e,t,i,n,r,o){return jo(),Uo("div",EU,[Xo(n.ElementScroll,null,{default:zi(()=>[Ko("ul",null,[Ko("li",{class:G(["dashboard"===n.router.currentRoute.value.name?"active":""])},[Ko("button",{type:"button",class:"ico_home",onClick:t[0]||(t[0]=Da(e=>n.routerTabMoveClick("dashboard"),["stop"]))},t[1]||(t[1]=[Ko("a",null,[Ko("span",{class:"hide"},"  ")],-1)]))],2),(jo(!0),Uo(Mo,null,ir(n.sessionRootStore.getRouterTabs,(e,i)=>(jo(),Uo("li",{key:e.menuId,class:G([e.menuId===n.router.currentRoute.value.name?"active":""])},[Ko("button",OU,[Ko("a",{onClick:t=>n.routerTabMoveClick(e)},ee(e.menuNm),9,SU),Ko("a",{class:"ico_del",onClick:Da(t=>n.routerTabRemoveClick(e,i),["stop"])},[...t[2]||(t[2]=[Ko("span",{class:"hide"},"  ",-1)])],8,kU)])],2))),128))])]),_:1})])}],["__file","/Users/kokimin/WorkSpace/vue_design_system/src/components/layout/frame-tab.vue"]]);const RU=xU({__name:"element-button",props:{theme:{type:String,default:""},className:{type:String,default:"btn"},addClass:{type:String,default:""},size:{type:String,default:"sm"}},emits:["click"],setup(e,{expose:t,emit:i}){t();const n={emit:i};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}},[["render",function(e,t,i,n,r,o){return jo(),Uo("button",{type:"button",class:G([i.className,i.theme,i.addClass,i.size]),onClick:t[0]||(t[0]=e=>n.emit("click"))},[rr(e.$slots,"default")],2)}],["__file","/Users/kokimin/WorkSpace/vue_design_system/src/components/containment/element-button.vue"]]);var TU="top",DU="bottom",MU="right",LU="left",AU="auto",FU=[TU,DU,MU,LU],$U="start",NU="end",jU="viewport",BU="popper",VU=FU.reduce(function(e,t){return e.concat([t+"-"+$U,t+"-"+NU])},[]),HU=[].concat(FU,[AU]).reduce(function(e,t){return e.concat([t,t+"-"+$U,t+"-"+NU])},[]),UU=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function WU(e){return e?(e.nodeName||"").toLowerCase():null}function GU(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function zU(e){return e instanceof GU(e).Element||e instanceof Element}function YU(e){return e instanceof GU(e).HTMLElement||e instanceof HTMLElement}function qU(e){return"undefined"!=typeof ShadowRoot&&(e instanceof GU(e).ShadowRoot||e instanceof ShadowRoot)}const KU={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},r=t.elements[e];YU(r)&&WU(r)&&(Object.assign(r.style,i),Object.keys(n).forEach(function(e){var t=n[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(e){var n=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce(function(e,t){return e[t]="",e},{});YU(n)&&WU(n)&&(Object.assign(n.style,o),Object.keys(r).forEach(function(e){n.removeAttribute(e)}))})}},requires:["computeStyles"]};function XU(e){return e.split("-")[0]}var ZU=Math.max,JU=Math.min,QU=Math.round;function eW(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function tW(){return!/^((?!chrome|android).)*safari/i.test(eW())}function iW(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),r=1,o=1;t&&YU(e)&&(r=e.offsetWidth>0&&QU(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&QU(n.height)/e.offsetHeight||1);var s=(zU(e)?GU(e):window).visualViewport,a=!tW()&&i,l=(n.left+(a&&s?s.offsetLeft:0))/r,u=(n.top+(a&&s?s.offsetTop:0))/o,c=n.width/r,h=n.height/o;return{width:c,height:h,top:u,right:l+c,bottom:u+h,left:l,x:l,y:u}}function nW(e){var t=iW(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function rW(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&qU(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function oW(e){return GU(e).getComputedStyle(e)}function sW(e){return["table","td","th"].indexOf(WU(e))>=0}function aW(e){return((zU(e)?e.ownerDocument:e.document)||window.document).documentElement}function lW(e){return"html"===WU(e)?e:e.assignedSlot||e.parentNode||(qU(e)?e.host:null)||aW(e)}function uW(e){return YU(e)&&"fixed"!==oW(e).position?e.offsetParent:null}function cW(e){for(var t=GU(e),i=uW(e);i&&sW(i)&&"static"===oW(i).position;)i=uW(i);return i&&("html"===WU(i)||"body"===WU(i)&&"static"===oW(i).position)?t:i||function(e){var t=/firefox/i.test(eW());if(/Trident/i.test(eW())&&YU(e)&&"fixed"===oW(e).position)return null;var i=lW(e);for(qU(i)&&(i=i.host);YU(i)&&["html","body"].indexOf(WU(i))<0;){var n=oW(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}function hW(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function dW(e,t,i){return ZU(e,JU(t,i))}function pW(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function fW(e,t){return t.reduce(function(t,i){return t[i]=e,t},{})}function _W(e){return e.split("-")[1]}var gW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mW(e){var t,i=e.popper,n=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,h=e.isFixed,d=s.x,p=void 0===d?0:d,f=s.y,_=void 0===f?0:f,g="function"==typeof c?c({x:p,y:_}):{x:p,y:_};p=g.x,_=g.y;var m=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),v=LU,b=TU,w=window;if(u){var C=cW(i),x="clientHeight",I="clientWidth";if(C===GU(i)&&"static"!==oW(C=aW(i)).position&&"absolute"===a&&(x="scrollHeight",I="scrollWidth"),r===TU||(r===LU||r===MU)&&o===NU)b=DU,_-=(h&&C===w&&w.visualViewport?w.visualViewport.height:C[x])-n.height,_*=l?1:-1;if(r===LU||(r===TU||r===DU)&&o===NU)v=MU,p-=(h&&C===w&&w.visualViewport?w.visualViewport.width:C[I])-n.width,p*=l?1:-1}var E,O=Object.assign({position:a},u&&gW),S=!0===c?function(e,t){var i=e.x,n=e.y,r=t.devicePixelRatio||1;return{x:QU(i*r)/r||0,y:QU(n*r)/r||0}}({x:p,y:_},GU(i)):{x:p,y:_};return p=S.x,_=S.y,l?Object.assign({},O,((E={})[b]=y?"0":"",E[v]=m?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+_+"px)":"translate3d("+p+"px, "+_+"px, 0)",E)):Object.assign({},O,((t={})[b]=y?_+"px":"",t[v]=m?p+"px":"",t.transform="",t))}var yW={passive:!0};var vW={left:"right",right:"left",bottom:"top",top:"bottom"};function bW(e){return e.replace(/left|right|bottom|top/g,function(e){return vW[e]})}var wW={start:"end",end:"start"};function CW(e){return e.replace(/start|end/g,function(e){return wW[e]})}function xW(e){var t=GU(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function IW(e){return iW(aW(e)).left+xW(e).scrollLeft}function EW(e){var t=oW(e),i=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function OW(e){return["html","body","#document"].indexOf(WU(e))>=0?e.ownerDocument.body:YU(e)&&EW(e)?e:OW(lW(e))}function SW(e,t){var i;void 0===t&&(t=[]);var n=OW(e),r=n===(null==(i=e.ownerDocument)?void 0:i.body),o=GU(n),s=r?[o].concat(o.visualViewport||[],EW(n)?n:[]):n,a=t.concat(s);return r?a:a.concat(SW(lW(s)))}function kW(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function PW(e,t,i){return t===jU?kW(function(e,t){var i=GU(e),n=aW(e),r=i.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var u=tW();(u||!u&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+IW(e),y:l}}(e,i)):zU(t)?function(e,t){var i=iW(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):kW(function(e){var t,i=aW(e),n=xW(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=ZU(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=ZU(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+IW(e),l=-n.scrollTop;return"rtl"===oW(r||i).direction&&(a+=ZU(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(aW(e)))}function RW(e,t,i,n){var r="clippingParents"===t?function(e){var t=SW(lW(e)),i=["absolute","fixed"].indexOf(oW(e).position)>=0&&YU(e)?cW(e):e;return zU(i)?t.filter(function(e){return zU(e)&&rW(e,i)&&"body"!==WU(e)}):[]}(e):[].concat(t),o=[].concat(r,[i]),s=o[0],a=o.reduce(function(t,i){var r=PW(e,i,n);return t.top=ZU(r.top,t.top),t.right=JU(r.right,t.right),t.bottom=JU(r.bottom,t.bottom),t.left=ZU(r.left,t.left),t},PW(e,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function TW(e){var t,i=e.reference,n=e.element,r=e.placement,o=r?XU(r):null,s=r?_W(r):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case TU:t={x:a,y:i.y-n.height};break;case DU:t={x:a,y:i.y+i.height};break;case MU:t={x:i.x+i.width,y:l};break;case LU:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var u=o?hW(o):null;if(null!=u){var c="y"===u?"height":"width";switch(s){case $U:t[u]=t[u]-(i[c]/2-n[c]/2);break;case NU:t[u]=t[u]+(i[c]/2-n[c]/2)}}return t}function DW(e,t){void 0===t&&(t={});var i=t,n=i.placement,r=void 0===n?e.placement:n,o=i.strategy,s=void 0===o?e.strategy:o,a=i.boundary,l=void 0===a?"clippingParents":a,u=i.rootBoundary,c=void 0===u?jU:u,h=i.elementContext,d=void 0===h?BU:h,p=i.altBoundary,f=void 0!==p&&p,_=i.padding,g=void 0===_?0:_,m=pW("number"!=typeof g?g:fW(g,FU)),y=d===BU?"reference":BU,v=e.rects.popper,b=e.elements[f?y:d],w=RW(zU(b)?b:b.contextElement||aW(e.elements.popper),l,c,s),C=iW(e.elements.reference),x=TW({reference:C,element:v,placement:r}),I=kW(Object.assign({},v,x)),E=d===BU?I:C,O={top:w.top-E.top+m.top,bottom:E.bottom-w.bottom+m.bottom,left:w.left-E.left+m.left,right:E.right-w.right+m.right},S=e.modifiersData.offset;if(d===BU&&S){var k=S[r];Object.keys(O).forEach(function(e){var t=[MU,DU].indexOf(e)>=0?1:-1,i=[TU,DU].indexOf(e)>=0?"y":"x";O[e]+=k[i]*t})}return O}const MW={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0===s||s,l=i.fallbackPlacements,u=i.padding,c=i.boundary,h=i.rootBoundary,d=i.altBoundary,p=i.flipVariations,f=void 0===p||p,_=i.allowedAutoPlacements,g=t.options.placement,m=XU(g),y=l||(m===g||!f?[bW(g)]:function(e){if(XU(e)===AU)return[];var t=bW(e);return[CW(e),t,CW(t)]}(g)),v=[g].concat(y).reduce(function(e,i){return e.concat(XU(i)===AU?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,r=i.boundary,o=i.rootBoundary,s=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,u=void 0===l?HU:l,c=_W(n),h=c?a?VU:VU.filter(function(e){return _W(e)===c}):FU,d=h.filter(function(e){return u.indexOf(e)>=0});0===d.length&&(d=h);var p=d.reduce(function(t,i){return t[i]=DW(e,{placement:i,boundary:r,rootBoundary:o,padding:s})[XU(i)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:i,boundary:c,rootBoundary:h,padding:u,flipVariations:f,allowedAutoPlacements:_}):i)},[]),b=t.rects.reference,w=t.rects.popper,C=new Map,x=!0,I=v[0],E=0;E<v.length;E++){var O=v[E],S=XU(O),k=_W(O)===$U,P=[TU,DU].indexOf(S)>=0,R=P?"width":"height",T=DW(t,{placement:O,boundary:c,rootBoundary:h,altBoundary:d,padding:u}),D=P?k?MU:LU:k?DU:TU;b[R]>w[R]&&(D=bW(D));var M=bW(D),L=[];if(o&&L.push(T[S]<=0),a&&L.push(T[D]<=0,T[M]<=0),L.every(function(e){return e})){I=O,x=!1;break}C.set(O,L)}if(x)for(var A=function(e){var t=v.find(function(t){var i=C.get(t);if(i)return i.slice(0,e).every(function(e){return e})});if(t)return I=t,"break"},F=f?3:1;F>0;F--){if("break"===A(F))break}t.placement!==I&&(t.modifiersData[n]._skip=!0,t.placement=I,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function LW(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function AW(e){return[TU,MU,DU,LU].some(function(t){return e[t]>=0})}function FW(e,t,i){void 0===i&&(i=!1);var n,r,o=YU(t),s=YU(t)&&function(e){var t=e.getBoundingClientRect(),i=QU(t.width)/e.offsetWidth||1,n=QU(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),a=aW(t),l=iW(e,s,i),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!i)&&(("body"!==WU(t)||EW(a))&&(u=(n=t)!==GU(n)&&YU(n)?{scrollLeft:(r=n).scrollLeft,scrollTop:r.scrollTop}:xW(n)),YU(t)?((c=iW(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=IW(a))),{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function $W(e){var t=new Map,i=new Set,n=[];function r(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!i.has(e)){var n=t.get(e);n&&r(n)}}),n.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){i.has(e.name)||r(e)}),n}function NW(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}var jW={placement:"bottom",modifiers:[],strategy:"absolute"};function BW(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function VW(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,r=t.defaultOptions,o=void 0===r?jW:r;return function(e,t,i){void 0===i&&(i=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},jW,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:r,setOptions:function(i){var a="function"==typeof i?i(r.options):i;u(),r.options=Object.assign({},o,r.options,a),r.scrollParents={reference:zU(e)?SW(e):e.contextElement?SW(e.contextElement):[],popper:SW(t)};var c,h,d=function(e){var t=$W(e);return UU.reduce(function(e,i){return e.concat(t.filter(function(e){return e.phase===i}))},[])}((c=[].concat(n,r.options.modifiers),h=c.reduce(function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e},{}),Object.keys(h).map(function(e){return h[e]})));return r.orderedModifiers=d.filter(function(e){return e.enabled}),r.orderedModifiers.forEach(function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,o=e.effect;if("function"==typeof o){var a=o({state:r,name:t,instance:l,options:n}),u=function(){};s.push(a||u)}}),l.update()},forceUpdate:function(){if(!a){var e=r.elements,t=e.reference,i=e.popper;if(BW(t,i)){r.rects={reference:FW(t,cW(i),"fixed"===r.options.strategy),popper:nW(i)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach(function(e){return r.modifiersData[e.name]=Object.assign({},e.data)});for(var n=0;n<r.orderedModifiers.length;n++)if(!0!==r.reset){var o=r.orderedModifiers[n],s=o.fn,u=o.options,c=void 0===u?{}:u,h=o.name;"function"==typeof s&&(r=s({state:r,options:c,name:h,instance:l})||r)}else r.reset=!1,n=-1}}},update:NW(function(){return new Promise(function(e){l.forceUpdate(),e(r)})}),destroy:function(){u(),a=!0}};if(!BW(e,t))return l;function u(){s.forEach(function(e){return e()}),s=[]}return l.setOptions(i).then(function(e){!a&&i.onFirstUpdate&&i.onFirstUpdate(e)}),l}}var HW=VW({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,r=n.scroll,o=void 0===r||r,s=n.resize,a=void 0===s||s,l=GU(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(e){e.addEventListener("scroll",i.update,yW)}),a&&l.addEventListener("resize",i.update,yW),function(){o&&u.forEach(function(e){e.removeEventListener("scroll",i.update,yW)}),a&&l.removeEventListener("resize",i.update,yW)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=TW({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,r=void 0===n||n,o=i.adaptive,s=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,u={placement:XU(t.placement),variation:_W(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,mW(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,mW(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},KU,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,r=i.offset,o=void 0===r?[0,0]:r,s=HU.reduce(function(e,i){return e[i]=function(e,t,i){var n=XU(e),r=[LU,TU].indexOf(n)>=0?-1:1,o="function"==typeof i?i(Object.assign({},t,{placement:e})):i,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[LU,MU].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(i,t.rects,o),e},{}),a=s[t.placement],l=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=s}},MW,{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0!==s&&s,l=i.boundary,u=i.rootBoundary,c=i.altBoundary,h=i.padding,d=i.tether,p=void 0===d||d,f=i.tetherOffset,_=void 0===f?0:f,g=DW(t,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),m=XU(t.placement),y=_W(t.placement),v=!y,b=hW(m),w="x"===b?"y":"x",C=t.modifiersData.popperOffsets,x=t.rects.reference,I=t.rects.popper,E="function"==typeof _?_(Object.assign({},t.rects,{placement:t.placement})):_,O="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(C){if(o){var P,R="y"===b?TU:LU,T="y"===b?DU:MU,D="y"===b?"height":"width",M=C[b],L=M+g[R],A=M-g[T],F=p?-I[D]/2:0,$=y===$U?x[D]:I[D],N=y===$U?-I[D]:-x[D],j=t.elements.arrow,B=p&&j?nW(j):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=V[R],U=V[T],W=dW(0,x[D],B[D]),G=v?x[D]/2-F-W-H-O.mainAxis:$-W-H-O.mainAxis,z=v?-x[D]/2+F+W+U+O.mainAxis:N+W+U+O.mainAxis,Y=t.elements.arrow&&cW(t.elements.arrow),q=Y?"y"===b?Y.clientTop||0:Y.clientLeft||0:0,K=null!=(P=null==S?void 0:S[b])?P:0,X=M+z-K,Z=dW(p?JU(L,M+G-K-q):L,M,p?ZU(A,X):A);C[b]=Z,k[b]=Z-M}if(a){var J,Q="x"===b?TU:LU,ee="x"===b?DU:MU,te=C[w],ie="y"===w?"height":"width",ne=te+g[Q],re=te-g[ee],oe=-1!==[TU,LU].indexOf(m),se=null!=(J=null==S?void 0:S[w])?J:0,ae=oe?ne:te-x[ie]-I[ie]-se+O.altAxis,le=oe?te+x[ie]+I[ie]-se-O.altAxis:re,ue=p&&oe?(he=dW(ae,te,ce=le))>ce?ce:he:dW(p?ae:ne,te,p?le:re);C[w]=ue,k[w]=ue-te}var ce,he;t.modifiersData[n]=k}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,r=e.options,o=i.elements.arrow,s=i.modifiersData.popperOffsets,a=XU(i.placement),l=hW(a),u=[LU,MU].indexOf(a)>=0?"height":"width";if(o&&s){var c=function(e,t){return pW("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:fW(e,FU))}(r.padding,i),h=nW(o),d="y"===l?TU:LU,p="y"===l?DU:MU,f=i.rects.reference[u]+i.rects.reference[l]-s[l]-i.rects.popper[u],_=s[l]-i.rects.reference[l],g=cW(o),m=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-_/2,v=c[d],b=m-h[u]-c[p],w=m/2-h[u]/2+y,C=dW(v,w,b),x=l;i.modifiersData[n]=((t={})[x]=C,t.centerOffset=C-w,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&rW(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=DW(t,{elementContext:"reference"}),a=DW(t,{altBoundary:!0}),l=LW(s,n),u=LW(a,r,o),c=AW(l),h=AW(u);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}}]});function UW(e){return"function"==typeof e?e():Ft(e)}const WW="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const GW=Object.prototype.toString,zW=()=>{},YW=qW();function qW(){var e,t;return WW&&(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||(null==(t=null==window?void 0:window.navigator)?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(null==window?void 0:window.navigator.userAgent))}function KW(e,t=200,i={}){return function(e,t){return function(...i){return new Promise((n,r)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(n).catch(r)})}}(function(e,t={}){let i,n,r=zW;const o=e=>{clearTimeout(e),r(),r=zW};return s=>{const a=UW(e),l=UW(t.maxWait);return i&&o(i),a<=0||void 0!==l&&l<=0?(n&&(o(n),n=null),Promise.resolve(s())):new Promise((e,u)=>{r=t.rejectOnCancel?u:e,l&&!n&&(n=setTimeout(()=>{i&&o(i),n=null,e(s())},l)),i=setTimeout(()=>{n&&o(n),n=null,e(s())},a)})}}(t,i),e)}function XW(e){var t;const i=UW(e);return null!=(t=null==i?void 0:i.$el)?t:i}const ZW=WW?window:void 0;function JW(...e){let t,i,n,r;if("string"==typeof e[0]||Array.isArray(e[0])?([i,n,r]=e,t=ZW):[t,i,n,r]=e,!t)return zW;Array.isArray(i)||(i=[i]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(e=>e()),o.length=0},a=_o(()=>[XW(t),UW(r)],([e,t])=>{if(s(),!e)return;const r=(a=t,"[object Object]"===GW.call(a)?{...t}:t);var a;o.push(...i.flatMap(t=>n.map(i=>((e,t,i,n)=>(e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)))(e,t,i,r))))},{immediate:!0,flush:"post"}),l=()=>{a(),s()};return function(e){!!le()&&ue(e)}(l),l}let QW=!1;const eG={modifiers:[{name:"offset",options:{offset:[0,12]}},{name:"preventOverflow",options:{padding:8}},{name:"flip",options:{fallbackPlacements:["top","bottom","left","right"]}},{name:"arrow",options:{element:":scope > .popper-content > [data-popper-arrow]"}}]},tG={top:"translateY(-7px)",bottom:"translateY(7px)",left:"translateX(-7px)",right:"translateX(7px)"},iG={top:"bottom center",bottom:"top center",left:"center right",right:"center left"},nG=function(e={}){const t={placement:"bottom",hover:!1,disableClickOutside:!1,openDelay:0,closeDelay:0,showArrow:!0,strategy:"absolute",interactive:!1,animation:"shift-in",animationDuration:300,popperOptions:{},modifiers:[],onOpened:()=>{},onClosed:()=>{},onTransition:()=>{},...e},i=Dt(void 0),n=Dt(void 0),r=Dt(void 0),o=Dt(!1),s=Dt(!1),a=Dt(!1),l=Dt(t.placement||"top"),u=Rs(()=>{let{modifiers:e}=eG;return t.modifiers&&(e=[...e,...t.modifiers]),{...eG,strategy:t.strategy,placement:t.placement,modifiers:e,...t.popperOptions}}),c=KW(async()=>{const e=await(r.value?.update());l.value=e?.placement||t.placement||"top",o.value=!0},t.openDelay),h=KW(()=>{!1!==t.hover&&!1!==t.interactive?!1===s.value&&!1===a.value&&(o.value=!1):o.value=!1},!1===t.hover||!1===t.interactive?t.closeDelay:0===t.closeDelay?150:t.closeDelay),d=(e="")=>{let t=e;""===e&&(t=o.value?"close":"open"),"open"!==t?h():c()},p=(e="",i="")=>{!1!==t.hover&&("trigger"===i?s.value="open"===e:a.value="open"===e,d(e))},f=Rs(()=>{const{animation:e}=t;if("none"===e)return{outer:"",inner:""};let i=e;return"fade-slide"===e&&(i="shift-in"),{outer:"fade",inner:i}}),_=Rs(()=>{const{animationDuration:e}=t;if(!Array.isArray(e)){const t=e||300;return{enter:t/1e3+"s",leave:t/1e3+"s"}}const[i,n]=e;return{enter:i/1e3+"s",leave:n/1e3+"s"}}),g=Rs(()=>{const e=Object.keys(tG).find(e=>l.value.startsWith(e));return void 0!==e?tG[e]:"translate(0, 0)"}),m=Rs(()=>{const e=Object.keys(iG).find(e=>l.value.startsWith(e));return void 0!==e?iG[e]:"center center"}),y=Rs(()=>{if(void 0===r.value)return"";const e={"--vue-popper-enter-duration":_.value.enter,"--vue-popper-leave-duration":_.value.leave,"--vue-popper-shift-transform":g.value,"--vue-popper-scale-transform-origin":m.value},t=function(e={},t={}){const i={...e,...t},n=[];for(const[r,o]of Object.entries(i))n.push(`${r}: ${o};`);return n.join(" ")}(r.value.state.styles.popper,e);return t}),v=(e,i)=>{void 0!==t.onTransition&&t.onTransition(e,i)};return function(e,t,i={}){const{window:n=ZW,ignore:r=[],capture:o=!0,detectIframe:s=!1}=i;if(!n)return zW;YW&&!QW&&(QW=!0,Array.from(n.document.body.children).forEach(e=>e.addEventListener("click",zW)),n.document.documentElement.addEventListener("click",zW));let a=!0;const l=e=>r.some(t=>{if("string"==typeof t)return Array.from(n.document.querySelectorAll(t)).some(t=>t===e.target||e.composedPath().includes(t));{const i=XW(t);return i&&(e.target===i||e.composedPath().includes(i))}}),u=[JW(n,"click",i=>{const n=XW(e);n&&n!==i.target&&!i.composedPath().includes(n)&&(0===i.detail&&(a=!l(i)),a?t(i):a=!0)},{passive:!0,capture:o}),JW(n,"pointerdown",t=>{const i=XW(e);a=!l(t)&&!(!i||t.composedPath().includes(i))},{passive:!0}),s&&JW(n,"blur",i=>{setTimeout(()=>{var r;const o=XW(e);"IFRAME"!==(null==(r=n.document.activeElement)?void 0:r.tagName)||(null==o?void 0:o.contains(n.document.activeElement))||t(i)},0)})].filter(Boolean)}(i,()=>{!0!==t.disableClickOutside&&d("close")},{ignore:[n]}),Bn(()=>{void 0!==i.value&&void 0!==n.value&&(r.value=HW(i.value,n.value,u.value))}),Wn(()=>{r.value?.destroy(),r.value=void 0}),_o(o,e=>{!1!==e?(void 0!==t.onOpened&&t.onOpened(),r.value?.update()):void 0!==t.onClosed&&t.onClosed()}),{triggerElement:function(e,t){const{slots:n}=t;return Ts("div",{class:"trigger-element",ref:i,ariaDescribedby:"tooltip",onMouseenter:()=>p("open","trigger"),onMouseleave:()=>p("close","trigger"),onFocus:()=>p("open"),onClick:()=>d()},n.default?n.default():"")},tooltipElement:function(e,i){const{slots:r}=i;return Ts(zs,{name:f.value.outer},{default:()=>qi(Ts("div",{class:"popper-content-wrapper",ref:n,style:y.value,onMouseleave:()=>{!1!==t.hover&&!1!==t.interactive&&p("close","tooltip")},onMouseenter:()=>{!1!==t.hover&&!1!==t.interactive&&p("open","tooltip")}},[Ts(zs,{name:f.value.inner,"data-placement":l.value,"data-name":f.value.inner,onBeforeEnter(e){v("before-enter",e)},onEnter(e){"shift-out"===f.value.inner&&(e.style.animation=`shift-out ${_.value.enter}`),v("enter",e)},onAfterEnter(e){"shift-out"===f.value.inner&&(e.style.transform=g.value),v("after-enter",e)},onBeforeLeave(e){"shift-out"===f.value.inner&&(e.style.transform=g.value,e.style.animation=""),v("before-leave",e)},onLeave(e){"shift-out"===f.value.inner&&(e.style.transform="translate(0, 0)"),v("leave",e)},onAfterLeave(e){"shift-out"===f.value.inner&&(e.style.transform="translate(0, 0)"),v("after-leave",e)}},{default:()=>qi(Ts("div",{class:"popper-content"},[r.default?r.default():"",Ts("div",{"data-popper-arrow":!0,style:!0===t.showArrow?"display: block":"display: none"})]),[[sa,!0===o.value]])})]),[[sa,!0===o.value]])})},popperInstance:r,toggleTooltip:d,isOpened:Rs(()=>o.value)}},rG=xn({__name:"VuePopper",props:{hover:{type:Boolean,default:!1},disableClickOutside:{type:Boolean,default:!1},openDelay:{type:Number,default:0,validator:e=>!!(e>=0)},closeDelay:{type:Number,default:0,validator:e=>!!(e>=0)},showArrow:{type:Boolean,default:!0},interactive:{type:Boolean,default:!1},strategy:{type:String,default:"absolute"},placement:{type:String,default:"top"},modifiers:{type:Array,default:()=>[]},animation:{type:String,default:"shift-in"},animationDuration:{type:[Number,Array],default:300,validator:e=>Array.isArray(e)?e.every(e=>"number"==typeof e&&e>=0):"number"==typeof e&&e>=0},popperOptions:{type:Object,default:()=>({})}},emits:["opened","closed","transition"],setup(e,{expose:t,emit:i}){const n=e,r=i;Object.keys(n.popperOptions).length;const{popperInstance:o,triggerElement:s,tooltipElement:a,isOpened:l,toggleTooltip:u}=nG({hover:n.hover,disableClickOutside:n.disableClickOutside,openDelay:n.openDelay,closeDelay:n.closeDelay,showArrow:n.showArrow,strategy:n.strategy,modifiers:n.modifiers,animation:n.animation,placement:n.placement,interactive:n.interactive,animationDuration:n.animationDuration,onTransition:(e,t)=>{r("transition",e,t)},onOpened:()=>{r("opened")},onClosed:()=>{r("closed")}});t({popper:o,isOpened:Rs(()=>l.value),toggleTooltip:u});const c={properties:n,emit:r,popperInstance:o,triggerElement:s,tooltipElement:a,isOpened:l,toggleTooltip:u};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),oG={class:"popper-container"};const sG=xU(rG,[["render",function(e,t,i,n,r,o){return jo(),Uo("div",oG,[(jo(),Wo(Jn(n.triggerElement),null,{default:zi(()=>[rr(e.$slots,"default")]),_:3})),(jo(),Wo(Jn(n.tooltipElement),null,{default:zi(()=>[rr(e.$slots,"content")]),_:3}))])}],["__file","/Users/kokimin/WorkSpace/vue_design_system/node_modules/@kalimahapps/vue-popper/src/VuePopper.vue"]]);const aG=xU({__name:"element-tooltip",props:{msg:{type:String,default:""},isHover:{type:Boolean,default:!0},placement:{type:String,default:"top"},className:{type:String,default:""}},setup(e,{expose:t}){t();const i={get VuePopper(){return sG}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},[["render",function(e,t,i,n,r,o){return jo(),Wo(n.VuePopper,{hover:i.isHover,placement:i.placement,class:G(i.className)},nr({default:zi(()=>[rr(e.$slots,"default")]),_:2},[e.$slots.detailBody?{name:"content",fn:zi(()=>[rr(e.$slots,"detailBody")]),key:"0"}:{name:"content",fn:zi(()=>[es(ee(i.msg),1)]),key:"1"}]),1032,["hover","placement","class"])}],["__file","/Users/kokimin/WorkSpace/vue_design_system/src/components/containment/element-tooltip.vue"]]),lG={__name:"header-view",props:{router:{type:Object,default:()=>({})}},setup(e,{expose:t}){t();const i=aN(),n=sN(),r=Dr("emitter"),{t:o,locale:s}=TT();Wn(()=>{r.off("mittGnbMenuClickEvent")});const a={sessionRootStore:i,localTempStore:n,emitter:r,t:o,locale:s,gnbMenuActiveClick:e=>{r.emit("mittGnbMenuClickEvent",e)},logOutClick:()=>{CH.routerNamePush("login")},languageClick:()=>{s.value="en"===s.value?"ko":"en",n.setLocale(s.value)},inject:Dr,onUnmounted:Wn,get useI18n(){return TT},get useLocalTempStore(){return sN},get useSessionRootStore(){return aN},get utils(){return CH},ElementButton:RU,ElementTooltip:aG};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}},uG={class:"header_container"},cG={class:"gnb"},hG=["onClick"],dG={class:"util"},pG={class:"account_wrap"},fG={class:"account_info"},_G={class:"name"},gG={class:"c_name"},mG={class:"account_menu"};const yG=xU(lG,[["render",function(e,t,i,n,r,o){return jo(),Uo("header",uG,[Ko("nav",cG,[Ko("ul",null,[(jo(!0),Uo(Mo,null,ir(n.sessionRootStore.getMenus,(e,t)=>(jo(),Uo("li",{key:t,class:G(n.sessionRootStore.getActiveGnb===e.menuId?"active":"")},[Ko("a",{onClick:t=>n.gnbMenuActiveClick(e)},ee(e.menuNm),9,hG)],2))),128))])]),Ko("div",dG,[Xo(n.ElementButton,{className:"btn_menu",onClick:t[0]||(t[0]=e=>n.languageClick())},{default:zi(()=>t[2]||(t[2]=[Ko("span",{class:"hide"},"",-1)])),_:1,__:[2]}),Xo(n.ElementButton,{className:"btn_alram"},{default:zi(()=>t[3]||(t[3]=[Ko("span",{class:"hide"},"",-1),Ko("span",{class:"count"},"99",-1)])),_:1,__:[3]}),Ko("div",pG,[Xo(n.ElementTooltip,{isHover:!1,placement:"bottom-end"},{detailBody:zi(()=>[Ko("div",fG,[Ko("p",_G,ee(n.sessionRootStore.getUser.userNm),1),Ko("p",gG,ee(n.sessionRootStore.getUser.departmentNm),1)]),Ko("ul",mG,[Ko("li",null,[Xo(n.ElementButton,{className:"btn_modify"},{default:zi(()=>[es(ee(n.t("common.button.userModify")),1)]),_:1})]),Ko("li",null,[Xo(n.ElementButton,{className:"btn_setting"},{default:zi(()=>[es(ee(n.t("common.button.setting")),1)]),_:1})]),Ko("li",null,[Xo(n.ElementButton,{className:"btn_logout",onClick:t[1]||(t[1]=e=>n.logOutClick())},{default:zi(()=>[es(ee(n.t("common.button.logout")),1)]),_:1})])])]),default:zi(()=>[Xo(n.ElementButton,{className:"btn_account"},{default:zi(()=>[es(ee(n.sessionRootStore.getUser.userNm),1)]),_:1})]),_:1})])])])}],["__file","/Users/kokimin/WorkSpace/vue_design_system/src/components/layout/header-view.vue"]]),vG={class:"aside"},bG={class:"inner"},wG={key:0,class:"row_menu"},CG={class:"menu"},xG=["onClick"],IG={key:0,class:"sub2"},EG=["onClick"];const OG=xU({__name:"sideBar-view",setup(e,{expose:t}){t();const i=aN(),n=Dr("emitter");n.on("mittGnbMenuClickEvent",e=>{s.value=e.menuId,o.value||c(o.value)}),n.on("mittSideBarMenuClickEvent",e=>{u(e)});const r=yt({isSideBar:i.getActiveSidebar,activeGnbMenuId:i.getActiveGnb||null,openSubMenuIds:[]}),{isSideBar:o,activeGnbMenuId:s,openSubMenuIds:a}=Bt(r);jn(async()=>{if(i.getActiveMenu&&l.value&&!a.value.includes(i.getActiveMenu)){const e=CH.flattenDeepAll([l.value]).find(e=>e.menuId===i.getActiveMenu);e&&e.parentIds.length>=3&&a.value.push(e.parentIds[e.parentIds.length-2])}}),Wn(()=>{n.off("mittGnbMenuClickEvent"),n.off("mittSideBarMenuClickEvent")});const l=Rs({get(){const e=s.value?s.value:i.getActiveGnb;return i.getMenus.find(t=>t.menuId===e)}});_o(()=>i.getActiveGnb,e=>{s.value=e});const u=e=>{e.children.length>0?a.value.includes(e.menuId)?a.value=a.value.filter(t=>t!==e.menuId):a.value.push(e.menuId):(i.setActiveGnb(s.value),i.setActiveMenu(e.menuId),i.addRouterTab(e),CH.routerNamePush(e.menuId))},c=e=>{o.value=!e,i.setActiveSidebar(!e)},h={sessionRootStore:i,emitter:n,data:r,isSideBar:o,activeGnbMenuId:s,openSubMenuIds:a,subMenuInfo:l,menuClick:e=>{CH.isEmpty(i.getActiveMenu)?u(e):n.emit(`mittMenuCheck_${i.getActiveMenu}`,{target:"SideBar",data:e})},menuMove:u,sidebarToggleClick:c,computed:Rs,inject:Dr,onBeforeMount:jn,onUnmounted:Wn,reactive:yt,toRefs:Bt,watch:_o,get useSessionRootStore(){return aN},get utils(){return CH}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}},[["render",function(e,t,i,n,r,o){return jo(),Uo("aside",vG,[Ko("div",bG,[Ko("button",{class:G(["btn_menuToggle",n.isSideBar?"":"close"]),onClick:t[0]||(t[0]=e=>n.sidebarToggleClick(n.isSideBar))},t[1]||(t[1]=[Ko("span",{class:"hide"},"",-1)]),2),n.subMenuInfo?(jo(),Uo("div",wG,[Ko("h2",null,ee(n.subMenuInfo.menuNm),1),Ko("ul",CG,[(jo(!0),Uo(Mo,null,ir(n.subMenuInfo.children,e=>(jo(),Uo("li",{key:e.menuId,class:G([e.menuId===n.sessionRootStore.getActiveMenu?"active":"",n.openSubMenuIds.includes(e.menuId)?"open":""])},[Ko("a",{class:"m",onClick:t=>n.menuClick(e)},ee(e.menuNm),9,xG),e.children.length>0?(jo(),Uo("ul",IG,[(jo(!0),Uo(Mo,null,ir(e.children,e=>(jo(),Uo("li",{key:e.menuId,class:G([e.menuId===n.sessionRootStore.getActiveMenu?"active":""])},[Ko("a",{onClick:t=>n.menuClick(e)},ee(e.menuNm),9,EG)],2))),128))])):ts("",!0)],2))),128))])])):ts("",!0)])])}],["__file","/Users/kokimin/WorkSpace/vue_design_system/src/components/layout/sideBar-view.vue"]]),SG={class:"body_container"},kG={key:0,class:"loading_center"};const PG=xU({__name:"App",setup(e,{expose:t}){t();const{loadingCount:i}=td(XA()),n=aN(),r=Rs({get:()=>n.getRouterTabs.map(e=>e.programId)}),o={loadingCount:i,sessionRootStore:n,keepAliveList:r,computed:Rs,get RouterView(){return N$},get storeToRefs(){return td},get useSessionRootStore(){return aN},get useSessionTempStore(){return XA},FrameTab:PU,HeaderView:yG,SideBarView:OG};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}},[["render",function(e,t,i,n,r,o){return"/"!==e.$route.fullPath?(jo(),Uo(Mo,{key:0},["login"===e.$route.name?(jo(),Wo(n.RouterView,{key:0})):(jo(),Uo(Mo,{key:1},[Xo(n.HeaderView),Ko("div",SG,[Xo(n.FrameTab),Xo(n.SideBarView),Xo(n.RouterView,null,{default:zi(({Component:t})=>[(jo(),Wo(Pn,{include:n.keepAliveList},[(jo(),Wo(Jn(t),{key:e.$route.name}))],1032,["include"]))]),_:1})])],64)),Xo(zs,{name:"fade"},{default:zi(()=>[n.loadingCount>0?(jo(),Uo("div",kG,t[0]||(t[0]=[Ko("div",{class:"loading_layer"},[Ko("div",{class:"ball01"}),Ko("div",{class:"ball02"}),Ko("div",{class:"ball03"}),Ko("div",{class:"ball04"})],-1)]))):ts("",!0)]),_:1})],64)):ts("",!0)}],["__file","/Users/kokimin/WorkSpace/vue_design_system/src/App.vue"]]);function RG(e){return"function"==typeof e}function TG(e){return null==e}const DG=e=>null!==e&&!!e&&"object"==typeof e&&!Array.isArray(e);function MG(e){return Number(e)>=0}const LG={};function AG(e,t){!function(e,t){if(RG(t))return;throw new Error(`Extension Error: The validator '${e}' must be a function.`)}(e,t),LG[e]=t}function FG(e,t,i){"object"==typeof i.value&&(i.value=$G(i.value)),i.enumerable&&!i.get&&!i.set&&i.configurable&&i.writable&&"__proto__"!==t?e[t]=i.value:Object.defineProperty(e,t,i)}function $G(e){if("object"!=typeof e)return e;var t,i,n,r=0,o=Object.prototype.toString.call(e);if("[object Object]"===o?n=Object.create(e.__proto__||null):"[object Array]"===o?n=Array(e.length):"[object Set]"===o?(n=new Set,e.forEach(function(e){n.add($G(e))})):"[object Map]"===o?(n=new Map,e.forEach(function(e,t){n.set($G(t),$G(e))})):"[object Date]"===o?n=new Date(+e):"[object RegExp]"===o?n=new RegExp(e.source,e.flags):"[object DataView]"===o?n=new e.constructor($G(e.buffer)):"[object ArrayBuffer]"===o?n=e.slice(0):"Array]"===o.slice(-6)&&(n=new e.constructor(e)),n){for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)FG(n,i[r],Object.getOwnPropertyDescriptor(e,i[r]));for(r=0,i=Object.getOwnPropertyNames(e);r<i.length;r++)Object.hasOwnProperty.call(n,t=i[r])&&n[t]===e[t]||FG(n,t,Object.getOwnPropertyDescriptor(e,t))}return n||e}const NG=Symbol("vee-validate-form"),jG=Symbol("vee-validate-field-instance"),BG=Symbol("Default empty value"),VG="undefined"!=typeof window;function HG(e){return RG(e)&&!!e.__locatorRef}function UG(e){return!!e&&RG(e.parse)&&"VVTypedSchema"===e.__type}function WG(e){return!!e&&RG(e.validate)}function GG(e){return"checkbox"===e||"radio"===e}function zG(e){return/^\[.+\]$/i.test(e)}function YG(e){return"SELECT"===e.tagName}function qG(e,t){return!function(e,t){const i=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return"select"===e&&"multiple"in t&&i}(e,t)&&"file"!==t.type&&!GG(t.type)}function KG(e,t){return t in e&&e[t]!==BG}function XG(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var i,n,r;if(Array.isArray(e)){if((i=e.length)!=t.length)return!1;for(n=i;0!==n--;)if(!XG(e[n],t[n]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(n of e.entries())if(!t.has(n[0]))return!1;for(n of e.entries())if(!XG(n[1],t.get(n[0])))return!1;return!0}if(JG(e)&&JG(t))return e.size===t.size&&(e.name===t.name&&(e.lastModified===t.lastModified&&e.type===t.type));if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(n of e.entries())if(!t.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((i=e.length)!=t.length)return!1;for(n=i;0!==n--;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(e=ZG(e),t=ZG(t),(i=(r=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=i;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,r[n]))return!1;for(n=i;0!==n--;){var o=r[n];if(!XG(e[o],t[o]))return!1}return!0}return e!=e&&t!=t}function ZG(e){return Object.fromEntries(Object.entries(e).filter(([,e])=>void 0!==e))}function JG(e){return!!VG&&e instanceof File}function QG(e){return zG(e)?e.replace(/\[|\]/gi,""):e}function ez(e,t,i){if(!e)return i;if(zG(t))return e[QG(t)];return(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((e,t)=>{return(DG(n=e)||Array.isArray(n))&&t in e?e[t]:i;var n},e)}function tz(e){return Object.keys(e)}function iz(e,t=void 0){const i=cs();return(null==i?void 0:i.provides[e])||Dr(e,t)}function nz(e,t,i){if(Array.isArray(e)){const i=[...e],n=i.findIndex(e=>XG(e,t));return n>=0?i.splice(n,1):i.push(t),i}return XG(e,t)?i:t}function rz(e,t){return DG(t)&&t.number?function(e){const t=parseFloat(e);return isNaN(t)?e:t}(e):e}function oz(e,t){let i;return async function(...n){const r=e(...n);i=r;const o=await r;return r!==i?o:(i=void 0,t(o,n))}}function sz(e){if(az(e))return e._value}function az(e){return"_value"in e}function lz(e){if(!(t=e)||!("undefined"!=typeof Event&&RG(Event)&&t instanceof Event||t&&t.srcElement))return e;var t;const i=e.target;if(GG(i.type)&&az(i))return sz(i);if("file"===i.type&&i.files){const e=Array.from(i.files);return i.multiple?e:e[0]}if(YG(n=i)&&n.multiple)return Array.from(i.options).filter(e=>e.selected&&!e.disabled).map(sz);var n;if(YG(i)){const e=Array.from(i.options).find(e=>e.selected);return e?sz(e):i.value}return function(e){return"number"===e.type||"range"===e.type?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}(i)}function uz(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?DG(e)&&e._$$isNormalized?e:DG(e)?Object.keys(e).reduce((t,i)=>{const n=function(e){if(!0===e)return[];if(Array.isArray(e))return e;if(DG(e))return e;return[e]}(e[i]);return!1!==e[i]&&(t[i]=cz(n)),t},t):"string"!=typeof e?t:e.split("|").reduce((e,t)=>{const i=hz(t);return i.name?(e[i.name]=cz(i.params),e):e},t):t}function cz(e){const t=e=>"string"==typeof e&&"@"===e[0]?function(e){const t=t=>{var i;return null!==(i=ez(t,e))&&void 0!==i?i:t[e]};return t.__locatorRef=e,t}(e.slice(1)):e;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((i,n)=>(i[n]=t(e[n]),i),{})}const hz=e=>{let t=[];const i=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:i,params:t}};let dz=Object.assign({},{generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0});const pz=()=>dz,fz=e=>{dz=Object.assign(Object.assign({},dz),e)};async function _z(e,t,i={}){const n=null==i?void 0:i.bails,r={name:(null==i?void 0:i.name)||"{field}",rules:t,label:null==i?void 0:i.label,bails:null==n||n,formData:(null==i?void 0:i.values)||{}},o=await async function(e,t){const i=e.rules;if(UG(i)||WG(i))return async function(e,t){const i=UG(t.rules)?t.rules:function(e){const t={__type:"VVTypedSchema",async parse(t,i){var n;try{return{output:await e.validate(t,{abortEarly:!1,context:(null==i?void 0:i.formData)||{}}),errors:[]}}catch(r){if(!function(e){return!!e&&"ValidationError"===e.name}(r))throw r;if(!(null===(n=r.inner)||void 0===n?void 0:n.length)&&r.errors.length)return{errors:[{path:r.path,errors:r.errors}]};const e=r.inner.reduce((e,t)=>{const i=t.path||"";return e[i]||(e[i]={errors:[],path:i}),e[i].errors.push(...t.errors),e},{});return{errors:Object.values(e)}}}};return t}(t.rules),n=await i.parse(e,{formData:t.formData}),r=[];for(const o of n.errors)o.errors.length&&r.push(...o.errors);return{value:n.value,errors:r}}(t,Object.assign(Object.assign({},e),{rules:i}));if(RG(i)||Array.isArray(i)){const n={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},r=Array.isArray(i)?i:[i],o=r.length,s=[];for(let i=0;i<o;i++){const o=r[i],a=await o(t,n);if(!("string"!=typeof a&&!Array.isArray(a)&&a)){if(Array.isArray(a))s.push(...a);else{const e="string"==typeof a?a:mz(n);s.push(e)}if(e.bails)return{errors:s}}}return{errors:s}}const n=Object.assign(Object.assign({},e),{rules:uz(i)}),r=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const i=o[a],s=await gz(n,t,{name:i,params:n.rules[i]});if(s.error&&(r.push(s.error),e.bails))return{errors:r}}return{errors:r}}(r,e);return Object.assign(Object.assign({},o),{valid:!o.errors.length})}async function gz(e,t,i){const n=(r=i.name,LG[r]);var r;if(!n)throw new Error(`No such validator '${i.name}' exists.`);const o=function(e,t){const i=e=>HG(e)?e(t):e;if(Array.isArray(e))return e.map(i);return Object.keys(e).reduce((t,n)=>(t[n]=i(e[n]),t),{})}(i.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},i),{params:o})},a=await n(t,o,s);return"string"==typeof a?{error:a}:{error:a?void 0:mz(s)}}function mz(e){const t=pz().generateMessage;return t?t(e):"Field is invalid"}let yz=0;function vz(e,t){const{value:i,initialValue:n,setInitialValue:r}=function(e,t,i){const n=Dt(Ft(t));function r(){return i?ez(i.initialValues.value,Ft(e),Ft(n)):Ft(n)}function o(t){i?i.setFieldInitialValue(Ft(e),t,!0):n.value=t}const s=Rs(r);if(!i){return{value:Dt(r()),initialValue:s,setInitialValue:o}}const a=function(e,t,i,n){if(Tt(e))return Ft(e);if(void 0!==e)return e;return ez(t.values,Ft(n),Ft(i))}(t,i,s,e);i.stageInitialValue(Ft(e),a,!0);const l=Rs({get:()=>ez(i.values,Ft(e)),set(t){i.setFieldValue(Ft(e),t,!1)}});return{value:l,initialValue:s,setInitialValue:o}}(e,t.modelValue,t.form);if(!t.form){let o=function(e){var t;"value"in e&&(i.value=e.value),"errors"in e&&a(e.errors),"touched"in e&&(u.touched=null!==(t=e.touched)&&void 0!==t?t:u.touched),"initialValue"in e&&r(e.initialValue)};const{errors:s,setErrors:a}=function(){const e=Dt([]);return{errors:e,setErrors:t=>{var i;e.value=(i=t,Array.isArray(i)?i:i?[i]:[])}}}(),l=yz>=Number.MAX_SAFE_INTEGER?0:++yz,u=function(e,t,i,n){const r=yt({touched:!1,pending:!1,valid:!0,required:Rs(()=>{var e,t,i;return null!==(i=null===(t=null===(e=$t(n))||void 0===e?void 0:e.describe)||void 0===t?void 0:t.call(e).required)&&void 0!==i&&i}),validated:!!Ft(i).length,initialValue:Rs(()=>Ft(t)),dirty:Rs(()=>!XG(Ft(e),Ft(t)))});return _o(i,e=>{r.valid=!e.length},{immediate:!0,flush:"sync"}),r}(i,n,s,t.schema);return{id:l,path:e,value:i,initialValue:n,meta:u,flags:{pendingUnmount:{[l]:!1},pendingReset:!1},errors:s,setState:o}}const o=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate,schema:t.schema}),s=Rs(()=>o.errors);return{id:Array.isArray(o.id)?o.id[o.id.length-1]:o.id,path:e,value:i,errors:s,meta:o,initialValue:n,flags:o.__flags,setState:function(n){var o,s,a;"value"in n&&(i.value=n.value),"errors"in n&&(null===(o=t.form)||void 0===o||o.setFieldError(Ft(e),n.errors)),"touched"in n&&(null===(s=t.form)||void 0===s||s.setFieldTouched(Ft(e),null!==(a=n.touched)&&void 0!==a&&a)),"initialValue"in n&&r(n.initialValue)}}}const bz={},wz={},Cz="vee-validate-inspector",xz=12405579,Iz=448379,Ez=5522283,Oz=16777215,Sz=0,kz=218007,Pz=12157168,Rz=16099682,Tz=12304330;let Dz,Mz=null;async function Lz(e){if(!VG)return;(await dL(()=>Promise.resolve().then(()=>BY),void 0)).setupDevtoolsPlugin({id:"vee-validate-devtools-plugin",label:"VeeValidate Plugin",packageName:"vee-validate",homepage:"https://vee-validate.logaretm.com/v4",app:e,logo:"https://vee-validate.logaretm.com/v4/logo.png"},e=>{Dz=e,e.addInspector({id:Cz,icon:"rule",label:"vee-validate",noSelectionText:"Select a vee-validate node to inspect",actions:[{icon:"done_outline",tooltip:"Validate selected item",action:async()=>{Mz&&("field"!==Mz.type?"form"!==Mz.type?"pathState"===Mz.type&&await Mz.form.validateField(Mz.state.path):await Mz.form.validate():await Mz.field.validate())}},{icon:"delete_sweep",tooltip:"Clear validation state of the selected item",action:()=>{Mz&&("field"!==Mz.type?("form"===Mz.type&&Mz.form.resetForm(),"pathState"===Mz.type&&Mz.form.resetField(Mz.state.path)):Mz.field.resetField())}}]}),e.on.getInspectorTree(e=>{if(e.inspectorId!==Cz)return;const t=Object.values(bz),i=Object.values(wz);e.rootNodes=[...t.map(Fz),...i.map(e=>function(e,t){return{id:Nz(t,e),label:Ft(e.name),tags:$z(!1,1,e.type,e.meta.valid,t)}}(e))]}),e.on.getInspectorState(t=>{if(t.inspectorId!==Cz)return;const{form:i,field:n,state:r,type:o}=function(e){try{const t=JSON.parse(decodeURIComponent(atob(e))),i=bz[t.f];if(!i&&t.ff){const e=wz[t.ff];return e?{type:t.type,field:e}:{}}if(!i)return{};const n=i.getPathState(t.ff);return{type:t.type,form:i,state:n}}catch(t){}return{}}(t.nodeId);return e.unhighlightElement(),i&&"form"===o?(t.state=function(e){const{errorBag:t,meta:i,values:n,isSubmitting:r,isValidating:o,submitCount:s}=e;return{"Form state":[{key:"submitCount",value:s.value},{key:"isSubmitting",value:r.value},{key:"isValidating",value:o.value},{key:"touched",value:i.value.touched},{key:"dirty",value:i.value.dirty},{key:"valid",value:i.value.valid},{key:"initialValues",value:i.value.initialValues},{key:"currentValues",value:n},{key:"errors",value:tz(t.value).reduce((e,i)=>{var n;const r=null===(n=t.value[i])||void 0===n?void 0:n[0];return r&&(e[i]=r),e},{})}]}}(i),Mz={type:"form",form:i},void e.highlightElement(i._vm)):r&&"pathState"===o&&i?(t.state=jz(r),void(Mz={type:"pathState",state:r,form:i})):n&&"field"===o?(t.state=jz({errors:n.errors.value,dirty:n.meta.dirty,valid:n.meta.valid,touched:n.meta.touched,value:n.value.value,initialValue:n.meta.initialValue}),Mz={field:n,type:"field"},void e.highlightElement(n._vm)):(Mz=null,void e.unhighlightElement())})})}const Az=function(e,t){let i,n;return function(...r){const o=this;return i||(i=!0,setTimeout(()=>i=!1,t),n=e.apply(o,r)),n}}(()=>{setTimeout(async()=>{await _i(),null==Dz||Dz.sendInspectorState(Cz),null==Dz||Dz.sendInspectorTree(Cz)},100)},100);function Fz(e){const{textColor:t,bgColor:i}=Bz(e.meta.value.valid),n={};Object.values(e.getAllPathStates()).forEach(t=>{!function(e,t,i){if(zG(t))return void(e[QG(t)]=i);const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let o=0;o<n.length;o++){if(o===n.length-1)return void(r[n[o]]=i);n[o]in r&&!TG(r[n[o]])||(r[n[o]]=MG(n[o+1])?[]:{}),r=r[n[o]]}}(n,$t(t.path),function(e,t){return{id:Nz(t,e),label:$t(e.path),tags:$z(e.multiple,e.fieldsCount,e.type,e.valid,t)}}(t,e))});const{children:r}=function e(t,i=[]){const n=[...i].pop();return"id"in t?Object.assign(Object.assign({},t),{label:n||t.label}):DG(t)?{id:`${i.join(".")}`,label:n||"",children:Object.keys(t).map(n=>e(t[n],[...i,n]))}:Array.isArray(t)?{id:`${i.join(".")}`,label:`${n}[]`,children:t.map((t,n)=>e(t,[...i,String(n)]))}:{id:"",label:"",children:[]}}(n);return{id:Nz(e),label:e.name,children:r,tags:[{label:"Form",textColor:t,backgroundColor:i},{label:`${e.getAllPathStates().length} fields`,textColor:Oz,backgroundColor:Ez}]}}function $z(e,t,i,n,r){const{textColor:o,bgColor:s}=Bz(n);return[e?void 0:{label:"Field",textColor:o,backgroundColor:s},r?void 0:{label:"Standalone",textColor:Sz,backgroundColor:Tz},"checkbox"===i?{label:"Checkbox",textColor:Oz,backgroundColor:kz}:void 0,"radio"===i?{label:"Radio",textColor:Oz,backgroundColor:Pz}:void 0,e?{label:"Multiple",textColor:Sz,backgroundColor:Rz}:void 0].filter(Boolean)}function Nz(e,t){const i=t?"path"in t?"pathState":"field":"form",n=t?"path"in t?null==t?void 0:t.path:$t(null==t?void 0:t.name):"",r={f:null==e?void 0:e.formId,ff:(null==t?void 0:t.id)||n,type:i};return btoa(encodeURIComponent(JSON.stringify(r)))}function jz(e){return{"Field state":[{key:"errors",value:e.errors},{key:"initialValue",value:e.initialValue},{key:"currentValue",value:e.value},{key:"touched",value:e.touched},{key:"dirty",value:e.dirty},{key:"valid",value:e.valid}]}}function Bz(e){return{bgColor:e?Iz:xz,textColor:e?Sz:Oz}}function Vz(e,t,i){return GG(null==i?void 0:i.type)?function(e,t,i){const n=(null==i?void 0:i.standalone)?void 0:iz(NG),r=null==i?void 0:i.checkedValue,o=null==i?void 0:i.uncheckedValue;function s(t){const s=t.handleChange,a=Rs(()=>{const e=$t(t.value),i=$t(r);return Array.isArray(e)?e.findIndex(e=>XG(e,i))>=0:XG(i,e)});function l(l,u=!0){var c,h;if(a.value===(null===(c=null==l?void 0:l.target)||void 0===c?void 0:c.checked))return void(u&&t.validate());const d=$t(e),p=null==n?void 0:n.getPathState(d),f=lz(l);let _=null!==(h=$t(r))&&void 0!==h?h:f;n&&(null==p?void 0:p.multiple)&&"checkbox"===p.type?_=nz(ez(n.values,d)||[],_,void 0):"checkbox"===(null==i?void 0:i.type)&&(_=nz($t(t.value),_,$t(o))),s(_,u)}return Object.assign(Object.assign({},t),{checked:a,checkedValue:r,uncheckedValue:o,handleChange:l})}return s(Hz(e,t,i))}(e,t,i):Hz(e,t,i)}function Hz(e,t,i){const{initialValue:n,validateOnMount:r,bails:o,type:s,checkedValue:a,label:l,validateOnValueUpdate:u,uncheckedValue:c,controlled:h,keepValueOnUnmount:d,syncVModel:p,form:f}=function(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),i=!!(null==e?void 0:e.syncVModel),n="string"==typeof(null==e?void 0:e.syncVModel)?e.syncVModel:(null==e?void 0:e.modelPropName)||"modelValue",r=i&&!("initialValue"in(e||{}))?Uz(cs(),n):null==e?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:r});const o="valueProp"in e?e.valueProp:e.checkedValue,s="standalone"in e?!e.standalone:e.controlled,a=(null==e?void 0:e.modelPropName)||(null==e?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:r,controlled:null==s||s,checkedValue:o,syncVModel:a})}(i),_=h?iz(NG):void 0,g=f||_,m=Rs(()=>function(e){const t=e.split(".");if(!t.length)return"";let i=String(t[0]);for(let n=1;n<t.length;n++)MG(t[n])?i+=`[${t[n]}]`:i+=`.${t[n]}`;return i}($t(e))),y=Rs(()=>{if($t(null==g?void 0:g.schema))return;const e=Ft(t);return WG(e)||UG(e)||RG(e)||Array.isArray(e)?e:uz(e)}),v=!RG(y.value)&&UG($t(t)),{id:b,value:w,initialValue:C,meta:x,setState:I,errors:E,flags:O}=vz(m,{modelValue:n,form:g,bails:o,label:l,type:s,validate:y.value?T:void 0,schema:v?t:void 0}),S=Rs(()=>E.value[0]);p&&function({prop:e,value:t,handleChange:i,shouldValidate:n}){const r=cs();if(!r||!e)return;const o="string"==typeof e?e:"modelValue",s=`update:${o}`;if(!(o in r.props))return;_o(t,e=>{XG(e,Uz(r,o))||r.emit(s,e)}),_o(()=>Uz(r,o),e=>{if(e===BG&&void 0===t.value)return;const r=e===BG?void 0:e;XG(r,t.value)||i(r,n())})}({value:w,prop:p,handleChange:D,shouldValidate:()=>u&&!O.pendingReset});async function k(e){var t,i;if(null==g?void 0:g.validateSchema){const{results:i}=await g.validateSchema(e);return null!==(t=i[$t(m)])&&void 0!==t?t:{valid:!0,errors:[]}}return y.value?_z(w.value,y.value,{name:$t(m),label:$t(l),values:null!==(i=null==g?void 0:g.values)&&void 0!==i?i:{},bails:o}):{valid:!0,errors:[]}}const P=oz(async()=>(x.pending=!0,x.validated=!0,k("validated-only")),e=>(O.pendingUnmount[$.id]||(I({errors:e.errors}),x.pending=!1,x.valid=e.valid),e)),R=oz(async()=>k("silent"),e=>(x.valid=e.valid,e));function T(e){return"silent"===(null==e?void 0:e.mode)?R():P()}function D(e,t=!0){A(lz(e),t)}function M(e){var t;const i=e&&"value"in e?e.value:C.value;I({value:$G(i),initialValue:$G(i),touched:null!==(t=null==e?void 0:e.touched)&&void 0!==t&&t,errors:(null==e?void 0:e.errors)||[]}),x.pending=!1,x.validated=!1,R()}Bn(()=>{if(r)return P();g&&g.validateSchema||R()});const L=cs();function A(e,t=!0){w.value=L&&p?rz(e,L.props.modelModifiers):e;(t?P:R)()}const F=Rs({get:()=>w.value,set(e){A(e,u)}}),$={id:b,name:m,label:l,value:F,meta:x,errors:E,errorMessage:S,type:s,checkedValue:a,uncheckedValue:c,bails:o,keepValueOnUnmount:d,resetField:M,handleReset:()=>M(),validate:T,handleChange:D,handleBlur:(e,t=!1)=>{x.touched=!0,t&&P()},setState:I,setTouched:function(e){x.touched=e},setErrors:function(e){I({errors:Array.isArray(e)?e:[e]})},setValue:A};if(Tr(jG,$),Tt(t)&&"function"!=typeof Ft(t)&&_o(t,(e,t)=>{XG(e,t)||(x.validated?P():R())},{deep:!0}),$._vm=cs(),_o(()=>Object.assign(Object.assign({errors:E.value},x),{value:w.value}),Az,{deep:!0}),g||function(e){const t=cs();if(!Dz){const e=null==t?void 0:t.appContext.app;if(!e)return;Lz(e)}wz[e.id]=Object.assign({},e),wz[e.id]._vm=t,Wn(()=>{delete wz[e.id],Az()}),Az()}($),!g)return $;return _o(Rs(()=>{const e=y.value;return!e||RG(e)||WG(e)||UG(e)||Array.isArray(e)?{}:Object.keys(e).reduce((t,i)=>{const n=(r=e[i],Array.isArray(r)?r.filter(HG):tz(r).filter(e=>HG(r[e])).map(e=>r[e])).map(e=>e.__locatorRef).reduce((e,t)=>{const i=ez(g.values,t)||g.values[t];return void 0!==i&&(e[t]=i),e},{});var r;return Object.assign(t,n),t},{})}),(e,t)=>{if(!Object.keys(e).length)return;!XG(e,t)&&(x.validated?P():R())}),Un(()=>{var e;const t=null!==(e=$t($.keepValueOnUnmount))&&void 0!==e?e:$t(g.keepValuesOnUnmount),i=$t(m);if(t||!g||O.pendingUnmount[$.id])return void(null==g||g.removePathState(i,b));O.pendingUnmount[$.id]=!0;const n=g.getPathState(i);if(Array.isArray(null==n?void 0:n.id)&&(null==n?void 0:n.multiple)?null==n?void 0:n.id.includes($.id):(null==n?void 0:n.id)===$.id){if((null==n?void 0:n.multiple)&&Array.isArray(n.value)){const e=n.value.findIndex(e=>XG(e,$t($.checkedValue)));if(e>-1){const t=[...n.value];t.splice(e,1),g.setFieldValue(i,t)}Array.isArray(n.id)&&n.id.splice(n.id.indexOf($.id),1)}else g.unsetPathValue($t(m));g.removePathState(i,b)}}),$}function Uz(e,t){if(e)return e.props[t]}function Wz(e,t){let i=e.as||"";return e.as||t.slots.default||(i="input"),i}function Gz(e,t){return GG(t.attrs.type)?KG(e,"modelValue")?e.modelValue:void 0:KG(e,"modelValue")?e.modelValue:t.attrs.value}const zz=xn({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>pz().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:BG},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const i=Ut(e,"rules"),n=Ut(e,"name"),r=Ut(e,"label"),o=Ut(e,"uncheckedValue"),s=Ut(e,"keepValue"),{errors:a,value:l,errorMessage:u,validate:c,handleChange:h,handleBlur:d,setTouched:p,resetField:f,handleReset:_,meta:g,checked:m,setErrors:y,setValue:v}=Vz(n,i,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:Gz(e,t),checkedValue:t.attrs.value,uncheckedValue:o,label:r,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:s,syncVModel:!0}),b=function(e,t=!0){h(e,t)},w=Rs(()=>{const{validateOnInput:i,validateOnChange:n,validateOnBlur:r,validateOnModelUpdate:o}=function(e){var t,i,n,r;const{validateOnInput:o,validateOnChange:s,validateOnBlur:a,validateOnModelUpdate:l}=pz();return{validateOnInput:null!==(t=e.validateOnInput)&&void 0!==t?t:o,validateOnChange:null!==(i=e.validateOnChange)&&void 0!==i?i:s,validateOnBlur:null!==(n=e.validateOnBlur)&&void 0!==n?n:a,validateOnModelUpdate:null!==(r=e.validateOnModelUpdate)&&void 0!==r?r:l}}(e);const s={name:e.name,onBlur:function(e){d(e,r),RG(t.attrs.onBlur)&&t.attrs.onBlur(e)},onInput:function(e){b(e,i),RG(t.attrs.onInput)&&t.attrs.onInput(e)},onChange:function(e){b(e,n),RG(t.attrs.onChange)&&t.attrs.onChange(e)},"onUpdate:modelValue":e=>b(e,o)};return s}),C=Rs(()=>{const i=Object.assign({},w.value);GG(t.attrs.type)&&m&&(i.checked=m.value);return qG(Wz(e,t),t.attrs)&&(i.value=l.value),i}),x=Rs(()=>Object.assign(Object.assign({},w.value),{modelValue:l.value}));function I(){return{field:C.value,componentField:x.value,value:l.value,meta:g,errors:a.value,errorMessage:u.value,validate:c,resetField:f,handleChange:b,handleInput:e=>b(e,!1),handleReset:_,handleBlur:w.value.onBlur,setTouched:p,setErrors:y,setValue:v}}return t.expose({value:l,meta:g,errors:a,errorMessage:u,setErrors:y,setTouched:p,setValue:v,reset:f,validate:c,handleChange:h}),()=>{const i=Jn(Wz(e,t)),n=function(e,t,i){return t.slots.default?"string"!=typeof e&&e?{default:()=>{var e,n;return null===(n=(e=t.slots).default)||void 0===n?void 0:n.call(e,i())}}:t.slots.default(i()):t.slots.default}(i,t,I);return i?Ts(i,Object.assign(Object.assign({},t.attrs),C.value),n):n}}}),Yz={en:/^[A-Z]*$/i,cs:/^[A-Z]*$/i,da:/^[A-Z]*$/i,de:/^[A-Z]*$/i,es:/^[A-Z]*$/i,fr:/^[A-Z]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-Z]*$/i,nl:/^[A-Z]*$/i,hu:/^[A-Z]*$/i,pl:/^[A-Z]*$/i,pt:/^[A-Z]*$/i,ru:/^[-]*$/i,kz:/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[A-Z]*$/i,sr:/^[A-Z]*$/i,sv:/^[A-Z]*$/i,tr:/^[A-Z]*$/i,uk:/^[-]*$/i,ar:/^[]*$/,az:/^[A-Z]*$/i,ug:/^[A-Z]*$/i},qz={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,kz:/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},Kz={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-Z]*$/i,da:/^[0-9A-Z]$/i,de:/^[0-9A-Z]*$/i,es:/^[0-9A-Z]*$/i,fr:/^[0-9A-Z]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-Z]*$/i,hu:/^[0-9A-Z]*$/i,nl:/^[0-9A-Z]*$/i,pl:/^[0-9A-Z]*$/i,pt:/^[0-9A-Z]*$/i,ru:/^[0-9-]*$/i,kz:/^[0-9-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[0-9A-Z]*$/i,sr:/^[0-9A-Z]*$/i,sv:/^[0-9A-Z]*$/i,tr:/^[0-9A-Z]*$/i,uk:/^[0-9-]*$/i,ar:/^[0-9]*$/,az:/^[0-9A-Z]*$/i,ug:/^[0-9A-Z]*$/i},Xz={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-Z_-]*$/i,da:/^[0-9A-Z_-]*$/i,de:/^[0-9A-Z_-]*$/i,es:/^[0-9A-Z_-]*$/i,fr:/^[0-9A-Z_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-Z_-]*$/i,nl:/^[0-9A-Z_-]*$/i,hu:/^[0-9A-Z_-]*$/i,pl:/^[0-9A-Z_-]*$/i,pt:/^[0-9A-Z_-]*$/i,ru:/^[0-9-_-]*$/i,kz:/^[0-9-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA_-]*$/i,sk:/^[0-9A-Z_-]*$/i,sr:/^[0-9A-Z_-]*$/i,sv:/^[0-9A-Z_-]*$/i,tr:/^[0-9A-Z_-]*$/i,uk:/^[0-9-_-]*$/i,ar:/^[0-9_-]*$/,az:/^[0-9A-Z_-]*$/i,ug:/^[0-9A-Z_-]*$/i},Zz=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};
/**
  * vee-validate v4.15.1
  * (c) 2025 Abdelrahman Awad
  * @license MIT
  */function Jz(e,t){return Array.isArray(e)?e[0]:e[t]}function Qz(e){return null==e||""===e||!(!Array.isArray(e)||0!==e.length)}const eY=(e,t)=>{if(Qz(e))return!0;const i=Zz(t);if(Array.isArray(e))return e.every(e=>eY(e,{locale:i}));const n=String(e);return i?(Yz[i]||Yz.en).test(n):Object.keys(Yz).some(e=>Yz[e].test(n))},tY=(e,t)=>{if(Qz(e))return!0;const i=Zz(t);if(Array.isArray(e))return e.every(e=>tY(e,{locale:i}));const n=String(e);return i?(Xz[i]||Xz.en).test(n):Object.keys(Xz).some(e=>Xz[e].test(n))},iY=(e,t)=>{if(Qz(e))return!0;const i=Zz(t);if(Array.isArray(e))return e.every(e=>iY(e,{locale:i}));const n=String(e);return i?(Kz[i]||Kz.en).test(n):Object.keys(Kz).some(e=>Kz[e].test(n))},nY=(e,t)=>{if(Qz(e))return!0;const i=Zz(t);if(Array.isArray(e))return e.every(e=>nY(e,{locale:i}));const n=String(e);return i?(qz[i]||qz.en).test(n):Object.keys(qz).some(e=>qz[e].test(n))};const rY=(e,t)=>{if(Qz(e))return!0;const{min:i,max:n}=function(e){return Array.isArray(e)?{min:e[0],max:e[1]}:e}(t);if(Array.isArray(e))return e.every(e=>rY(e,{min:i,max:n}));const r=Number(e);return Number(i)<=r&&Number(n)>=r},oY=(e,t)=>{const i=Jz(t,"target");return String(e)===String(i)},sY=(e,t)=>{if(Qz(e))return!0;const i=Jz(t,"length");if(Array.isArray(e))return e.every(e=>sY(e,{length:i}));const n=String(e);return/^[0-9]*$/.test(n)&&n.length===Number(i)};const aY=(e,t)=>{if(Qz(e))return!0;const{width:i,height:n}=function(e){return e?Array.isArray(e)?{width:Number(e[0]),height:Number(e[1])}:{width:Number(e.width),height:Number(e.height)}:{width:0,height:0}}(t),r=[],o=Array.isArray(e)?e:[e];for(let s=0;s<o.length;s++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(o[s].name))return Promise.resolve(!1);r.push(o[s])}return Promise.all(r.map(e=>((e,t,i)=>{const n=window.URL||window.webkitURL;return new Promise(r=>{const o=new Image;o.onerror=()=>r(!1),o.onload=()=>r(o.width===t&&o.height===i),o.src=n.createObjectURL(e)})})(e,i,n))).then(e=>e.every(e=>e))},lY=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uY=e=>!!Qz(e)||(Array.isArray(e)?e.every(e=>lY.test(String(e))):lY.test(String(e))),cY=(e,t)=>{if(Qz(e))return!0;const i=new RegExp(`\\.(${t.join("|")})$`,"i");return Array.isArray(e)?e.every(e=>i.test(e.name)):i.test(e.name)},hY=e=>{if(Qz(e))return!0;const t=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(e)?e.every(e=>t.test(e.name)):t.test(e.name)},dY=e=>!!Qz(e)||(Array.isArray(e)?e.every(e=>/^-?[0-9]+$/.test(String(e))):/^-?[0-9]+$/.test(String(e))),pY=(e,t)=>e===Jz(t,"other"),fY=(e,t)=>e!==Jz(t,"other"),_Y=(e,t)=>{if(Qz(e))return!0;const i=Jz(t,"length");return"number"==typeof e&&(e=String(e)),e.length||(e=Array.from(e)),e.length===Number(i)},gY=(e,t)=>{if(Qz(e))return!0;const i=Jz(t,"length");return Array.isArray(e)?e.every(e=>gY(e,{length:i})):[...String(e)].length<=Number(i)},mY=(e,t)=>{if(Qz(e))return!0;const i=Jz(t,"max");return Array.isArray(e)?e.length>0&&e.every(e=>mY(e,{max:i})):Number(e)<=Number(i)},yY=/\+(.+)?/;function vY(e){let t=e;return yY.test(e)&&(t=e.replace(yY,"(\\+$1)?")),new RegExp(t.replace("*",".+"),"i")}const bY=(e,t)=>{if(Qz(e))return!0;t||(t=[]);const i=t.map(vY);return Array.isArray(e)?e.every(e=>i.some(t=>t.test(e.type))):i.some(t=>t.test(e.type))},wY=(e,t)=>{if(Qz(e))return!0;const i=Jz(t,"length");return Array.isArray(e)?e.every(e=>wY(e,{length:i})):[...String(e)].length>=Number(i)},CY=(e,t)=>{if(Qz(e))return!0;const i=Jz(t,"min");return Array.isArray(e)?e.length>0&&e.every(e=>CY(e,{min:i})):Number(e)>=Number(i)},xY=(e,t)=>!!Qz(e)||(Array.isArray(e)?e.every(e=>xY(e,t)):Array.from(t).some(t=>t==e)),IY=(e,t)=>!!Qz(e)||!xY(e,t),EY=/^[]+$/,OY=/^[0-9]+$/,SY=e=>{if(Qz(e))return!0;const t=e=>{const t=String(e);return OY.test(t)||EY.test(t)};return Array.isArray(e)?e.every(t):t(e)},kY=(e,t)=>{if(Qz(e))return!0;let i=Jz(t,"regex");return"string"==typeof i&&(i=new RegExp(i)),Array.isArray(e)?e.every(e=>kY(e,{regex:i})):i.test(String(e))};const PY=e=>null!==e&&!!e&&"object"==typeof e&&!Array.isArray(e),RY=e=>{return!function(e){return null==e}(e)&&(t=e,!Array.isArray(t)||0!==t.length)&&!1!==e&&!!String(e).trim().length;var t},TY=(e,t)=>{if(Qz(e))return!0;let i=Jz(t,"size");if(i=Number(i),isNaN(i))return!1;const n=1024*i;if(!Array.isArray(e))return e.size<=n;for(let r=0;r<e.length;r++)if(e[r].size>n)return!1;return!0},DY=(e,t)=>{var i;if(Qz(e))return!0;let n=Jz(t,"pattern");"string"==typeof n&&(n=new RegExp(n));try{new URL(e)}catch(r){return!1}return null===(i=null==n?void 0:n.test(e))||void 0===i||i};function MY(e){return"string"==typeof e?{exists:!0,required:e.includes("required")}:PY(e)?{exists:!0,required:!!e.required}:{required:!1,exists:!0}}const LY={alpha_dash:tY,alpha_num:iY,alpha_spaces:nY,alpha:eY,between:rY,confirmed:oY,digits:sY,dimensions:aY,email:uY,ext:cY,image:hY,integer:dY,is_not:fY,is:pY,length:_Y,max_value:mY,max:gY,mimes:bY,min_value:CY,min:wY,not_one_of:IY,numeric:SY,one_of:xY,regex:kY,required:RY,size:TY,url:DY},AY=Object.freeze(Object.defineProperty({__proto__:null,all:LY,alpha:eY,alpha_dash:tY,alpha_num:iY,alpha_spaces:nY,between:rY,confirmed:oY,digits:sY,dimensions:aY,email:uY,ext:cY,image:hY,integer:dY,is:pY,is_not:fY,length:_Y,max:gY,max_value:mY,mimes:bY,min:wY,min_value:CY,not_one_of:IY,numeric:SY,one_of:xY,regex:kY,required:RY,size:TY,toTypedSchema:function(e){return{__type:"VVTypedSchema",async parse(t){if("string"==typeof e){return{errors:[{errors:(await _z(t,e)).errors}]}}const i=await async function(e,t){const i=tz(e).map(async i=>{var n;const r=void 0,o=await _z(ez(t,i),e[i],{name:(null==r?void 0:r.name)||i,label:null==r?void 0:r.label,values:t,bails:null===(n=void 0)||void 0===n||n});return Object.assign(Object.assign({},o),{path:i})});let n=!0;const r=await Promise.all(i),o={},s={};for(const a of r)o[a.path]={valid:a.valid,errors:a.errors},a.valid||(n=!1,s[a.path]=a.errors[0]);return{valid:n,results:o,errors:s,source:"schema"}}(e,t);return{errors:(n=i.errors,Object.keys(n)).map(e=>{var t;return{path:e,errors:(null===(t=i.results[e])||void 0===t?void 0:t.errors)||[]}})};var n},describe:t=>t?PY(e)&&t in e?MY(e[t]):{required:!1,exists:!1}:MY(e)}},url:DY},Symbol.toStringTag,{value:"Module"}));Object.keys(AY).forEach(e=>{"function"==typeof AY[e]&&AG(e,AY[e])}),AG("tel",e=>!!/^(01[016789]{1}|02|0[3-9]{1}[0-9]{1})-?[0-9]{3,4}-?[0-9]{4}$/.test(e)||OH.global.t("validations.tel")),fz({validateOnInput:!0,generateMessage:({field:e,rule:t,...i})=>{const n=`validations.${t?.name}`,r=`${e}   .`;return OH.global.t(n,{field:e,...i})||r}}),oS.setLicenseKey("upVcPE+wPOmtLjqyBIh9RkM/nBOseBrflwxYpzGZyYm9cY8amGDkiMnVeQKUHJDjW2y71jtk+wte7L7C4dZzvAlUjvj8JpYgiLLvyDJ+P6Ijp/n9XOSMno+HSXxbPWazFvCVFufoDrwrglDjCgzeIg==");const FY=((...e)=>{const t=$a().createApp(...e);!function(e){Object.defineProperty(e.config,"isNativeTag",{value:e=>Y(e)||q(e)||K(e),writable:!1})}(t),function(e){{const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get:()=>t,set(){Ms("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const i=e.config.compilerOptions,n='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,"compilerOptions",{get:()=>(Ms(n),i),set(){Ms(n)}})}}(t);const{mount:i}=t;return t.mount=e=>{const n=function(e){if(g(e)){const t=document.querySelector(e);return t||Ms(`Failed to mount app: mount target selector "${e}" returned null.`),t}window.ShadowRoot&&e instanceof window.ShadowRoot&&"closed"===e.mode&&Ms('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs');return e}
/**
* vue v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/(e);if(!n)return;const r=t._component;_(r)||r.render||r.template||(r.template=n.innerHTML),1===n.nodeType&&(n.textContent="");const o=i(n,!1,function(e){if(e instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&e instanceof MathMLElement)return"mathml"}(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t})(PG),$Y=function(){const e=ae(!0),t=e.run(()=>Dt({}));let i=[],n=[];const r=kt({install(e){nh(r),r._a=e,e.provide(rh,r),e.config.globalProperties.$pinia=r,lh&&Ah(e,r),n.forEach(e=>i.push(e)),n=[]},use(e){return this._a?i.push(e):n.push(e),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return lh&&"undefined"!=typeof Proxy&&r.use(jh),r}();$Y.use(pd);const NY={all:jY=jY||new Map,on:function(e,t){var i=jY.get(e);i?i.push(t):jY.set(e,[t])},off:function(e,t){var i=jY.get(e);i&&(t?i.splice(i.indexOf(t)>>>0,1):jY.set(e,[]))},emit:function(e,t){var i=jY.get(e);i&&i.slice().map(function(e){e(t)}),(i=jY.get("*"))&&i.slice().map(function(i){i(e,t)})}};var jY;FY.provide("emitter",NY);(async()=>{const e=JSON.parse(sessionStorage.getItem("sessionRoot")||"{}");await(async()=>{const e=Object.assign({"./api/common.js":()=>dL(()=>import("./common-DVxg2Nrk.js"),__vite__mapDeps([45,46,47])),"./api/system.js":()=>dL(()=>import("./system-DxQtOR2-.js"),__vite__mapDeps([48,6,46,47]))});for(const n in e)await e[n]();const{httpMock:t,apiMock:i}=await dL(async()=>{const{httpMock:e,apiMock:t}=await import("./mock-DN2QBicg.js");return{httpMock:e,apiMock:t}},[]);t.onAny().passThrough(),i.onAny().passThrough()})(),await(async()=>{const e=(await EH.get(lN.message,{isLoading:!1})).data.results;Object.keys(e).forEach(t=>{OH.global.mergeLocaleMessage(t,e[t])});const t=JSON.parse(localStorage.getItem("localTemp")||"{}");OH.global.locale.value=t.locale||"ko"})(),e.routesData&&e.routesData.length>0&&await CH.dynamicAddRoutes(e.routesData),FY.use($Y),FY.use(oN),FY.use(OH),FY.mount("#app")})();const BY=Object.freeze(Object.defineProperty({__proto__:null,addCustomCommand:function(e){const t=Qa.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__;t.some(t=>t.id===e.id)||(t.push({...e,icon:Su(e.icon),children:e.children?e.children.map(e=>({...e,icon:Su(e.icon)})):void 0}),Iu())},addCustomTab:function(e){const t=Qa.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__;t.some(t=>t.name===e.name)||(t.push({...e,icon:Su(e.icon)}),Iu())},onDevToolsClientConnected:function(e){return new Promise(t=>{if(Eu.connected&&Eu.clientConnected)return e(),void t();sc.hooks.hook("devtoolsConnectedUpdated",({state:i})=>{i.connected&&i.clientConnected&&(e(),t())})})},onDevToolsConnected:function(e){return new Promise(t=>{Eu.connected&&(e(),t()),sc.hooks.hook("devtoolsConnectedUpdated",({state:i})=>{i.connected&&(e(),t())})})},removeCustomCommand:function(e){const t=Qa.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__,i=t.findIndex(t=>t.id===e);-1!==i&&(t.splice(i,1),Iu())},setupDevToolsPlugin:zu,setupDevtoolsPlugin:zu},Symbol.toStringTag,{value:"Module"}));export{zs as $,OH as A,jn as B,cN as C,Tn as D,RU as E,Mo as F,Dn as G,rr as H,qi as I,sa as J,Rs as K,ir as L,os as M,Dt as N,_i as O,zz as P,Pa as Q,G as R,rN as S,hN as T,RH as U,xn as V,_o as W,Qn as X,Da as Y,La as Z,lN as _,aN as a,B as a0,sn as a1,fo as a2,hr as a3,Un as a4,Tr as a5,Jn as a6,Ft as a7,Ts as a8,nL as a9,rL as aa,EH as ab,IH as ac,vd as ad,Ut as ae,nr as af,z as ag,Zo as ah,Tt as ai,Na as aj,$t as ak,dr as al,le as am,ue as an,Vn as ao,xU as b,Uo as c,Ko as d,Xo as e,XA as f,sN as g,TT as h,Bt as i,uN as j,jo as k,es as l,Xn as m,Wo as n,Bn as o,Dr as p,cs as q,yt as r,Wn as s,ee as t,CH as u,ts as v,zi as w,mN as x,oS as y,aG as z};
