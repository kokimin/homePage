import{V as e,N as t,K as i,W as n,X as l,I as a,c as r,k as u,b as s,n as o,w as p,d as m,R as d,v as f,M as c,u as g,o as h,z as v,E as x,P as b}from"./index-Brc5gCI7.js";
/**
 * Vue Number Format 3.34.1
 * (c) 2021-2025 Dipak Sarkar <hello@dipaksarkar.in> (https://dipaksarkar.in/)
 * @license MIT
 */var y={prefix:"",suffix:"",separator:",",decimal:".",inputmode:"numeric",precision:2,minimumFractionDigits:null,prefill:!0,reverseFill:!1,min:null,max:null,nullValue:""};class E{options;input;number;isClean;isCustomDecimal;noPreSuffix;hasPreOrSuffix;prefix;preSufRegExp;prefixRegExp;suffixRegExp;numberRegExp;cleanRegExp;negativeRegExp;constructor(e){this.options=Object.assign(N(y),e);const{prefix:t,suffix:i,decimal:n,reverseFill:l}=this.options;this.input="",this.number="",this.isClean=!l;const a=t,r=i,u=a.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),s=r.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");u&&(this.prefixRegExp=new RegExp(`^${u}`)),s&&(this.suffixRegExp=new RegExp(`${s}$`)),this.prefix=t,this.numberRegExp=new RegExp(`[^0-9\\${n||"."}]+`,"gi"),this.cleanRegExp=new RegExp("[^0-9]+","gi"),this.negativeRegExp=new RegExp("[^0-9\\-]+","gi"),this.isCustomDecimal="."!==n,this.noPreSuffix=!a&&!r,this.hasPreOrSuffix=!this.noPreSuffix}isNull(){return!this.numberOnly(this.isClean?this.cleanRegExp:this.negativeRegExp)}clean(e=!1){return this.isClean=e,this}sign(){if(null===this.input||void 0===this.input)return"";const e=this.input.toString().indexOf(S)>=0;return this.isClean?e&&this.realNumber()>0?S:"":e?S:""}toFixed(){const e=Math.pow(10,this.options.precision);return(parseFloat(this.numberOnly(/\D+/g))/e||0).toFixed(function(e){return t=e,Math.max(0,Math.min(t,20));var t}(this.options.precision))}toNumber(e){return Number(e)}numberOnly(e){let t=this.input?.toString();return this.prefixRegExp&&(t=t.replace(this.prefixRegExp,"")),this.suffixRegExp&&(t=t.replace(this.suffixRegExp,"")),t.replace(e||this.numberRegExp,"")}inputWithPreOrSuffix(){return this.input&&this.prefixRegExp?this.prefixRegExp.test(this.input.toString()):!this.input||!this.suffixRegExp||this.suffixRegExp.test(this.input.toString())}isNegative(){return this.sign()===S}isNumber(e){return!isNaN(this.toNumber(e||this.input))}numbers(){const{reverseFill:e,decimal:t,separator:i}=this.options;if(e)this.number=this.toFixed().replace(".",t);else{const e=this.input?.toString().replace(this.prefixRegExp??"","").replace(this.suffixRegExp??"","").replace(new RegExp(S,"g"),""),n=this.input.toString().indexOf(t)>=0&&this.isCustomDecimal;let l=e;i&&(l=l.replace(new RegExp(`\\${i}`,"g"),"")),l=l.replace(t,"."),"number"==typeof this.input||this.isNumber()&&!n&&!this.inputWithPreOrSuffix()&&this.hasPreOrSuffix?this.number=this.parts(e,".").join(t):this.isNumber(l)&&!n&&this.inputWithPreOrSuffix()&&this.hasPreOrSuffix?this.number=this.parts(l,".").join(t):this.number=this.parts(this.numberOnly()).join(t)}return this.number}unformatNumber(){return this.numbers().toString().replace(this.options.decimal,".")}realNumber(){return parseFloat(this.unformatNumber())}parts(e,t){const{precision:i,minimumFractionDigits:n,decimal:l}=this.options;let a=e.toString().split(t||l);if(a.length>1&&(a[0]=this.toNumber(a[0])||0,a[1]=a.slice(1,a.length).join(""),a=a.slice(0,2)),this.isClean){const e=this.toNumber(a.join(".")).toFixed(i),t=this.toNumber(e),l=t.toFixed(n);a=n>=0&&t.toString().length<l.length?l.toString().split("."):t.toString().split(".")}return a.slice(0,2)}addSeparator(){const{decimal:e,separator:t}=this.options,i=this.numbers().split(e);return i[0]=i[0].toString().replace(/(\d)(?=(?:\d{3})+\b)/gm,`$1${t}`),i.join(e)}format(e){this.input=e;const{reverseFill:t,nullValue:i,prefix:n,suffix:l}=this.options;return this.isNull()&&!t?i:this.sign()+n+this.addSeparator()+l}unformat(e){this.input=e;const{reverseFill:t,nullValue:i}=this.options,n=this.realNumber(),l=this.unformatNumber();return this.isNull()||t&&0===n?i:this.sign()+l}}const S="-";function N(e){return JSON.parse(JSON.stringify(e))}function V(e){return new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function R(e){const t=e instanceof HTMLInputElement?e:e.querySelector("input");if(!t)throw new Error("number directive requires an input element");return t}function F(e,t){const i=()=>{e.setSelectionRange(t,t)};i(),setTimeout(i,1)}function k(e,t,{emit:i=!0,force:n=!1,clean:l=!1}={}){const{options:a,oldValue:r}=e,{reverseFill:u,max:s,min:o}=a,p=t?.props?.value||e.value;if(n||r!==p){const t=new E(a).clean(l&&!u);let i=t.format(p),n=t.clean(!u).unformat(p);l&&(Number(s)===s&&Number(n)>s?(i=t.format(s),n=s.toString()):Number(o)===o&&Number(n)<o&&(i=t.format(o),n=o.toString())),e.oldValue=i,e.unmasked=n,e.value!==i&&(e.value=i)}return i&&e.dispatchEvent(V("input"))}var w={beforeMount:(e,{value:t,modifiers:i},n)=>{e=R(e);const l=Object.assign(N(y),t,i),{reverseFill:a,precision:r,decimal:u,inputmode:s}=l;e.options=l,e.setAttribute("inputmode",s),a&&e.value?(e.value=parseFloat(new E({...l,reverseFill:!1}).unformat(e.value)).toFixed(r),n?.props?.value&&(n.props.value=e.value)):e.value&&!isNaN(Number(e.value))&&(e.value=e.value.replace(".",u)),k(e,n,{force:l.prefill,clean:!0,emit:!1})},mounted:e=>{const t=(e=R(e)).parentElement||e,i=t=>{t.target===e&&function(e){const{target:t,detail:i}=e;if(i?.facade)return!1;e.stopPropagation();let n=t.value.length;const{oldValue:l,options:a}=t;t.selectionEnd&&(n=t.value.length-t.selectionEnd),k(t,null,{clean:!a.precision,emit:!1}),a.suffix&&(n=Math.max(n,a.suffix.length)),n=t.value.length-n,a.prefix&&(n=Math.max(n,a.prefix.length)),F(t,n),l!==t.value&&t.dispatchEvent(V("input"))}(t)},n=t=>{t.target===e&&function(e){const{target:t}=e,{oldValue:i}=t;k(t,null,{force:!0,clean:!0,emit:!1}),i!==t.value&&t.dispatchEvent(V("input"))}(t)},l=t=>{t.target===e&&function(e,t){const{options:i}=t,{prefix:n,suffix:l,decimal:a,min:r,separator:u}=i,{key:s}=e,o=new RegExp(`${n}|${l}`,"g"),p=t.value.replace(o,""),m=void 0===r||Number(r)<0||Number(r)!==r;if(s===a)p.includes(a)?e.preventDefault():p||(t.value="0",t.dispatchEvent(new Event("input")));else if(s!==S||m){if("Backspace"===s){const i=t.selectionEnd||0,a=t.value.slice(i-1,i),r=t.value.slice(i-2,i);let s=t.value.length-i;[n,S,u].includes(a)&&(e.preventDefault(),t.value=a===u?t.value.replace(r,""):t.value.replace(new RegExp(`[${n}${S}]`,"g"),""),s=Math.max(s,l.length),s=t.value.length-s,s=Math.max(s,n.length),F(t,s),t.dispatchEvent(new Event("input")))}}else e.preventDefault()}(t,e)};t.addEventListener("input",i,!0),t.addEventListener("blur",n,!0),t.addEventListener("keydown",l,!0),e.cleanup=()=>{t.removeEventListener("input",i,!0),t.removeEventListener("blur",n,!0),t.removeEventListener("keydown",l,!0)}},updated:(e,{value:t,oldValue:i,modifiers:n},l)=>{if(e=R(e),t!==i){const i=e.options;e.options=Object.assign(i,t,n),k(e,l,{force:!0,clean:!1,emit:!1})}else k(e,l,{emit:!1})},unmounted:e=>{R(e)?.cleanup()}};const O=N(y);var _=e({name:"VueNumber",directives:{number:w},props:{modelValue:{type:[String,Number],required:!0},nullValue:{type:[Number,String],default:O.nullValue},masked:Boolean,readonly:Boolean,disabled:Boolean,reverseFill:{type:Boolean,default:O.reverseFill},prefill:{type:Boolean,default:O.prefill},precision:{type:Number,default:()=>O.precision},minimumFractionDigits:{type:Number,default:()=>O.minimumFractionDigits},decimal:{type:String,default:()=>O.decimal},min:{type:Number,default:()=>O.min},max:{type:Number,default:()=>O.max},separator:{type:String,default:()=>O.separator},prefix:{type:String,default:()=>O.prefix},suffix:{type:String,default:()=>O.suffix},inputmode:{type:String,default:()=>O.inputmode}},emits:["update:model-value","input:model-value"],setup(e,{emit:l}){const a=t(e.modelValue),r=t(!1),u=t(""),s=i(()=>({...e})),o=new E(s.value),p=i(()=>e.masked?o.format(a.value):u.value),m=()=>{l("update:model-value",p.value)};return n(()=>e.modelValue,e=>{p.value!==e&&(a.value=o.format(e))}),{config:s,maskedValue:a,unmaskedValue:u,input:e=>{const{target:t}=e;a.value=t.value,u.value=t.unmasked,r.value=!0,l("input:model-value",p.value)},blur:()=>{r.value&&p.value!==e.modelValue&&m()},change:m}}});const B=["value","readonly","disabled"];_.render=function(e,t,i,n,s,o){const p=l("number");return a((u(),r("input",{type:"text",autocomplete:"off",value:e.maskedValue,readonly:e.readonly,disabled:e.disabled,class:"v-number vue-number-format",onChange:t[0]||(t[0]=(...t)=>e.change&&e.change(...t)),onInput:t[1]||(t[1]=(...t)=>e.input&&e.input(...t)),onBlur:t[2]||(t[2]=(...t)=>e.blur&&e.blur(...t))},null,40,B)),[[p,e.config]])},_.__file="src/component.vue";const C=s({__name:"element-number",props:{modelValue:{type:[String,Number],default:null},type:{type:String,default:"text"},name:{type:String,default:""},rules:{type:String,default:""},immediate:{type:Boolean,default:!1},isClear:{type:Boolean,default:!0},placeholder:{type:String,default:"입력해 주세요."},className:{type:String,default:"custom-input-compo"},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isHover:{type:Boolean,default:!0},tooltipModifiers:{type:Array,default:()=>[{name:"offset",options:{offset:[30,25]}},{name:"arrow",options:{padding:15}}]},tooltipPlacement:{type:String,default:"top-end"},prefix:{type:String,default:""},suffix:{type:String,default:""},separator:{type:String,default:","},decimal:{type:String,default:"."},precision:{type:String,default:""},minimumFractionDigits:{type:String,default:""},prefill:{type:Boolean,default:!0},reverseFill:{type:Boolean,default:!1},masked:{type:Boolean,default:!1},min:{type:Number,default:null},max:{type:Number,default:null},nullValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{expose:n,emit:l}){n();const a=e,r=l;let u=g.generateUuid();const s=t(null),o=i({get:()=>(u=g.generateUuid(),a.modelValue),set:e=>r("update:modelValue",e)});h(async()=>{a.immediate&&await s.value.validate()});const p={props:a,emit:r,get uuid(){return u},set uuid(e){u=e},veeField:s,inputVal:o,clearClickHandler:()=>{o.value="",r("update:modelValue","")},computed:i,onMounted:h,ref:t,get VueNumber(){return _},get Field(){return b},get utils(){return g},ElementButton:x,ElementTooltip:v};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}},[["render",function(e,t,i,n,l,a){return u(),o(n.Field,{ref:"veeField",modelValue:n.inputVal,"onUpdate:modelValue":t[1]||(t[1]=e=>n.inputVal=e),rules:i.rules,type:i.type,name:i.name},{default:p(({field:e,errors:l})=>[m("span",{class:d(["ipt",l.length>0?"iptError":""])},[m("input",c(e,{type:"hidden"}),null,16),(u(),o(n.VueNumber,c({modelValue:n.inputVal,"onUpdate:modelValue":t[0]||(t[0]=e=>n.inputVal=e)},{prefix:i.prefix,suffix:i.suffix,separator:i.separator,decimal:i.decimal,precision:i.precision,minimumFractionDigits:i.minimumFractionDigits,prefill:i.prefill,reverseFill:i.reverseFill,masked:i.masked,min:i.min,max:i.max,nullValue:i.nullValue},{disabled:i.disabled,readonly:i.readonly,style:{"text-align":"right"},key:n.uuid}),null,16,["modelValue","disabled","readonly"])),l.length>0?(u(),o(n.ElementTooltip,{key:0,msg:l[0],placement:i.tooltipPlacement,modifiers:i.tooltipModifiers},{default:p(()=>t[2]||(t[2]=[m("span",{class:"error"},[m("span",{class:"hide"},"에러")],-1)])),_:2,__:[2]},1032,["msg","placement","modifiers"])):f("",!0),!i.disabled&&i.isClear&&n.inputVal?(u(),o(n.ElementButton,{key:1,className:"btn_del",onClick:n.clearClickHandler},{default:p(()=>t[3]||(t[3]=[m("span",{class:"hide"},"삭제",-1)])),_:1,__:[3]})):f("",!0)],2)]),_:1},8,["modelValue","rules","type","name"])}],["__file","/Users/kokimin/WorkSpace/vue_design_system/src/components/form/element-number.vue"]]);export{C as E};
